(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function s(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=s(o);fetch(o.href,u)}})();var sf={exports:{}},io={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function wT(){if(ay)return io;ay=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:i,type:r,key:f,ref:o!==void 0?o:null,props:u}}return io.Fragment=e,io.jsx=s,io.jsxs=s,io}var ry;function jT(){return ry||(ry=1,sf.exports=wT()),sf.exports}var c=jT(),af={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function RT(){if(ly)return Ie;ly=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),R=Symbol.iterator;function C(M){return M===null||typeof M!="object"?null:(M=R&&M[R]||M["@@iterator"],typeof M=="function"?M:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,W={};function K(M,ee,he){this.props=M,this.context=ee,this.refs=W,this.updater=he||P}K.prototype.isReactComponent={},K.prototype.setState=function(M,ee){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ee,"setState")},K.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function me(){}me.prototype=K.prototype;function ie(M,ee,he){this.props=M,this.context=ee,this.refs=W,this.updater=he||P}var k=ie.prototype=new me;k.constructor=ie,U(k,K.prototype),k.isPureReactComponent=!0;var ae=Array.isArray,Z={H:null,A:null,T:null,S:null,V:null},se=Object.prototype.hasOwnProperty;function S(M,ee,he,ce,ye,Ve){return he=Ve.ref,{$$typeof:i,type:M,key:ee,ref:he!==void 0?he:null,props:Ve}}function N(M,ee){return S(M.type,ee,void 0,void 0,void 0,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function j(M){var ee={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(he){return ee[he]})}var A=/\/+/g;function V(M,ee){return typeof M=="object"&&M!==null&&M.key!=null?j(""+M.key):ee.toString(36)}function w(){}function De(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(w,w):(M.status="pending",M.then(function(ee){M.status==="pending"&&(M.status="fulfilled",M.value=ee)},function(ee){M.status==="pending"&&(M.status="rejected",M.reason=ee)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function He(M,ee,he,ce,ye){var Ve=typeof M;(Ve==="undefined"||Ve==="boolean")&&(M=null);var fe=!1;if(M===null)fe=!0;else switch(Ve){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(M.$$typeof){case i:case e:fe=!0;break;case E:return fe=M._init,He(fe(M._payload),ee,he,ce,ye)}}if(fe)return ye=ye(M),fe=ce===""?"."+V(M,0):ce,ae(ye)?(he="",fe!=null&&(he=fe.replace(A,"$&/")+"/"),He(ye,ee,he,"",function(je){return je})):ye!=null&&(D(ye)&&(ye=N(ye,he+(ye.key==null||M&&M.key===ye.key?"":(""+ye.key).replace(A,"$&/")+"/")+fe)),ee.push(ye)),1;fe=0;var ke=ce===""?".":ce+":";if(ae(M))for(var q=0;q<M.length;q++)ce=M[q],Ve=ke+V(ce,q),fe+=He(ce,ee,he,Ve,ye);else if(q=C(M),typeof q=="function")for(M=q.call(M),q=0;!(ce=M.next()).done;)ce=ce.value,Ve=ke+V(ce,q++),fe+=He(ce,ee,he,Ve,ye);else if(Ve==="object"){if(typeof M.then=="function")return He(De(M),ee,he,ce,ye);throw ee=String(M),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return fe}function Y(M,ee,he){if(M==null)return M;var ce=[],ye=0;return He(M,ce,"","",function(Ve){return ee.call(he,Ve,ye++)}),ce}function ue(M){if(M._status===-1){var ee=M._result;ee=ee(),ee.then(function(he){(M._status===0||M._status===-1)&&(M._status=1,M._result=he)},function(he){(M._status===0||M._status===-1)&&(M._status=2,M._result=he)}),M._status===-1&&(M._status=0,M._result=ee)}if(M._status===1)return M._result.default;throw M._result}var ge=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Be(){}return Ie.Children={map:Y,forEach:function(M,ee,he){Y(M,function(){ee.apply(this,arguments)},he)},count:function(M){var ee=0;return Y(M,function(){ee++}),ee},toArray:function(M){return Y(M,function(ee){return ee})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ie.Component=K,Ie.Fragment=s,Ie.Profiler=o,Ie.PureComponent=ie,Ie.StrictMode=r,Ie.Suspense=v,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(M){return Z.H.useMemoCache(M)}},Ie.cache=function(M){return function(){return M.apply(null,arguments)}},Ie.cloneElement=function(M,ee,he){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ce=U({},M.props),ye=M.key,Ve=void 0;if(ee!=null)for(fe in ee.ref!==void 0&&(Ve=void 0),ee.key!==void 0&&(ye=""+ee.key),ee)!se.call(ee,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&ee.ref===void 0||(ce[fe]=ee[fe]);var fe=arguments.length-2;if(fe===1)ce.children=he;else if(1<fe){for(var ke=Array(fe),q=0;q<fe;q++)ke[q]=arguments[q+2];ce.children=ke}return S(M.type,ye,void 0,void 0,Ve,ce)},Ie.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ie.createElement=function(M,ee,he){var ce,ye={},Ve=null;if(ee!=null)for(ce in ee.key!==void 0&&(Ve=""+ee.key),ee)se.call(ee,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(ye[ce]=ee[ce]);var fe=arguments.length-2;if(fe===1)ye.children=he;else if(1<fe){for(var ke=Array(fe),q=0;q<fe;q++)ke[q]=arguments[q+2];ye.children=ke}if(M&&M.defaultProps)for(ce in fe=M.defaultProps,fe)ye[ce]===void 0&&(ye[ce]=fe[ce]);return S(M,Ve,void 0,void 0,null,ye)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(M){return{$$typeof:g,render:M}},Ie.isValidElement=D,Ie.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:ue}},Ie.memo=function(M,ee){return{$$typeof:y,type:M,compare:ee===void 0?null:ee}},Ie.startTransition=function(M){var ee=Z.T,he={};Z.T=he;try{var ce=M(),ye=Z.S;ye!==null&&ye(he,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Be,ge)}catch(Ve){ge(Ve)}finally{Z.T=ee}},Ie.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},Ie.use=function(M){return Z.H.use(M)},Ie.useActionState=function(M,ee,he){return Z.H.useActionState(M,ee,he)},Ie.useCallback=function(M,ee){return Z.H.useCallback(M,ee)},Ie.useContext=function(M){return Z.H.useContext(M)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(M,ee){return Z.H.useDeferredValue(M,ee)},Ie.useEffect=function(M,ee,he){var ce=Z.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(M,ee)},Ie.useId=function(){return Z.H.useId()},Ie.useImperativeHandle=function(M,ee,he){return Z.H.useImperativeHandle(M,ee,he)},Ie.useInsertionEffect=function(M,ee){return Z.H.useInsertionEffect(M,ee)},Ie.useLayoutEffect=function(M,ee){return Z.H.useLayoutEffect(M,ee)},Ie.useMemo=function(M,ee){return Z.H.useMemo(M,ee)},Ie.useOptimistic=function(M,ee){return Z.H.useOptimistic(M,ee)},Ie.useReducer=function(M,ee,he){return Z.H.useReducer(M,ee,he)},Ie.useRef=function(M){return Z.H.useRef(M)},Ie.useState=function(M){return Z.H.useState(M)},Ie.useSyncExternalStore=function(M,ee,he){return Z.H.useSyncExternalStore(M,ee,he)},Ie.useTransition=function(){return Z.H.useTransition()},Ie.version="19.1.1",Ie}var oy;function Kf(){return oy||(oy=1,af.exports=RT()),af.exports}var re=Kf(),rf={exports:{}},ao={},lf={exports:{}},of={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy;function CT(){return cy||(cy=1,(function(i){function e(Y,ue){var ge=Y.length;Y.push(ue);e:for(;0<ge;){var Be=ge-1>>>1,M=Y[Be];if(0<o(M,ue))Y[Be]=ue,Y[ge]=M,ge=Be;else break e}}function s(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var ue=Y[0],ge=Y.pop();if(ge!==ue){Y[0]=ge;e:for(var Be=0,M=Y.length,ee=M>>>1;Be<ee;){var he=2*(Be+1)-1,ce=Y[he],ye=he+1,Ve=Y[ye];if(0>o(ce,ge))ye<M&&0>o(Ve,ce)?(Y[Be]=Ve,Y[ye]=ge,Be=ye):(Y[Be]=ce,Y[he]=ge,Be=he);else if(ye<M&&0>o(Ve,ge))Y[Be]=Ve,Y[ye]=ge,Be=ye;else break e}}return ue}function o(Y,ue){var ge=Y.sortIndex-ue.sortIndex;return ge!==0?ge:Y.id-ue.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();i.unstable_now=function(){return f.now()-g}}var v=[],y=[],E=1,R=null,C=3,P=!1,U=!1,W=!1,K=!1,me=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function ae(Y){for(var ue=s(y);ue!==null;){if(ue.callback===null)r(y);else if(ue.startTime<=Y)r(y),ue.sortIndex=ue.expirationTime,e(v,ue);else break;ue=s(y)}}function Z(Y){if(W=!1,ae(Y),!U)if(s(v)!==null)U=!0,se||(se=!0,V());else{var ue=s(y);ue!==null&&He(Z,ue.startTime-Y)}}var se=!1,S=-1,N=5,D=-1;function j(){return K?!0:!(i.unstable_now()-D<N)}function A(){if(K=!1,se){var Y=i.unstable_now();D=Y;var ue=!0;try{e:{U=!1,W&&(W=!1,ie(S),S=-1),P=!0;var ge=C;try{t:{for(ae(Y),R=s(v);R!==null&&!(R.expirationTime>Y&&j());){var Be=R.callback;if(typeof Be=="function"){R.callback=null,C=R.priorityLevel;var M=Be(R.expirationTime<=Y);if(Y=i.unstable_now(),typeof M=="function"){R.callback=M,ae(Y),ue=!0;break t}R===s(v)&&r(v),ae(Y)}else r(v);R=s(v)}if(R!==null)ue=!0;else{var ee=s(y);ee!==null&&He(Z,ee.startTime-Y),ue=!1}}break e}finally{R=null,C=ge,P=!1}ue=void 0}}finally{ue?V():se=!1}}}var V;if(typeof k=="function")V=function(){k(A)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,De=w.port2;w.port1.onmessage=A,V=function(){De.postMessage(null)}}else V=function(){me(A,0)};function He(Y,ue){S=me(function(){Y(i.unstable_now())},ue)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return C},i.unstable_next=function(Y){switch(C){case 1:case 2:case 3:var ue=3;break;default:ue=C}var ge=C;C=ue;try{return Y()}finally{C=ge}},i.unstable_requestPaint=function(){K=!0},i.unstable_runWithPriority=function(Y,ue){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ge=C;C=Y;try{return ue()}finally{C=ge}},i.unstable_scheduleCallback=function(Y,ue,ge){var Be=i.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Be+ge:Be):ge=Be,Y){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ge+M,Y={id:E++,callback:ue,priorityLevel:Y,startTime:ge,expirationTime:M,sortIndex:-1},ge>Be?(Y.sortIndex=ge,e(y,Y),s(v)===null&&Y===s(y)&&(W?(ie(S),S=-1):W=!0,He(Z,ge-Be))):(Y.sortIndex=M,e(v,Y),U||P||(U=!0,se||(se=!0,V()))),Y},i.unstable_shouldYield=j,i.unstable_wrapCallback=function(Y){var ue=C;return function(){var ge=C;C=ue;try{return Y.apply(this,arguments)}finally{C=ge}}}})(of)),of}var uy;function DT(){return uy||(uy=1,lf.exports=CT()),lf.exports}var cf={exports:{}},Jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function IT(){if(hy)return Jt;hy=1;var i=Kf();function e(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(v,y,E){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:R==null?null:""+R,children:v,containerInfo:y,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Jt.createPortal=function(v,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(v,y,null,E)},Jt.flushSync=function(v){var y=f.T,E=r.p;try{if(f.T=null,r.p=2,v)return v()}finally{f.T=y,r.p=E,r.d.f()}},Jt.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(v,y))},Jt.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},Jt.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var E=y.as,R=g(E,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?r.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:R,integrity:C,fetchPriority:P}):E==="script"&&r.d.X(v,{crossOrigin:R,integrity:C,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Jt.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=g(y.as,y.crossOrigin);r.d.M(v,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(v)},Jt.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,R=g(E,y.crossOrigin);r.d.L(v,E,{crossOrigin:R,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Jt.preloadModule=function(v,y){if(typeof v=="string")if(y){var E=g(y.as,y.crossOrigin);r.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(v)},Jt.requestFormReset=function(v){r.d.r(v)},Jt.unstable_batchedUpdates=function(v,y){return v(y)},Jt.useFormState=function(v,y,E){return f.H.useFormState(v,y,E)},Jt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Jt.version="19.1.1",Jt}var dy;function MT(){if(dy)return cf.exports;dy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),cf.exports=IT(),cf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy;function VT(){if(fy)return ao;fy=1;var i=DT(),e=Kf(),s=MT();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(r(188))}function v(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return g(d),t;if(m===l)return g(d),n;m=m.sibling}throw Error(r(188))}if(a.return!==l.return)a=d,l=m;else{for(var b=!1,x=d.child;x;){if(x===a){b=!0,a=d,l=m;break}if(x===l){b=!0,l=d,a=m;break}x=x.sibling}if(!b){for(x=m.child;x;){if(x===a){b=!0,a=m,l=d;break}if(x===l){b=!0,l=m,a=d;break}x=x.sibling}if(!b)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,R=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),me=Symbol.for("react.provider"),ie=Symbol.for("react.consumer"),k=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),A=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=A&&t[A]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function De(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case K:return"Profiler";case W:return"StrictMode";case Z:return"Suspense";case se:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case k:return(t.displayName||"Context")+".Provider";case ie:return(t._context.displayName||"Context")+".Consumer";case ae:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case S:return n=t.displayName||null,n!==null?n:De(t.type)||"Memo";case N:n=t._payload,t=t._init;try{return De(t(n))}catch{}}return null}var He=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Be=[],M=-1;function ee(t){return{current:t}}function he(t){0>M||(t.current=Be[M],Be[M]=null,M--)}function ce(t,n){M++,Be[M]=t.current,t.current=n}var ye=ee(null),Ve=ee(null),fe=ee(null),ke=ee(null);function q(t,n){switch(ce(fe,n),ce(Ve,t),ce(ye,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Mv(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Mv(n),t=Vv(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}he(ye),ce(ye,t)}function je(){he(ye),he(Ve),he(fe)}function Se(t){t.memoizedState!==null&&ce(ke,t);var n=ye.current,a=Vv(n,t.type);n!==a&&(ce(Ve,t),ce(ye,a))}function zt(t){Ve.current===t&&(he(ye),he(Ve)),ke.current===t&&(he(ke),Wl._currentValue=ge)}var Qa=Object.prototype.hasOwnProperty,Xi=i.unstable_scheduleCallback,Ya=i.unstable_cancelCallback,ih=i.unstable_shouldYield,Wr=i.unstable_requestPaint,hn=i.unstable_now,Lo=i.unstable_getCurrentPriorityLevel,Ct=i.unstable_ImmediatePriority,Ot=i.unstable_UserBlockingPriority,As=i.unstable_NormalPriority,ah=i.unstable_LowPriority,el=i.unstable_IdlePriority,rh=i.log,Zi=i.unstable_setDisableYieldValue,Js=null,Kt=null;function Dn(t){if(typeof rh=="function"&&Zi(t),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(Js,t)}catch{}}var sn=Math.clz32?Math.clz32:Uo,lh=Math.log,Po=Math.LN2;function Uo(t){return t>>>=0,t===0?32:31-(lh(t)/Po|0)|0}var ts=256,Ws=4194304;function Fn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function In(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,m=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var x=l&134217727;return x!==0?(l=x&~m,l!==0?d=Fn(l):(b&=x,b!==0?d=Fn(b):a||(a=x&~t,a!==0&&(d=Fn(a))))):(x=l&~m,x!==0?d=Fn(x):b!==0?d=Fn(b):a||(a=l&~t,a!==0&&(d=Fn(a)))),d===0?0:n!==0&&n!==d&&(n&m)===0&&(m=d&-d,a=n&-n,m>=a||m===32&&(a&4194048)!==0)?n:d}function ei(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function $a(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tl(){var t=ts;return ts<<=1,(ts&4194048)===0&&(ts=256),t}function ti(){var t=Ws;return Ws<<=1,(Ws&62914560)===0&&(Ws=4194304),t}function Ka(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function vt(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Bo(t,n,a,l,d,m){var b=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var x=t.entanglements,I=t.expirationTimes,H=t.hiddenUpdates;for(a=b&~a;0<a;){var X=31-sn(a),te=1<<X;x[X]=0,I[X]=-1;var F=H[X];if(F!==null)for(H[X]=null,X=0;X<F.length;X++){var G=F[X];G!==null&&(G.lane&=-536870913)}a&=~te}l!==0&&ni(t,l,0),m!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=m&~(b&~n))}function ni(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-sn(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function si(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-sn(a),d=1<<l;d&n|t[l]&n&&(t[l]|=n),a&=~d}}function nl(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function sl(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ns(){var t=ue.p;return t!==0?t:(t=window.event,t===void 0?32:Wv(t.type))}function oh(t,n){var a=ue.p;try{return ue.p=t,n()}finally{ue.p=a}}var ns=Math.random().toString(36).slice(2),yt="__reactFiber$"+ns,qt="__reactProps$"+ns,Ss="__reactContainer$"+ns,Ji="__reactEvents$"+ns,Wi="__reactListeners$"+ns,ch="__reactHandles$"+ns,Gn="__reactResources$"+ns,ii="__reactMarker$"+ns;function Xa(t){delete t[yt],delete t[qt],delete t[Ji],delete t[Wi],delete t[ch]}function ss(t){var n=t[yt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Ss]||a[yt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Pv(t);t!==null;){if(a=t[yt])return a;t=Pv(t)}return n}t=a,a=t.parentNode}return null}function is(t){if(t=t[yt]||t[Ss]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function ai(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function ri(t){var n=t[Gn];return n||(n=t[Gn]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _t(t){t[ii]=!0}var zo=new Set,ea={};function as(t,n){rs(t,n),rs(t+"Capture",n)}function rs(t,n){for(ea[t]=n,t=0;t<n.length;t++)zo.add(n[t])}var ta=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ls={},Za={};function uh(t){return Qa.call(Za,t)?!0:Qa.call(ls,t)?!1:ta.test(t)?Za[t]=!0:(ls[t]=!0,!1)}function na(t,n,a){if(uh(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function sa(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Mn(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var ia,Ja;function ws(t){if(ia===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ia=n&&n[1]||"",Ja=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ia+t+Ja}var Wa=!1;function er(t,n){if(!t||Wa)return"";Wa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(G){var F=G}Reflect.construct(t,[],te)}else{try{te.call()}catch(G){F=G}t.call(te.prototype)}}else{try{throw Error()}catch(G){F=G}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(G){if(G&&F&&typeof G.stack=="string")return[G.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),b=m[0],x=m[1];if(b&&x){var I=b.split(`
`),H=x.split(`
`);for(d=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;if(l===I.length||d===H.length)for(l=I.length-1,d=H.length-1;1<=l&&0<=d&&I[l]!==H[d];)d--;for(;1<=l&&0<=d;l--,d--)if(I[l]!==H[d]){if(l!==1||d!==1)do if(l--,d--,0>d||I[l]!==H[d]){var X=`
`+I[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=d);break}}}finally{Wa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ws(a):""}function hh(t){switch(t.tag){case 26:case 27:case 5:return ws(t.type);case 16:return ws("Lazy");case 13:return ws("Suspense");case 19:return ws("SuspenseList");case 0:case 15:return er(t.type,!1);case 11:return er(t.type.render,!1);case 1:return er(t.type,!0);case 31:return ws("Activity");default:return""}}function Qn(t){try{var n="";do n+=hh(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function dt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function li(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function aa(t){var n=li(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return d.call(this)},set:function(b){l=""+b,m.call(this,b)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function oi(t){t._valueTracker||(t._valueTracker=aa(t))}function tt(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=li(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function js(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ra=/[\n"\\]/g;function kt(t){return t.replace(ra,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function il(t,n,a,l,d,m,b,x){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),n!=null?b==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+dt(n)):t.value!==""+dt(n)&&(t.value=""+dt(n)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),n!=null?rl(t,b,dt(n)):a!=null?rl(t,b,dt(a)):l!=null&&t.removeAttribute("value"),d==null&&m!=null&&(t.defaultChecked=!!m),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+dt(x):t.removeAttribute("name")}function al(t,n,a,l,d,m,b,x){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||n!=null))return;a=a!=null?""+dt(a):"",n=n!=null?""+dt(n):a,x||n===t.value||(t.value=n),t.defaultValue=n}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=x?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b)}function rl(t,n,a){n==="number"&&js(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ci(t,n,a,l){if(t=t.options,n){n={};for(var d=0;d<a.length;d++)n["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=n.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+dt(a),n=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}n!==null||t[d].disabled||(n=t[d])}n!==null&&(n.selected=!0)}}function qo(t,n,a){if(n!=null&&(n=""+dt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+dt(a):""}function Ho(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(He(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=dt(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Vn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Rs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ll(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Rs.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function ol(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in n)l=n[d],n.hasOwnProperty(d)&&a[d]!==l&&ll(t,d,l)}else for(var m in n)n.hasOwnProperty(m)&&ll(t,m,n[m])}function tr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Go=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yn(t){return Go.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var cl=null;function ul(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ui=null,an=null;function Qo(t){var n=is(t);if(n&&(t=n.stateNode)){var a=t[qt]||null;e:switch(t=n.stateNode,n.type){case"input":if(il(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+kt(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var d=l[qt]||null;if(!d)throw Error(r(90));il(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&tt(l)}break e;case"textarea":qo(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&ci(t,!!a.multiple,n,!1)}}}var la=!1;function oa(t,n,a){if(la)return t(n,a);la=!0;try{var l=t(n);return l}finally{if(la=!1,(ui!==null||an!==null)&&(Oc(),ui&&(n=ui,t=an,an=ui=null,Qo(n),t)))for(n=0;n<t.length;n++)Qo(t[n])}}function hi(t,n){var a=t.stateNode;if(a===null)return null;var l=a[qt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cs=!1;if(rn)try{var di={};Object.defineProperty(di,"passive",{get:function(){Cs=!0}}),window.addEventListener("test",di,di),window.removeEventListener("test",di,di)}catch{Cs=!1}var On=null,lt=null,nr=null;function Yo(){if(nr)return nr;var t,n=lt,a=n.length,l,d="value"in On?On.value:On.textContent,m=d.length;for(t=0;t<a&&n[t]===d[t];t++);var b=a-t;for(l=1;l<=b&&n[a-l]===d[m-l];l++);return nr=d.slice(t,1<l?1-l:void 0)}function ca(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ua(){return!0}function hl(){return!1}function Dt(t){function n(a,l,d,m,b){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(a=t[x],this[x]=a?a(m):m[x]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ua:hl,this.isPropagationStopped=hl,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ua)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ua)},persist:function(){},isPersistent:ua}),n}var Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ha=Dt(Xt),da=E({},Xt,{view:0,detail:0}),fa=Dt(da),sr,ma,os,pa=E({},da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==os&&(os&&t.type==="mousemove"?(sr=t.screenX-os.screenX,ma=t.screenY-os.screenY):ma=sr=0,os=t),sr)},movementY:function(t){return"movementY"in t?t.movementY:ma}}),ga=Dt(pa),dh=E({},pa,{dataTransfer:0}),$o=Dt(dh),va=E({},da,{relatedTarget:0}),ir=Dt(va),Ko=E({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0}),dl=Dt(Ko),fl=E({},Xt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xo=Dt(fl),ar=E({},Xt,{data:0}),ml=Dt(ar),Zo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ds={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Jo[t])?!!n[t]:!1}function rr(){return Wo}var ec=E({},da,{key:function(t){if(t.key){var n=Zo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ca(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ds[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rr,charCode:function(t){return t.type==="keypress"?ca(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ca(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lr=Dt(ec),ln=E({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pl=Dt(ln),tc=E({},da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rr}),fi=Dt(tc),h=E({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0}),p=Dt(h),_=E({},pa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),T=Dt(_),z=E({},Xt,{newState:0,oldState:0}),Q=Dt(z),le=[9,13,27,32],Re=rn&&"CompositionEvent"in window,ct=null;rn&&"documentMode"in document&&(ct=document.documentMode);var Je=rn&&"TextEvent"in window&&!ct,bt=rn&&(!Re||ct&&8<ct&&11>=ct),bn=" ",cs=!1;function $n(t,n){switch(t){case"keyup":return le.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xn=!1;function gl(t,n){switch(t){case"compositionend":return Kn(n);case"keypress":return n.which!==32?null:(cs=!0,bn);case"textInput":return t=n.data,t===bn&&cs?null:t;default:return null}}function ex(t,n){if(Xn)return t==="compositionend"||!Re&&$n(t,n)?(t=Yo(),nr=lt=On=null,Xn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return bt&&n.locale!=="ko"?null:n.data;default:return null}}var tx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ym(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!tx[t.type]:n==="textarea"}function $m(t,n,a,l){ui?an?an.push(l):an=[l]:ui=l,n=zc(n,"onChange"),0<n.length&&(a=new ha("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var vl=null,yl=null;function nx(t){jv(t,0)}function nc(t){var n=ai(t);if(tt(n))return t}function Km(t,n){if(t==="change")return n}var Xm=!1;if(rn){var fh;if(rn){var mh="oninput"in document;if(!mh){var Zm=document.createElement("div");Zm.setAttribute("oninput","return;"),mh=typeof Zm.oninput=="function"}fh=mh}else fh=!1;Xm=fh&&(!document.documentMode||9<document.documentMode)}function Jm(){vl&&(vl.detachEvent("onpropertychange",Wm),yl=vl=null)}function Wm(t){if(t.propertyName==="value"&&nc(yl)){var n=[];$m(n,yl,t,ul(t)),oa(nx,n)}}function sx(t,n,a){t==="focusin"?(Jm(),vl=n,yl=a,vl.attachEvent("onpropertychange",Wm)):t==="focusout"&&Jm()}function ix(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nc(yl)}function ax(t,n){if(t==="click")return nc(n)}function rx(t,n){if(t==="input"||t==="change")return nc(n)}function lx(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var En=typeof Object.is=="function"?Object.is:lx;function _l(t,n){if(En(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!Qa.call(n,d)||!En(t[d],n[d]))return!1}return!0}function ep(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tp(t,n){var a=ep(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ep(a)}}function np(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?np(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function sp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=js(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=js(t.document)}return n}function ph(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var ox=rn&&"documentMode"in document&&11>=document.documentMode,or=null,gh=null,bl=null,vh=!1;function ip(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vh||or==null||or!==js(l)||(l=or,"selectionStart"in l&&ph(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),bl&&_l(bl,l)||(bl=l,l=zc(gh,"onSelect"),0<l.length&&(n=new ha("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=or)))}function ya(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var cr={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionrun:ya("Transition","TransitionRun"),transitionstart:ya("Transition","TransitionStart"),transitioncancel:ya("Transition","TransitionCancel"),transitionend:ya("Transition","TransitionEnd")},yh={},ap={};rn&&(ap=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);function _a(t){if(yh[t])return yh[t];if(!cr[t])return t;var n=cr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in ap)return yh[t]=n[a];return t}var rp=_a("animationend"),lp=_a("animationiteration"),op=_a("animationstart"),cx=_a("transitionrun"),ux=_a("transitionstart"),hx=_a("transitioncancel"),cp=_a("transitionend"),up=new Map,_h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_h.push("scrollEnd");function Zn(t,n){up.set(t,n),as(n,[t])}var hp=new WeakMap;function kn(t,n){if(typeof t=="object"&&t!==null){var a=hp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Qn(n)},hp.set(t,n),n)}return{value:t,source:n,stack:Qn(n)}}var Ln=[],ur=0,bh=0;function sc(){for(var t=ur,n=bh=ur=0;n<t;){var a=Ln[n];Ln[n++]=null;var l=Ln[n];Ln[n++]=null;var d=Ln[n];Ln[n++]=null;var m=Ln[n];if(Ln[n++]=null,l!==null&&d!==null){var b=l.pending;b===null?d.next=d:(d.next=b.next,b.next=d),l.pending=d}m!==0&&dp(a,d,m)}}function ic(t,n,a,l){Ln[ur++]=t,Ln[ur++]=n,Ln[ur++]=a,Ln[ur++]=l,bh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Eh(t,n,a,l){return ic(t,n,a,l),ac(t)}function hr(t,n){return ic(t,null,null,n),ac(t)}function dp(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(d=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,d&&n!==null&&(d=31-sn(a),t=m.hiddenUpdates,l=t[d],l===null?t[d]=[n]:l.push(n),n.lane=a|536870912),m):null}function ac(t){if(50<Gl)throw Gl=0,wd=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var dr={};function dx(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,n,a,l){return new dx(t,n,a,l)}function xh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Is(t,n){var a=t.alternate;return a===null?(a=xn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function fp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function rc(t,n,a,l,d,m){var b=0;if(l=t,typeof t=="function")xh(t)&&(b=1);else if(typeof t=="string")b=mT(t,a,ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case D:return t=xn(31,a,n,d),t.elementType=D,t.lanes=m,t;case U:return ba(a.children,d,m,n);case W:b=8,d|=24;break;case K:return t=xn(12,a,n,d|2),t.elementType=K,t.lanes=m,t;case Z:return t=xn(13,a,n,d),t.elementType=Z,t.lanes=m,t;case se:return t=xn(19,a,n,d),t.elementType=se,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case me:case k:b=10;break e;case ie:b=9;break e;case ae:b=11;break e;case S:b=14;break e;case N:b=16,l=null;break e}b=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=xn(b,a,n,d),n.elementType=t,n.type=l,n.lanes=m,n}function ba(t,n,a,l){return t=xn(7,t,l,n),t.lanes=a,t}function Th(t,n,a){return t=xn(6,t,null,n),t.lanes=a,t}function Ah(t,n,a){return n=xn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var fr=[],mr=0,lc=null,oc=0,Pn=[],Un=0,Ea=null,Ms=1,Vs="";function xa(t,n){fr[mr++]=oc,fr[mr++]=lc,lc=t,oc=n}function mp(t,n,a){Pn[Un++]=Ms,Pn[Un++]=Vs,Pn[Un++]=Ea,Ea=t;var l=Ms;t=Vs;var d=32-sn(l)-1;l&=~(1<<d),a+=1;var m=32-sn(n)+d;if(30<m){var b=d-d%5;m=(l&(1<<b)-1).toString(32),l>>=b,d-=b,Ms=1<<32-sn(n)+d|a<<d|l,Vs=m+t}else Ms=1<<m|a<<d|l,Vs=t}function Nh(t){t.return!==null&&(xa(t,1),mp(t,1,0))}function Sh(t){for(;t===lc;)lc=fr[--mr],fr[mr]=null,oc=fr[--mr],fr[mr]=null;for(;t===Ea;)Ea=Pn[--Un],Pn[Un]=null,Vs=Pn[--Un],Pn[Un]=null,Ms=Pn[--Un],Pn[Un]=null}var on=null,pt=null,Ke=!1,Ta=null,us=!1,wh=Error(r(519));function Aa(t){var n=Error(r(418,""));throw Tl(kn(n,t)),wh}function pp(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[yt]=t,n[qt]=l,a){case"dialog":Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":case"embed":Pe("load",n);break;case"video":case"audio":for(a=0;a<Yl.length;a++)Pe(Yl[a],n);break;case"source":Pe("error",n);break;case"img":case"image":case"link":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"input":Pe("invalid",n),al(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),oi(n);break;case"select":Pe("invalid",n);break;case"textarea":Pe("invalid",n),Ho(n,l.value,l.defaultValue,l.children),oi(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Iv(n.textContent,a)?(l.popover!=null&&(Pe("beforetoggle",n),Pe("toggle",n)),l.onScroll!=null&&Pe("scroll",n),l.onScrollEnd!=null&&Pe("scrollend",n),l.onClick!=null&&(n.onclick=qc),n=!0):n=!1,n||Aa(t)}function gp(t){for(on=t.return;on;)switch(on.tag){case 5:case 13:us=!1;return;case 27:case 3:us=!0;return;default:on=on.return}}function El(t){if(t!==on)return!1;if(!Ke)return gp(t),Ke=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Hd(t.type,t.memoizedProps)),a=!a),a&&pt&&Aa(t),gp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){pt=Wn(t.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}pt=null}}else n===27?(n=pt,Ri(t.type)?(t=Yd,Yd=null,pt=t):pt=n):pt=on?Wn(t.stateNode.nextSibling):null;return!0}function xl(){pt=on=null,Ke=!1}function vp(){var t=Ta;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),Ta=null),t}function Tl(t){Ta===null?Ta=[t]:Ta.push(t)}var jh=ee(null),Na=null,Os=null;function mi(t,n,a){ce(jh,n._currentValue),n._currentValue=a}function ks(t){t._currentValue=jh.current,he(jh)}function Rh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Ch(t,n,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var m=d.dependencies;if(m!==null){var b=d.child;m=m.firstContext;e:for(;m!==null;){var x=m;m=d;for(var I=0;I<n.length;I++)if(x.context===n[I]){m.lanes|=a,x=m.alternate,x!==null&&(x.lanes|=a),Rh(m.return,a,t),l||(b=null);break e}m=x.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(r(341));b.lanes|=a,m=b.alternate,m!==null&&(m.lanes|=a),Rh(b,a,t),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===t){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function Al(t,n,a,l){t=null;for(var d=n,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var x=d.type;En(d.pendingProps.value,b.value)||(t!==null?t.push(x):t=[x])}}else if(d===ke.current){if(b=d.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Wl):t=[Wl])}d=d.return}t!==null&&Ch(n,t,a,l),n.flags|=262144}function cc(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Sa(t){Na=t,Os=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Zt(t){return yp(Na,t)}function uc(t,n){return Na===null&&Sa(t),yp(t,n)}function yp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Os===null){if(t===null)throw Error(r(308));Os=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Os=Os.next=n;return a}var fx=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},mx=i.unstable_scheduleCallback,px=i.unstable_NormalPriority,It={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dh(){return{controller:new fx,data:new Map,refCount:0}}function Nl(t){t.refCount--,t.refCount===0&&mx(px,function(){t.controller.abort()})}var Sl=null,Ih=0,pr=0,gr=null;function gx(t,n){if(Sl===null){var a=Sl=[];Ih=0,pr=Vd(),gr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ih++,n.then(_p,_p),n}function _p(){if(--Ih===0&&Sl!==null){gr!==null&&(gr.status="fulfilled");var t=Sl;Sl=null,pr=0,gr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function vx(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var d=0;d<a.length;d++)(0,a[d])(n)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var bp=Y.S;Y.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&gx(t,n),bp!==null&&bp(t,n)};var wa=ee(null);function Mh(){var t=wa.current;return t!==null?t:ot.pooledCache}function hc(t,n){n===null?ce(wa,wa.current):ce(wa,n.pool)}function Ep(){var t=Mh();return t===null?null:{parent:It._currentValue,pool:t}}var wl=Error(r(460)),xp=Error(r(474)),dc=Error(r(542)),Vh={then:function(){}};function Tp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function fc(){}function Ap(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(fc,fc),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Sp(t),t;default:if(typeof n.status=="string")n.then(fc,fc);else{if(t=ot,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=l}},function(l){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Sp(t),t}throw jl=n,wl}}var jl=null;function Np(){if(jl===null)throw Error(r(459));var t=jl;return jl=null,t}function Sp(t){if(t===wl||t===dc)throw Error(r(483))}var pi=!1;function Oh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function gi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function vi(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(We&2)!==0){var d=l.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),l.pending=n,n=ac(t),dp(t,null,a),n}return ic(t,l,n,a),ac(t)}function Rl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,si(t,a)}}function Lh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?d=m=b:m=m.next=b,a=a.next}while(a!==null);m===null?d=m=n:m=m.next=n}else d=m=n;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Ph=!1;function Cl(){if(Ph){var t=gr;if(t!==null)throw t}}function Dl(t,n,a,l){Ph=!1;var d=t.updateQueue;pi=!1;var m=d.firstBaseUpdate,b=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var I=x,H=I.next;I.next=null,b===null?m=H:b.next=H,b=I;var X=t.alternate;X!==null&&(X=X.updateQueue,x=X.lastBaseUpdate,x!==b&&(x===null?X.firstBaseUpdate=H:x.next=H,X.lastBaseUpdate=I))}if(m!==null){var te=d.baseState;b=0,X=H=I=null,x=m;do{var F=x.lane&-536870913,G=F!==x.lane;if(G?(Fe&F)===F:(l&F)===F){F!==0&&F===pr&&(Ph=!0),X!==null&&(X=X.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var Ae=t,Ee=x;F=n;var it=a;switch(Ee.tag){case 1:if(Ae=Ee.payload,typeof Ae=="function"){te=Ae.call(it,te,F);break e}te=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Ee.payload,F=typeof Ae=="function"?Ae.call(it,te,F):Ae,F==null)break e;te=E({},te,F);break e;case 2:pi=!0}}F=x.callback,F!==null&&(t.flags|=64,G&&(t.flags|=8192),G=d.callbacks,G===null?d.callbacks=[F]:G.push(F))}else G={lane:F,tag:x.tag,payload:x.payload,callback:x.callback,next:null},X===null?(H=X=G,I=te):X=X.next=G,b|=F;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;G=x,x=G.next,G.next=null,d.lastBaseUpdate=G,d.shared.pending=null}}while(!0);X===null&&(I=te),d.baseState=I,d.firstBaseUpdate=H,d.lastBaseUpdate=X,m===null&&(d.shared.lanes=0),Ni|=b,t.lanes=b,t.memoizedState=te}}function wp(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function jp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)wp(a[t],n)}var vr=ee(null),mc=ee(0);function Rp(t,n){t=Hs,ce(mc,t),ce(vr,n),Hs=t|n.baseLanes}function Uh(){ce(mc,Hs),ce(vr,vr.current)}function Bh(){Hs=mc.current,he(vr),he(mc)}var yi=0,Me=null,nt=null,Nt=null,pc=!1,yr=!1,ja=!1,gc=0,Il=0,_r=null,yx=0;function Et(){throw Error(r(321))}function zh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!En(t[a],n[a]))return!1;return!0}function qh(t,n,a,l,d,m){return yi=m,Me=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Y.H=t===null||t.memoizedState===null?dg:fg,ja=!1,m=a(l,d),ja=!1,yr&&(m=Dp(n,a,l,d)),Cp(t),m}function Cp(t){Y.H=xc;var n=nt!==null&&nt.next!==null;if(yi=0,Nt=nt=Me=null,pc=!1,Il=0,_r=null,n)throw Error(r(300));t===null||Lt||(t=t.dependencies,t!==null&&cc(t)&&(Lt=!0))}function Dp(t,n,a,l){Me=t;var d=0;do{if(yr&&(_r=null),Il=0,yr=!1,25<=d)throw Error(r(301));if(d+=1,Nt=nt=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Y.H=Nx,m=n(a,l)}while(yr);return m}function _x(){var t=Y.H,n=t.useState()[0];return n=typeof n.then=="function"?Ml(n):n,t=t.useState()[0],(nt!==null?nt.memoizedState:null)!==t&&(Me.flags|=1024),n}function Hh(){var t=gc!==0;return gc=0,t}function Fh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Gh(t){if(pc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}pc=!1}yi=0,Nt=nt=Me=null,yr=!1,Il=gc=0,_r=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Me.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function St(){if(nt===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var n=Nt===null?Me.memoizedState:Nt.next;if(n!==null)Nt=n,nt=t;else{if(t===null)throw Me.alternate===null?Error(r(467)):Error(r(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Nt===null?Me.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function Qh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ml(t){var n=Il;return Il+=1,_r===null&&(_r=[]),t=Ap(_r,t,n),n=Me,(Nt===null?n.memoizedState:Nt.next)===null&&(n=n.alternate,Y.H=n===null||n.memoizedState===null?dg:fg),t}function vc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ml(t);if(t.$$typeof===k)return Zt(t)}throw Error(r(438,String(t)))}function Yh(t){var n=null,a=Me.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Qh(),Me.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=j;return n.index++,a}function Ls(t,n){return typeof n=="function"?n(t):n}function yc(t){var n=St();return $h(n,nt,t)}function $h(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var d=t.baseQueue,m=l.pending;if(m!==null){if(d!==null){var b=d.next;d.next=m.next,m.next=b}n.baseQueue=d=m,l.pending=null}if(m=t.baseState,d===null)t.memoizedState=m;else{n=d.next;var x=b=null,I=null,H=n,X=!1;do{var te=H.lane&-536870913;if(te!==H.lane?(Fe&te)===te:(yi&te)===te){var F=H.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),te===pr&&(X=!0);else if((yi&F)===F){H=H.next,F===pr&&(X=!0);continue}else te={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(x=I=te,b=m):I=I.next=te,Me.lanes|=F,Ni|=F;te=H.action,ja&&a(m,te),m=H.hasEagerState?H.eagerState:a(m,te)}else F={lane:te,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(x=I=F,b=m):I=I.next=F,Me.lanes|=te,Ni|=te;H=H.next}while(H!==null&&H!==n);if(I===null?b=m:I.next=x,!En(m,t.memoizedState)&&(Lt=!0,X&&(a=gr,a!==null)))throw a;t.memoizedState=m,t.baseState=b,t.baseQueue=I,l.lastRenderedState=m}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Kh(t){var n=St(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,m=n.memoizedState;if(d!==null){a.pending=null;var b=d=d.next;do m=t(m,b.action),b=b.next;while(b!==d);En(m,n.memoizedState)||(Lt=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),a.lastRenderedState=m}return[m,l]}function Ip(t,n,a){var l=Me,d=St(),m=Ke;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=n();var b=!En((nt||d).memoizedState,a);b&&(d.memoizedState=a,Lt=!0),d=d.queue;var x=Op.bind(null,l,d,t);if(Vl(2048,8,x,[t]),d.getSnapshot!==n||b||Nt!==null&&Nt.memoizedState.tag&1){if(l.flags|=2048,br(9,_c(),Vp.bind(null,l,d,a,n),null),ot===null)throw Error(r(349));m||(yi&124)!==0||Mp(l,n,a)}return a}function Mp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Me.updateQueue,n===null?(n=Qh(),Me.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Vp(t,n,a,l){n.value=a,n.getSnapshot=l,kp(n)&&Lp(t)}function Op(t,n,a){return a(function(){kp(n)&&Lp(t)})}function kp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!En(t,a)}catch{return!0}}function Lp(t){var n=hr(t,2);n!==null&&wn(n,t,2)}function Xh(t){var n=dn();if(typeof t=="function"){var a=t;if(t=a(),ja){Dn(!0);try{a()}finally{Dn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:t},n}function Pp(t,n,a,l){return t.baseState=a,$h(t,nt,typeof l=="function"?l:Ls)}function bx(t,n,a,l,d){if(Ec(t))throw Error(r(485));if(t=n.action,t!==null){var m={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};Y.T!==null?a(!0):m.isTransition=!1,l(m),a=n.pending,a===null?(m.next=n.pending=m,Up(n,m)):(m.next=a.next,n.pending=a.next=m)}}function Up(t,n){var a=n.action,l=n.payload,d=t.state;if(n.isTransition){var m=Y.T,b={};Y.T=b;try{var x=a(d,l),I=Y.S;I!==null&&I(b,x),Bp(t,n,x)}catch(H){Zh(t,n,H)}finally{Y.T=m}}else try{m=a(d,l),Bp(t,n,m)}catch(H){Zh(t,n,H)}}function Bp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){zp(t,n,l)},function(l){return Zh(t,n,l)}):zp(t,n,a)}function zp(t,n,a){n.status="fulfilled",n.value=a,qp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Up(t,a)))}function Zh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,qp(n),n=n.next;while(n!==l)}t.action=null}function qp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Hp(t,n){return n}function Fp(t,n){if(Ke){var a=ot.formState;if(a!==null){e:{var l=Me;if(Ke){if(pt){t:{for(var d=pt,m=us;d.nodeType!==8;){if(!m){d=null;break t}if(d=Wn(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){pt=Wn(d.nextSibling),l=d.data==="F!";break e}}Aa(l)}l=!1}l&&(n=a[0])}}return a=dn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hp,lastRenderedState:n},a.queue=l,a=cg.bind(null,Me,l),l.dispatch=a,l=Xh(!1),m=nd.bind(null,Me,!1,l.queue),l=dn(),d={state:n,dispatch:null,action:t,pending:null},l.queue=d,a=bx.bind(null,Me,d,m,a),d.dispatch=a,l.memoizedState=t,[n,a,!1]}function Gp(t){var n=St();return Qp(n,nt,t)}function Qp(t,n,a){if(n=$h(t,n,Hp)[0],t=yc(Ls)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ml(n)}catch(b){throw b===wl?dc:b}else l=n;n=St();var d=n.queue,m=d.dispatch;return a!==n.memoizedState&&(Me.flags|=2048,br(9,_c(),Ex.bind(null,d,a),null)),[l,m,t]}function Ex(t,n){t.action=n}function Yp(t){var n=St(),a=nt;if(a!==null)return Qp(n,a,t);St(),n=n.memoizedState,a=St();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function br(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Me.updateQueue,n===null&&(n=Qh(),Me.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function _c(){return{destroy:void 0,resource:void 0}}function $p(){return St().memoizedState}function bc(t,n,a,l){var d=dn();l=l===void 0?null:l,Me.flags|=t,d.memoizedState=br(1|n,_c(),a,l)}function Vl(t,n,a,l){var d=St();l=l===void 0?null:l;var m=d.memoizedState.inst;nt!==null&&l!==null&&zh(l,nt.memoizedState.deps)?d.memoizedState=br(n,m,a,l):(Me.flags|=t,d.memoizedState=br(1|n,m,a,l))}function Kp(t,n){bc(8390656,8,t,n)}function Xp(t,n){Vl(2048,8,t,n)}function Zp(t,n){return Vl(4,2,t,n)}function Jp(t,n){return Vl(4,4,t,n)}function Wp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function eg(t,n,a){a=a!=null?a.concat([t]):null,Vl(4,4,Wp.bind(null,n,t),a)}function Jh(){}function tg(t,n){var a=St();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&zh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function ng(t,n){var a=St();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&zh(n,l[1]))return l[0];if(l=t(),ja){Dn(!0);try{t()}finally{Dn(!1)}}return a.memoizedState=[l,n],l}function Wh(t,n,a){return a===void 0||(yi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=av(),Me.lanes|=t,Ni|=t,a)}function sg(t,n,a,l){return En(a,n)?a:vr.current!==null?(t=Wh(t,a,l),En(t,n)||(Lt=!0),t):(yi&42)===0?(Lt=!0,t.memoizedState=a):(t=av(),Me.lanes|=t,Ni|=t,n)}function ig(t,n,a,l,d){var m=ue.p;ue.p=m!==0&&8>m?m:8;var b=Y.T,x={};Y.T=x,nd(t,!1,n,a);try{var I=d(),H=Y.S;if(H!==null&&H(x,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=vx(I,l);Ol(t,n,X,Sn(t))}else Ol(t,n,l,Sn(t))}catch(te){Ol(t,n,{then:function(){},status:"rejected",reason:te},Sn())}finally{ue.p=m,Y.T=b}}function xx(){}function ed(t,n,a,l){if(t.tag!==5)throw Error(r(476));var d=ag(t).queue;ig(t,d,n,ge,a===null?xx:function(){return rg(t),a(l)})}function ag(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:ge},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function rg(t){var n=ag(t).next.queue;Ol(t,n,{},Sn())}function td(){return Zt(Wl)}function lg(){return St().memoizedState}function og(){return St().memoizedState}function Tx(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Sn();t=gi(a);var l=vi(n,t,a);l!==null&&(wn(l,n,a),Rl(l,n,a)),n={cache:Dh()},t.payload=n;return}n=n.return}}function Ax(t,n,a){var l=Sn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ec(t)?ug(n,a):(a=Eh(t,n,a,l),a!==null&&(wn(a,t,l),hg(a,n,l)))}function cg(t,n,a){var l=Sn();Ol(t,n,a,l)}function Ol(t,n,a,l){var d={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ec(t))ug(n,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var b=n.lastRenderedState,x=m(b,a);if(d.hasEagerState=!0,d.eagerState=x,En(x,b))return ic(t,n,d,0),ot===null&&sc(),!1}catch{}finally{}if(a=Eh(t,n,d,l),a!==null)return wn(a,t,l),hg(a,n,l),!0}return!1}function nd(t,n,a,l){if(l={lane:2,revertLane:Vd(),action:l,hasEagerState:!1,eagerState:null,next:null},Ec(t)){if(n)throw Error(r(479))}else n=Eh(t,a,l,2),n!==null&&wn(n,t,2)}function Ec(t){var n=t.alternate;return t===Me||n!==null&&n===Me}function ug(t,n){yr=pc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function hg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,si(t,a)}}var xc={readContext:Zt,use:vc,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et},dg={readContext:Zt,use:vc,useCallback:function(t,n){return dn().memoizedState=[t,n===void 0?null:n],t},useContext:Zt,useEffect:Kp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,bc(4194308,4,Wp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return bc(4194308,4,t,n)},useInsertionEffect:function(t,n){bc(4,2,t,n)},useMemo:function(t,n){var a=dn();n=n===void 0?null:n;var l=t();if(ja){Dn(!0);try{t()}finally{Dn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=dn();if(a!==void 0){var d=a(n);if(ja){Dn(!0);try{a(n)}finally{Dn(!1)}}}else d=n;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=Ax.bind(null,Me,t),[l.memoizedState,t]},useRef:function(t){var n=dn();return t={current:t},n.memoizedState=t},useState:function(t){t=Xh(t);var n=t.queue,a=cg.bind(null,Me,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Jh,useDeferredValue:function(t,n){var a=dn();return Wh(a,t,n)},useTransition:function(){var t=Xh(!1);return t=ig.bind(null,Me,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Me,d=dn();if(Ke){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ot===null)throw Error(r(349));(Fe&124)!==0||Mp(l,n,a)}d.memoizedState=a;var m={value:a,getSnapshot:n};return d.queue=m,Kp(Op.bind(null,l,m,t),[t]),l.flags|=2048,br(9,_c(),Vp.bind(null,l,m,a,n),null),a},useId:function(){var t=dn(),n=ot.identifierPrefix;if(Ke){var a=Vs,l=Ms;a=(l&~(1<<32-sn(l)-1)).toString(32)+a,n="«"+n+"R"+a,a=gc++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=yx++,n="«"+n+"r"+a.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:td,useFormState:Fp,useActionState:Fp,useOptimistic:function(t){var n=dn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=nd.bind(null,Me,!0,a),a.dispatch=n,[t,n]},useMemoCache:Yh,useCacheRefresh:function(){return dn().memoizedState=Tx.bind(null,Me)}},fg={readContext:Zt,use:vc,useCallback:tg,useContext:Zt,useEffect:Xp,useImperativeHandle:eg,useInsertionEffect:Zp,useLayoutEffect:Jp,useMemo:ng,useReducer:yc,useRef:$p,useState:function(){return yc(Ls)},useDebugValue:Jh,useDeferredValue:function(t,n){var a=St();return sg(a,nt.memoizedState,t,n)},useTransition:function(){var t=yc(Ls)[0],n=St().memoizedState;return[typeof t=="boolean"?t:Ml(t),n]},useSyncExternalStore:Ip,useId:lg,useHostTransitionStatus:td,useFormState:Gp,useActionState:Gp,useOptimistic:function(t,n){var a=St();return Pp(a,nt,t,n)},useMemoCache:Yh,useCacheRefresh:og},Nx={readContext:Zt,use:vc,useCallback:tg,useContext:Zt,useEffect:Xp,useImperativeHandle:eg,useInsertionEffect:Zp,useLayoutEffect:Jp,useMemo:ng,useReducer:Kh,useRef:$p,useState:function(){return Kh(Ls)},useDebugValue:Jh,useDeferredValue:function(t,n){var a=St();return nt===null?Wh(a,t,n):sg(a,nt.memoizedState,t,n)},useTransition:function(){var t=Kh(Ls)[0],n=St().memoizedState;return[typeof t=="boolean"?t:Ml(t),n]},useSyncExternalStore:Ip,useId:lg,useHostTransitionStatus:td,useFormState:Yp,useActionState:Yp,useOptimistic:function(t,n){var a=St();return nt!==null?Pp(a,nt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Yh,useCacheRefresh:og},Er=null,kl=0;function Tc(t){var n=kl;return kl+=1,Er===null&&(Er=[]),Ap(Er,t,n)}function Ll(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ac(t,n){throw n.$$typeof===R?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function mg(t){var n=t._init;return n(t._payload)}function pg(t){function n(L,O){if(t){var B=L.deletions;B===null?(L.deletions=[O],L.flags|=16):B.push(O)}}function a(L,O){if(!t)return null;for(;O!==null;)n(L,O),O=O.sibling;return null}function l(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function d(L,O){return L=Is(L,O),L.index=0,L.sibling=null,L}function m(L,O,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<O?(L.flags|=67108866,O):B):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function b(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function x(L,O,B,J){return O===null||O.tag!==6?(O=Th(B,L.mode,J),O.return=L,O):(O=d(O,B),O.return=L,O)}function I(L,O,B,J){var pe=B.type;return pe===U?X(L,O,B.props.children,J,B.key):O!==null&&(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===N&&mg(pe)===O.type)?(O=d(O,B.props),Ll(O,B),O.return=L,O):(O=rc(B.type,B.key,B.props,null,L.mode,J),Ll(O,B),O.return=L,O)}function H(L,O,B,J){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=Ah(B,L.mode,J),O.return=L,O):(O=d(O,B.children||[]),O.return=L,O)}function X(L,O,B,J,pe){return O===null||O.tag!==7?(O=ba(B,L.mode,J,pe),O.return=L,O):(O=d(O,B),O.return=L,O)}function te(L,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Th(""+O,L.mode,B),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case C:return B=rc(O.type,O.key,O.props,null,L.mode,B),Ll(B,O),B.return=L,B;case P:return O=Ah(O,L.mode,B),O.return=L,O;case N:var J=O._init;return O=J(O._payload),te(L,O,B)}if(He(O)||V(O))return O=ba(O,L.mode,B,null),O.return=L,O;if(typeof O.then=="function")return te(L,Tc(O),B);if(O.$$typeof===k)return te(L,uc(L,O),B);Ac(L,O)}return null}function F(L,O,B,J){var pe=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return pe!==null?null:x(L,O,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case C:return B.key===pe?I(L,O,B,J):null;case P:return B.key===pe?H(L,O,B,J):null;case N:return pe=B._init,B=pe(B._payload),F(L,O,B,J)}if(He(B)||V(B))return pe!==null?null:X(L,O,B,J,null);if(typeof B.then=="function")return F(L,O,Tc(B),J);if(B.$$typeof===k)return F(L,O,uc(L,B),J);Ac(L,B)}return null}function G(L,O,B,J,pe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(B)||null,x(O,L,""+J,pe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case C:return L=L.get(J.key===null?B:J.key)||null,I(O,L,J,pe);case P:return L=L.get(J.key===null?B:J.key)||null,H(O,L,J,pe);case N:var Oe=J._init;return J=Oe(J._payload),G(L,O,B,J,pe)}if(He(J)||V(J))return L=L.get(B)||null,X(O,L,J,pe,null);if(typeof J.then=="function")return G(L,O,B,Tc(J),pe);if(J.$$typeof===k)return G(L,O,B,uc(O,J),pe);Ac(O,J)}return null}function Ae(L,O,B,J){for(var pe=null,Oe=null,_e=O,xe=O=0,Ut=null;_e!==null&&xe<B.length;xe++){_e.index>xe?(Ut=_e,_e=null):Ut=_e.sibling;var $e=F(L,_e,B[xe],J);if($e===null){_e===null&&(_e=Ut);break}t&&_e&&$e.alternate===null&&n(L,_e),O=m($e,O,xe),Oe===null?pe=$e:Oe.sibling=$e,Oe=$e,_e=Ut}if(xe===B.length)return a(L,_e),Ke&&xa(L,xe),pe;if(_e===null){for(;xe<B.length;xe++)_e=te(L,B[xe],J),_e!==null&&(O=m(_e,O,xe),Oe===null?pe=_e:Oe.sibling=_e,Oe=_e);return Ke&&xa(L,xe),pe}for(_e=l(_e);xe<B.length;xe++)Ut=G(_e,L,xe,B[xe],J),Ut!==null&&(t&&Ut.alternate!==null&&_e.delete(Ut.key===null?xe:Ut.key),O=m(Ut,O,xe),Oe===null?pe=Ut:Oe.sibling=Ut,Oe=Ut);return t&&_e.forEach(function(Vi){return n(L,Vi)}),Ke&&xa(L,xe),pe}function Ee(L,O,B,J){if(B==null)throw Error(r(151));for(var pe=null,Oe=null,_e=O,xe=O=0,Ut=null,$e=B.next();_e!==null&&!$e.done;xe++,$e=B.next()){_e.index>xe?(Ut=_e,_e=null):Ut=_e.sibling;var Vi=F(L,_e,$e.value,J);if(Vi===null){_e===null&&(_e=Ut);break}t&&_e&&Vi.alternate===null&&n(L,_e),O=m(Vi,O,xe),Oe===null?pe=Vi:Oe.sibling=Vi,Oe=Vi,_e=Ut}if($e.done)return a(L,_e),Ke&&xa(L,xe),pe;if(_e===null){for(;!$e.done;xe++,$e=B.next())$e=te(L,$e.value,J),$e!==null&&(O=m($e,O,xe),Oe===null?pe=$e:Oe.sibling=$e,Oe=$e);return Ke&&xa(L,xe),pe}for(_e=l(_e);!$e.done;xe++,$e=B.next())$e=G(_e,L,xe,$e.value,J),$e!==null&&(t&&$e.alternate!==null&&_e.delete($e.key===null?xe:$e.key),O=m($e,O,xe),Oe===null?pe=$e:Oe.sibling=$e,Oe=$e);return t&&_e.forEach(function(ST){return n(L,ST)}),Ke&&xa(L,xe),pe}function it(L,O,B,J){if(typeof B=="object"&&B!==null&&B.type===U&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case C:e:{for(var pe=B.key;O!==null;){if(O.key===pe){if(pe=B.type,pe===U){if(O.tag===7){a(L,O.sibling),J=d(O,B.props.children),J.return=L,L=J;break e}}else if(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===N&&mg(pe)===O.type){a(L,O.sibling),J=d(O,B.props),Ll(J,B),J.return=L,L=J;break e}a(L,O);break}else n(L,O);O=O.sibling}B.type===U?(J=ba(B.props.children,L.mode,J,B.key),J.return=L,L=J):(J=rc(B.type,B.key,B.props,null,L.mode,J),Ll(J,B),J.return=L,L=J)}return b(L);case P:e:{for(pe=B.key;O!==null;){if(O.key===pe)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){a(L,O.sibling),J=d(O,B.children||[]),J.return=L,L=J;break e}else{a(L,O);break}else n(L,O);O=O.sibling}J=Ah(B,L.mode,J),J.return=L,L=J}return b(L);case N:return pe=B._init,B=pe(B._payload),it(L,O,B,J)}if(He(B))return Ae(L,O,B,J);if(V(B)){if(pe=V(B),typeof pe!="function")throw Error(r(150));return B=pe.call(B),Ee(L,O,B,J)}if(typeof B.then=="function")return it(L,O,Tc(B),J);if(B.$$typeof===k)return it(L,O,uc(L,B),J);Ac(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(a(L,O.sibling),J=d(O,B),J.return=L,L=J):(a(L,O),J=Th(B,L.mode,J),J.return=L,L=J),b(L)):a(L,O)}return function(L,O,B,J){try{kl=0;var pe=it(L,O,B,J);return Er=null,pe}catch(_e){if(_e===wl||_e===dc)throw _e;var Oe=xn(29,_e,null,L.mode);return Oe.lanes=J,Oe.return=L,Oe}finally{}}}var xr=pg(!0),gg=pg(!1),Bn=ee(null),hs=null;function _i(t){var n=t.alternate;ce(Mt,Mt.current&1),ce(Bn,t),hs===null&&(n===null||vr.current!==null||n.memoizedState!==null)&&(hs=t)}function vg(t){if(t.tag===22){if(ce(Mt,Mt.current),ce(Bn,t),hs===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(hs=t)}}else bi()}function bi(){ce(Mt,Mt.current),ce(Bn,Bn.current)}function Ps(t){he(Bn),hs===t&&(hs=null),he(Mt)}var Mt=ee(0);function Nc(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Qd(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function sd(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:E({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var id={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=Sn(),d=gi(l);d.payload=n,a!=null&&(d.callback=a),n=vi(t,d,l),n!==null&&(wn(n,t,l),Rl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=Sn(),d=gi(l);d.tag=1,d.payload=n,a!=null&&(d.callback=a),n=vi(t,d,l),n!==null&&(wn(n,t,l),Rl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Sn(),l=gi(a);l.tag=2,n!=null&&(l.callback=n),n=vi(t,l,a),n!==null&&(wn(n,t,a),Rl(n,t,a))}};function yg(t,n,a,l,d,m,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,b):n.prototype&&n.prototype.isPureReactComponent?!_l(a,l)||!_l(d,m):!0}function _g(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&id.enqueueReplaceState(n,n.state,null)}function Ra(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=E({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}var Sc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function bg(t){Sc(t)}function Eg(t){console.error(t)}function xg(t){Sc(t)}function wc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Tg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function ad(t,n,a){return a=gi(a),a.tag=3,a.payload={element:null},a.callback=function(){wc(t,n)},a}function Ag(t){return t=gi(t),t.tag=3,t}function Ng(t,n,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var m=l.value;t.payload=function(){return d(m)},t.callback=function(){Tg(n,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){Tg(n,a,l),typeof d!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function Sx(t,n,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Al(n,a,d,!0),a=Bn.current,a!==null){switch(a.tag){case 13:return hs===null?Rd():a.alternate===null&&gt===0&&(gt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===Vh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Dd(t,l,d)),!1;case 22:return a.flags|=65536,l===Vh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Dd(t,l,d)),!1}throw Error(r(435,a.tag))}return Dd(t,l,d),Rd(),!1}if(Ke)return n=Bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,l!==wh&&(t=Error(r(422),{cause:l}),Tl(kn(t,a)))):(l!==wh&&(n=Error(r(423),{cause:l}),Tl(kn(n,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=kn(l,a),d=ad(t.stateNode,l,d),Lh(t,d),gt!==4&&(gt=2)),!1;var m=Error(r(520),{cause:l});if(m=kn(m,a),Fl===null?Fl=[m]:Fl.push(m),gt!==4&&(gt=2),n===null)return!0;l=kn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=ad(a.stateNode,l,t),Lh(a,t),!1;case 1:if(n=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Si===null||!Si.has(m))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Ag(d),Ng(d,t,a,l),Lh(a,d),!1}a=a.return}while(a!==null);return!1}var Sg=Error(r(461)),Lt=!1;function Ht(t,n,a,l){n.child=t===null?gg(n,null,a,l):xr(n,t.child,a,l)}function wg(t,n,a,l,d){a=a.render;var m=n.ref;if("ref"in l){var b={};for(var x in l)x!=="ref"&&(b[x]=l[x])}else b=l;return Sa(n),l=qh(t,n,a,b,m,d),x=Hh(),t!==null&&!Lt?(Fh(t,n,d),Us(t,n,d)):(Ke&&x&&Nh(n),n.flags|=1,Ht(t,n,l,d),n.child)}function jg(t,n,a,l,d){if(t===null){var m=a.type;return typeof m=="function"&&!xh(m)&&m.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=m,Rg(t,n,m,l,d)):(t=rc(a.type,null,l,n,n.mode,d),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!fd(t,d)){var b=m.memoizedProps;if(a=a.compare,a=a!==null?a:_l,a(b,l)&&t.ref===n.ref)return Us(t,n,d)}return n.flags|=1,t=Is(m,l),t.ref=n.ref,t.return=n,n.child=t}function Rg(t,n,a,l,d){if(t!==null){var m=t.memoizedProps;if(_l(m,l)&&t.ref===n.ref)if(Lt=!1,n.pendingProps=l=m,fd(t,d))(t.flags&131072)!==0&&(Lt=!0);else return n.lanes=t.lanes,Us(t,n,d)}return rd(t,n,a,l,d)}function Cg(t,n,a){var l=n.pendingProps,d=l.children,m=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,t!==null){for(d=n.child=t.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;n.childLanes=m&~l}else n.childLanes=0,n.child=null;return Dg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&hc(n,m!==null?m.cachePool:null),m!==null?Rp(n,m):Uh(),vg(n);else return n.lanes=n.childLanes=536870912,Dg(t,n,m!==null?m.baseLanes|a:a,a)}else m!==null?(hc(n,m.cachePool),Rp(n,m),bi(),n.memoizedState=null):(t!==null&&hc(n,null),Uh(),bi());return Ht(t,n,d,a),n.child}function Dg(t,n,a,l){var d=Mh();return d=d===null?null:{parent:It._currentValue,pool:d},n.memoizedState={baseLanes:a,cachePool:d},t!==null&&hc(n,null),Uh(),vg(n),t!==null&&Al(t,n,l,!0),null}function jc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function rd(t,n,a,l,d){return Sa(n),a=qh(t,n,a,l,void 0,d),l=Hh(),t!==null&&!Lt?(Fh(t,n,d),Us(t,n,d)):(Ke&&l&&Nh(n),n.flags|=1,Ht(t,n,a,d),n.child)}function Ig(t,n,a,l,d,m){return Sa(n),n.updateQueue=null,a=Dp(n,l,a,d),Cp(t),l=Hh(),t!==null&&!Lt?(Fh(t,n,m),Us(t,n,m)):(Ke&&l&&Nh(n),n.flags|=1,Ht(t,n,a,m),n.child)}function Mg(t,n,a,l,d){if(Sa(n),n.stateNode===null){var m=dr,b=a.contextType;typeof b=="object"&&b!==null&&(m=Zt(b)),m=new a(l,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=id,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=l,m.state=n.memoizedState,m.refs={},Oh(n),b=a.contextType,m.context=typeof b=="object"&&b!==null?Zt(b):dr,m.state=n.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(sd(n,a,b,l),m.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&id.enqueueReplaceState(m,m.state,null),Dl(n,l,m,d),Cl(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){m=n.stateNode;var x=n.memoizedProps,I=Ra(a,x);m.props=I;var H=m.context,X=a.contextType;b=dr,typeof X=="object"&&X!==null&&(b=Zt(X));var te=a.getDerivedStateFromProps;X=typeof te=="function"||typeof m.getSnapshotBeforeUpdate=="function",x=n.pendingProps!==x,X||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x||H!==b)&&_g(n,m,l,b),pi=!1;var F=n.memoizedState;m.state=F,Dl(n,l,m,d),Cl(),H=n.memoizedState,x||F!==H||pi?(typeof te=="function"&&(sd(n,a,te,l),H=n.memoizedState),(I=pi||yg(n,a,I,l,F,H,b))?(X||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=H),m.props=l,m.state=H,m.context=b,l=I):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{m=n.stateNode,kh(t,n),b=n.memoizedProps,X=Ra(a,b),m.props=X,te=n.pendingProps,F=m.context,H=a.contextType,I=dr,typeof H=="object"&&H!==null&&(I=Zt(H)),x=a.getDerivedStateFromProps,(H=typeof x=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==te||F!==I)&&_g(n,m,l,I),pi=!1,F=n.memoizedState,m.state=F,Dl(n,l,m,d),Cl();var G=n.memoizedState;b!==te||F!==G||pi||t!==null&&t.dependencies!==null&&cc(t.dependencies)?(typeof x=="function"&&(sd(n,a,x,l),G=n.memoizedState),(X=pi||yg(n,a,X,l,F,G,I)||t!==null&&t.dependencies!==null&&cc(t.dependencies))?(H||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,G,I),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,G,I)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=G),m.props=l,m.state=G,m.context=I,l=X):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),l=!1)}return m=l,jc(t,n),l=(n.flags&128)!==0,m||l?(m=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&l?(n.child=xr(n,t.child,null,d),n.child=xr(n,null,a,d)):Ht(t,n,a,d),n.memoizedState=m.state,t=n.child):t=Us(t,n,d),t}function Vg(t,n,a,l){return xl(),n.flags|=256,Ht(t,n,a,l),n.child}var ld={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function od(t){return{baseLanes:t,cachePool:Ep()}}function cd(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=zn),t}function Og(t,n,a){var l=n.pendingProps,d=!1,m=(n.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:(Mt.current&2)!==0),b&&(d=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ke){if(d?_i(n):bi(),Ke){var x=pt,I;if(I=x){e:{for(I=x,x=us;I.nodeType!==8;){if(!x){x=null;break e}if(I=Wn(I.nextSibling),I===null){x=null;break e}}x=I}x!==null?(n.memoizedState={dehydrated:x,treeContext:Ea!==null?{id:Ms,overflow:Vs}:null,retryLane:536870912,hydrationErrors:null},I=xn(18,null,null,0),I.stateNode=x,I.return=n,n.child=I,on=n,pt=null,I=!0):I=!1}I||Aa(n)}if(x=n.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return Qd(x)?n.lanes=32:n.lanes=536870912,null;Ps(n)}return x=l.children,l=l.fallback,d?(bi(),d=n.mode,x=Rc({mode:"hidden",children:x},d),l=ba(l,d,a,null),x.return=n,l.return=n,x.sibling=l,n.child=x,d=n.child,d.memoizedState=od(a),d.childLanes=cd(t,b,a),n.memoizedState=ld,l):(_i(n),ud(n,x))}if(I=t.memoizedState,I!==null&&(x=I.dehydrated,x!==null)){if(m)n.flags&256?(_i(n),n.flags&=-257,n=hd(t,n,a)):n.memoizedState!==null?(bi(),n.child=t.child,n.flags|=128,n=null):(bi(),d=l.fallback,x=n.mode,l=Rc({mode:"visible",children:l.children},x),d=ba(d,x,a,null),d.flags|=2,l.return=n,d.return=n,l.sibling=d,n.child=l,xr(n,t.child,null,a),l=n.child,l.memoizedState=od(a),l.childLanes=cd(t,b,a),n.memoizedState=ld,n=d);else if(_i(n),Qd(x)){if(b=x.nextSibling&&x.nextSibling.dataset,b)var H=b.dgst;b=H,l=Error(r(419)),l.stack="",l.digest=b,Tl({value:l,source:null,stack:null}),n=hd(t,n,a)}else if(Lt||Al(t,n,a,!1),b=(a&t.childLanes)!==0,Lt||b){if(b=ot,b!==null&&(l=a&-a,l=(l&42)!==0?1:nl(l),l=(l&(b.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,hr(t,l),wn(b,t,l),Sg;x.data==="$?"||Rd(),n=hd(t,n,a)}else x.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,pt=Wn(x.nextSibling),on=n,Ke=!0,Ta=null,us=!1,t!==null&&(Pn[Un++]=Ms,Pn[Un++]=Vs,Pn[Un++]=Ea,Ms=t.id,Vs=t.overflow,Ea=n),n=ud(n,l.children),n.flags|=4096);return n}return d?(bi(),d=l.fallback,x=n.mode,I=t.child,H=I.sibling,l=Is(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,H!==null?d=Is(H,d):(d=ba(d,x,a,null),d.flags|=2),d.return=n,l.return=n,l.sibling=d,n.child=l,l=d,d=n.child,x=t.child.memoizedState,x===null?x=od(a):(I=x.cachePool,I!==null?(H=It._currentValue,I=I.parent!==H?{parent:H,pool:H}:I):I=Ep(),x={baseLanes:x.baseLanes|a,cachePool:I}),d.memoizedState=x,d.childLanes=cd(t,b,a),n.memoizedState=ld,l):(_i(n),a=t.child,t=a.sibling,a=Is(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(b=n.deletions,b===null?(n.deletions=[t],n.flags|=16):b.push(t)),n.child=a,n.memoizedState=null,a)}function ud(t,n){return n=Rc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Rc(t,n){return t=xn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function hd(t,n,a){return xr(n,t.child,null,a),t=ud(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function kg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Rh(t.return,n,a)}function dd(t,n,a,l,d){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d}:(m.isBackwards=n,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=d)}function Lg(t,n,a){var l=n.pendingProps,d=l.revealOrder,m=l.tail;if(Ht(t,n,l.children,a),l=Mt.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kg(t,a,n);else if(t.tag===19)kg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ce(Mt,l),d){case"forwards":for(a=n.child,d=null;a!==null;)t=a.alternate,t!==null&&Nc(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=n.child,n.child=null):(d=a.sibling,a.sibling=null),dd(n,!1,d,a,m);break;case"backwards":for(a=null,d=n.child,n.child=null;d!==null;){if(t=d.alternate,t!==null&&Nc(t)===null){n.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}dd(n,!0,a,null,m);break;case"together":dd(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Us(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Ni|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Al(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Is(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Is(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function fd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&cc(t)))}function wx(t,n,a){switch(n.tag){case 3:q(n,n.stateNode.containerInfo),mi(n,It,t.memoizedState.cache),xl();break;case 27:case 5:Se(n);break;case 4:q(n,n.stateNode.containerInfo);break;case 10:mi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(_i(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Og(t,n,a):(_i(n),t=Us(t,n,a),t!==null?t.sibling:null);_i(n);break;case 19:var d=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Al(t,n,a,!1),l=(a&n.childLanes)!==0),d){if(l)return Lg(t,n,a);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ce(Mt,Mt.current),l)break;return null;case 22:case 23:return n.lanes=0,Cg(t,n,a);case 24:mi(n,It,t.memoizedState.cache)}return Us(t,n,a)}function Pg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Lt=!0;else{if(!fd(t,a)&&(n.flags&128)===0)return Lt=!1,wx(t,n,a);Lt=(t.flags&131072)!==0}else Lt=!1,Ke&&(n.flags&1048576)!==0&&mp(n,oc,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,d=l._init;if(l=d(l._payload),n.type=l,typeof l=="function")xh(l)?(t=Ra(l,t),n.tag=1,n=Mg(null,n,l,t,a)):(n.tag=0,n=rd(null,n,l,t,a));else{if(l!=null){if(d=l.$$typeof,d===ae){n.tag=11,n=wg(null,n,l,t,a);break e}else if(d===S){n.tag=14,n=jg(null,n,l,t,a);break e}}throw n=De(l)||l,Error(r(306,n,""))}}return n;case 0:return rd(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,d=Ra(l,n.pendingProps),Mg(t,n,l,d,a);case 3:e:{if(q(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var m=n.memoizedState;d=m.element,kh(t,n),Dl(n,l,null,a);var b=n.memoizedState;if(l=b.cache,mi(n,It,l),l!==m.cache&&Ch(n,[It],a,!0),Cl(),l=b.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=Vg(t,n,l,a);break e}else if(l!==d){d=kn(Error(r(424)),n),Tl(d),n=Vg(t,n,l,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(pt=Wn(t.firstChild),on=n,Ke=!0,Ta=null,us=!0,a=gg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(xl(),l===d){n=Us(t,n,a);break e}Ht(t,n,l,a)}n=n.child}return n;case 26:return jc(t,n),t===null?(a=qv(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ke||(a=n.type,t=n.pendingProps,l=Hc(fe.current).createElement(a),l[yt]=n,l[qt]=t,Gt(l,a,t),_t(l),n.stateNode=l):n.memoizedState=qv(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Se(n),t===null&&Ke&&(l=n.stateNode=Uv(n.type,n.pendingProps,fe.current),on=n,us=!0,d=pt,Ri(n.type)?(Yd=d,pt=Wn(l.firstChild)):pt=d),Ht(t,n,n.pendingProps.children,a),jc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ke&&((d=l=pt)&&(l=tT(l,n.type,n.pendingProps,us),l!==null?(n.stateNode=l,on=n,pt=Wn(l.firstChild),us=!1,d=!0):d=!1),d||Aa(n)),Se(n),d=n.type,m=n.pendingProps,b=t!==null?t.memoizedProps:null,l=m.children,Hd(d,m)?l=null:b!==null&&Hd(d,b)&&(n.flags|=32),n.memoizedState!==null&&(d=qh(t,n,_x,null,null,a),Wl._currentValue=d),jc(t,n),Ht(t,n,l,a),n.child;case 6:return t===null&&Ke&&((t=a=pt)&&(a=nT(a,n.pendingProps,us),a!==null?(n.stateNode=a,on=n,pt=null,t=!0):t=!1),t||Aa(n)),null;case 13:return Og(t,n,a);case 4:return q(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=xr(n,null,l,a):Ht(t,n,l,a),n.child;case 11:return wg(t,n,n.type,n.pendingProps,a);case 7:return Ht(t,n,n.pendingProps,a),n.child;case 8:return Ht(t,n,n.pendingProps.children,a),n.child;case 12:return Ht(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,mi(n,n.type,l.value),Ht(t,n,l.children,a),n.child;case 9:return d=n.type._context,l=n.pendingProps.children,Sa(n),d=Zt(d),l=l(d),n.flags|=1,Ht(t,n,l,a),n.child;case 14:return jg(t,n,n.type,n.pendingProps,a);case 15:return Rg(t,n,n.type,n.pendingProps,a);case 19:return Lg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=Rc(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Is(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Cg(t,n,a);case 24:return Sa(n),l=Zt(It),t===null?(d=Mh(),d===null&&(d=ot,m=Dh(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=a),d=m),n.memoizedState={parent:l,cache:d},Oh(n),mi(n,It,d)):((t.lanes&a)!==0&&(kh(t,n),Dl(n,null,null,a),Cl()),d=t.memoizedState,m=n.memoizedState,d.parent!==l?(d={parent:l,cache:l},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),mi(n,It,l)):(l=m.cache,mi(n,It,l),l!==d.cache&&Ch(n,[It],a,!0))),Ht(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Bs(t){t.flags|=4}function Ug(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Yv(n)){if(n=Bn.current,n!==null&&((Fe&4194048)===Fe?hs!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||n!==hs))throw jl=Vh,xp;t.flags|=8192}}function Cc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ti():536870912,t.lanes|=n,Sr|=n)}function Pl(t,n){if(!Ke)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ft(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function jx(t,n,a){var l=n.pendingProps;switch(Sh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(n),null;case 1:return ft(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ks(It),je(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(El(n)?Bs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,vp())),ft(n),null;case 26:return a=n.memoizedState,t===null?(Bs(n),a!==null?(ft(n),Ug(n,a)):(ft(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Bs(n),ft(n),Ug(n,a)):(ft(n),n.flags&=-16777217):(t.memoizedProps!==l&&Bs(n),ft(n),n.flags&=-16777217),null;case 27:zt(n),a=fe.current;var d=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Bs(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ft(n),null}t=ye.current,El(n)?pp(n):(t=Uv(d,l,a),n.stateNode=t,Bs(n))}return ft(n),null;case 5:if(zt(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Bs(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ft(n),null}if(t=ye.current,El(n))pp(n);else{switch(d=Hc(fe.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?d.createElement(a,{is:l.is}):d.createElement(a)}}t[yt]=n,t[qt]=l;e:for(d=n.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}n.stateNode=t;e:switch(Gt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Bs(n)}}return ft(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Bs(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=fe.current,El(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,d=on,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[yt]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Iv(t.nodeValue,a)),t||Aa(n)}else t=Hc(t).createTextNode(l),t[yt]=n,n.stateNode=t}return ft(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=El(n),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(r(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[yt]=n}else xl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ft(n),d=!1}else d=vp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(Ps(n),n):(Ps(n),null)}if(Ps(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Cc(n,n.updateQueue),ft(n),null;case 4:return je(),t===null&&Pd(n.stateNode.containerInfo),ft(n),null;case 10:return ks(n.type),ft(n),null;case 19:if(he(Mt),d=n.memoizedState,d===null)return ft(n),null;if(l=(n.flags&128)!==0,m=d.rendering,m===null)if(l)Pl(d,!1);else{if(gt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=Nc(t),m!==null){for(n.flags|=128,Pl(d,!1),t=m.updateQueue,n.updateQueue=t,Cc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)fp(a,t),a=a.sibling;return ce(Mt,Mt.current&1|2),n.child}t=t.sibling}d.tail!==null&&hn()>Mc&&(n.flags|=128,l=!0,Pl(d,!1),n.lanes=4194304)}else{if(!l)if(t=Nc(m),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Cc(n,t),Pl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!Ke)return ft(n),null}else 2*hn()-d.renderingStartTime>Mc&&a!==536870912&&(n.flags|=128,l=!0,Pl(d,!1),n.lanes=4194304);d.isBackwards?(m.sibling=n.child,n.child=m):(t=d.last,t!==null?t.sibling=m:n.child=m,d.last=m)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=hn(),n.sibling=null,t=Mt.current,ce(Mt,l?t&1|2:t&1),n):(ft(n),null);case 22:case 23:return Ps(n),Bh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ft(n),n.subtreeFlags&6&&(n.flags|=8192)):ft(n),a=n.updateQueue,a!==null&&Cc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&he(wa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ks(It),ft(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function Rx(t,n){switch(Sh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ks(It),je(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return zt(n),null;case 13:if(Ps(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));xl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return he(Mt),null;case 4:return je(),null;case 10:return ks(n.type),null;case 22:case 23:return Ps(n),Bh(),t!==null&&he(wa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ks(It),null;case 25:return null;default:return null}}function Bg(t,n){switch(Sh(n),n.tag){case 3:ks(It),je();break;case 26:case 27:case 5:zt(n);break;case 4:je();break;case 13:Ps(n);break;case 19:he(Mt);break;case 10:ks(n.type);break;case 22:case 23:Ps(n),Bh(),t!==null&&he(wa);break;case 24:ks(It)}}function Ul(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var m=a.create,b=a.inst;l=m(),b.destroy=l}a=a.next}while(a!==d)}}catch(x){at(n,n.return,x)}}function Ei(t,n,a){try{var l=n.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var m=d.next;l=m;do{if((l.tag&t)===t){var b=l.inst,x=b.destroy;if(x!==void 0){b.destroy=void 0,d=n;var I=a,H=x;try{H()}catch(X){at(d,I,X)}}}l=l.next}while(l!==m)}}catch(X){at(n,n.return,X)}}function zg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{jp(n,a)}catch(l){at(t,t.return,l)}}}function qg(t,n,a){a.props=Ra(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){at(t,n,l)}}function Bl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){at(t,n,d)}}function ds(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){at(t,n,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){at(t,n,d)}else a.current=null}function Hg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){at(t,t.return,d)}}function md(t,n,a){try{var l=t.stateNode;Xx(l,t.type,a,n),l[qt]=n}catch(d){at(t,t.return,d)}}function Fg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ri(t.type)||t.tag===4}function pd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ri(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gd(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=qc));else if(l!==4&&(l===27&&Ri(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(gd(t,n,a),t=t.sibling;t!==null;)gd(t,n,a),t=t.sibling}function Dc(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Ri(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Dc(t,n,a),t=t.sibling;t!==null;)Dc(t,n,a),t=t.sibling}function Gg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);Gt(n,l,a),n[yt]=t,n[qt]=a}catch(m){at(t,t.return,m)}}var zs=!1,xt=!1,vd=!1,Qg=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function Cx(t,n){if(t=t.containerInfo,zd=Kc,t=sp(t),ph(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var b=0,x=-1,I=-1,H=0,X=0,te=t,F=null;t:for(;;){for(var G;te!==a||d!==0&&te.nodeType!==3||(x=b+d),te!==m||l!==0&&te.nodeType!==3||(I=b+l),te.nodeType===3&&(b+=te.nodeValue.length),(G=te.firstChild)!==null;)F=te,te=G;for(;;){if(te===t)break t;if(F===a&&++H===d&&(x=b),F===m&&++X===l&&(I=b),(G=te.nextSibling)!==null)break;te=F,F=te.parentNode}te=G}a=x===-1||I===-1?null:{start:x,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(qd={focusedElem:t,selectionRange:a},Kc=!1,Pt=n;Pt!==null;)if(n=Pt,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Pt=t;else for(;Pt!==null;){switch(n=Pt,m=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=n,d=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Ae=Ra(a.type,d,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ae,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){at(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Gd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Pt=t;break}Pt=n.return}}function Yg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:xi(t,a),l&4&&Ul(5,a);break;case 1:if(xi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(b){at(a,a.return,b)}else{var d=Ra(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(d,n,t.__reactInternalSnapshotBeforeUpdate)}catch(b){at(a,a.return,b)}}l&64&&zg(a),l&512&&Bl(a,a.return);break;case 3:if(xi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{jp(t,n)}catch(b){at(a,a.return,b)}}break;case 27:n===null&&l&4&&Gg(a);case 26:case 5:xi(t,a),n===null&&l&4&&Hg(a),l&512&&Bl(a,a.return);break;case 12:xi(t,a);break;case 13:xi(t,a),l&4&&Xg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Ux.bind(null,a),sT(t,a))));break;case 22:if(l=a.memoizedState!==null||zs,!l){n=n!==null&&n.memoizedState!==null||xt,d=zs;var m=xt;zs=l,(xt=n)&&!m?Ti(t,a,(a.subtreeFlags&8772)!==0):xi(t,a),zs=d,xt=m}break;case 30:break;default:xi(t,a)}}function $g(t){var n=t.alternate;n!==null&&(t.alternate=null,$g(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Xa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ht=null,fn=!1;function qs(t,n,a){for(a=a.child;a!==null;)Kg(t,n,a),a=a.sibling}function Kg(t,n,a){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Js,a)}catch{}switch(a.tag){case 26:xt||ds(a,n),qs(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xt||ds(a,n);var l=ht,d=fn;Ri(a.type)&&(ht=a.stateNode,fn=!1),qs(t,n,a),Kl(a.stateNode),ht=l,fn=d;break;case 5:xt||ds(a,n);case 6:if(l=ht,d=fn,ht=null,qs(t,n,a),ht=l,fn=d,ht!==null)if(fn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(a.stateNode)}catch(m){at(a,n,m)}else try{ht.removeChild(a.stateNode)}catch(m){at(a,n,m)}break;case 18:ht!==null&&(fn?(t=ht,Lv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),so(t)):Lv(ht,a.stateNode));break;case 4:l=ht,d=fn,ht=a.stateNode.containerInfo,fn=!0,qs(t,n,a),ht=l,fn=d;break;case 0:case 11:case 14:case 15:xt||Ei(2,a,n),xt||Ei(4,a,n),qs(t,n,a);break;case 1:xt||(ds(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&qg(a,n,l)),qs(t,n,a);break;case 21:qs(t,n,a);break;case 22:xt=(l=xt)||a.memoizedState!==null,qs(t,n,a),xt=l;break;default:qs(t,n,a)}}function Xg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{so(t)}catch(a){at(n,n.return,a)}}function Dx(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Qg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Qg),n;default:throw Error(r(435,t.tag))}}function yd(t,n){var a=Dx(t);n.forEach(function(l){var d=Bx.bind(null,t,l);a.has(l)||(a.add(l),l.then(d,d))})}function Tn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],m=t,b=n,x=b;e:for(;x!==null;){switch(x.tag){case 27:if(Ri(x.type)){ht=x.stateNode,fn=!1;break e}break;case 5:ht=x.stateNode,fn=!1;break e;case 3:case 4:ht=x.stateNode.containerInfo,fn=!0;break e}x=x.return}if(ht===null)throw Error(r(160));Kg(m,b,d),ht=null,fn=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Zg(n,t),n=n.sibling}var Jn=null;function Zg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Tn(n,t),An(t),l&4&&(Ei(3,t,t.return),Ul(3,t),Ei(5,t,t.return));break;case 1:Tn(n,t),An(t),l&512&&(xt||a===null||ds(a,a.return)),l&64&&zs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=Jn;if(Tn(n,t),An(t),l&512&&(xt||a===null||ds(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":m=d.getElementsByTagName("title")[0],(!m||m[ii]||m[yt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(l),d.head.insertBefore(m,d.querySelector("head > title"))),Gt(m,l,a),m[yt]=t,_t(m),l=m;break e;case"link":var b=Gv("link","href",d).get(l+(a.href||""));if(b){for(var x=0;x<b.length;x++)if(m=b[x],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(x,1);break t}}m=d.createElement(l),Gt(m,l,a),d.head.appendChild(m);break;case"meta":if(b=Gv("meta","content",d).get(l+(a.content||""))){for(x=0;x<b.length;x++)if(m=b[x],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(x,1);break t}}m=d.createElement(l),Gt(m,l,a),d.head.appendChild(m);break;default:throw Error(r(468,l))}m[yt]=t,_t(m),l=m}t.stateNode=l}else Qv(d,t.type,t.stateNode);else t.stateNode=Fv(d,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?Qv(d,t.type,t.stateNode):Fv(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&md(t,t.memoizedProps,a.memoizedProps)}break;case 27:Tn(n,t),An(t),l&512&&(xt||a===null||ds(a,a.return)),a!==null&&l&4&&md(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Tn(n,t),An(t),l&512&&(xt||a===null||ds(a,a.return)),t.flags&32){d=t.stateNode;try{Vn(d,"")}catch(G){at(t,t.return,G)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,md(t,d,a!==null?a.memoizedProps:d)),l&1024&&(vd=!0);break;case 6:if(Tn(n,t),An(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(G){at(t,t.return,G)}}break;case 3:if(Qc=null,d=Jn,Jn=Fc(n.containerInfo),Tn(n,t),Jn=d,An(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{so(n.containerInfo)}catch(G){at(t,t.return,G)}vd&&(vd=!1,Jg(t));break;case 4:l=Jn,Jn=Fc(t.stateNode.containerInfo),Tn(n,t),An(t),Jn=l;break;case 12:Tn(n,t),An(t);break;case 13:Tn(n,t),An(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ad=hn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yd(t,l)));break;case 22:d=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,H=zs,X=xt;if(zs=H||d,xt=X||I,Tn(n,t),xt=X,zs=H,An(t),l&8192)e:for(n=t.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(a===null||I||zs||xt||Ca(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){I=a=n;try{if(m=I.stateNode,d)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{x=I.stateNode;var te=I.memoizedProps.style,F=te!=null&&te.hasOwnProperty("display")?te.display:null;x.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(G){at(I,I.return,G)}}}else if(n.tag===6){if(a===null){I=n;try{I.stateNode.nodeValue=d?"":I.memoizedProps}catch(G){at(I,I.return,G)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,yd(t,a))));break;case 19:Tn(n,t),An(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yd(t,l)));break;case 30:break;case 21:break;default:Tn(n,t),An(t)}}function An(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Fg(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var d=a.stateNode,m=pd(t);Dc(t,m,d);break;case 5:var b=a.stateNode;a.flags&32&&(Vn(b,""),a.flags&=-33);var x=pd(t);Dc(t,x,b);break;case 3:case 4:var I=a.stateNode.containerInfo,H=pd(t);gd(t,H,I);break;default:throw Error(r(161))}}catch(X){at(t,t.return,X)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Jg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Jg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function xi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Yg(t,n.alternate,n),n=n.sibling}function Ca(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ei(4,n,n.return),Ca(n);break;case 1:ds(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&qg(n,n.return,a),Ca(n);break;case 27:Kl(n.stateNode);case 26:case 5:ds(n,n.return),Ca(n);break;case 22:n.memoizedState===null&&Ca(n);break;case 30:Ca(n);break;default:Ca(n)}t=t.sibling}}function Ti(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,d=t,m=n,b=m.flags;switch(m.tag){case 0:case 11:case 15:Ti(d,m,a),Ul(4,m);break;case 1:if(Ti(d,m,a),l=m,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(H){at(l,l.return,H)}if(l=m,d=l.updateQueue,d!==null){var x=l.stateNode;try{var I=d.shared.hiddenCallbacks;if(I!==null)for(d.shared.hiddenCallbacks=null,d=0;d<I.length;d++)wp(I[d],x)}catch(H){at(l,l.return,H)}}a&&b&64&&zg(m),Bl(m,m.return);break;case 27:Gg(m);case 26:case 5:Ti(d,m,a),a&&l===null&&b&4&&Hg(m),Bl(m,m.return);break;case 12:Ti(d,m,a);break;case 13:Ti(d,m,a),a&&b&4&&Xg(d,m);break;case 22:m.memoizedState===null&&Ti(d,m,a),Bl(m,m.return);break;case 30:break;default:Ti(d,m,a)}n=n.sibling}}function _d(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Nl(a))}function bd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Nl(t))}function fs(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Wg(t,n,a,l),n=n.sibling}function Wg(t,n,a,l){var d=n.flags;switch(n.tag){case 0:case 11:case 15:fs(t,n,a,l),d&2048&&Ul(9,n);break;case 1:fs(t,n,a,l);break;case 3:fs(t,n,a,l),d&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Nl(t)));break;case 12:if(d&2048){fs(t,n,a,l),t=n.stateNode;try{var m=n.memoizedProps,b=m.id,x=m.onPostCommit;typeof x=="function"&&x(b,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){at(n,n.return,I)}}else fs(t,n,a,l);break;case 13:fs(t,n,a,l);break;case 23:break;case 22:m=n.stateNode,b=n.alternate,n.memoizedState!==null?m._visibility&2?fs(t,n,a,l):zl(t,n):m._visibility&2?fs(t,n,a,l):(m._visibility|=2,Tr(t,n,a,l,(n.subtreeFlags&10256)!==0)),d&2048&&_d(b,n);break;case 24:fs(t,n,a,l),d&2048&&bd(n.alternate,n);break;default:fs(t,n,a,l)}}function Tr(t,n,a,l,d){for(d=d&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var m=t,b=n,x=a,I=l,H=b.flags;switch(b.tag){case 0:case 11:case 15:Tr(m,b,x,I,d),Ul(8,b);break;case 23:break;case 22:var X=b.stateNode;b.memoizedState!==null?X._visibility&2?Tr(m,b,x,I,d):zl(m,b):(X._visibility|=2,Tr(m,b,x,I,d)),d&&H&2048&&_d(b.alternate,b);break;case 24:Tr(m,b,x,I,d),d&&H&2048&&bd(b.alternate,b);break;default:Tr(m,b,x,I,d)}n=n.sibling}}function zl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,d=l.flags;switch(l.tag){case 22:zl(a,l),d&2048&&_d(l.alternate,l);break;case 24:zl(a,l),d&2048&&bd(l.alternate,l);break;default:zl(a,l)}n=n.sibling}}var ql=8192;function Ar(t){if(t.subtreeFlags&ql)for(t=t.child;t!==null;)ev(t),t=t.sibling}function ev(t){switch(t.tag){case 26:Ar(t),t.flags&ql&&t.memoizedState!==null&&gT(Jn,t.memoizedState,t.memoizedProps);break;case 5:Ar(t);break;case 3:case 4:var n=Jn;Jn=Fc(t.stateNode.containerInfo),Ar(t),Jn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=ql,ql=16777216,Ar(t),ql=n):Ar(t));break;default:Ar(t)}}function tv(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Hl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Pt=l,sv(l,t)}tv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)nv(t),t=t.sibling}function nv(t){switch(t.tag){case 0:case 11:case 15:Hl(t),t.flags&2048&&Ei(9,t,t.return);break;case 3:Hl(t);break;case 12:Hl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Ic(t)):Hl(t);break;default:Hl(t)}}function Ic(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Pt=l,sv(l,t)}tv(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ei(8,n,n.return),Ic(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Ic(n));break;default:Ic(n)}t=t.sibling}}function sv(t,n){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:Ei(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Nl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pt=l;else e:for(a=t;Pt!==null;){l=Pt;var d=l.sibling,m=l.return;if($g(l),l===a){Pt=null;break e}if(d!==null){d.return=m,Pt=d;break e}Pt=m}}}var Ix={getCacheForType:function(t){var n=Zt(It),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},Mx=typeof WeakMap=="function"?WeakMap:Map,We=0,ot=null,Le=null,Fe=0,et=0,Nn=null,Ai=!1,Nr=!1,Ed=!1,Hs=0,gt=0,Ni=0,Da=0,xd=0,zn=0,Sr=0,Fl=null,mn=null,Td=!1,Ad=0,Mc=1/0,Vc=null,Si=null,Ft=0,wi=null,wr=null,jr=0,Nd=0,Sd=null,iv=null,Gl=0,wd=null;function Sn(){if((We&2)!==0&&Fe!==0)return Fe&-Fe;if(Y.T!==null){var t=pr;return t!==0?t:Vd()}return Ns()}function av(){zn===0&&(zn=(Fe&536870912)===0||Ke?tl():536870912);var t=Bn.current;return t!==null&&(t.flags|=32),zn}function wn(t,n,a){(t===ot&&(et===2||et===9)||t.cancelPendingCommit!==null)&&(Rr(t,0),ji(t,Fe,zn,!1)),vt(t,a),((We&2)===0||t!==ot)&&(t===ot&&((We&2)===0&&(Da|=a),gt===4&&ji(t,Fe,zn,!1)),ms(t))}function rv(t,n,a){if((We&6)!==0)throw Error(r(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||ei(t,n),d=l?kx(t,n):Cd(t,n,!0),m=l;do{if(d===0){Nr&&!l&&ji(t,n,0,!1);break}else{if(a=t.current.alternate,m&&!Vx(a)){d=Cd(t,n,!1),m=!1;continue}if(d===2){if(m=n,t.errorRecoveryDisabledLanes&m)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;e:{var x=t;d=Fl;var I=x.current.memoizedState.isDehydrated;if(I&&(Rr(x,b).flags|=256),b=Cd(x,b,!1),b!==2){if(Ed&&!I){x.errorRecoveryDisabledLanes|=m,Da|=m,d=4;break e}m=mn,mn=d,m!==null&&(mn===null?mn=m:mn.push.apply(mn,m))}d=b}if(m=!1,d!==2)continue}}if(d===1){Rr(t,0),ji(t,n,0,!0);break}e:{switch(l=t,m=d,m){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:ji(l,n,zn,!Ai);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(d=Ad+300-hn(),10<d)){if(ji(l,n,zn,!Ai),In(l,0,!0)!==0)break e;l.timeoutHandle=Ov(lv.bind(null,l,a,mn,Vc,Td,n,zn,Da,Sr,Ai,m,2,-0,0),d);break e}lv(l,a,mn,Vc,Td,n,zn,Da,Sr,Ai,m,0,-0,0)}}break}while(!0);ms(t)}function lv(t,n,a,l,d,m,b,x,I,H,X,te,F,G){if(t.timeoutHandle=-1,te=n.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(Jl={stylesheets:null,count:0,unsuspend:pT},ev(n),te=vT(),te!==null)){t.cancelPendingCommit=te(mv.bind(null,t,n,m,a,l,d,b,x,I,X,1,F,G)),ji(t,m,b,!H);return}mv(t,n,m,a,l,d,b,x,I)}function Vx(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],m=d.getSnapshot;d=d.value;try{if(!En(m(),d))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ji(t,n,a,l){n&=~xd,n&=~Da,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var d=n;0<d;){var m=31-sn(d),b=1<<m;l[m]=-1,d&=~b}a!==0&&ni(t,a,n)}function Oc(){return(We&6)===0?(Ql(0),!1):!0}function jd(){if(Le!==null){if(et===0)var t=Le.return;else t=Le,Os=Na=null,Gh(t),Er=null,kl=0,t=Le;for(;t!==null;)Bg(t.alternate,t),t=t.return;Le=null}}function Rr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Jx(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),jd(),ot=t,Le=a=Is(t.current,null),Fe=n,et=0,Nn=null,Ai=!1,Nr=ei(t,n),Ed=!1,Sr=zn=xd=Da=Ni=gt=0,mn=Fl=null,Td=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var d=31-sn(l),m=1<<d;n|=t[d],l&=~m}return Hs=n,sc(),a}function ov(t,n){Me=null,Y.H=xc,n===wl||n===dc?(n=Np(),et=3):n===xp?(n=Np(),et=4):et=n===Sg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Nn=n,Le===null&&(gt=1,wc(t,kn(n,t.current)))}function cv(){var t=Y.H;return Y.H=xc,t===null?xc:t}function uv(){var t=Y.A;return Y.A=Ix,t}function Rd(){gt=4,Ai||(Fe&4194048)!==Fe&&Bn.current!==null||(Nr=!0),(Ni&134217727)===0&&(Da&134217727)===0||ot===null||ji(ot,Fe,zn,!1)}function Cd(t,n,a){var l=We;We|=2;var d=cv(),m=uv();(ot!==t||Fe!==n)&&(Vc=null,Rr(t,n)),n=!1;var b=gt;e:do try{if(et!==0&&Le!==null){var x=Le,I=Nn;switch(et){case 8:jd(),b=6;break e;case 3:case 2:case 9:case 6:Bn.current===null&&(n=!0);var H=et;if(et=0,Nn=null,Cr(t,x,I,H),a&&Nr){b=0;break e}break;default:H=et,et=0,Nn=null,Cr(t,x,I,H)}}Ox(),b=gt;break}catch(X){ov(t,X)}while(!0);return n&&t.shellSuspendCounter++,Os=Na=null,We=l,Y.H=d,Y.A=m,Le===null&&(ot=null,Fe=0,sc()),b}function Ox(){for(;Le!==null;)hv(Le)}function kx(t,n){var a=We;We|=2;var l=cv(),d=uv();ot!==t||Fe!==n?(Vc=null,Mc=hn()+500,Rr(t,n)):Nr=ei(t,n);e:do try{if(et!==0&&Le!==null){n=Le;var m=Nn;t:switch(et){case 1:et=0,Nn=null,Cr(t,n,m,1);break;case 2:case 9:if(Tp(m)){et=0,Nn=null,dv(n);break}n=function(){et!==2&&et!==9||ot!==t||(et=7),ms(t)},m.then(n,n);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Tp(m)?(et=0,Nn=null,dv(n)):(et=0,Nn=null,Cr(t,n,m,7));break;case 5:var b=null;switch(Le.tag){case 26:b=Le.memoizedState;case 5:case 27:var x=Le;if(!b||Yv(b)){et=0,Nn=null;var I=x.sibling;if(I!==null)Le=I;else{var H=x.return;H!==null?(Le=H,kc(H)):Le=null}break t}}et=0,Nn=null,Cr(t,n,m,5);break;case 6:et=0,Nn=null,Cr(t,n,m,6);break;case 8:jd(),gt=6;break e;default:throw Error(r(462))}}Lx();break}catch(X){ov(t,X)}while(!0);return Os=Na=null,Y.H=l,Y.A=d,We=a,Le!==null?0:(ot=null,Fe=0,sc(),gt)}function Lx(){for(;Le!==null&&!ih();)hv(Le)}function hv(t){var n=Pg(t.alternate,t,Hs);t.memoizedProps=t.pendingProps,n===null?kc(t):Le=n}function dv(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Ig(a,n,n.pendingProps,n.type,void 0,Fe);break;case 11:n=Ig(a,n,n.pendingProps,n.type.render,n.ref,Fe);break;case 5:Gh(n);default:Bg(a,n),n=Le=fp(n,Hs),n=Pg(a,n,Hs)}t.memoizedProps=t.pendingProps,n===null?kc(t):Le=n}function Cr(t,n,a,l){Os=Na=null,Gh(n),Er=null,kl=0;var d=n.return;try{if(Sx(t,d,n,a,Fe)){gt=1,wc(t,kn(a,t.current)),Le=null;return}}catch(m){if(d!==null)throw Le=d,m;gt=1,wc(t,kn(a,t.current)),Le=null;return}n.flags&32768?(Ke||l===1?t=!0:Nr||(Fe&536870912)!==0?t=!1:(Ai=t=!0,(l===2||l===9||l===3||l===6)&&(l=Bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),fv(n,t)):kc(n)}function kc(t){var n=t;do{if((n.flags&32768)!==0){fv(n,Ai);return}t=n.return;var a=jx(n.alternate,n,Hs);if(a!==null){Le=a;return}if(n=n.sibling,n!==null){Le=n;return}Le=n=t}while(n!==null);gt===0&&(gt=5)}function fv(t,n){do{var a=Rx(t.alternate,t);if(a!==null){a.flags&=32767,Le=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Le=t;return}Le=t=a}while(t!==null);gt=6,Le=null}function mv(t,n,a,l,d,m,b,x,I){t.cancelPendingCommit=null;do Lc();while(Ft!==0);if((We&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(m=n.lanes|n.childLanes,m|=bh,Bo(t,a,m,b,x,I),t===ot&&(Le=ot=null,Fe=0),wr=n,wi=t,jr=a,Nd=m,Sd=d,iv=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,zx(As,function(){return _v(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,d=ue.p,ue.p=2,b=We,We|=4;try{Cx(t,n,a)}finally{We=b,ue.p=d,Y.T=l}}Ft=1,pv(),gv(),vv()}}function pv(){if(Ft===1){Ft=0;var t=wi,n=wr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=ue.p;ue.p=2;var d=We;We|=4;try{Zg(n,t);var m=qd,b=sp(t.containerInfo),x=m.focusedElem,I=m.selectionRange;if(b!==x&&x&&x.ownerDocument&&np(x.ownerDocument.documentElement,x)){if(I!==null&&ph(x)){var H=I.start,X=I.end;if(X===void 0&&(X=H),"selectionStart"in x)x.selectionStart=H,x.selectionEnd=Math.min(X,x.value.length);else{var te=x.ownerDocument||document,F=te&&te.defaultView||window;if(F.getSelection){var G=F.getSelection(),Ae=x.textContent.length,Ee=Math.min(I.start,Ae),it=I.end===void 0?Ee:Math.min(I.end,Ae);!G.extend&&Ee>it&&(b=it,it=Ee,Ee=b);var L=tp(x,Ee),O=tp(x,it);if(L&&O&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==O.node||G.focusOffset!==O.offset)){var B=te.createRange();B.setStart(L.node,L.offset),G.removeAllRanges(),Ee>it?(G.addRange(B),G.extend(O.node,O.offset)):(B.setEnd(O.node,O.offset),G.addRange(B))}}}}for(te=[],G=x;G=G.parentNode;)G.nodeType===1&&te.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<te.length;x++){var J=te[x];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Kc=!!zd,qd=zd=null}finally{We=d,ue.p=l,Y.T=a}}t.current=n,Ft=2}}function gv(){if(Ft===2){Ft=0;var t=wi,n=wr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=ue.p;ue.p=2;var d=We;We|=4;try{Yg(t,n.alternate,n)}finally{We=d,ue.p=l,Y.T=a}}Ft=3}}function vv(){if(Ft===4||Ft===3){Ft=0,Wr();var t=wi,n=wr,a=jr,l=iv;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ft=5:(Ft=0,wr=wi=null,yv(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Si=null),sl(a),n=n.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Js,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Y.T,d=ue.p,ue.p=2,Y.T=null;try{for(var m=t.onRecoverableError,b=0;b<l.length;b++){var x=l[b];m(x.value,{componentStack:x.stack})}}finally{Y.T=n,ue.p=d}}(jr&3)!==0&&Lc(),ms(t),d=t.pendingLanes,(a&4194090)!==0&&(d&42)!==0?t===wd?Gl++:(Gl=0,wd=t):Gl=0,Ql(0)}}function yv(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Nl(n)))}function Lc(t){return pv(),gv(),vv(),_v()}function _v(){if(Ft!==5)return!1;var t=wi,n=Nd;Nd=0;var a=sl(jr),l=Y.T,d=ue.p;try{ue.p=32>a?32:a,Y.T=null,a=Sd,Sd=null;var m=wi,b=jr;if(Ft=0,wr=wi=null,jr=0,(We&6)!==0)throw Error(r(331));var x=We;if(We|=4,nv(m.current),Wg(m,m.current,b,a),We=x,Ql(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Js,m)}catch{}return!0}finally{ue.p=d,Y.T=l,yv(t,n)}}function bv(t,n,a){n=kn(a,n),n=ad(t.stateNode,n,2),t=vi(t,n,2),t!==null&&(vt(t,2),ms(t))}function at(t,n,a){if(t.tag===3)bv(t,t,a);else for(;n!==null;){if(n.tag===3){bv(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Si===null||!Si.has(l))){t=kn(a,t),a=Ag(2),l=vi(n,a,2),l!==null&&(Ng(a,l,n,t),vt(l,2),ms(l));break}}n=n.return}}function Dd(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Mx;var d=new Set;l.set(n,d)}else d=l.get(n),d===void 0&&(d=new Set,l.set(n,d));d.has(a)||(Ed=!0,d.add(a),t=Px.bind(null,t,n,a),n.then(t,t))}function Px(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ot===t&&(Fe&a)===a&&(gt===4||gt===3&&(Fe&62914560)===Fe&&300>hn()-Ad?(We&2)===0&&Rr(t,0):xd|=a,Sr===Fe&&(Sr=0)),ms(t)}function Ev(t,n){n===0&&(n=ti()),t=hr(t,n),t!==null&&(vt(t,n),ms(t))}function Ux(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Ev(t,a)}function Bx(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Ev(t,a)}function zx(t,n){return Xi(t,n)}var Pc=null,Dr=null,Id=!1,Uc=!1,Md=!1,Ia=0;function ms(t){t!==Dr&&t.next===null&&(Dr===null?Pc=Dr=t:Dr=Dr.next=t),Uc=!0,Id||(Id=!0,Hx())}function Ql(t,n){if(!Md&&Uc){Md=!0;do for(var a=!1,l=Pc;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var m=0;else{var b=l.suspendedLanes,x=l.pingedLanes;m=(1<<31-sn(42|t)+1)-1,m&=d&~(b&~x),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,Nv(l,m))}else m=Fe,m=In(l,l===ot?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||ei(l,m)||(a=!0,Nv(l,m));l=l.next}while(a);Md=!1}}function qx(){xv()}function xv(){Uc=Id=!1;var t=0;Ia!==0&&(Zx()&&(t=Ia),Ia=0);for(var n=hn(),a=null,l=Pc;l!==null;){var d=l.next,m=Tv(l,n);m===0?(l.next=null,a===null?Pc=d:a.next=d,d===null&&(Dr=a)):(a=l,(t!==0||(m&3)!==0)&&(Uc=!0)),l=d}Ql(t)}function Tv(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var b=31-sn(m),x=1<<b,I=d[b];I===-1?((x&a)===0||(x&l)!==0)&&(d[b]=$a(x,n)):I<=n&&(t.expiredLanes|=x),m&=~x}if(n=ot,a=Fe,a=In(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(et===2||et===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ya(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ei(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Ya(l),sl(a)){case 2:case 8:a=Ot;break;case 32:a=As;break;case 268435456:a=el;break;default:a=As}return l=Av.bind(null,t),a=Xi(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Ya(l),t.callbackPriority=2,t.callbackNode=null,2}function Av(t,n){if(Ft!==0&&Ft!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Lc()&&t.callbackNode!==a)return null;var l=Fe;return l=In(t,t===ot?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(rv(t,l,n),Tv(t,hn()),t.callbackNode!=null&&t.callbackNode===a?Av.bind(null,t):null)}function Nv(t,n){if(Lc())return null;rv(t,n,!0)}function Hx(){Wx(function(){(We&6)!==0?Xi(Ct,qx):xv()})}function Vd(){return Ia===0&&(Ia=tl()),Ia}function Sv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Yn(""+t)}function wv(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function Fx(t,n,a,l,d){if(n==="submit"&&a&&a.stateNode===d){var m=Sv((d[qt]||null).action),b=l.submitter;b&&(n=(n=b[qt]||null)?Sv(n.formAction):b.getAttribute("formAction"),n!==null&&(m=n,b=null));var x=new ha("action","action",null,l,d);t.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ia!==0){var I=b?wv(d,b):new FormData(d);ed(a,{pending:!0,data:I,method:d.method,action:m},null,I)}}else typeof m=="function"&&(x.preventDefault(),I=b?wv(d,b):new FormData(d),ed(a,{pending:!0,data:I,method:d.method,action:m},m,I))},currentTarget:d}]})}}for(var Od=0;Od<_h.length;Od++){var kd=_h[Od],Gx=kd.toLowerCase(),Qx=kd[0].toUpperCase()+kd.slice(1);Zn(Gx,"on"+Qx)}Zn(rp,"onAnimationEnd"),Zn(lp,"onAnimationIteration"),Zn(op,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(cx,"onTransitionRun"),Zn(ux,"onTransitionStart"),Zn(hx,"onTransitionCancel"),Zn(cp,"onTransitionEnd"),rs("onMouseEnter",["mouseout","mouseover"]),rs("onMouseLeave",["mouseout","mouseover"]),rs("onPointerEnter",["pointerout","pointerover"]),rs("onPointerLeave",["pointerout","pointerover"]),as("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),as("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),as("onBeforeInput",["compositionend","keypress","textInput","paste"]),as("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),as("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),as("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yl));function jv(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var m=void 0;if(n)for(var b=l.length-1;0<=b;b--){var x=l[b],I=x.instance,H=x.currentTarget;if(x=x.listener,I!==m&&d.isPropagationStopped())break e;m=x,d.currentTarget=H;try{m(d)}catch(X){Sc(X)}d.currentTarget=null,m=I}else for(b=0;b<l.length;b++){if(x=l[b],I=x.instance,H=x.currentTarget,x=x.listener,I!==m&&d.isPropagationStopped())break e;m=x,d.currentTarget=H;try{m(d)}catch(X){Sc(X)}d.currentTarget=null,m=I}}}}function Pe(t,n){var a=n[Ji];a===void 0&&(a=n[Ji]=new Set);var l=t+"__bubble";a.has(l)||(Rv(n,t,2,!1),a.add(l))}function Ld(t,n,a){var l=0;n&&(l|=4),Rv(a,t,l,n)}var Bc="_reactListening"+Math.random().toString(36).slice(2);function Pd(t){if(!t[Bc]){t[Bc]=!0,zo.forEach(function(a){a!=="selectionchange"&&(Yx.has(a)||Ld(a,!1,t),Ld(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Bc]||(n[Bc]=!0,Ld("selectionchange",!1,n))}}function Rv(t,n,a,l){switch(Wv(n)){case 2:var d=bT;break;case 8:d=ET;break;default:d=Jd}a=d.bind(null,n,a,t),d=void 0,!Cs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(n,a,{capture:!0,passive:d}):t.addEventListener(n,a,!0):d!==void 0?t.addEventListener(n,a,{passive:d}):t.addEventListener(n,a,!1)}function Ud(t,n,a,l,d){var m=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var x=l.stateNode.containerInfo;if(x===d)break;if(b===4)for(b=l.return;b!==null;){var I=b.tag;if((I===3||I===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;x!==null;){if(b=ss(x),b===null)return;if(I=b.tag,I===5||I===6||I===26||I===27){l=m=b;continue e}x=x.parentNode}}l=l.return}oa(function(){var H=m,X=ul(a),te=[];e:{var F=up.get(t);if(F!==void 0){var G=ha,Ae=t;switch(t){case"keypress":if(ca(a)===0)break e;case"keydown":case"keyup":G=lr;break;case"focusin":Ae="focus",G=ir;break;case"focusout":Ae="blur",G=ir;break;case"beforeblur":case"afterblur":G=ir;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=ga;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=$o;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=fi;break;case rp:case lp:case op:G=dl;break;case cp:G=p;break;case"scroll":case"scrollend":G=fa;break;case"wheel":G=T;break;case"copy":case"cut":case"paste":G=Xo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=pl;break;case"toggle":case"beforetoggle":G=Q}var Ee=(n&4)!==0,it=!Ee&&(t==="scroll"||t==="scrollend"),L=Ee?F!==null?F+"Capture":null:F;Ee=[];for(var O=H,B;O!==null;){var J=O;if(B=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||B===null||L===null||(J=hi(O,L),J!=null&&Ee.push($l(O,J,B))),it)break;O=O.return}0<Ee.length&&(F=new G(F,Ae,null,a,X),te.push({event:F,listeners:Ee}))}}if((n&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",F&&a!==cl&&(Ae=a.relatedTarget||a.fromElement)&&(ss(Ae)||Ae[Ss]))break e;if((G||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,G?(Ae=a.relatedTarget||a.toElement,G=H,Ae=Ae?ss(Ae):null,Ae!==null&&(it=u(Ae),Ee=Ae.tag,Ae!==it||Ee!==5&&Ee!==27&&Ee!==6)&&(Ae=null)):(G=null,Ae=H),G!==Ae)){if(Ee=ga,J="onMouseLeave",L="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=pl,J="onPointerLeave",L="onPointerEnter",O="pointer"),it=G==null?F:ai(G),B=Ae==null?F:ai(Ae),F=new Ee(J,O+"leave",G,a,X),F.target=it,F.relatedTarget=B,J=null,ss(X)===H&&(Ee=new Ee(L,O+"enter",Ae,a,X),Ee.target=B,Ee.relatedTarget=it,J=Ee),it=J,G&&Ae)t:{for(Ee=G,L=Ae,O=0,B=Ee;B;B=Ir(B))O++;for(B=0,J=L;J;J=Ir(J))B++;for(;0<O-B;)Ee=Ir(Ee),O--;for(;0<B-O;)L=Ir(L),B--;for(;O--;){if(Ee===L||L!==null&&Ee===L.alternate)break t;Ee=Ir(Ee),L=Ir(L)}Ee=null}else Ee=null;G!==null&&Cv(te,F,G,Ee,!1),Ae!==null&&it!==null&&Cv(te,it,Ae,Ee,!0)}}e:{if(F=H?ai(H):window,G=F.nodeName&&F.nodeName.toLowerCase(),G==="select"||G==="input"&&F.type==="file")var pe=Km;else if(Ym(F))if(Xm)pe=rx;else{pe=ix;var Oe=sx}else G=F.nodeName,!G||G.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&tr(H.elementType)&&(pe=Km):pe=ax;if(pe&&(pe=pe(t,H))){$m(te,pe,a,X);break e}Oe&&Oe(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&rl(F,"number",F.value)}switch(Oe=H?ai(H):window,t){case"focusin":(Ym(Oe)||Oe.contentEditable==="true")&&(or=Oe,gh=H,bl=null);break;case"focusout":bl=gh=or=null;break;case"mousedown":vh=!0;break;case"contextmenu":case"mouseup":case"dragend":vh=!1,ip(te,a,X);break;case"selectionchange":if(ox)break;case"keydown":case"keyup":ip(te,a,X)}var _e;if(Re)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Xn?$n(t,a)&&(xe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(bt&&a.locale!=="ko"&&(Xn||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Xn&&(_e=Yo()):(On=X,lt="value"in On?On.value:On.textContent,Xn=!0)),Oe=zc(H,xe),0<Oe.length&&(xe=new ml(xe,t,null,a,X),te.push({event:xe,listeners:Oe}),_e?xe.data=_e:(_e=Kn(a),_e!==null&&(xe.data=_e)))),(_e=Je?gl(t,a):ex(t,a))&&(xe=zc(H,"onBeforeInput"),0<xe.length&&(Oe=new ml("onBeforeInput","beforeinput",null,a,X),te.push({event:Oe,listeners:xe}),Oe.data=_e)),Fx(te,t,H,a,X)}jv(te,n)})}function $l(t,n,a){return{instance:t,listener:n,currentTarget:a}}function zc(t,n){for(var a=n+"Capture",l=[];t!==null;){var d=t,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=hi(t,a),d!=null&&l.unshift($l(t,d,m)),d=hi(t,n),d!=null&&l.push($l(t,d,m))),t.tag===3)return l;t=t.return}return[]}function Ir(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Cv(t,n,a,l,d){for(var m=n._reactName,b=[];a!==null&&a!==l;){var x=a,I=x.alternate,H=x.stateNode;if(x=x.tag,I!==null&&I===l)break;x!==5&&x!==26&&x!==27||H===null||(I=H,d?(H=hi(a,m),H!=null&&b.unshift($l(a,H,I))):d||(H=hi(a,m),H!=null&&b.push($l(a,H,I)))),a=a.return}b.length!==0&&t.push({event:n,listeners:b})}var $x=/\r\n?/g,Kx=/\u0000|\uFFFD/g;function Dv(t){return(typeof t=="string"?t:""+t).replace($x,`
`).replace(Kx,"")}function Iv(t,n){return n=Dv(n),Dv(t)===n}function qc(){}function st(t,n,a,l,d,m){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Vn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Vn(t,""+l);break;case"className":sa(t,"class",l);break;case"tabIndex":sa(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":sa(t,a,l);break;case"style":ol(t,l,m);break;case"data":if(n!=="object"){sa(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Yn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(n!=="input"&&st(t,n,"name",d.name,d,null),st(t,n,"formEncType",d.formEncType,d,null),st(t,n,"formMethod",d.formMethod,d,null),st(t,n,"formTarget",d.formTarget,d,null)):(st(t,n,"encType",d.encType,d,null),st(t,n,"method",d.method,d,null),st(t,n,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Yn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=qc);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Yn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),na(t,"popover",l);break;case"xlinkActuate":Mn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Mn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Mn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Mn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Mn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Mn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Mn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Mn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Mn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":na(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Fo.get(a)||a,na(t,a,l))}}function Bd(t,n,a,l,d,m){switch(a){case"style":ol(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Vn(t,l):(typeof l=="number"||typeof l=="bigint")&&Vn(t,""+l);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=qc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ea.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),n=a.slice(2,d?a.length-7:void 0),m=t[qt]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(n,m,d),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):na(t,a,l)}}}function Gt(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var l=!1,d=!1,m;for(m in a)if(a.hasOwnProperty(m)){var b=a[m];if(b!=null)switch(m){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:st(t,n,m,b,a,null)}}d&&st(t,n,"srcSet",a.srcSet,a,null),l&&st(t,n,"src",a.src,a,null);return;case"input":Pe("invalid",t);var x=m=b=d=null,I=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":d=X;break;case"type":b=X;break;case"checked":I=X;break;case"defaultChecked":H=X;break;case"value":m=X;break;case"defaultValue":x=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,n));break;default:st(t,n,l,X,a,null)}}al(t,m,x,I,H,b,d,!1),oi(t);return;case"select":Pe("invalid",t),l=b=m=null;for(d in a)if(a.hasOwnProperty(d)&&(x=a[d],x!=null))switch(d){case"value":m=x;break;case"defaultValue":b=x;break;case"multiple":l=x;default:st(t,n,d,x,a,null)}n=m,a=b,t.multiple=!!l,n!=null?ci(t,!!l,n,!1):a!=null&&ci(t,!!l,a,!0);return;case"textarea":Pe("invalid",t),m=d=l=null;for(b in a)if(a.hasOwnProperty(b)&&(x=a[b],x!=null))switch(b){case"value":l=x;break;case"defaultValue":d=x;break;case"children":m=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:st(t,n,b,x,a,null)}Ho(t,l,d,m),oi(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:st(t,n,I,l,a,null)}return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(l=0;l<Yl.length;l++)Pe(Yl[l],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:st(t,n,H,l,a,null)}return;default:if(tr(n)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Bd(t,n,X,l,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null&&st(t,n,x,l,a,null))}function Xx(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,b=null,x=null,I=null,H=null,X=null;for(G in a){var te=a[G];if(a.hasOwnProperty(G)&&te!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":I=te;default:l.hasOwnProperty(G)||st(t,n,G,null,l,te)}}for(var F in l){var G=l[F];if(te=a[F],l.hasOwnProperty(F)&&(G!=null||te!=null))switch(F){case"type":m=G;break;case"name":d=G;break;case"checked":H=G;break;case"defaultChecked":X=G;break;case"value":b=G;break;case"defaultValue":x=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:G!==te&&st(t,n,F,G,l,te)}}il(t,b,x,I,H,X,m,d);return;case"select":G=b=x=F=null;for(m in a)if(I=a[m],a.hasOwnProperty(m)&&I!=null)switch(m){case"value":break;case"multiple":G=I;default:l.hasOwnProperty(m)||st(t,n,m,null,l,I)}for(d in l)if(m=l[d],I=a[d],l.hasOwnProperty(d)&&(m!=null||I!=null))switch(d){case"value":F=m;break;case"defaultValue":x=m;break;case"multiple":b=m;default:m!==I&&st(t,n,d,m,l,I)}n=x,a=b,l=G,F!=null?ci(t,!!a,F,!1):!!l!=!!a&&(n!=null?ci(t,!!a,n,!0):ci(t,!!a,a?[]:"",!1));return;case"textarea":G=F=null;for(x in a)if(d=a[x],a.hasOwnProperty(x)&&d!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:st(t,n,x,null,l,d)}for(b in l)if(d=l[b],m=a[b],l.hasOwnProperty(b)&&(d!=null||m!=null))switch(b){case"value":F=d;break;case"defaultValue":G=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==m&&st(t,n,b,d,l,m)}qo(t,F,G);return;case"option":for(var Ae in a)if(F=a[Ae],a.hasOwnProperty(Ae)&&F!=null&&!l.hasOwnProperty(Ae))switch(Ae){case"selected":t.selected=!1;break;default:st(t,n,Ae,null,l,F)}for(I in l)if(F=l[I],G=a[I],l.hasOwnProperty(I)&&F!==G&&(F!=null||G!=null))switch(I){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:st(t,n,I,F,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)F=a[Ee],a.hasOwnProperty(Ee)&&F!=null&&!l.hasOwnProperty(Ee)&&st(t,n,Ee,null,l,F);for(H in l)if(F=l[H],G=a[H],l.hasOwnProperty(H)&&F!==G&&(F!=null||G!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:st(t,n,H,F,l,G)}return;default:if(tr(n)){for(var it in a)F=a[it],a.hasOwnProperty(it)&&F!==void 0&&!l.hasOwnProperty(it)&&Bd(t,n,it,void 0,l,F);for(X in l)F=l[X],G=a[X],!l.hasOwnProperty(X)||F===G||F===void 0&&G===void 0||Bd(t,n,X,F,l,G);return}}for(var L in a)F=a[L],a.hasOwnProperty(L)&&F!=null&&!l.hasOwnProperty(L)&&st(t,n,L,null,l,F);for(te in l)F=l[te],G=a[te],!l.hasOwnProperty(te)||F===G||F==null&&G==null||st(t,n,te,F,l,G)}var zd=null,qd=null;function Hc(t){return t.nodeType===9?t:t.ownerDocument}function Mv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vv(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Hd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Fd=null;function Zx(){var t=window.event;return t&&t.type==="popstate"?t===Fd?!1:(Fd=t,!0):(Fd=null,!1)}var Ov=typeof setTimeout=="function"?setTimeout:void 0,Jx=typeof clearTimeout=="function"?clearTimeout:void 0,kv=typeof Promise=="function"?Promise:void 0,Wx=typeof queueMicrotask=="function"?queueMicrotask:typeof kv<"u"?function(t){return kv.resolve(null).then(t).catch(eT)}:Ov;function eT(t){setTimeout(function(){throw t})}function Ri(t){return t==="head"}function Lv(t,n){var a=n,l=0,d=0;do{var m=a.nextSibling;if(t.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var b=t.ownerDocument;if(a&1&&Kl(b.documentElement),a&2&&Kl(b.body),a&4)for(a=b.head,Kl(a),b=a.firstChild;b;){var x=b.nextSibling,I=b.nodeName;b[ii]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=x}}if(d===0){t.removeChild(m),so(n);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);so(n)}function Gd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gd(a),Xa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function tT(t,n,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ii])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Wn(t.nextSibling),t===null)break}return null}function nT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Wn(t.nextSibling),t===null))return null;return t}function Qd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function sT(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Wn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Yd=null;function Pv(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function Uv(t,n,a){switch(n=Hc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Kl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Xa(t)}var qn=new Map,Bv=new Set;function Fc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Fs=ue.d;ue.d={f:iT,r:aT,D:rT,C:lT,L:oT,m:cT,X:hT,S:uT,M:dT};function iT(){var t=Fs.f(),n=Oc();return t||n}function aT(t){var n=is(t);n!==null&&n.tag===5&&n.type==="form"?rg(n):Fs.r(t)}var Mr=typeof document>"u"?null:document;function zv(t,n,a){var l=Mr;if(l&&typeof n=="string"&&n){var d=kt(n);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),Bv.has(d)||(Bv.add(d),t={rel:t,crossOrigin:a,href:n},l.querySelector(d)===null&&(n=l.createElement("link"),Gt(n,"link",t),_t(n),l.head.appendChild(n)))}}function rT(t){Fs.D(t),zv("dns-prefetch",t,null)}function lT(t,n){Fs.C(t,n),zv("preconnect",t,n)}function oT(t,n,a){Fs.L(t,n,a);var l=Mr;if(l&&t&&n){var d='link[rel="preload"][as="'+kt(n)+'"]';n==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+kt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+kt(a.imageSizes)+'"]')):d+='[href="'+kt(t)+'"]';var m=d;switch(n){case"style":m=Vr(t);break;case"script":m=Or(t)}qn.has(m)||(t=E({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),qn.set(m,t),l.querySelector(d)!==null||n==="style"&&l.querySelector(Xl(m))||n==="script"&&l.querySelector(Zl(m))||(n=l.createElement("link"),Gt(n,"link",t),_t(n),l.head.appendChild(n)))}}function cT(t,n){Fs.m(t,n);var a=Mr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+kt(l)+'"][href="'+kt(t)+'"]',m=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Or(t)}if(!qn.has(m)&&(t=E({rel:"modulepreload",href:t},n),qn.set(m,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Zl(m)))return}l=a.createElement("link"),Gt(l,"link",t),_t(l),a.head.appendChild(l)}}}function uT(t,n,a){Fs.S(t,n,a);var l=Mr;if(l&&t){var d=ri(l).hoistableStyles,m=Vr(t);n=n||"default";var b=d.get(m);if(!b){var x={loading:0,preload:null};if(b=l.querySelector(Xl(m)))x.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},a),(a=qn.get(m))&&$d(t,a);var I=b=l.createElement("link");_t(I),Gt(I,"link",t),I._p=new Promise(function(H,X){I.onload=H,I.onerror=X}),I.addEventListener("load",function(){x.loading|=1}),I.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Gc(b,n,l)}b={type:"stylesheet",instance:b,count:1,state:x},d.set(m,b)}}}function hT(t,n){Fs.X(t,n);var a=Mr;if(a&&t){var l=ri(a).hoistableScripts,d=Or(t),m=l.get(d);m||(m=a.querySelector(Zl(d)),m||(t=E({src:t,async:!0},n),(n=qn.get(d))&&Kd(t,n),m=a.createElement("script"),_t(m),Gt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function dT(t,n){Fs.M(t,n);var a=Mr;if(a&&t){var l=ri(a).hoistableScripts,d=Or(t),m=l.get(d);m||(m=a.querySelector(Zl(d)),m||(t=E({src:t,async:!0,type:"module"},n),(n=qn.get(d))&&Kd(t,n),m=a.createElement("script"),_t(m),Gt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function qv(t,n,a,l){var d=(d=fe.current)?Fc(d):null;if(!d)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Vr(a.href),a=ri(d).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Vr(a.href);var m=ri(d).hoistableStyles,b=m.get(t);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,b),(m=d.querySelector(Xl(t)))&&!m._p&&(b.instance=m,b.state.loading=5),qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(t,a),m||fT(d,t,a,b.state))),n&&l===null)throw Error(r(528,""));return b}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Or(a),a=ri(d).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Vr(t){return'href="'+kt(t)+'"'}function Xl(t){return'link[rel="stylesheet"]['+t+"]"}function Hv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function fT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Gt(n,"link",a),_t(n),t.head.appendChild(n))}function Or(t){return'[src="'+kt(t)+'"]'}function Zl(t){return"script[async]"+t}function Fv(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+kt(a.href)+'"]');if(l)return n.instance=l,_t(l),l;var d=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),_t(l),Gt(l,"style",d),Gc(l,a.precedence,t),n.instance=l;case"stylesheet":d=Vr(a.href);var m=t.querySelector(Xl(d));if(m)return n.state.loading|=4,n.instance=m,_t(m),m;l=Hv(a),(d=qn.get(d))&&$d(l,d),m=(t.ownerDocument||t).createElement("link"),_t(m);var b=m;return b._p=new Promise(function(x,I){b.onload=x,b.onerror=I}),Gt(m,"link",l),n.state.loading|=4,Gc(m,a.precedence,t),n.instance=m;case"script":return m=Or(a.src),(d=t.querySelector(Zl(m)))?(n.instance=d,_t(d),d):(l=a,(d=qn.get(m))&&(l=E({},a),Kd(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),_t(d),Gt(d,"link",l),t.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Gc(l,a.precedence,t));return n.instance}function Gc(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,m=d,b=0;b<l.length;b++){var x=l[b];if(x.dataset.precedence===n)m=x;else if(m!==d)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function $d(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Kd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Qc=null;function Gv(t,n,a){if(Qc===null){var l=new Map,d=Qc=new Map;d.set(a,l)}else d=Qc,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var m=a[d];if(!(m[ii]||m[yt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(n)||"";b=t+b;var x=l.get(b);x?x.push(m):l.set(b,[m])}}return l}function Qv(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function mT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Yv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Jl=null;function pT(){}function gT(t,n,a){if(Jl===null)throw Error(r(475));var l=Jl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var d=Vr(a.href),m=t.querySelector(Xl(d));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Yc.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=m,_t(m);return}m=t.ownerDocument||t,a=Hv(a),(d=qn.get(d))&&$d(a,d),m=m.createElement("link"),_t(m);var b=m;b._p=new Promise(function(x,I){b.onload=x,b.onerror=I}),Gt(m,"link",a),n.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Yc.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function vT(){if(Jl===null)throw Error(r(475));var t=Jl;return t.stylesheets&&t.count===0&&Xd(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Xd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Yc(){if(this.count--,this.count===0){if(this.stylesheets)Xd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var $c=null;function Xd(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,$c=new Map,n.forEach(yT,t),$c=null,Yc.call(t))}function yT(t,n){if(!(n.state.loading&4)){var a=$c.get(t);if(a)var l=a.get(null);else{a=new Map,$c.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var b=d[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}d=n.instance,b=d.getAttribute("data-precedence"),m=a.get(b)||l,m===l&&a.set(null,d),a.set(b,d),this.count++,l=Yc.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),m?m.parentNode.insertBefore(d,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),n.state.loading|=4}}var Wl={$$typeof:k,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function _T(t,n,a,l,d,m,b,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ka(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ka(0),this.hiddenUpdates=Ka(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function $v(t,n,a,l,d,m,b,x,I,H,X,te){return t=new _T(t,n,a,b,x,I,H,te),n=1,m===!0&&(n|=24),m=xn(3,null,null,n),t.current=m,m.stateNode=t,n=Dh(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:n},Oh(m),t}function Kv(t){return t?(t=dr,t):dr}function Xv(t,n,a,l,d,m){d=Kv(d),l.context===null?l.context=d:l.pendingContext=d,l=gi(n),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=vi(t,l,n),a!==null&&(wn(a,t,n),Rl(a,t,n))}function Zv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Zd(t,n){Zv(t,n),(t=t.alternate)&&Zv(t,n)}function Jv(t){if(t.tag===13){var n=hr(t,67108864);n!==null&&wn(n,t,67108864),Zd(t,67108864)}}var Kc=!0;function bT(t,n,a,l){var d=Y.T;Y.T=null;var m=ue.p;try{ue.p=2,Jd(t,n,a,l)}finally{ue.p=m,Y.T=d}}function ET(t,n,a,l){var d=Y.T;Y.T=null;var m=ue.p;try{ue.p=8,Jd(t,n,a,l)}finally{ue.p=m,Y.T=d}}function Jd(t,n,a,l){if(Kc){var d=Wd(l);if(d===null)Ud(t,n,l,Xc,a),ey(t,l);else if(TT(d,t,n,a,l))l.stopPropagation();else if(ey(t,l),n&4&&-1<xT.indexOf(t)){for(;d!==null;){var m=is(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=Fn(m.pendingLanes);if(b!==0){var x=m;for(x.pendingLanes|=2,x.entangledLanes|=2;b;){var I=1<<31-sn(b);x.entanglements[1]|=I,b&=~I}ms(m),(We&6)===0&&(Mc=hn()+500,Ql(0))}}break;case 13:x=hr(m,2),x!==null&&wn(x,m,2),Oc(),Zd(m,2)}if(m=Wd(l),m===null&&Ud(t,n,l,Xc,a),m===d)break;d=m}d!==null&&l.stopPropagation()}else Ud(t,n,l,null,a)}}function Wd(t){return t=ul(t),ef(t)}var Xc=null;function ef(t){if(Xc=null,t=ss(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=f(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Xc=t,null}function Wv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lo()){case Ct:return 2;case Ot:return 8;case As:case ah:return 32;case el:return 268435456;default:return 32}default:return 32}}var tf=!1,Ci=null,Di=null,Ii=null,eo=new Map,to=new Map,Mi=[],xT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ey(t,n){switch(t){case"focusin":case"focusout":Ci=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":Ii=null;break;case"pointerover":case"pointerout":eo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":to.delete(n.pointerId)}}function no(t,n,a,l,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[d]},n!==null&&(n=is(n),n!==null&&Jv(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),t)}function TT(t,n,a,l,d){switch(n){case"focusin":return Ci=no(Ci,t,n,a,l,d),!0;case"dragenter":return Di=no(Di,t,n,a,l,d),!0;case"mouseover":return Ii=no(Ii,t,n,a,l,d),!0;case"pointerover":var m=d.pointerId;return eo.set(m,no(eo.get(m)||null,t,n,a,l,d)),!0;case"gotpointercapture":return m=d.pointerId,to.set(m,no(to.get(m)||null,t,n,a,l,d)),!0}return!1}function ty(t){var n=ss(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){t.blockedOn=n,oh(t.priority,function(){if(a.tag===13){var l=Sn();l=nl(l);var d=hr(a,l);d!==null&&wn(d,a,l),Zd(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Wd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);cl=l,a.target.dispatchEvent(l),cl=null}else return n=is(a),n!==null&&Jv(n),t.blockedOn=a,!1;n.shift()}return!0}function ny(t,n,a){Zc(t)&&a.delete(n)}function AT(){tf=!1,Ci!==null&&Zc(Ci)&&(Ci=null),Di!==null&&Zc(Di)&&(Di=null),Ii!==null&&Zc(Ii)&&(Ii=null),eo.forEach(ny),to.forEach(ny)}function Jc(t,n){t.blockedOn===n&&(t.blockedOn=null,tf||(tf=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,AT)))}var Wc=null;function sy(t){Wc!==t&&(Wc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Wc===t&&(Wc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],d=t[n+2];if(typeof l!="function"){if(ef(l||a)===null)continue;break}var m=is(a);m!==null&&(t.splice(n,3),n-=3,ed(m,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function so(t){function n(I){return Jc(I,t)}Ci!==null&&Jc(Ci,t),Di!==null&&Jc(Di,t),Ii!==null&&Jc(Ii,t),eo.forEach(n),to.forEach(n);for(var a=0;a<Mi.length;a++){var l=Mi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Mi.length&&(a=Mi[0],a.blockedOn===null);)ty(a),a.blockedOn===null&&Mi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],m=a[l+1],b=d[qt]||null;if(typeof m=="function")b||sy(a);else if(b){var x=null;if(m&&m.hasAttribute("formAction")){if(d=m,b=m[qt]||null)x=b.formAction;else if(ef(d)!==null)continue}else x=b.action;typeof x=="function"?a[l+1]=x:(a.splice(l,3),l-=3),sy(a)}}}function nf(t){this._internalRoot=t}eu.prototype.render=nf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=Sn();Xv(a,l,t,n,null,null)},eu.prototype.unmount=nf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Xv(t.current,2,null,t,null,null),Oc(),n[Ss]=null}};function eu(t){this._internalRoot=t}eu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ns();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Mi.length&&n!==0&&n<Mi[a].priority;a++);Mi.splice(a,0,t),a===0&&ty(t)}};var iy=e.version;if(iy!=="19.1.1")throw Error(r(527,iy,"19.1.1"));ue.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var NT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tu.isDisabled&&tu.supportsFiber)try{Js=tu.inject(NT),Kt=tu}catch{}}return ao.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",d=bg,m=Eg,b=xg,x=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(x=n.unstable_transitionCallbacks)),n=$v(t,1,!1,null,null,a,l,d,m,b,x,null),t[Ss]=n.current,Pd(t),new nf(n)},ao.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,d="",m=bg,b=Eg,x=xg,I=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),n=$v(t,1,!0,n,a??null,l,d,m,b,x,I,H),n.context=Kv(null),a=n.current,l=Sn(),l=nl(l),d=gi(l),d.callback=null,vi(a,d,l),a=l,n.current.lanes=a,vt(n,a),ms(n),t[Ss]=n.current,Pd(t),new eu(n)},ao.version="19.1.1",ao}var my;function OT(){if(my)return rf.exports;my=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),rf.exports=VT(),rf.exports}var kT=OT();const LT=()=>{};var py={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=function(i){const e=[];let s=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[s++]=o:o<2048?(e[s++]=o>>6|192,e[s++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[s++]=o>>18|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128,e[s++]=o&63|128):(e[s++]=o>>12|224,e[s++]=o>>6&63|128,e[s++]=o&63|128)}return e},PT=function(i){const e=[];let s=0,r=0;for(;s<i.length;){const o=i[s++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[s++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[s++],f=i[s++],g=i[s++],v=((o&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const u=i[s++],f=i[s++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},k_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,g=f?i[o+1]:0,v=o+2<i.length,y=v?i[o+2]:0,E=u>>2,R=(u&3)<<4|g>>4;let C=(g&15)<<2|y>>6,P=y&63;v||(P=64,f||(C=64)),r.push(s[E],s[R],s[C],s[P])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(O_(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):PT(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const u=s[i.charAt(o++)],g=o<i.length?s[i.charAt(o)]:0;++o;const y=o<i.length?s[i.charAt(o)]:64;++o;const R=o<i.length?s[i.charAt(o)]:64;if(++o,u==null||g==null||y==null||R==null)throw new UT;const C=u<<2|g>>4;if(r.push(C),y!==64){const P=g<<4&240|y>>2;if(r.push(P),R!==64){const U=y<<6&192|R;r.push(U)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class UT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BT=function(i){const e=O_(i);return k_.encodeByteArray(e,!0)},mu=function(i){return BT(i).replace(/\./g,"")},zT=function(i){try{return k_.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=()=>qT().__FIREBASE_DEFAULTS__,FT=()=>{if(typeof process>"u"||typeof py>"u")return;const i=py.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},GT=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&zT(i[1]);return e&&JSON.parse(e)},Xf=()=>{try{return LT()||HT()||FT()||GT()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},QT=i=>Xf()?.emulatorHosts?.[i],YT=i=>{const e=QT(i);if(!e)return;const s=e.lastIndexOf(":");if(s<=0||s+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(s+1),10);return e[0]==="["?[e.substring(1,s-1),r]:[e.substring(0,s),r]},L_=()=>Xf()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function KT(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[mu(JSON.stringify(s)),mu(JSON.stringify(f)),""].join(".")}const uo={};function ZT(){const i={prod:[],emulator:[]};for(const e of Object.keys(uo))uo[e]?i.emulator.push(e):i.prod.push(e);return i}function JT(i){let e=document.getElementById(i),s=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),s=!0),{created:s,element:e}}let gy=!1;function WT(i,e){if(typeof window>"u"||typeof document>"u"||!Zf(window.location.host)||uo[i]===e||uo[i]||gy)return;uo[i]=e;function s(C){return`__firebase__banner__${C}`}const r="__firebase__banner",u=ZT().prod.length>0;function f(){const C=document.getElementById(r);C&&C.remove()}function g(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function v(C,P){C.setAttribute("width","24"),C.setAttribute("id",P),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function y(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{gy=!0,f()},C}function E(C,P){C.setAttribute("id",P),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function R(){const C=JT(r),P=s("text"),U=document.getElementById(P)||document.createElement("span"),W=s("learnmore"),K=document.getElementById(W)||document.createElement("a"),me=s("preprendIcon"),ie=document.getElementById(me)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const k=C.element;g(k),E(K,W);const ae=y();v(ie,me),k.append(ie,U,K,ae),document.body.appendChild(k)}u?(U.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function t0(){const i=Xf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function n0(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function s0(){return!t0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P_(){try{return typeof indexedDB=="object"}catch{return!1}}function U_(){return new Promise((i,e)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),s||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{s=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(s){e(s)}})}function i0(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="FirebaseError";class Yi extends Error{constructor(e,s,r){super(s),this.code=e,this.customData=r,this.name=a0,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Iu.prototype.create)}}class Iu{constructor(e,s,r){this.service=e,this.serviceName=s,this.errors=r}create(e,...s){const r=s[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?r0(u,r):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new Yi(o,g,r)}}function r0(i,e){return i.replace(l0,(s,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const l0=/\{\$([^}]+)}/g;function go(i,e){if(i===e)return!0;const s=Object.keys(i),r=Object.keys(e);for(const o of s){if(!r.includes(o))return!1;const u=i[o],f=e[o];if(vy(u)&&vy(f)){if(!go(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!s.includes(o))return!1;return!0}function vy(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=1e3,c0=2,u0=14400*1e3,h0=.5;function yy(i,e=o0,s=c0){const r=e*Math.pow(s,i),o=Math.round(h0*r*(Math.random()-.5)*2);return Math.min(u0,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(i){return i&&i._delegate?i._delegate:i}class Ys{constructor(e,s,r){this.name=e,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const r=new $T;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:s});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){const s=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(m0(e))try{this.getOrInitializeService({instanceIdentifier:Ma})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ma){return this.instances.has(e)}getOptions(e=Ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);r===g&&f.resolve(o)}return o}onInit(e,s){const r=this.normalizeInstanceIdentifier(s),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,s){const r=this.onInitCallbacks.get(s);if(r)for(const o of r)try{o(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:f0(e),options:s}),this.instances.set(e,r),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ma){return this.component?this.component.multipleInstances?e:Ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function f0(i){return i===Ma?void 0:i}function m0(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new d0(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Qe||(Qe={}));const g0={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},v0=Qe.INFO,y0={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},_0=(i,e,...s)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=y0[e];if(o)console[o](`[${r}]  ${i.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jf{constructor(e){this.name=e,this._logLevel=v0,this._logHandler=_0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?g0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const b0=(i,e)=>e.some(s=>i instanceof s);let _y,by;function E0(){return _y||(_y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function x0(){return by||(by=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const B_=new WeakMap,Af=new WeakMap,z_=new WeakMap,uf=new WeakMap,Wf=new WeakMap;function T0(i){const e=new Promise((s,r)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{s(ki(i.result)),o()},f=()=>{r(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(s=>{s instanceof IDBCursor&&B_.set(s,i)}).catch(()=>{}),Wf.set(e,i),e}function A0(i){if(Af.has(i))return;const e=new Promise((s,r)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{s(),o()},f=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Af.set(i,e)}let Nf={get(i,e,s){if(i instanceof IDBTransaction){if(e==="done")return Af.get(i);if(e==="objectStoreNames")return i.objectStoreNames||z_.get(i);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return ki(i[e])},set(i,e,s){return i[e]=s,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function N0(i){Nf=i(Nf)}function S0(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const r=i.call(hf(this),e,...s);return z_.set(r,e.sort?e.sort():[e]),ki(r)}:x0().includes(i)?function(...e){return i.apply(hf(this),e),ki(B_.get(this))}:function(...e){return ki(i.apply(hf(this),e))}}function w0(i){return typeof i=="function"?S0(i):(i instanceof IDBTransaction&&A0(i),b0(i,E0())?new Proxy(i,Nf):i)}function ki(i){if(i instanceof IDBRequest)return T0(i);if(uf.has(i))return uf.get(i);const e=w0(i);return e!==i&&(uf.set(i,e),Wf.set(e,i)),e}const hf=i=>Wf.get(i);function q_(i,e,{blocked:s,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),g=ki(f);return r&&f.addEventListener("upgradeneeded",v=>{r(ki(f.result),v.oldVersion,v.newVersion,ki(f.transaction),v)}),s&&f.addEventListener("blocked",v=>s(v.oldVersion,v.newVersion,v)),g.then(v=>{u&&v.addEventListener("close",()=>u()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const j0=["get","getKey","getAll","getAllKeys","count"],R0=["put","add","delete","clear"],df=new Map;function Ey(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(df.get(e))return df.get(e);const s=e.replace(/FromIndex$/,""),r=e!==s,o=R0.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(o||j0.includes(s)))return;const u=async function(f,...g){const v=this.transaction(f,o?"readwrite":"readonly");let y=v.store;return r&&(y=y.index(g.shift())),(await Promise.all([y[s](...g),o&&v.done]))[0]};return df.set(e,u),u}N0(i=>({...i,get:(e,s,r)=>Ey(e,s)||i.get(e,s,r),has:(e,s)=>!!Ey(e,s)||i.has(e,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(D0(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function D0(i){return i.getComponent()?.type==="VERSION"}const Sf="@firebase/app",xy="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new Jf("@firebase/app"),I0="@firebase/app-compat",M0="@firebase/analytics-compat",V0="@firebase/analytics",O0="@firebase/app-check-compat",k0="@firebase/app-check",L0="@firebase/auth",P0="@firebase/auth-compat",U0="@firebase/database",B0="@firebase/data-connect",z0="@firebase/database-compat",q0="@firebase/functions",H0="@firebase/functions-compat",F0="@firebase/installations",G0="@firebase/installations-compat",Q0="@firebase/messaging",Y0="@firebase/messaging-compat",$0="@firebase/performance",K0="@firebase/performance-compat",X0="@firebase/remote-config",Z0="@firebase/remote-config-compat",J0="@firebase/storage",W0="@firebase/storage-compat",eA="@firebase/firestore",tA="@firebase/ai",nA="@firebase/firestore-compat",sA="firebase",iA="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="[DEFAULT]",aA={[Sf]:"fire-core",[I0]:"fire-core-compat",[V0]:"fire-analytics",[M0]:"fire-analytics-compat",[k0]:"fire-app-check",[O0]:"fire-app-check-compat",[L0]:"fire-auth",[P0]:"fire-auth-compat",[U0]:"fire-rtdb",[B0]:"fire-data-connect",[z0]:"fire-rtdb-compat",[q0]:"fire-fn",[H0]:"fire-fn-compat",[F0]:"fire-iid",[G0]:"fire-iid-compat",[Q0]:"fire-fcm",[Y0]:"fire-fcm-compat",[$0]:"fire-perf",[K0]:"fire-perf-compat",[X0]:"fire-rc",[Z0]:"fire-rc-compat",[J0]:"fire-gcs",[W0]:"fire-gcs-compat",[eA]:"fire-fst",[nA]:"fire-fst-compat",[tA]:"fire-vertex","fire-js":"fire-js",[sA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=new Map,rA=new Map,jf=new Map;function Ty(i,e){try{i.container.addComponent(e)}catch(s){$s.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,s)}}function Bi(i){const e=i.name;if(jf.has(e))return $s.debug(`There were multiple attempts to register component ${e}.`),!1;jf.set(e,i);for(const s of pu.values())Ty(s,i);for(const s of rA.values())Ty(s,i);return!0}function wo(i,e){const s=i.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),i.container.getProvider(e)}function lA(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Li=new Iu("app","Firebase",oA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,s,r){this._isDeleted=!1,this._options={...e},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=iA;function H_(i,e={}){let s=i;typeof e!="object"&&(e={name:e});const r={name:wf,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Li.create("bad-app-name",{appName:String(o)});if(s||(s=L_()),!s)throw Li.create("no-options");const u=pu.get(o);if(u){if(go(s,u.options)&&go(r,u.config))return u;throw Li.create("duplicate-app",{appName:o})}const f=new p0(o);for(const v of jf.values())f.addComponent(v);const g=new cA(s,r,f);return pu.set(o,g),g}function F_(i=wf){const e=pu.get(i);if(!e&&i===wf&&L_())return H_();if(!e)throw Li.create("no-app",{appName:i});return e}function vs(i,e,s){let r=aA[i]??i;s&&(r+=`-${s}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$s.warn(f.join(" "));return}Bi(new Ys(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="firebase-heartbeat-database",dA=1,vo="firebase-heartbeat-store";let ff=null;function G_(){return ff||(ff=q_(hA,dA,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(vo)}catch(s){console.warn(s)}}}}).catch(i=>{throw Li.create("idb-open",{originalErrorMessage:i.message})})),ff}async function fA(i){try{const s=(await G_()).transaction(vo),r=await s.objectStore(vo).get(Q_(i));return await s.done,r}catch(e){if(e instanceof Yi)$s.warn(e.message);else{const s=Li.create("idb-get",{originalErrorMessage:e?.message});$s.warn(s.message)}}}async function Ay(i,e){try{const r=(await G_()).transaction(vo,"readwrite");await r.objectStore(vo).put(e,Q_(i)),await r.done}catch(s){if(s instanceof Yi)$s.warn(s.message);else{const r=Li.create("idb-set",{originalErrorMessage:s?.message});$s.warn(r.message)}}}function Q_(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=1024,pA=30;class gA{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new yA(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ny();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>pA){const o=_A(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){$s.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ny(),{heartbeatsToSend:s,unsentEntries:r}=vA(this._heartbeatsCache.heartbeats),o=mu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return $s.warn(e),""}}}function Ny(){return new Date().toISOString().substring(0,10)}function vA(i,e=mA){const s=[];let r=i.slice();for(const o of i){const u=s.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Sy(s)>e){u.dates.pop();break}}else if(s.push({agent:o.agent,dates:[o.date]}),Sy(s)>e){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class yA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return P_()?U_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await fA(this.app);return s?.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ay(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ay(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Sy(i){return mu(JSON.stringify({version:2,heartbeats:i})).length}function _A(i){if(i.length===0)return-1;let e=0,s=i[0].date;for(let r=1;r<i.length;r++)i[r].date<s&&(s=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(i){Bi(new Ys("platform-logger",e=>new C0(e),"PRIVATE")),Bi(new Ys("heartbeat",e=>new gA(e),"PRIVATE")),vs(Sf,xy,i),vs(Sf,xy,"esm2020"),vs("fire-js","")}bA("");var EA="firebase",xA="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vs(EA,xA,"app");const Y_="@firebase/installations",em="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=1e4,K_=`w:${em}`,X_="FIS_v2",TA="https://firebaseinstallations.googleapis.com/v1",AA=3600*1e3,NA="installations",SA="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ua=new Iu(NA,SA,wA);function Z_(i){return i instanceof Yi&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_({projectId:i}){return`${TA}/projects/${i}/installations`}function W_(i){return{token:i.token,requestStatus:2,expiresIn:RA(i.expiresIn),creationTime:Date.now()}}async function eb(i,e){const r=(await e.json()).error;return Ua.create("request-failed",{requestName:i,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function tb({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function jA(i,{refreshToken:e}){const s=tb(i);return s.append("Authorization",CA(e)),s}async function nb(i){const e=await i();return e.status>=500&&e.status<600?i():e}function RA(i){return Number(i.replace("s","000"))}function CA(i){return`${X_} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DA({appConfig:i,heartbeatServiceProvider:e},{fid:s}){const r=J_(i),o=tb(i),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={fid:s,authVersion:X_,appId:i.appId,sdkVersion:K_},g={method:"POST",headers:o,body:JSON.stringify(f)},v=await nb(()=>fetch(r,g));if(v.ok){const y=await v.json();return{fid:y.fid||s,registrationStatus:2,refreshToken:y.refreshToken,authToken:W_(y.authToken)}}else throw await eb("Create Installation",v)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=/^[cdef][\w-]{21}$/,Rf="";function VA(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const s=OA(i);return MA.test(s)?s:Rf}catch{return Rf}}function OA(i){return IA(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=new Map;function ab(i,e){const s=Mu(i);rb(s,e),kA(s,e)}function rb(i,e){const s=ib.get(i);if(s)for(const r of s)r(e)}function kA(i,e){const s=LA();s&&s.postMessage({key:i,fid:e}),PA()}let Va=null;function LA(){return!Va&&"BroadcastChannel"in self&&(Va=new BroadcastChannel("[Firebase] FID Change"),Va.onmessage=i=>{rb(i.data.key,i.data.fid)}),Va}function PA(){ib.size===0&&Va&&(Va.close(),Va=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="firebase-installations-database",BA=1,Ba="firebase-installations-store";let mf=null;function tm(){return mf||(mf=q_(UA,BA,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(Ba)}}})),mf}async function gu(i,e){const s=Mu(i),o=(await tm()).transaction(Ba,"readwrite"),u=o.objectStore(Ba),f=await u.get(s);return await u.put(e,s),await o.done,(!f||f.fid!==e.fid)&&ab(i,e.fid),e}async function lb(i){const e=Mu(i),r=(await tm()).transaction(Ba,"readwrite");await r.objectStore(Ba).delete(e),await r.done}async function Vu(i,e){const s=Mu(i),o=(await tm()).transaction(Ba,"readwrite"),u=o.objectStore(Ba),f=await u.get(s),g=e(f);return g===void 0?await u.delete(s):await u.put(g,s),await o.done,g&&(!f||f.fid!==g.fid)&&ab(i,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nm(i){let e;const s=await Vu(i.appConfig,r=>{const o=zA(r),u=qA(i,o);return e=u.registrationPromise,u.installationEntry});return s.fid===Rf?{installationEntry:await e}:{installationEntry:s,registrationPromise:e}}function zA(i){const e=i||{fid:VA(),registrationStatus:0};return ob(e)}function qA(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ua.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const s={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=HA(i,s);return{installationEntry:s,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:FA(i)}:{installationEntry:e}}async function HA(i,e){try{const s=await DA(i,e);return gu(i.appConfig,s)}catch(s){throw Z_(s)&&s.customData.serverCode===409?await lb(i.appConfig):await gu(i.appConfig,{fid:e.fid,registrationStatus:0}),s}}async function FA(i){let e=await wy(i.appConfig);for(;e.registrationStatus===1;)await sb(100),e=await wy(i.appConfig);if(e.registrationStatus===0){const{installationEntry:s,registrationPromise:r}=await nm(i);return r||s}return e}function wy(i){return Vu(i,e=>{if(!e)throw Ua.create("installation-not-found");return ob(e)})}function ob(i){return GA(i)?{fid:i.fid,registrationStatus:0}:i}function GA(i){return i.registrationStatus===1&&i.registrationTime+$_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QA({appConfig:i,heartbeatServiceProvider:e},s){const r=YA(i,s),o=jA(i,s),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={installation:{sdkVersion:K_,appId:i.appId}},g={method:"POST",headers:o,body:JSON.stringify(f)},v=await nb(()=>fetch(r,g));if(v.ok){const y=await v.json();return W_(y)}else throw await eb("Generate Auth Token",v)}function YA(i,{fid:e}){return`${J_(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sm(i,e=!1){let s;const r=await Vu(i.appConfig,u=>{if(!cb(u))throw Ua.create("not-registered");const f=u.authToken;if(!e&&XA(f))return u;if(f.requestStatus===1)return s=$A(i,e),u;{if(!navigator.onLine)throw Ua.create("app-offline");const g=JA(u);return s=KA(i,g),g}});return s?await s:r.authToken}async function $A(i,e){let s=await jy(i.appConfig);for(;s.authToken.requestStatus===1;)await sb(100),s=await jy(i.appConfig);const r=s.authToken;return r.requestStatus===0?sm(i,e):r}function jy(i){return Vu(i,e=>{if(!cb(e))throw Ua.create("not-registered");const s=e.authToken;return WA(s)?{...e,authToken:{requestStatus:0}}:e})}async function KA(i,e){try{const s=await QA(i,e),r={...e,authToken:s};return await gu(i.appConfig,r),s}catch(s){if(Z_(s)&&(s.customData.serverCode===401||s.customData.serverCode===404))await lb(i.appConfig);else{const r={...e,authToken:{requestStatus:0}};await gu(i.appConfig,r)}throw s}}function cb(i){return i!==void 0&&i.registrationStatus===2}function XA(i){return i.requestStatus===2&&!ZA(i)}function ZA(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+AA}function JA(i){const e={requestStatus:1,requestTime:Date.now()};return{...i,authToken:e}}function WA(i){return i.requestStatus===1&&i.requestTime+$_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(i){const e=i,{installationEntry:s,registrationPromise:r}=await nm(e);return r?r.catch(console.error):sm(e).catch(console.error),s.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tN(i,e=!1){const s=i;return await nN(s),(await sm(s,e)).token}async function nN(i){const{registrationPromise:e}=await nm(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(i){if(!i||!i.options)throw pf("App Configuration");if(!i.name)throw pf("App Name");const e=["projectId","apiKey","appId"];for(const s of e)if(!i.options[s])throw pf(s);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function pf(i){return Ua.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="installations",iN="installations-internal",aN=i=>{const e=i.getProvider("app").getImmediate(),s=sN(e),r=wo(e,"heartbeat");return{app:e,appConfig:s,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},rN=i=>{const e=i.getProvider("app").getImmediate(),s=wo(e,ub).getImmediate();return{getId:()=>eN(s),getToken:o=>tN(s,o)}};function lN(){Bi(new Ys(ub,aN,"PUBLIC")),Bi(new Ys(iN,rN,"PRIVATE"))}lN();vs(Y_,em);vs(Y_,em,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu="analytics",oN="firebase_id",cN="origin",uN=60*1e3,hN="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",im="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn=new Jf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Rn=new Iu("analytics","Analytics",dN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(i){if(!i.startsWith(im)){const e=Rn.create("invalid-gtag-resource",{gtagURL:i});return vn.warn(e.message),""}return i}function hb(i){return Promise.all(i.map(e=>e.catch(s=>s)))}function mN(i,e){let s;return window.trustedTypes&&(s=window.trustedTypes.createPolicy(i,e)),s}function pN(i,e){const s=mN("firebase-js-sdk-policy",{createScriptURL:fN}),r=document.createElement("script"),o=`${im}?l=${i}&id=${e}`;r.src=s?s?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function gN(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function vN(i,e,s,r,o,u){const f=r[o];try{if(f)await e[f];else{const v=(await hb(s)).find(y=>y.measurementId===o);v&&await e[v.appId]}}catch(g){vn.error(g)}i("config",o,u)}async function yN(i,e,s,r,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const g=await hb(s);for(const v of f){const y=g.find(R=>R.measurementId===v),E=y&&e[y.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",r,o||{})}catch(u){vn.error(u)}}function _N(i,e,s,r){async function o(u,...f){try{if(u==="event"){const[g,v]=f;await yN(i,e,s,g,v)}else if(u==="config"){const[g,v]=f;await vN(i,e,s,r,g,v)}else if(u==="consent"){const[g,v]=f;i("consent",g,v)}else if(u==="get"){const[g,v,y]=f;i("get",g,v,y)}else if(u==="set"){const[g]=f;i("set",g)}else i(u,...f)}catch(g){vn.error(g)}}return o}function bN(i,e,s,r,o){let u=function(...f){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=_N(u,i,e,s),{gtagCore:u,wrappedGtag:window[o]}}function EN(i){const e=window.document.getElementsByTagName("script");for(const s of Object.values(e))if(s.src&&s.src.includes(im)&&s.src.includes(i))return s;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=30,TN=1e3;class AN{constructor(e={},s=TN){this.throttleMetadata=e,this.intervalMillis=s}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,s){this.throttleMetadata[e]=s}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const db=new AN;function NN(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function SN(i){const{appId:e,apiKey:s}=i,r={method:"GET",headers:NN(s)},o=hN.replace("{app-id}",e),u=await fetch(o,r);if(u.status!==200&&u.status!==304){let f="";try{const g=await u.json();g.error?.message&&(f=g.error.message)}catch{}throw Rn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:f})}return u.json()}async function wN(i,e=db,s){const{appId:r,apiKey:o,measurementId:u}=i.options;if(!r)throw Rn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw Rn.create("no-api-key")}const f=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new CN;return setTimeout(async()=>{g.abort()},uN),fb({appId:r,apiKey:o,measurementId:u},f,g,e)}async function fb(i,{throttleEndTimeMillis:e,backoffCount:s},r,o=db){const{appId:u,measurementId:f}=i;try{await jN(r,e)}catch(g){if(f)return vn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:u,measurementId:f};throw g}try{const g=await SN(i);return o.deleteThrottleMetadata(u),g}catch(g){const v=g;if(!RN(v)){if(o.deleteThrottleMetadata(u),f)return vn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:u,measurementId:f};throw g}const y=Number(v?.customData?.httpStatus)===503?yy(s,o.intervalMillis,xN):yy(s,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+y,backoffCount:s+1};return o.setThrottleMetadata(u,E),vn.debug(`Calling attemptFetch again in ${y} millis`),fb(i,E,r,o)}}function jN(i,e){return new Promise((s,r)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(s,o);i.addEventListener(()=>{clearTimeout(u),r(Rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function RN(i){if(!(i instanceof Yi)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class CN{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function DN(i,e,s,r,o){if(o&&o.global){i("event",s,r);return}else{const u=await e,f={...r,send_to:u};i("event",s,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(){if(P_())try{await U_()}catch(i){return vn.warn(Rn.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return vn.warn(Rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function MN(i,e,s,r,o,u,f){const g=wN(i);g.then(C=>{s[C.measurementId]=C.appId,i.options.measurementId&&C.measurementId!==i.options.measurementId&&vn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${C.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(C=>vn.error(C)),e.push(g);const v=IN().then(C=>{if(C)return r.getId()}),[y,E]=await Promise.all([g,v]);EN(u)||pN(u,y.measurementId),o("js",new Date);const R=f?.config??{};return R[cN]="firebase",R.update=!0,E!=null&&(R[oN]=E),o("config",y.measurementId,R),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.app=e}_delete(){return delete ho[this.app.options.appId],Promise.resolve()}}let ho={},Ry=[];const Cy={};let gf="dataLayer",ON="gtag",Dy,mb,Iy=!1;function kN(){const i=[];if(n0()&&i.push("This is a browser extension environment."),i0()||i.push("Cookies are not available."),i.length>0){const e=i.map((r,o)=>`(${o+1}) ${r}`).join(" "),s=Rn.create("invalid-analytics-context",{errorInfo:e});vn.warn(s.message)}}function LN(i,e,s){kN();const r=i.options.appId;if(!r)throw Rn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)vn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Rn.create("no-api-key");if(ho[r]!=null)throw Rn.create("already-exists",{id:r});if(!Iy){gN(gf);const{wrappedGtag:u,gtagCore:f}=bN(ho,Ry,Cy,gf,ON);mb=u,Dy=f,Iy=!0}return ho[r]=MN(i,Ry,Cy,e,Dy,gf,s),new VN(i)}function PN(i=F_()){i=un(i);const e=wo(i,vu);return e.isInitialized()?e.getImmediate():UN(i)}function UN(i,e={}){const s=wo(i,vu);if(s.isInitialized()){const o=s.getImmediate();if(go(e,s.getOptions()))return o;throw Rn.create("already-initialized")}return s.initialize({options:e})}function BN(i,e,s,r){i=un(i),DN(mb,ho[i.app.options.appId],e,s,r).catch(o=>vn.error(o))}const My="@firebase/analytics",Vy="0.10.18";function zN(){Bi(new Ys(vu,(e,{options:s})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return LN(r,o,s)},"PUBLIC")),Bi(new Ys("analytics-internal",i,"PRIVATE")),vs(My,Vy),vs(My,Vy,"esm2020");function i(e){try{const s=e.getProvider(vu).getImmediate();return{logEvent:(r,o,u)=>BN(s,r,o,u)}}catch(s){throw Rn.create("interop-component-reg-failed",{reason:s})}}}zN();var Oy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pi,pb;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,N){function D(){}D.prototype=N.prototype,S.F=N.prototype,S.prototype=new D,S.prototype.constructor=S,S.D=function(j,A,V){for(var w=Array(arguments.length-2),De=2;De<arguments.length;De++)w[De-2]=arguments[De];return N.prototype[A].apply(j,w)}}function s(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,s),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(S,N,D){D||(D=0);const j=Array(16);if(typeof N=="string")for(var A=0;A<16;++A)j[A]=N.charCodeAt(D++)|N.charCodeAt(D++)<<8|N.charCodeAt(D++)<<16|N.charCodeAt(D++)<<24;else for(A=0;A<16;++A)j[A]=N[D++]|N[D++]<<8|N[D++]<<16|N[D++]<<24;N=S.g[0],D=S.g[1],A=S.g[2];let V=S.g[3],w;w=N+(V^D&(A^V))+j[0]+3614090360&4294967295,N=D+(w<<7&4294967295|w>>>25),w=V+(A^N&(D^A))+j[1]+3905402710&4294967295,V=N+(w<<12&4294967295|w>>>20),w=A+(D^V&(N^D))+j[2]+606105819&4294967295,A=V+(w<<17&4294967295|w>>>15),w=D+(N^A&(V^N))+j[3]+3250441966&4294967295,D=A+(w<<22&4294967295|w>>>10),w=N+(V^D&(A^V))+j[4]+4118548399&4294967295,N=D+(w<<7&4294967295|w>>>25),w=V+(A^N&(D^A))+j[5]+1200080426&4294967295,V=N+(w<<12&4294967295|w>>>20),w=A+(D^V&(N^D))+j[6]+2821735955&4294967295,A=V+(w<<17&4294967295|w>>>15),w=D+(N^A&(V^N))+j[7]+4249261313&4294967295,D=A+(w<<22&4294967295|w>>>10),w=N+(V^D&(A^V))+j[8]+1770035416&4294967295,N=D+(w<<7&4294967295|w>>>25),w=V+(A^N&(D^A))+j[9]+2336552879&4294967295,V=N+(w<<12&4294967295|w>>>20),w=A+(D^V&(N^D))+j[10]+4294925233&4294967295,A=V+(w<<17&4294967295|w>>>15),w=D+(N^A&(V^N))+j[11]+2304563134&4294967295,D=A+(w<<22&4294967295|w>>>10),w=N+(V^D&(A^V))+j[12]+1804603682&4294967295,N=D+(w<<7&4294967295|w>>>25),w=V+(A^N&(D^A))+j[13]+4254626195&4294967295,V=N+(w<<12&4294967295|w>>>20),w=A+(D^V&(N^D))+j[14]+2792965006&4294967295,A=V+(w<<17&4294967295|w>>>15),w=D+(N^A&(V^N))+j[15]+1236535329&4294967295,D=A+(w<<22&4294967295|w>>>10),w=N+(A^V&(D^A))+j[1]+4129170786&4294967295,N=D+(w<<5&4294967295|w>>>27),w=V+(D^A&(N^D))+j[6]+3225465664&4294967295,V=N+(w<<9&4294967295|w>>>23),w=A+(N^D&(V^N))+j[11]+643717713&4294967295,A=V+(w<<14&4294967295|w>>>18),w=D+(V^N&(A^V))+j[0]+3921069994&4294967295,D=A+(w<<20&4294967295|w>>>12),w=N+(A^V&(D^A))+j[5]+3593408605&4294967295,N=D+(w<<5&4294967295|w>>>27),w=V+(D^A&(N^D))+j[10]+38016083&4294967295,V=N+(w<<9&4294967295|w>>>23),w=A+(N^D&(V^N))+j[15]+3634488961&4294967295,A=V+(w<<14&4294967295|w>>>18),w=D+(V^N&(A^V))+j[4]+3889429448&4294967295,D=A+(w<<20&4294967295|w>>>12),w=N+(A^V&(D^A))+j[9]+568446438&4294967295,N=D+(w<<5&4294967295|w>>>27),w=V+(D^A&(N^D))+j[14]+3275163606&4294967295,V=N+(w<<9&4294967295|w>>>23),w=A+(N^D&(V^N))+j[3]+4107603335&4294967295,A=V+(w<<14&4294967295|w>>>18),w=D+(V^N&(A^V))+j[8]+1163531501&4294967295,D=A+(w<<20&4294967295|w>>>12),w=N+(A^V&(D^A))+j[13]+2850285829&4294967295,N=D+(w<<5&4294967295|w>>>27),w=V+(D^A&(N^D))+j[2]+4243563512&4294967295,V=N+(w<<9&4294967295|w>>>23),w=A+(N^D&(V^N))+j[7]+1735328473&4294967295,A=V+(w<<14&4294967295|w>>>18),w=D+(V^N&(A^V))+j[12]+2368359562&4294967295,D=A+(w<<20&4294967295|w>>>12),w=N+(D^A^V)+j[5]+4294588738&4294967295,N=D+(w<<4&4294967295|w>>>28),w=V+(N^D^A)+j[8]+2272392833&4294967295,V=N+(w<<11&4294967295|w>>>21),w=A+(V^N^D)+j[11]+1839030562&4294967295,A=V+(w<<16&4294967295|w>>>16),w=D+(A^V^N)+j[14]+4259657740&4294967295,D=A+(w<<23&4294967295|w>>>9),w=N+(D^A^V)+j[1]+2763975236&4294967295,N=D+(w<<4&4294967295|w>>>28),w=V+(N^D^A)+j[4]+1272893353&4294967295,V=N+(w<<11&4294967295|w>>>21),w=A+(V^N^D)+j[7]+4139469664&4294967295,A=V+(w<<16&4294967295|w>>>16),w=D+(A^V^N)+j[10]+3200236656&4294967295,D=A+(w<<23&4294967295|w>>>9),w=N+(D^A^V)+j[13]+681279174&4294967295,N=D+(w<<4&4294967295|w>>>28),w=V+(N^D^A)+j[0]+3936430074&4294967295,V=N+(w<<11&4294967295|w>>>21),w=A+(V^N^D)+j[3]+3572445317&4294967295,A=V+(w<<16&4294967295|w>>>16),w=D+(A^V^N)+j[6]+76029189&4294967295,D=A+(w<<23&4294967295|w>>>9),w=N+(D^A^V)+j[9]+3654602809&4294967295,N=D+(w<<4&4294967295|w>>>28),w=V+(N^D^A)+j[12]+3873151461&4294967295,V=N+(w<<11&4294967295|w>>>21),w=A+(V^N^D)+j[15]+530742520&4294967295,A=V+(w<<16&4294967295|w>>>16),w=D+(A^V^N)+j[2]+3299628645&4294967295,D=A+(w<<23&4294967295|w>>>9),w=N+(A^(D|~V))+j[0]+4096336452&4294967295,N=D+(w<<6&4294967295|w>>>26),w=V+(D^(N|~A))+j[7]+1126891415&4294967295,V=N+(w<<10&4294967295|w>>>22),w=A+(N^(V|~D))+j[14]+2878612391&4294967295,A=V+(w<<15&4294967295|w>>>17),w=D+(V^(A|~N))+j[5]+4237533241&4294967295,D=A+(w<<21&4294967295|w>>>11),w=N+(A^(D|~V))+j[12]+1700485571&4294967295,N=D+(w<<6&4294967295|w>>>26),w=V+(D^(N|~A))+j[3]+2399980690&4294967295,V=N+(w<<10&4294967295|w>>>22),w=A+(N^(V|~D))+j[10]+4293915773&4294967295,A=V+(w<<15&4294967295|w>>>17),w=D+(V^(A|~N))+j[1]+2240044497&4294967295,D=A+(w<<21&4294967295|w>>>11),w=N+(A^(D|~V))+j[8]+1873313359&4294967295,N=D+(w<<6&4294967295|w>>>26),w=V+(D^(N|~A))+j[15]+4264355552&4294967295,V=N+(w<<10&4294967295|w>>>22),w=A+(N^(V|~D))+j[6]+2734768916&4294967295,A=V+(w<<15&4294967295|w>>>17),w=D+(V^(A|~N))+j[13]+1309151649&4294967295,D=A+(w<<21&4294967295|w>>>11),w=N+(A^(D|~V))+j[4]+4149444226&4294967295,N=D+(w<<6&4294967295|w>>>26),w=V+(D^(N|~A))+j[11]+3174756917&4294967295,V=N+(w<<10&4294967295|w>>>22),w=A+(N^(V|~D))+j[2]+718787259&4294967295,A=V+(w<<15&4294967295|w>>>17),w=D+(V^(A|~N))+j[9]+3951481745&4294967295,S.g[0]=S.g[0]+N&4294967295,S.g[1]=S.g[1]+(A+(w<<21&4294967295|w>>>11))&4294967295,S.g[2]=S.g[2]+A&4294967295,S.g[3]=S.g[3]+V&4294967295}r.prototype.v=function(S,N){N===void 0&&(N=S.length);const D=N-this.blockSize,j=this.C;let A=this.h,V=0;for(;V<N;){if(A==0)for(;V<=D;)o(this,S,V),V+=this.blockSize;if(typeof S=="string"){for(;V<N;)if(j[A++]=S.charCodeAt(V++),A==this.blockSize){o(this,j),A=0;break}}else for(;V<N;)if(j[A++]=S[V++],A==this.blockSize){o(this,j),A=0;break}}this.h=A,this.o+=N},r.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var N=1;N<S.length-8;++N)S[N]=0;N=this.o*8;for(var D=S.length-8;D<S.length;++D)S[D]=N&255,N/=256;for(this.v(S),S=Array(16),N=0,D=0;D<4;++D)for(let j=0;j<32;j+=8)S[N++]=this.g[D]>>>j&255;return S};function u(S,N){var D=g;return Object.prototype.hasOwnProperty.call(D,S)?D[S]:D[S]=N(S)}function f(S,N){this.h=N;const D=[];let j=!0;for(let A=S.length-1;A>=0;A--){const V=S[A]|0;j&&V==N||(D[A]=V,j=!1)}this.g=D}var g={};function v(S){return-128<=S&&S<128?u(S,function(N){return new f([N|0],N<0?-1:0)}):new f([S|0],S<0?-1:0)}function y(S){if(isNaN(S)||!isFinite(S))return R;if(S<0)return K(y(-S));const N=[];let D=1;for(let j=0;S>=D;j++)N[j]=S/D|0,D*=4294967296;return new f(N,0)}function E(S,N){if(S.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(S.charAt(0)=="-")return K(E(S.substring(1),N));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=y(Math.pow(N,8));let j=R;for(let V=0;V<S.length;V+=8){var A=Math.min(8,S.length-V);const w=parseInt(S.substring(V,V+A),N);A<8?(A=y(Math.pow(N,A)),j=j.j(A).add(y(w))):(j=j.j(D),j=j.add(y(w)))}return j}var R=v(0),C=v(1),P=v(16777216);i=f.prototype,i.m=function(){if(W(this))return-K(this).m();let S=0,N=1;for(let D=0;D<this.g.length;D++){const j=this.i(D);S+=(j>=0?j:4294967296+j)*N,N*=4294967296}return S},i.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(U(this))return"0";if(W(this))return"-"+K(this).toString(S);const N=y(Math.pow(S,6));var D=this;let j="";for(;;){const A=ae(D,N).g;D=me(D,A.j(N));let V=((D.g.length>0?D.g[0]:D.h)>>>0).toString(S);if(D=A,U(D))return V+j;for(;V.length<6;)V="0"+V;j=V+j}},i.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function U(S){if(S.h!=0)return!1;for(let N=0;N<S.g.length;N++)if(S.g[N]!=0)return!1;return!0}function W(S){return S.h==-1}i.l=function(S){return S=me(this,S),W(S)?-1:U(S)?0:1};function K(S){const N=S.g.length,D=[];for(let j=0;j<N;j++)D[j]=~S.g[j];return new f(D,~S.h).add(C)}i.abs=function(){return W(this)?K(this):this},i.add=function(S){const N=Math.max(this.g.length,S.g.length),D=[];let j=0;for(let A=0;A<=N;A++){let V=j+(this.i(A)&65535)+(S.i(A)&65535),w=(V>>>16)+(this.i(A)>>>16)+(S.i(A)>>>16);j=w>>>16,V&=65535,w&=65535,D[A]=w<<16|V}return new f(D,D[D.length-1]&-2147483648?-1:0)};function me(S,N){return S.add(K(N))}i.j=function(S){if(U(this)||U(S))return R;if(W(this))return W(S)?K(this).j(K(S)):K(K(this).j(S));if(W(S))return K(this.j(K(S)));if(this.l(P)<0&&S.l(P)<0)return y(this.m()*S.m());const N=this.g.length+S.g.length,D=[];for(var j=0;j<2*N;j++)D[j]=0;for(j=0;j<this.g.length;j++)for(let A=0;A<S.g.length;A++){const V=this.i(j)>>>16,w=this.i(j)&65535,De=S.i(A)>>>16,He=S.i(A)&65535;D[2*j+2*A]+=w*He,ie(D,2*j+2*A),D[2*j+2*A+1]+=V*He,ie(D,2*j+2*A+1),D[2*j+2*A+1]+=w*De,ie(D,2*j+2*A+1),D[2*j+2*A+2]+=V*De,ie(D,2*j+2*A+2)}for(S=0;S<N;S++)D[S]=D[2*S+1]<<16|D[2*S];for(S=N;S<2*N;S++)D[S]=0;return new f(D,0)};function ie(S,N){for(;(S[N]&65535)!=S[N];)S[N+1]+=S[N]>>>16,S[N]&=65535,N++}function k(S,N){this.g=S,this.h=N}function ae(S,N){if(U(N))throw Error("division by zero");if(U(S))return new k(R,R);if(W(S))return N=ae(K(S),N),new k(K(N.g),K(N.h));if(W(N))return N=ae(S,K(N)),new k(K(N.g),N.h);if(S.g.length>30){if(W(S)||W(N))throw Error("slowDivide_ only works with positive integers.");for(var D=C,j=N;j.l(S)<=0;)D=Z(D),j=Z(j);var A=se(D,1),V=se(j,1);for(j=se(j,2),D=se(D,2);!U(j);){var w=V.add(j);w.l(S)<=0&&(A=A.add(D),V=w),j=se(j,1),D=se(D,1)}return N=me(S,A.j(N)),new k(A,N)}for(A=R;S.l(N)>=0;){for(D=Math.max(1,Math.floor(S.m()/N.m())),j=Math.ceil(Math.log(D)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),V=y(D),w=V.j(N);W(w)||w.l(S)>0;)D-=j,V=y(D),w=V.j(N);U(V)&&(V=C),A=A.add(V),S=me(S,w)}return new k(A,S)}i.B=function(S){return ae(this,S).h},i.and=function(S){const N=Math.max(this.g.length,S.g.length),D=[];for(let j=0;j<N;j++)D[j]=this.i(j)&S.i(j);return new f(D,this.h&S.h)},i.or=function(S){const N=Math.max(this.g.length,S.g.length),D=[];for(let j=0;j<N;j++)D[j]=this.i(j)|S.i(j);return new f(D,this.h|S.h)},i.xor=function(S){const N=Math.max(this.g.length,S.g.length),D=[];for(let j=0;j<N;j++)D[j]=this.i(j)^S.i(j);return new f(D,this.h^S.h)};function Z(S){const N=S.g.length+1,D=[];for(let j=0;j<N;j++)D[j]=S.i(j)<<1|S.i(j-1)>>>31;return new f(D,S.h)}function se(S,N){const D=N>>5;N%=32;const j=S.g.length-D,A=[];for(let V=0;V<j;V++)A[V]=N>0?S.i(V+D)>>>N|S.i(V+D+1)<<32-N:S.i(V+D);return new f(A,S.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,pb=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Pi=f}).apply(typeof Oy<"u"?Oy:typeof self<"u"?self:typeof window<"u"?window:{});var nu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gb,ro,vb,lu,Cf,yb,_b,bb;(function(){var i,e=Object.defineProperty;function s(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof nu=="object"&&nu];for(var p=0;p<h.length;++p){var _=h[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=s(this);function o(h,p){if(p)e:{var _=r;h=h.split(".");for(var T=0;T<h.length-1;T++){var z=h[T];if(!(z in _))break e;_=_[z]}h=h[h.length-1],T=_[h],p=p(T),p!=T&&p!=null&&e(_,h,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(p){var _=[],T;for(T in p)Object.prototype.hasOwnProperty.call(p,T)&&_.push([T,p[T]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function g(h){var p=typeof h;return p=="object"&&h!=null||p=="function"}function v(h,p,_){return h.call.apply(h.bind,arguments)}function y(h,p,_){return y=v,y.apply(null,arguments)}function E(h,p){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),h.apply(this,T)}}function R(h,p){function _(){}_.prototype=p.prototype,h.Z=p.prototype,h.prototype=new _,h.prototype.constructor=h,h.Ob=function(T,z,Q){for(var le=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)le[Re-2]=arguments[Re];return p.prototype[z].apply(T,le)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function P(h){const p=h.length;if(p>0){const _=Array(p);for(let T=0;T<p;T++)_[T]=h[T];return _}return[]}function U(h,p){for(let T=1;T<arguments.length;T++){const z=arguments[T];var _=typeof z;if(_=_!="object"?_:z?Array.isArray(z)?"array":_:"null",_=="array"||_=="object"&&typeof z.length=="number"){_=h.length||0;const Q=z.length||0;h.length=_+Q;for(let le=0;le<Q;le++)h[_+le]=z[le]}else h.push(z)}}class W{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function K(h){f.setTimeout(()=>{throw h},0)}function me(){var h=S;let p=null;return h.g&&(p=h.g,h.g=h.g.next,h.g||(h.h=null),p.next=null),p}class ie{constructor(){this.h=this.g=null}add(p,_){const T=k.get();T.set(p,_),this.h?this.h.next=T:this.g=T,this.h=T}}var k=new W(()=>new ae,h=>h.reset());class ae{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,se=!1,S=new ie,N=()=>{const h=Promise.resolve(void 0);Z=()=>{h.then(D)}};function D(){for(var h;h=me();){try{h.h.call(h.g)}catch(_){K(_)}var p=k;p.j(h),p.h<100&&(p.h++,h.next=p.g,p.g=h)}se=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(h,p){this.type=h,this.g=this.target=p,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,p=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};f.addEventListener("test",_,p),f.removeEventListener("test",_,p)}catch{}return h})();function w(h){return/^[\s\xa0]*$/.test(h)}function De(h,p){A.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,p)}R(De,A),De.prototype.init=function(h,p){const _=this.type=h.type,T=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=p,p=h.relatedTarget,p||(_=="mouseover"?p=h.fromElement:_=="mouseout"&&(p=h.toElement)),this.relatedTarget=p,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&De.Z.h.call(this)},De.prototype.h=function(){De.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var He="closure_listenable_"+(Math.random()*1e6|0),Y=0;function ue(h,p,_,T,z){this.listener=h,this.proxy=null,this.src=p,this.type=_,this.capture=!!T,this.ha=z,this.key=++Y,this.da=this.fa=!1}function ge(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Be(h,p,_){for(const T in h)p.call(_,h[T],T,h)}function M(h,p){for(const _ in h)p.call(void 0,h[_],_,h)}function ee(h){const p={};for(const _ in h)p[_]=h[_];return p}const he="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(h,p){let _,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(_ in T)h[_]=T[_];for(let Q=0;Q<he.length;Q++)_=he[Q],Object.prototype.hasOwnProperty.call(T,_)&&(h[_]=T[_])}}function ye(h){this.src=h,this.g={},this.h=0}ye.prototype.add=function(h,p,_,T,z){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const le=fe(h,p,T,z);return le>-1?(p=h[le],_||(p.fa=!1)):(p=new ue(p,this.src,Q,!!T,z),p.fa=_,h.push(p)),p};function Ve(h,p){const _=p.type;if(_ in h.g){var T=h.g[_],z=Array.prototype.indexOf.call(T,p,void 0),Q;(Q=z>=0)&&Array.prototype.splice.call(T,z,1),Q&&(ge(p),h.g[_].length==0&&(delete h.g[_],h.h--))}}function fe(h,p,_,T){for(let z=0;z<h.length;++z){const Q=h[z];if(!Q.da&&Q.listener==p&&Q.capture==!!_&&Q.ha==T)return z}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),q={};function je(h,p,_,T,z){if(Array.isArray(p)){for(let Q=0;Q<p.length;Q++)je(h,p[Q],_,T,z);return null}return _=Lo(_),h&&h[He]?h.J(p,_,g(T)?!!T.capture:!1,z):Se(h,p,_,!1,T,z)}function Se(h,p,_,T,z,Q){if(!p)throw Error("Invalid event type");const le=g(z)?!!z.capture:!!z;let Re=Wr(h);if(Re||(h[ke]=Re=new ye(h)),_=Re.add(p,_,T,le,Q),_.proxy)return _;if(T=zt(),_.proxy=T,T.src=h,T.listener=_,h.addEventListener)V||(z=le),z===void 0&&(z=!1),h.addEventListener(p.toString(),T,z);else if(h.attachEvent)h.attachEvent(Ya(p.toString()),T);else if(h.addListener&&h.removeListener)h.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function zt(){function h(_){return p.call(h.src,h.listener,_)}const p=ih;return h}function Qa(h,p,_,T,z){if(Array.isArray(p))for(var Q=0;Q<p.length;Q++)Qa(h,p[Q],_,T,z);else T=g(T)?!!T.capture:!!T,_=Lo(_),h&&h[He]?(h=h.i,Q=String(p).toString(),Q in h.g&&(p=h.g[Q],_=fe(p,_,T,z),_>-1&&(ge(p[_]),Array.prototype.splice.call(p,_,1),p.length==0&&(delete h.g[Q],h.h--)))):h&&(h=Wr(h))&&(p=h.g[p.toString()],h=-1,p&&(h=fe(p,_,T,z)),(_=h>-1?p[h]:null)&&Xi(_))}function Xi(h){if(typeof h!="number"&&h&&!h.da){var p=h.src;if(p&&p[He])Ve(p.i,h);else{var _=h.type,T=h.proxy;p.removeEventListener?p.removeEventListener(_,T,h.capture):p.detachEvent?p.detachEvent(Ya(_),T):p.addListener&&p.removeListener&&p.removeListener(T),(_=Wr(p))?(Ve(_,h),_.h==0&&(_.src=null,p[ke]=null)):ge(h)}}}function Ya(h){return h in q?q[h]:q[h]="on"+h}function ih(h,p){if(h.da)h=!0;else{p=new De(p,this);const _=h.listener,T=h.ha||h.src;h.fa&&Xi(h),h=_.call(T,p)}return h}function Wr(h){return h=h[ke],h instanceof ye?h:null}var hn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Lo(h){return typeof h=="function"?h:(h[hn]||(h[hn]=function(p){return h.handleEvent(p)}),h[hn])}function Ct(){j.call(this),this.i=new ye(this),this.M=this,this.G=null}R(Ct,j),Ct.prototype[He]=!0,Ct.prototype.removeEventListener=function(h,p,_,T){Qa(this,h,p,_,T)};function Ot(h,p){var _,T=h.G;if(T)for(_=[];T;T=T.G)_.push(T);if(h=h.M,T=p.type||p,typeof p=="string")p=new A(p,h);else if(p instanceof A)p.target=p.target||h;else{var z=p;p=new A(T,h),ce(p,z)}z=!0;let Q,le;if(_)for(le=_.length-1;le>=0;le--)Q=p.g=_[le],z=As(Q,T,!0,p)&&z;if(Q=p.g=h,z=As(Q,T,!0,p)&&z,z=As(Q,T,!1,p)&&z,_)for(le=0;le<_.length;le++)Q=p.g=_[le],z=As(Q,T,!1,p)&&z}Ct.prototype.N=function(){if(Ct.Z.N.call(this),this.i){var h=this.i;for(const p in h.g){const _=h.g[p];for(let T=0;T<_.length;T++)ge(_[T]);delete h.g[p],h.h--}}this.G=null},Ct.prototype.J=function(h,p,_,T){return this.i.add(String(h),p,!1,_,T)},Ct.prototype.K=function(h,p,_,T){return this.i.add(String(h),p,!0,_,T)};function As(h,p,_,T){if(p=h.i.g[String(p)],!p)return!0;p=p.concat();let z=!0;for(let Q=0;Q<p.length;++Q){const le=p[Q];if(le&&!le.da&&le.capture==_){const Re=le.listener,ct=le.ha||le.src;le.fa&&Ve(h.i,le),z=Re.call(ct,T)!==!1&&z}}return z&&!T.defaultPrevented}function ah(h,p){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(h,p||0)}function el(h){h.g=ah(()=>{h.g=null,h.i&&(h.i=!1,el(h))},h.l);const p=h.h;h.h=null,h.m.apply(null,p)}class rh extends j{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:el(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zi(h){j.call(this),this.h=h,this.g={}}R(Zi,j);var Js=[];function Kt(h){Be(h.g,function(p,_){this.g.hasOwnProperty(_)&&Xi(p)},h),h.g={}}Zi.prototype.N=function(){Zi.Z.N.call(this),Kt(this)},Zi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=f.JSON.stringify,sn=f.JSON.parse,lh=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function Po(){}function Uo(){}var ts={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ws(){A.call(this,"d")}R(Ws,A);function Fn(){A.call(this,"c")}R(Fn,A);var In={},ei=null;function $a(){return ei=ei||new Ct}In.Ia="serverreachability";function tl(h){A.call(this,In.Ia,h)}R(tl,A);function ti(h){const p=$a();Ot(p,new tl(p))}In.STAT_EVENT="statevent";function Ka(h,p){A.call(this,In.STAT_EVENT,h),this.stat=p}R(Ka,A);function vt(h){const p=$a();Ot(p,new Ka(p,h))}In.Ja="timingevent";function Bo(h,p){A.call(this,In.Ja,h),this.size=p}R(Bo,A);function ni(h,p){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},p)}function si(){this.g=!0}si.prototype.ua=function(){this.g=!1};function nl(h,p,_,T,z,Q){h.info(function(){if(h.g)if(Q){var le="",Re=Q.split("&");for(let Je=0;Je<Re.length;Je++){var ct=Re[Je].split("=");if(ct.length>1){const bt=ct[0];ct=ct[1];const bn=bt.split("_");le=bn.length>=2&&bn[1]=="type"?le+(bt+"="+ct+"&"):le+(bt+"=redacted&")}}}else le=null;else le=Q;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+p+`
`+_+`
`+le})}function sl(h,p,_,T,z,Q,le){h.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+p+`
`+_+`
`+Q+" "+le})}function Ns(h,p,_,T){h.info(function(){return"XMLHTTP TEXT ("+p+"): "+ns(h,_)+(T?" "+T:"")})}function oh(h,p){h.info(function(){return"TIMEOUT: "+p})}si.prototype.info=function(){};function ns(h,p){if(!h.g)return p;if(!p)return null;try{const Q=JSON.parse(p);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var _=Q[h];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var z=T[0];if(z!="noop"&&z!="stop"&&z!="close")for(let le=1;le<T.length;le++)T[le]=""}}}}return Dn(Q)}catch{return p}}var yt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},qt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ss;function Ji(){}R(Ji,Po),Ji.prototype.g=function(){return new XMLHttpRequest},Ss=new Ji;function Wi(h){return encodeURIComponent(String(h))}function ch(h){var p=1;h=h.split(":");const _=[];for(;p>0&&h.length;)_.push(h.shift()),p--;return h.length&&_.push(h.join(":")),_}function Gn(h,p,_,T){this.j=h,this.i=p,this.l=_,this.S=T||1,this.V=new Zi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ii}function ii(){this.i=null,this.g="",this.h=!1}var Xa={},ss={};function is(h,p,_){h.M=1,h.A=js(dt(p)),h.u=_,h.R=!0,ai(h,null)}function ai(h,p){h.F=Date.now(),ea(h),h.B=dt(h.A);var _=h.B,T=h.S;Array.isArray(T)||(T=[String(T)]),Fo(_.i,"t",T),h.C=0,_=h.j.L,h.h=new ii,h.g=rr(h.j,_?p:null,!h.u),h.P>0&&(h.O=new rh(y(h.Y,h,h.g),h.P)),p=h.V,_=h.g,T=h.ba;var z="readystatechange";Array.isArray(z)||(z&&(Js[0]=z.toString()),z=Js);for(let Q=0;Q<z.length;Q++){const le=je(_,z[Q],T||p.handleEvent,!1,p.h||p);if(!le)break;p.g[le.key]=le}p=h.J?ee(h.J):{},h.u?(h.v||(h.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,p)):(h.v="GET",h.g.ea(h.B,h.v,null,p)),ti(),nl(h.i,h.v,h.B,h.l,h.S,h.u)}Gn.prototype.ba=function(h){h=h.target;const p=this.O;p&&Xt(h)==3?p.j():this.Y(h)},Gn.prototype.Y=function(h){try{if(h==this.g)e:{const Re=Xt(this.g),ct=this.g.ya(),Je=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||ha(this.g)))){this.K||Re!=4||ct==7||(ct==8||Je<=0?ti(3):ti(2)),rs(this);var p=this.g.ca();this.X=p;var _=ri(this);if(this.o=p==200,sl(this.i,this.v,this.B,this.l,this.S,Re,p),this.o){if(this.U&&!this.L){t:{if(this.g){var T,z=this.g;if((T=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var Q=T;break t}}Q=null}if(h=Q)Ns(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Za(this,h);else{this.o=!1,this.m=3,vt(12),ls(this),ta(this);break e}}if(this.R){h=!0;let bt;for(;!this.K&&this.C<_.length;)if(bt=zo(this,_),bt==ss){Re==4&&(this.m=4,vt(14),h=!1),Ns(this.i,this.l,null,"[Incomplete Response]");break}else if(bt==Xa){this.m=4,vt(15),Ns(this.i,this.l,_,"[Invalid Chunk]"),h=!1;break}else Ns(this.i,this.l,bt,null),Za(this,bt);if(_t(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||_.length!=0||this.h.h||(this.m=1,vt(16),h=!1),this.o=this.o&&h,!h)Ns(this.i,this.l,_,"[Invalid Chunked Response]"),ls(this),ta(this);else if(_.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),fl(le),le.P=!0,vt(11))}}else Ns(this.i,this.l,_,null),Za(this,_);Re==4&&ls(this),this.o&&!this.K&&(Re==4?ml(this.j,this):(this.o=!1,ea(this)))}else da(this.g),p==400&&_.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),ls(this),ta(this)}}}catch{}finally{}};function ri(h){if(!_t(h))return h.g.la();const p=ha(h.g);if(p==="")return"";let _="";const T=p.length,z=Xt(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return ls(h),ta(h),"";h.h.i=new f.TextDecoder}for(let Q=0;Q<T;Q++)h.h.h=!0,_+=h.h.i.decode(p[Q],{stream:!(z&&Q==T-1)});return p.length=0,h.h.g+=_,h.C=0,h.h.g}function _t(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function zo(h,p){var _=h.C,T=p.indexOf(`
`,_);return T==-1?ss:(_=Number(p.substring(_,T)),isNaN(_)?Xa:(T+=1,T+_>p.length?ss:(p=p.slice(T,T+_),h.C=T+_,p)))}Gn.prototype.cancel=function(){this.K=!0,ls(this)};function ea(h){h.T=Date.now()+h.H,as(h,h.H)}function as(h,p){if(h.D!=null)throw Error("WatchDog timer not null");h.D=ni(y(h.aa,h),p)}function rs(h){h.D&&(f.clearTimeout(h.D),h.D=null)}Gn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(oh(this.i,this.B),this.M!=2&&(ti(),vt(17)),ls(this),this.m=2,ta(this)):as(this,this.T-h)};function ta(h){h.j.I==0||h.K||ml(h.j,h)}function ls(h){rs(h);var p=h.O;p&&typeof p.dispose=="function"&&p.dispose(),h.O=null,Kt(h.V),h.g&&(p=h.g,h.g=null,p.abort(),p.dispose())}function Za(h,p){try{var _=h.j;if(_.I!=0&&(_.g==h||ia(_.h,h))){if(!h.L&&ia(_.h,h)&&_.I==3){try{var T=_.Ba.g.parse(p)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<h.F)ar(_),os(_);else break e;dl(_),vt(18)}}else _.xa=z[1],0<_.xa-_.K&&z[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ni(y(_.Va,_),6e3));Mn(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ds(_,11)}else if((h.L||_.g==h)&&ar(_),!w(p))for(z=_.Ba.g.parse(p),p=0;p<z.length;p++){let Je=z[p];const bt=Je[0];if(!(bt<=_.K))if(_.K=bt,Je=Je[1],_.I==2)if(Je[0]=="c"){_.M=Je[1],_.ba=Je[2];const bn=Je[3];bn!=null&&(_.ka=bn,_.j.info("VER="+_.ka));const cs=Je[4];cs!=null&&(_.za=cs,_.j.info("SVER="+_.za));const $n=Je[5];$n!=null&&typeof $n=="number"&&$n>0&&(T=1.5*$n,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Kn=h.g;if(Kn){const Xn=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xn){var Q=T.h;Q.g||Xn.indexOf("spdy")==-1&&Xn.indexOf("quic")==-1&&Xn.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ja(Q,Q.h),Q.h=null))}if(T.G){const gl=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;gl&&(T.wa=gl,tt(T.J,T.G,gl))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-h.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var le=h;if(T.na=Wo(T,T.L?T.ba:null,T.W),le.L){ws(T.h,le);var Re=le,ct=T.O;ct&&(Re.H=ct),Re.D&&(rs(Re),ea(Re)),T.g=le}else Ko(T);_.i.length>0&&ga(_)}else Je[0]!="stop"&&Je[0]!="close"||Ds(_,7);else _.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?Ds(_,7):ma(_):Je[0]!="noop"&&_.l&&_.l.qa(Je),_.A=0)}}ti(4)}catch{}}var uh=class{constructor(h,p){this.g=h,this.map=p}};function na(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function sa(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Mn(h){return h.h?1:h.g?h.g.size:0}function ia(h,p){return h.h?h.h==p:h.g?h.g.has(p):!1}function Ja(h,p){h.g?h.g.add(p):h.h=p}function ws(h,p){h.h&&h.h==p?h.h=null:h.g&&h.g.has(p)&&h.g.delete(p)}na.prototype.cancel=function(){if(this.i=Wa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Wa(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let p=h.i;for(const _ of h.g.values())p=p.concat(_.G);return p}return P(h.i)}var er=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hh(h,p){if(h){h=h.split("&");for(let _=0;_<h.length;_++){const T=h[_].indexOf("=");let z,Q=null;T>=0?(z=h[_].substring(0,T),Q=h[_].substring(T+1)):z=h[_],p(z,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Qn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;h instanceof Qn?(this.l=h.l,li(this,h.j),this.o=h.o,this.g=h.g,aa(this,h.u),this.h=h.h,oi(this,Go(h.i)),this.m=h.m):h&&(p=String(h).match(er))?(this.l=!1,li(this,p[1]||"",!0),this.o=ra(p[2]||""),this.g=ra(p[3]||"",!0),aa(this,p[4]),this.h=ra(p[5]||"",!0),oi(this,p[6]||"",!0),this.m=ra(p[7]||"")):(this.l=!1,this.i=new Vn(null,this.l))}Qn.prototype.toString=function(){const h=[];var p=this.j;p&&h.push(kt(p,al,!0),":");var _=this.g;return(_||p=="file")&&(h.push("//"),(p=this.o)&&h.push(kt(p,al,!0),"@"),h.push(Wi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&h.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(kt(_,_.charAt(0)=="/"?ci:rl,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",kt(_,Ho)),h.join("")},Qn.prototype.resolve=function(h){const p=dt(this);let _=!!h.j;_?li(p,h.j):_=!!h.o,_?p.o=h.o:_=!!h.g,_?p.g=h.g:_=h.u!=null;var T=h.h;if(_)aa(p,h.u);else if(_=!!h.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var z=p.h.lastIndexOf("/");z!=-1&&(T=p.h.slice(0,z+1)+T)}if(z=T,z==".."||z==".")T="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){T=z.lastIndexOf("/",0)==0,z=z.split("/");const Q=[];for(let le=0;le<z.length;){const Re=z[le++];Re=="."?T&&le==z.length&&Q.push(""):Re==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),T&&le==z.length&&Q.push("")):(Q.push(Re),T=!0)}T=Q.join("/")}else T=z}return _?p.h=T:_=h.i.toString()!=="",_?oi(p,Go(h.i)):_=!!h.m,_&&(p.m=h.m),p};function dt(h){return new Qn(h)}function li(h,p,_){h.j=_?ra(p,!0):p,h.j&&(h.j=h.j.replace(/:$/,""))}function aa(h,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);h.u=p}else h.u=null}function oi(h,p,_){p instanceof Vn?(h.i=p,cl(h.i,h.l)):(_||(p=kt(p,qo)),h.i=new Vn(p,h.l))}function tt(h,p,_){h.i.set(p,_)}function js(h){return tt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ra(h,p){return h?p?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function kt(h,p,_){return typeof h=="string"?(h=encodeURI(h).replace(p,il),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function il(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var al=/[#\/\?@]/g,rl=/[#\?:]/g,ci=/[#\?]/g,qo=/[#\?@]/g,Ho=/#/g;function Vn(h,p){this.h=this.g=null,this.i=h||null,this.j=!!p}function Rs(h){h.g||(h.g=new Map,h.h=0,h.i&&hh(h.i,function(p,_){h.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}i=Vn.prototype,i.add=function(h,p){Rs(this),this.i=null,h=Yn(this,h);let _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(p),this.h+=1,this};function ll(h,p){Rs(h),p=Yn(h,p),h.g.has(p)&&(h.i=null,h.h-=h.g.get(p).length,h.g.delete(p))}function ol(h,p){return Rs(h),p=Yn(h,p),h.g.has(p)}i.forEach=function(h,p){Rs(this),this.g.forEach(function(_,T){_.forEach(function(z){h.call(p,z,T,this)},this)},this)};function tr(h,p){Rs(h);let _=[];if(typeof p=="string")ol(h,p)&&(_=_.concat(h.g.get(Yn(h,p))));else for(h=Array.from(h.g.values()),p=0;p<h.length;p++)_=_.concat(h[p]);return _}i.set=function(h,p){return Rs(this),this.i=null,h=Yn(this,h),ol(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[p]),this.h+=1,this},i.get=function(h,p){return h?(h=tr(this,h),h.length>0?String(h[0]):p):p};function Fo(h,p,_){ll(h,p),_.length>0&&(h.i=null,h.g.set(Yn(h,p),P(_)),h.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],p=Array.from(this.g.keys());for(let T=0;T<p.length;T++){var _=p[T];const z=Wi(_);_=tr(this,_);for(let Q=0;Q<_.length;Q++){let le=z;_[Q]!==""&&(le+="="+Wi(_[Q])),h.push(le)}}return this.i=h.join("&")};function Go(h){const p=new Vn;return p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),p}function Yn(h,p){return p=String(p),h.j&&(p=p.toLowerCase()),p}function cl(h,p){p&&!h.j&&(Rs(h),h.i=null,h.g.forEach(function(_,T){const z=T.toLowerCase();T!=z&&(ll(this,T),Fo(this,z,_))},h)),h.j=p}function ul(h,p){const _=new si;if(f.Image){const T=new Image;T.onload=E(an,_,"TestLoadImage: loaded",!0,p,T),T.onerror=E(an,_,"TestLoadImage: error",!1,p,T),T.onabort=E(an,_,"TestLoadImage: abort",!1,p,T),T.ontimeout=E(an,_,"TestLoadImage: timeout",!1,p,T),f.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=h}else p(!1)}function ui(h,p){const _=new si,T=new AbortController,z=setTimeout(()=>{T.abort(),an(_,"TestPingServer: timeout",!1,p)},1e4);fetch(h,{signal:T.signal}).then(Q=>{clearTimeout(z),Q.ok?an(_,"TestPingServer: ok",!0,p):an(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(z),an(_,"TestPingServer: error",!1,p)})}function an(h,p,_,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(_)}catch{}}function Qo(){this.g=new lh}function la(h){this.i=h.Sb||null,this.h=h.ab||!1}R(la,Po),la.prototype.g=function(){return new oa(this.i,this.h)};function oa(h,p){Ct.call(this),this.H=h,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}R(oa,Ct),i=oa.prototype,i.open=function(h,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=p,this.readyState=1,Cs(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(p.body=h),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,rn(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Cs(this)),this.g&&(this.readyState=3,Cs(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;hi(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function hi(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var p=h.value?h.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!h.done}))&&(this.response=this.responseText+=p)}h.done?rn(this):Cs(this),this.readyState==3&&hi(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,rn(this))},i.Na=function(h){this.g&&(this.response=h,rn(this))},i.ga=function(){this.g&&rn(this)};function rn(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Cs(h)}i.setRequestHeader=function(h,p){this.A.append(h,p)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=p.next();return h.join(`\r
`)};function Cs(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(oa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function di(h){let p="";return Be(h,function(_,T){p+=T,p+=":",p+=_,p+=`\r
`}),p}function On(h,p,_){e:{for(T in _){var T=!1;break e}T=!0}T||(_=di(_),typeof h=="string"?_!=null&&Wi(_):tt(h,p,_))}function lt(h){Ct.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}R(lt,Ct);var nr=/^https?$/i,Yo=["POST","PUT"];i=lt.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,p,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);p=p?p.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ss.g(),this.g.onreadystatechange=C(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(h),!0),this.B=!1}catch(Q){ca(this,Q);return}if(h=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)_.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const Q of T.keys())_.set(Q,T.get(Q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=f.FormData&&h instanceof f.FormData,!(Array.prototype.indexOf.call(Yo,p,void 0)>=0)||T||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,le]of _)this.g.setRequestHeader(Q,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){ca(this,Q)}};function ca(h,p){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=p,h.o=5,ua(h),Dt(h)}function ua(h){h.A||(h.A=!0,Ot(h,"complete"),Ot(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ot(this,"complete"),Ot(this,"abort"),Dt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dt(this,!0)),lt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?hl(this):this.Xa())},i.Xa=function(){hl(this)};function hl(h){if(h.h&&typeof u<"u"){if(h.v&&Xt(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ot(h,"readystatechange"),Xt(h)==4){h.h=!1;try{const Q=h.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var T;if(T=Q===0){let le=String(h.D).match(er)[1]||null;!le&&f.self&&f.self.location&&(le=f.self.location.protocol.slice(0,-1)),T=!nr.test(le?le.toLowerCase():"")}_=T}if(_)Ot(h,"complete"),Ot(h,"success");else{h.o=6;try{var z=Xt(h)>2?h.g.statusText:""}catch{z=""}h.l=z+" ["+h.ca()+"]",ua(h)}}finally{Dt(h)}}}}function Dt(h,p){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const _=h.g;h.g=null,p||Ot(h,"ready");try{_.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Xt(h){return h.g?h.g.readyState:0}i.ca=function(){try{return Xt(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var p=this.g.responseText;return h&&p.indexOf(h)==0&&(p=p.substring(h.length)),sn(p)}};function ha(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function da(h){const p={};h=(h.g&&Xt(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<h.length;T++){if(w(h[T]))continue;var _=ch(h[T]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=p[z]||[];p[z]=Q,Q.push(_)}M(p,function(T){return T.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fa(h,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||p}function sr(h){this.za=0,this.i=[],this.j=new si,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fa("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fa("baseRetryDelayMs",5e3,h),this.Za=fa("retryDelaySeedMs",1e4,h),this.Ta=fa("forwardChannelMaxRetries",2,h),this.va=fa("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new na(h&&h.concurrentRequestLimit),this.Ba=new Qo,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=sr.prototype,i.ka=8,i.I=1,i.connect=function(h,p,_,T){vt(0),this.W=h,this.H=p||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=Wo(this,null,this.W),ga(this)};function ma(h){if(pa(h),h.I==3){var p=h.V++,_=dt(h.J);if(tt(_,"SID",h.M),tt(_,"RID",p),tt(_,"TYPE","terminate"),va(h,_),p=new Gn(h,h.j,p),p.M=2,p.A=js(dt(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!_&&f.Image&&(new Image().src=p.A,_=!0),_||(p.g=rr(p.j,null),p.g.ea(p.A)),p.F=Date.now(),ea(p)}Jo(h)}function os(h){h.g&&(fl(h),h.g.cancel(),h.g=null)}function pa(h){os(h),h.v&&(f.clearTimeout(h.v),h.v=null),ar(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&f.clearTimeout(h.m),h.m=null)}function ga(h){if(!sa(h.h)&&!h.m){h.m=!0;var p=h.Ea;Z||N(),se||(Z(),se=!0),S.add(p,h),h.D=0}}function dh(h,p){return Mn(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=p.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=ni(y(h.Ea,h,p),Zo(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const z=new Gn(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=ee(Q),ce(Q,this.U)):Q=this.U),this.u!==null||this.R||(z.J=Q,Q=null),this.S)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(p+=T,p>4096){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=ir(this,z,p),_=dt(this.J),tt(_,"RID",h),tt(_,"CVER",22),this.G&&tt(_,"X-HTTP-Session-Id",this.G),va(this,_),Q&&(this.R?p="headers="+Wi(di(Q))+"&"+p:this.u&&On(_,this.u,Q)),Ja(this.h,z),this.Ra&&tt(_,"TYPE","init"),this.S?(tt(_,"$req",p),tt(_,"SID","null"),z.U=!0,is(z,_,null)):is(z,_,p),this.I=2}}else this.I==3&&(h?$o(this,h):this.i.length==0||sa(this.h)||$o(this))};function $o(h,p){var _;p?_=p.l:_=h.V++;const T=dt(h.J);tt(T,"SID",h.M),tt(T,"RID",_),tt(T,"AID",h.K),va(h,T),h.u&&h.o&&On(T,h.u,h.o),_=new Gn(h,h.j,_,h.D+1),h.u===null&&(_.J=h.o),p&&(h.i=p.G.concat(h.i)),p=ir(h,_,1e3),_.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Ja(h.h,_),is(_,T,p)}function va(h,p){h.H&&Be(h.H,function(_,T){tt(p,T,_)}),h.l&&Be({},function(_,T){tt(p,T,_)})}function ir(h,p,_){_=Math.min(h.i.length,_);const T=h.l?y(h.l.Ka,h.l,h):null;e:{var z=h.i;let Re=-1;for(;;){const ct=["count="+_];Re==-1?_>0?(Re=z[0].g,ct.push("ofs="+Re)):Re=0:ct.push("ofs="+Re);let Je=!0;for(let bt=0;bt<_;bt++){var Q=z[bt].g;const bn=z[bt].map;if(Q-=Re,Q<0)Re=Math.max(0,z[bt].g-100),Je=!1;else try{Q="req"+Q+"_"||"";try{var le=bn instanceof Map?bn:Object.entries(bn);for(const[cs,$n]of le){let Kn=$n;g($n)&&(Kn=Dn($n)),ct.push(Q+cs+"="+encodeURIComponent(Kn))}}catch(cs){throw ct.push(Q+"type="+encodeURIComponent("_badmap")),cs}}catch{T&&T(bn)}}if(Je){le=ct.join("&");break e}}le=void 0}return h=h.i.splice(0,_),p.G=h,le}function Ko(h){if(!h.g&&!h.v){h.Y=1;var p=h.Da;Z||N(),se||(Z(),se=!0),S.add(p,h),h.A=0}}function dl(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=ni(y(h.Da,h),Zo(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,Xo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=ni(y(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),os(this),Xo(this))};function fl(h){h.B!=null&&(f.clearTimeout(h.B),h.B=null)}function Xo(h){h.g=new Gn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var p=dt(h.na);tt(p,"RID","rpc"),tt(p,"SID",h.M),tt(p,"AID",h.K),tt(p,"CI",h.F?"0":"1"),!h.F&&h.ia&&tt(p,"TO",h.ia),tt(p,"TYPE","xmlhttp"),va(h,p),h.u&&h.o&&On(p,h.u,h.o),h.O&&(h.g.H=h.O);var _=h.g;h=h.ba,_.M=1,_.A=js(dt(p)),_.u=null,_.R=!0,ai(_,h)}i.Va=function(){this.C!=null&&(this.C=null,os(this),dl(this),vt(19))};function ar(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function ml(h,p){var _=null;if(h.g==p){ar(h),fl(h),h.g=null;var T=2}else if(ia(h.h,p))_=p.G,ws(h.h,p),T=1;else return;if(h.I!=0){if(p.o)if(T==1){_=p.u?p.u.length:0,p=Date.now()-p.F;var z=h.D;T=$a(),Ot(T,new Bo(T,_)),ga(h)}else Ko(h);else if(z=p.m,z==3||z==0&&p.X>0||!(T==1&&dh(h,p)||T==2&&dl(h)))switch(_&&_.length>0&&(p=h.h,p.i=p.i.concat(_)),z){case 1:Ds(h,5);break;case 4:Ds(h,10);break;case 3:Ds(h,6);break;default:Ds(h,2)}}}function Zo(h,p){let _=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(_*=2),_*p}function Ds(h,p){if(h.j.info("Error code "+p),p==2){var _=y(h.bb,h),T=h.Ua;const z=!T;T=new Qn(T||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||li(T,"https"),js(T),z?ul(T.toString(),_):ui(T.toString(),_)}else vt(2);h.I=0,h.l&&h.l.pa(p),Jo(h),pa(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Jo(h){if(h.I=0,h.ja=[],h.l){const p=Wa(h.h);(p.length!=0||h.i.length!=0)&&(U(h.ja,p),U(h.ja,h.i),h.h.i.length=0,P(h.i),h.i.length=0),h.l.oa()}}function Wo(h,p,_){var T=_ instanceof Qn?dt(_):new Qn(_);if(T.g!="")p&&(T.g=p+"."+T.g),aa(T,T.u);else{var z=f.location;T=z.protocol,p=p?p+"."+z.hostname:z.hostname,z=+z.port;const Q=new Qn(null);T&&li(Q,T),p&&(Q.g=p),z&&aa(Q,z),_&&(Q.h=_),T=Q}return _=h.G,p=h.wa,_&&p&&tt(T,_,p),tt(T,"VER",h.ka),va(h,T),T}function rr(h,p,_){if(p&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=h.Aa&&!h.ma?new lt(new la({ab:_})):new lt(h.ma),p.Fa(h.L),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function ec(){}i=ec.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function lr(){}lr.prototype.g=function(h,p){return new ln(h,p)};function ln(h,p){Ct.call(this),this.g=new sr(p),this.l=h,this.h=p&&p.messageUrlParams||null,h=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(h?h["X-WebChannel-Content-Type"]=p.messageContentType:h={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(h?h["X-WebChannel-Client-Profile"]=p.sa:h={"X-WebChannel-Client-Profile":p.sa}),this.g.U=h,(h=p&&p.Qb)&&!w(h)&&(this.g.u=h),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!w(p)&&(this.g.G=p,h=this.h,h!==null&&p in h&&(h=this.h,p in h&&delete h[p])),this.j=new fi(this)}R(ln,Ct),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){ma(this.g)},ln.prototype.o=function(h){var p=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.v&&(_={},_.__data__=Dn(h),h=_);p.i.push(new uh(p.Ya++,h)),p.I==3&&ga(p)},ln.prototype.N=function(){this.g.l=null,delete this.j,ma(this.g),delete this.g,ln.Z.N.call(this)};function pl(h){Ws.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var p=h.__sm__;if(p){e:{for(const _ in p){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,p=p!==null&&h in p?p[h]:void 0),this.data=p}else this.data=h}R(pl,Ws);function tc(){Fn.call(this),this.status=1}R(tc,Fn);function fi(h){this.g=h}R(fi,ec),fi.prototype.ra=function(){Ot(this.g,"a")},fi.prototype.qa=function(h){Ot(this.g,new pl(h))},fi.prototype.pa=function(h){Ot(this.g,new tc)},fi.prototype.oa=function(){Ot(this.g,"b")},lr.prototype.createWebChannel=lr.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,bb=function(){return new lr},_b=function(){return $a()},yb=In,Cf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},yt.NO_ERROR=0,yt.TIMEOUT=8,yt.HTTP_ERROR=6,lu=yt,qt.COMPLETE="complete",vb=qt,Uo.EventType=ts,ts.OPEN="a",ts.CLOSE="b",ts.ERROR="c",ts.MESSAGE="d",Ct.prototype.listen=Ct.prototype.J,ro=Uo,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,gb=lt}).apply(typeof nu<"u"?nu:typeof self<"u"?self:typeof window<"u"?window:{});const ky="@firebase/firestore",Ly="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kr="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=new Jf("@firebase/firestore");function kr(){return za.logLevel}function de(i,...e){if(za.logLevel<=Qe.DEBUG){const s=e.map(am);za.debug(`Firestore (${Kr}): ${i}`,...s)}}function Ks(i,...e){if(za.logLevel<=Qe.ERROR){const s=e.map(am);za.error(`Firestore (${Kr}): ${i}`,...s)}}function qr(i,...e){if(za.logLevel<=Qe.WARN){const s=e.map(am);za.warn(`Firestore (${Kr}): ${i}`,...s)}}function am(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(s){return JSON.stringify(s)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(i,e,s){let r="Unexpected state";typeof e=="string"?r=e:s=e,Eb(i,r,s)}function Eb(i,e,s){let r=`FIRESTORE (${Kr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(s!==void 0)try{r+=" CONTEXT: "+JSON.stringify(s)}catch{r+=" CONTEXT: "+s}throw Ks(r),new Error(r)}function Ze(i,e,s,r){let o="Unexpected state";typeof s=="string"?o=s:r=s,i||Eb(e,o,r)}function Ce(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Yi{constructor(e,s){super(e,s),this.code=e,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(){this.promise=new Promise(((e,s)=>{this.resolve=e,this.reject=s}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,s){e.enqueueRetryable((()=>s(en.UNAUTHENTICATED)))}shutdown(){}}class HN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,s){this.changeListener=s,e.enqueueRetryable((()=>s(this.token.user)))}shutdown(){this.changeListener=null}}class FN{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,s){Ze(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,s(v)):Promise.resolve();let u=new Qs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Qs,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const v=u;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},g=v=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Qs)}}),0),f()}getToken(){const e=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string",31837,{l:r}),new xb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class GN{constructor(e,s,r){this.P=e,this.T=s,this.I=r,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QN{constructor(e,s,r){this.P=e,this.T=s,this.I=r}getToken(){return Promise.resolve(new GN(this.P,this.T,this.I))}start(e,s){e.enqueueRetryable((()=>s(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Py{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YN{constructor(e,s){this.V=s,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,lA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,s){Ze(this.o===void 0,3512);const r=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,de("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?s(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Py(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((s=>s?(Ze(typeof s.token=="string",44558,{tokenResult:s}),this.m=s.token,new Py(s.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(s);else for(let r=0;r<i;r++)s[r]=Math.floor(256*Math.random());return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=$N(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<s&&(r+=e.charAt(o[u]%62))}return r}}function ze(i,e){return i<e?-1:i>e?1:0}function Df(i,e){const s=Math.min(i.length,e.length);for(let r=0;r<s;r++){const o=i.charAt(r),u=e.charAt(r);if(o!==u)return vf(o)===vf(u)?ze(o,u):vf(o)?1:-1}return ze(i.length,e.length)}const KN=55296,XN=57343;function vf(i){const e=i.charCodeAt(0);return e>=KN&&e<=XN}function Hr(i,e,s){return i.length===e.length&&i.every(((r,o)=>s(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="__name__";class ps{constructor(e,s,r){s===void 0?s=0:s>e.length&&Te(637,{offset:s,range:e.length}),r===void 0?r=e.length-s:r>e.length-s&&Te(1746,{length:r,range:e.length-s}),this.segments=e,this.offset=s,this.len=r}get length(){return this.len}isEqual(e){return ps.comparator(this,e)===0}child(e){const s=this.segments.slice(this.offset,this.limit());return e instanceof ps?e.forEach((r=>{s.push(r)})):s.push(e),this.construct(s)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}forEach(e){for(let s=this.offset,r=this.limit();s<r;s++)e(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,s){const r=Math.min(e.length,s.length);for(let o=0;o<r;o++){const u=ps.compareSegments(e.get(o),s.get(o));if(u!==0)return u}return ze(e.length,s.length)}static compareSegments(e,s){const r=ps.isNumericId(e),o=ps.isNumericId(s);return r&&!o?-1:!r&&o?1:r&&o?ps.extractNumericId(e).compare(ps.extractNumericId(s)):Df(e,s)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pi.fromString(e.substring(4,e.length-2))}}class rt extends ps{construct(e,s,r){return new rt(e,s,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const s=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);s.push(...r.split("/").filter((o=>o.length>0)))}return new rt(s)}static emptyPath(){return new rt([])}}const ZN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends ps{construct(e,s,r){return new Yt(e,s,r)}static isValidIdentifier(e){return ZN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Uy}static keyField(){return new Yt([Uy])}static fromServerFormat(e){const s=[];let r="",o=0;const u=()=>{if(r.length===0)throw new oe($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(r),r=""};let f=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new oe($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new oe($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else g==="`"?(f=!f,o++):g!=="."||f?(r+=g,o++):(u(),o++)}if(u(),f)throw new oe($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(s)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(rt.fromString(e))}static fromName(e){return new be(rt.fromString(e).popFirst(5))}static empty(){return new be(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,s){return rt.comparator(e.path,s.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(i,e,s){if(!s)throw new oe($.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function JN(i,e,s,r){if(e===!0&&r===!0)throw new oe($.INVALID_ARGUMENT,`${i} and ${s} cannot be used together.`)}function By(i){if(!be.isDocumentKey(i))throw new oe($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function zy(i){if(be.isDocumentKey(i))throw new oe($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Ab(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Ou(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te(12329,{type:typeof i})}function Cn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new oe($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=Ou(i);throw new oe($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${s}`)}}return i}function WN(i,e){if(e<=0)throw new oe($.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(i,e){const s={typeString:i};return e&&(s.value=e),s}function jo(i,e){if(!Ab(i))throw new oe($.INVALID_ARGUMENT,"JSON must be an object");let s;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){s=`JSON missing required field: '${r}'`;break}const f=i[r];if(o&&typeof f!==o){s=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){s=`Expected '${r}' field to equal '${u.value}'`;break}}if(s)throw new oe($.INVALID_ARGUMENT,s);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy=-62135596800,Hy=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const s=Math.floor(e/1e3),r=Math.floor((e-1e3*s)*Hy);return new ut(s,r)}constructor(e,s){if(this.seconds=e,this.nanoseconds=s,s<0)throw new oe($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new oe($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(e<qy)throw new oe($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hy}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(jo(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:Rt("string",ut._jsonSchemaVersion),seconds:Rt("number"),nanoseconds:Rt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new ut(0,0))}static max(){return new we(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=-1;function eS(i,e){const s=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(r===1e9?new ut(s+1,0):new ut(s,r));return new zi(o,be.empty(),e)}function tS(i){return new zi(i.readTime,i.key,yo)}class zi{constructor(e,s,r){this.readTime=e,this.documentKey=s,this.largestBatchId=r}static min(){return new zi(we.min(),be.empty(),yo)}static max(){return new zi(we.max(),be.empty(),yo)}}function nS(i,e){let s=i.readTime.compareTo(e.readTime);return s!==0?s:(s=be.comparator(i.documentKey,e.documentKey),s!==0?s:ze(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xr(i){if(i.code!==$.FAILED_PRECONDITION||i.message!==sS)throw i;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)}),(s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)}))}catch(e){return this.next(void 0,e)}next(e,s){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(e,this.result):new ne(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(s,u).next(r,o)}}))}toPromise(){return new Promise(((e,s)=>{this.next(e,s)}))}wrapUserFunction(e){try{const s=e();return s instanceof ne?s:ne.resolve(s)}catch(s){return ne.reject(s)}}wrapSuccess(e,s){return e?this.wrapUserFunction((()=>e(s))):ne.resolve(s)}wrapFailure(e,s){return e?this.wrapUserFunction((()=>e(s))):ne.reject(s)}static resolve(e){return new ne(((s,r)=>{s(e)}))}static reject(e){return new ne(((s,r)=>{r(e)}))}static waitFor(e){return new ne(((s,r)=>{let o=0,u=0,f=!1;e.forEach((g=>{++o,g.next((()=>{++u,f&&u===o&&s()}),(v=>r(v)))})),f=!0,u===o&&s()}))}static or(e){let s=ne.resolve(!1);for(const r of e)s=s.next((o=>o?ne.resolve(o):r()));return s}static forEach(e,s){const r=[];return e.forEach(((o,u)=>{r.push(s.call(this,o,u))})),this.waitFor(r)}static mapArray(e,s){return new ne(((r,o)=>{const u=e.length,f=new Array(u);let g=0;for(let v=0;v<u;v++){const y=v;s(e[y]).next((E=>{f[y]=E,++g,g===u&&r(f)}),(E=>o(E)))}}))}static doWhile(e,s){return new ne(((r,o)=>{const u=()=>{e()===!0?s().next((()=>{u()}),o):r()};u()}))}}function aS(i){const e=i.match(/Android ([\d.]+)/i),s=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(s)}function Zr(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,s){this.previousValue=e,s&&(s.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>s.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ku.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm=-1;function Lu(i){return i==null}function yu(i){return i===0&&1/i==-1/0}function rS(i){return typeof i=="number"&&Number.isInteger(i)&&!yu(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="";function lS(i){let e="";for(let s=0;s<i.length;s++)e.length>0&&(e=Fy(e)),e=oS(i.get(s),e);return Fy(e)}function oS(i,e){let s=e;const r=i.length;for(let o=0;o<r;o++){const u=i.charAt(o);switch(u){case"\0":s+="";break;case Nb:s+="";break;default:s+=u}}return s}function Fy(i){return i+Nb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(i){let e=0;for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&e++;return e}function $i(i,e){for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&e(s,i[s])}function Sb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,s){this.comparator=e,this.root=s||Qt.EMPTY}insert(e,s){return new mt(this.comparator,this.root.insert(e,s,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return s.value;r<0?s=s.left:r>0&&(s=s.right)}return null}indexOf(e){let s=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return s+r.left.size;o<0?r=r.left:(s+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((s,r)=>(e(s,r),!1)))}toString(){const e=[];return this.inorderTraversal(((s,r)=>(e.push(`${s}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new su(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new su(this.root,e,this.comparator,!1)}getReverseIterator(){return new su(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new su(this.root,e,this.comparator,!0)}}class su{constructor(e,s,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=s?r(e.key,s):1,s&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const s={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,s,r,o,u){this.key=e,this.value=s,this.color=r??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,s,r,o,u){return new Qt(e??this.key,s??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,s,r),null):u===0?o.copy(null,s,null,null,null):o.copy(null,null,null,null,o.right.insert(e,s,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,s){let r,o=this;if(s(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,s),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),s(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,s))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,s,r,o,u){return this}insert(e,s,r){return new Qt(e,s)}remove(e,s){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((s,r)=>(e(s),!1)))}forEachInRange(e,s){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;s(o.key)}}forEachWhile(e,s){let r;for(r=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const s=this.data.getIteratorFrom(e);return s.hasNext()?s.getNext().key:null}getIterator(){return new Qy(this.data.getIterator())}getIteratorFrom(e){return new Qy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let s=this;return s.size<e.size&&(s=e,e=this),e.forEach((r=>{s=s.add(r)})),s}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const s=this.data.getIterator(),r=e.data.getIterator();for(;s.hasNext();){const o=s.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((s=>{e.push(s)})),e}toString(){const e=[];return this.forEach((s=>e.push(s))),"SortedSet("+e.toString()+")"}copy(e){const s=new Vt(this.comparator);return s.data=e,s}}class Qy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new jn([])}unionWith(e){let s=new Vt(Yt.comparator);for(const r of this.fields)s=s.add(r);for(const r of e)s=s.add(r);return new jn(s.toArray())}covers(e){for(const s of this.fields)if(s.isPrefixOf(e))return!0;return!1}isEqual(e){return Hr(this.fields,e.fields,((s,r)=>s.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const s=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new wb("Invalid base64 string: "+u):u}})(e);return new $t(s)}static fromUint8Array(e){const s=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new $t(s)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(s){return btoa(s)})(this.binaryString)}toUint8Array(){return(function(s){const r=new Uint8Array(s.length);for(let o=0;o<s.length;o++)r[o]=s.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const cS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qi(i){if(Ze(!!i,39018),typeof i=="string"){let e=0;const s=cS.exec(i);if(Ze(!!s,46558,{timestamp:i}),s[1]){let o=s[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tt(i.seconds),nanos:Tt(i.nanos)}}function Tt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Hi(i){return typeof i=="string"?$t.fromBase64String(i):$t.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="server_timestamp",Rb="__type__",Cb="__previous_value__",Db="__local_write_time__";function Pu(i){return(i?.mapValue?.fields||{})[Rb]?.stringValue===jb}function Uu(i){const e=i.mapValue.fields[Cb];return Pu(e)?Uu(e):e}function _o(i){const e=qi(i.mapValue.fields[Db].timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,s,r,o,u,f,g,v,y,E){this.databaseId=e,this.appId=s,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=E}}const _u="(default)";class bo{constructor(e,s){this.projectId=e,this.database=s||_u}static empty(){return new bo("","")}get isDefaultDatabase(){return this.database===_u}isEqual(e){return e instanceof bo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="__type__",hS="__max__",iu={mapValue:{}},Mb="__vector__",bu="value";function Fi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Pu(i)?4:fS(i)?9007199254740991:dS(i)?10:11:Te(28295,{value:i})}function xs(i,e){if(i===e)return!0;const s=Fi(i);if(s!==Fi(e))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return _o(i).isEqual(_o(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=qi(o.timestampValue),g=qi(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Hi(o.bytesValue).isEqual(Hi(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return Tt(o.geoPointValue.latitude)===Tt(u.geoPointValue.latitude)&&Tt(o.geoPointValue.longitude)===Tt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Tt(o.integerValue)===Tt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Tt(o.doubleValue),g=Tt(u.doubleValue);return f===g?yu(f)===yu(g):isNaN(f)&&isNaN(g)}return!1})(i,e);case 9:return Hr(i.arrayValue.values||[],e.arrayValue.values||[],xs);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},g=u.mapValue.fields||{};if(Gy(f)!==Gy(g))return!1;for(const v in f)if(f.hasOwnProperty(v)&&(g[v]===void 0||!xs(f[v],g[v])))return!1;return!0})(i,e);default:return Te(52216,{left:i})}}function Eo(i,e){return(i.values||[]).find((s=>xs(s,e)))!==void 0}function Fr(i,e){if(i===e)return 0;const s=Fi(i),r=Fi(e);if(s!==r)return ze(s,r);switch(s){case 0:case 9007199254740991:return 0;case 1:return ze(i.booleanValue,e.booleanValue);case 2:return(function(u,f){const g=Tt(u.integerValue||u.doubleValue),v=Tt(f.integerValue||f.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(i,e);case 3:return Yy(i.timestampValue,e.timestampValue);case 4:return Yy(_o(i),_o(e));case 5:return Df(i.stringValue,e.stringValue);case 6:return(function(u,f){const g=Hi(u),v=Hi(f);return g.compareTo(v)})(i.bytesValue,e.bytesValue);case 7:return(function(u,f){const g=u.split("/"),v=f.split("/");for(let y=0;y<g.length&&y<v.length;y++){const E=ze(g[y],v[y]);if(E!==0)return E}return ze(g.length,v.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,f){const g=ze(Tt(u.latitude),Tt(f.latitude));return g!==0?g:ze(Tt(u.longitude),Tt(f.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return $y(i.arrayValue,e.arrayValue);case 10:return(function(u,f){const g=u.fields||{},v=f.fields||{},y=g[bu]?.arrayValue,E=v[bu]?.arrayValue,R=ze(y?.values?.length||0,E?.values?.length||0);return R!==0?R:$y(y,E)})(i.mapValue,e.mapValue);case 11:return(function(u,f){if(u===iu.mapValue&&f===iu.mapValue)return 0;if(u===iu.mapValue)return 1;if(f===iu.mapValue)return-1;const g=u.fields||{},v=Object.keys(g),y=f.fields||{},E=Object.keys(y);v.sort(),E.sort();for(let R=0;R<v.length&&R<E.length;++R){const C=Df(v[R],E[R]);if(C!==0)return C;const P=Fr(g[v[R]],y[E[R]]);if(P!==0)return P}return ze(v.length,E.length)})(i.mapValue,e.mapValue);default:throw Te(23264,{he:s})}}function Yy(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ze(i,e);const s=qi(i),r=qi(e),o=ze(s.seconds,r.seconds);return o!==0?o:ze(s.nanos,r.nanos)}function $y(i,e){const s=i.values||[],r=e.values||[];for(let o=0;o<s.length&&o<r.length;++o){const u=Fr(s[o],r[o]);if(u)return u}return ze(s.length,r.length)}function Gr(i){return If(i)}function If(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(s){const r=qi(s);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(s){return Hi(s).toBase64()})(i.bytesValue):"referenceValue"in i?(function(s){return be.fromName(s).toString()})(i.referenceValue):"geoPointValue"in i?(function(s){return`geo(${s.latitude},${s.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(s){let r="[",o=!0;for(const u of s.values||[])o?o=!1:r+=",",r+=If(u);return r+"]"})(i.arrayValue):"mapValue"in i?(function(s){const r=Object.keys(s.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${If(s.fields[f])}`;return o+"}"})(i.mapValue):Te(61005,{value:i})}function ou(i){switch(Fi(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uu(i);return e?16+ou(e):16;case 5:return 2*i.stringValue.length;case 6:return Hi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+ou(u)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return $i(r.fields,((u,f)=>{o+=u.length+ou(f)})),o})(i.mapValue);default:throw Te(13486,{value:i})}}function Eu(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Mf(i){return!!i&&"integerValue"in i}function om(i){return!!i&&"arrayValue"in i}function Ky(i){return!!i&&"nullValue"in i}function Xy(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function cu(i){return!!i&&"mapValue"in i}function dS(i){return(i?.mapValue?.fields||{})[Ib]?.stringValue===Mb}function fo(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return $i(i.mapValue.fields,((s,r)=>e.mapValue.fields[s]=fo(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let s=0;s<(i.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=fo(i.arrayValue.values[s]);return e}return{...i}}function fS(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===hS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let s=this.value;for(let r=0;r<e.length-1;++r)if(s=(s.mapValue.fields||{})[e.get(r)],!cu(s))return null;return s=(s.mapValue.fields||{})[e.lastSegment()],s||null}}set(e,s){this.getFieldsMap(e.popLast())[e.lastSegment()]=fo(s)}setAll(e){let s=Yt.emptyPath(),r={},o=[];e.forEach(((f,g)=>{if(!s.isImmediateParentOf(g)){const v=this.getFieldsMap(s);this.applyChanges(v,r,o),r={},o=[],s=g.popLast()}f?r[g.lastSegment()]=fo(f):o.push(g.lastSegment())}));const u=this.getFieldsMap(s);this.applyChanges(u,r,o)}delete(e){const s=this.field(e.popLast());cu(s)&&s.mapValue.fields&&delete s.mapValue.fields[e.lastSegment()]}isEqual(e){return xs(this.value,e.value)}getFieldsMap(e){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=s.mapValue.fields[e.get(r)];cu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},s.mapValue.fields[e.get(r)]=o),s=o}return s.mapValue.fields}applyChanges(e,s,r){$i(s,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new gn(fo(this.value))}}function Vb(i){const e=[];return $i(i.fields,((s,r)=>{const o=new Yt([s]);if(cu(r)){const u=Vb(r.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,s,r,o,u,f,g){this.key=e,this.documentType=s,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(e){return new tn(e,0,we.min(),we.min(),we.min(),gn.empty(),0)}static newFoundDocument(e,s,r,o){return new tn(e,1,s,we.min(),r,o,0)}static newNoDocument(e,s){return new tn(e,2,s,we.min(),we.min(),gn.empty(),0)}static newUnknownDocument(e,s){return new tn(e,3,s,we.min(),we.min(),gn.empty(),2)}convertToFoundDocument(e,s){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,s){this.position=e,this.inclusive=s}}function Zy(i,e,s){let r=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?r=be.comparator(be.fromName(f.referenceValue),s.key):r=Fr(f,s.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function Jy(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let s=0;s<i.position.length;s++)if(!xs(i.position[s],e.position[s]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,s="asc"){this.field=e,this.dir=s}}function mS(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{}class jt extends Ob{constructor(e,s,r){super(),this.field=e,this.op=s,this.value=r}static create(e,s,r){return e.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(e,s,r):new gS(e,s,r):s==="array-contains"?new _S(e,r):s==="in"?new bS(e,r):s==="not-in"?new ES(e,r):s==="array-contains-any"?new xS(e,r):new jt(e,s,r)}static createKeyFieldInFilter(e,s,r){return s==="in"?new vS(e,r):new yS(e,r)}matches(e){const s=e.data.field(this.field);return this.op==="!="?s!==null&&s.nullValue===void 0&&this.matchesComparison(Fr(s,this.value)):s!==null&&Fi(this.value)===Fi(s)&&this.matchesComparison(Fr(s,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class es extends Ob{constructor(e,s){super(),this.filters=e,this.op=s,this.Pe=null}static create(e,s){return new es(e,s)}matches(e){return kb(this)?this.filters.find((s=>!s.matches(e)))===void 0:this.filters.find((s=>s.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,s)=>e.concat(s.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function kb(i){return i.op==="and"}function Lb(i){return pS(i)&&kb(i)}function pS(i){for(const e of i.filters)if(e instanceof es)return!1;return!0}function Vf(i){if(i instanceof jt)return i.field.canonicalString()+i.op.toString()+Gr(i.value);if(Lb(i))return i.filters.map((e=>Vf(e))).join(",");{const e=i.filters.map((s=>Vf(s))).join(",");return`${i.op}(${e})`}}function Pb(i,e){return i instanceof jt?(function(r,o){return o instanceof jt&&r.op===o.op&&r.field.isEqual(o.field)&&xs(r.value,o.value)})(i,e):i instanceof es?(function(r,o){return o instanceof es&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,g)=>u&&Pb(f,o.filters[g])),!0):!1})(i,e):void Te(19439)}function Ub(i){return i instanceof jt?(function(s){return`${s.field.canonicalString()} ${s.op} ${Gr(s.value)}`})(i):i instanceof es?(function(s){return s.op.toString()+" {"+s.getFilters().map(Ub).join(" ,")+"}"})(i):"Filter"}class gS extends jt{constructor(e,s,r){super(e,s,r),this.key=be.fromName(r.referenceValue)}matches(e){const s=be.comparator(e.key,this.key);return this.matchesComparison(s)}}class vS extends jt{constructor(e,s){super(e,"in",s),this.keys=Bb("in",s)}matches(e){return this.keys.some((s=>s.isEqual(e.key)))}}class yS extends jt{constructor(e,s){super(e,"not-in",s),this.keys=Bb("not-in",s)}matches(e){return!this.keys.some((s=>s.isEqual(e.key)))}}function Bb(i,e){return(e.arrayValue?.values||[]).map((s=>be.fromName(s.referenceValue)))}class _S extends jt{constructor(e,s){super(e,"array-contains",s)}matches(e){const s=e.data.field(this.field);return om(s)&&Eo(s.arrayValue,this.value)}}class bS extends jt{constructor(e,s){super(e,"in",s)}matches(e){const s=e.data.field(this.field);return s!==null&&Eo(this.value.arrayValue,s)}}class ES extends jt{constructor(e,s){super(e,"not-in",s)}matches(e){if(Eo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=e.data.field(this.field);return s!==null&&s.nullValue===void 0&&!Eo(this.value.arrayValue,s)}}class xS extends jt{constructor(e,s){super(e,"array-contains-any",s)}matches(e){const s=e.data.field(this.field);return!(!om(s)||!s.arrayValue.values)&&s.arrayValue.values.some((r=>Eo(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,s=null,r=[],o=[],u=null,f=null,g=null){this.path=e,this.collectionGroup=s,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=g,this.Te=null}}function Wy(i,e=null,s=[],r=[],o=null,u=null,f=null){return new TS(i,e,s,r,o,u,f)}function cm(i){const e=Ce(i);if(e.Te===null){let s=e.path.canonicalString();e.collectionGroup!==null&&(s+="|cg:"+e.collectionGroup),s+="|f:",s+=e.filters.map((r=>Vf(r))).join(","),s+="|ob:",s+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Lu(e.limit)||(s+="|l:",s+=e.limit),e.startAt&&(s+="|lb:",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((r=>Gr(r))).join(",")),e.endAt&&(s+="|ub:",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((r=>Gr(r))).join(",")),e.Te=s}return e.Te}function um(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<i.orderBy.length;s++)if(!mS(i.orderBy[s],e.orderBy[s]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let s=0;s<i.filters.length;s++)if(!Pb(i.filters[s],e.filters[s]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Jy(i.startAt,e.startAt)&&Jy(i.endAt,e.endAt)}function Of(i){return be.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,s=null,r=[],o=[],u=null,f="F",g=null,v=null){this.path=e,this.collectionGroup=s,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function AS(i,e,s,r,o,u,f,g){return new Ha(i,e,s,r,o,u,f,g)}function Bu(i){return new Ha(i)}function e_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function hm(i){return i.collectionGroup!==null}function Br(i){const e=Ce(i);if(e.Ie===null){e.Ie=[];const s=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),s.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Vt(Yt.comparator);return f.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((u=>{s.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new xo(u,r))})),s.has(Yt.keyField().canonicalString())||e.Ie.push(new xo(Yt.keyField(),r))}return e.Ie}function ys(i){const e=Ce(i);return e.Ee||(e.Ee=NS(e,Br(i))),e.Ee}function NS(i,e){if(i.limitType==="F")return Wy(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new xo(o.field,u)}));const s=i.endAt?new Qr(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new Qr(i.startAt.position,i.startAt.inclusive):null;return Wy(i.path,i.collectionGroup,e,i.filters,i.limit,s,r)}}function kf(i,e){const s=i.filters.concat([e]);return new Ha(i.path,i.collectionGroup,i.explicitOrderBy.slice(),s,i.limit,i.limitType,i.startAt,i.endAt)}function xu(i,e,s){return new Ha(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,s,i.startAt,i.endAt)}function zu(i,e){return um(ys(i),ys(e))&&i.limitType===e.limitType}function zb(i){return`${cm(ys(i))}|lt:${i.limitType}`}function Lr(i){return`Query(target=${(function(s){let r=s.path.canonicalString();return s.collectionGroup!==null&&(r+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(r+=`, filters: [${s.filters.map((o=>Ub(o))).join(", ")}]`),Lu(s.limit)||(r+=", limit: "+s.limit),s.orderBy.length>0&&(r+=`, orderBy: [${s.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),s.startAt&&(r+=", startAt: ",r+=s.startAt.inclusive?"b:":"a:",r+=s.startAt.position.map((o=>Gr(o))).join(",")),s.endAt&&(r+=", endAt: ",r+=s.endAt.inclusive?"a:":"b:",r+=s.endAt.position.map((o=>Gr(o))).join(",")),`Target(${r})`})(ys(i))}; limitType=${i.limitType})`}function qu(i,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):be.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(i,e)&&(function(r,o){for(const u of Br(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(r,o){return!(r.startAt&&!(function(f,g,v){const y=Zy(f,g,v);return f.inclusive?y<=0:y<0})(r.startAt,Br(r),o)||r.endAt&&!(function(f,g,v){const y=Zy(f,g,v);return f.inclusive?y>=0:y>0})(r.endAt,Br(r),o))})(i,e)}function SS(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function qb(i){return(e,s)=>{let r=!1;for(const o of Br(i)){const u=wS(o,e,s);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function wS(i,e,s){const r=i.field.isKeyField()?be.comparator(e.key,s.key):(function(u,f,g){const v=f.data.field(u),y=g.data.field(u);return v!==null&&y!==null?Fr(v,y):Te(42886)})(i.field,e,s);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,s){this.mapKeyFn=e,this.equalsFn=s,this.inner={},this.innerSize=0}get(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,s){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,s]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,s]);o.push([e,s]),this.innerSize++}delete(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[s]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){$i(this.inner,((s,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return Sb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=new mt(be.comparator);function Xs(){return jS}const Hb=new mt(be.comparator);function lo(...i){let e=Hb;for(const s of i)e=e.insert(s.key,s);return e}function Fb(i){let e=Hb;return i.forEach(((s,r)=>e=e.insert(s,r.overlayedDocument))),e}function Oa(){return mo()}function Gb(){return mo()}function mo(){return new Fa((i=>i.toString()),((i,e)=>i.isEqual(e)))}const RS=new mt(be.comparator),CS=new Vt(be.comparator);function qe(...i){let e=CS;for(const s of i)e=e.add(s);return e}const DS=new Vt(ze);function IS(){return DS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yu(e)?"-0":e}}function Qb(i){return{integerValue:""+i}}function MS(i,e){return rS(e)?Qb(e):dm(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(){this._=void 0}}function VS(i,e,s){return i instanceof To?(function(o,u){const f={fields:{[Rb]:{stringValue:jb},[Db]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Pu(u)&&(u=Uu(u)),u&&(f.fields[Cb]=u),{mapValue:f}})(s,e):i instanceof Ao?$b(i,e):i instanceof No?Kb(i,e):(function(o,u){const f=Yb(o,u),g=t_(f)+t_(o.Ae);return Mf(f)&&Mf(o.Ae)?Qb(g):dm(o.serializer,g)})(i,e)}function OS(i,e,s){return i instanceof Ao?$b(i,e):i instanceof No?Kb(i,e):s}function Yb(i,e){return i instanceof Tu?(function(r){return Mf(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class To extends Hu{}class Ao extends Hu{constructor(e){super(),this.elements=e}}function $b(i,e){const s=Xb(e);for(const r of i.elements)s.some((o=>xs(o,r)))||s.push(r);return{arrayValue:{values:s}}}class No extends Hu{constructor(e){super(),this.elements=e}}function Kb(i,e){let s=Xb(e);for(const r of i.elements)s=s.filter((o=>!xs(o,r)));return{arrayValue:{values:s}}}class Tu extends Hu{constructor(e,s){super(),this.serializer=e,this.Ae=s}}function t_(i){return Tt(i.integerValue||i.doubleValue)}function Xb(i){return om(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,s){this.field=e,this.transform=s}}function LS(i,e){return i.field.isEqual(e.field)&&(function(r,o){return r instanceof Ao&&o instanceof Ao||r instanceof No&&o instanceof No?Hr(r.elements,o.elements,xs):r instanceof Tu&&o instanceof Tu?xs(r.Ae,o.Ae):r instanceof To&&o instanceof To})(i.transform,e.transform)}class PS{constructor(e,s){this.version=e,this.transformResults=s}}class yn{constructor(e,s){this.updateTime=e,this.exists=s}static none(){return new yn}static exists(e){return new yn(void 0,e)}static updateTime(e){return new yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uu(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Fu{}function Zb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Gu(i.key,yn.none()):new Ro(i.key,i.data,yn.none());{const s=i.data,r=gn.empty();let o=new Vt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let f=s.field(u);f===null&&u.length>1&&(u=u.popLast(),f=s.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new Ki(i.key,r,new jn(o.toArray()),yn.none())}}function US(i,e,s){i instanceof Ro?(function(o,u,f){const g=o.value.clone(),v=s_(o.fieldTransforms,u,f.transformResults);g.setAll(v),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(i,e,s):i instanceof Ki?(function(o,u,f){if(!uu(o.precondition,u))return void u.convertToUnknownDocument(f.version);const g=s_(o.fieldTransforms,u,f.transformResults),v=u.data;v.setAll(Jb(o)),v.setAll(g),u.convertToFoundDocument(f.version,v).setHasCommittedMutations()})(i,e,s):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,s)}function po(i,e,s,r){return i instanceof Ro?(function(u,f,g,v){if(!uu(u.precondition,f))return g;const y=u.value.clone(),E=i_(u.fieldTransforms,v,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(i,e,s,r):i instanceof Ki?(function(u,f,g,v){if(!uu(u.precondition,f))return g;const y=i_(u.fieldTransforms,v,f),E=f.data;return E.setAll(Jb(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((R=>R.field)))})(i,e,s,r):(function(u,f,g){return uu(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(i,e,s)}function BS(i,e){let s=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),u=Yb(r.transform,o||null);u!=null&&(s===null&&(s=gn.empty()),s.set(r.field,u))}return s||null}function n_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Hr(r,o,((u,f)=>LS(u,f)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Ro extends Fu{constructor(e,s,r,o=[]){super(),this.key=e,this.value=s,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ki extends Fu{constructor(e,s,r,o,u=[]){super(),this.key=e,this.data=s,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Jb(i){const e=new Map;return i.fieldMask.fields.forEach((s=>{if(!s.isEmpty()){const r=i.data.field(s);e.set(s,r)}})),e}function s_(i,e,s){const r=new Map;Ze(i.length===s.length,32656,{Re:s.length,Ve:i.length});for(let o=0;o<s.length;o++){const u=i[o],f=u.transform,g=e.data.field(u.field);r.set(u.field,OS(f,g,s[o]))}return r}function i_(i,e,s){const r=new Map;for(const o of i){const u=o.transform,f=s.data.field(o.field);r.set(o.field,VS(u,f,e))}return r}class Gu extends Fu{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zS extends Fu{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,s,r,o){this.batchId=e,this.localWriteTime=s,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,s){const r=s.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&US(u,e,r[o])}}applyToLocalView(e,s){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(s=po(r,e,s,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(s=po(r,e,s,this.localWriteTime));return s}applyToLocalDocumentSet(e,s){const r=Gb();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=s.has(o.key)?null:g;const v=Zb(f,g);v!==null&&r.set(o.key,v),f.isValidDocument()||f.convertToNoDocument(we.min())})),r}keys(){return this.mutations.reduce(((e,s)=>e.add(s.key)),qe())}isEqual(e){return this.batchId===e.batchId&&Hr(this.mutations,e.mutations,((s,r)=>n_(s,r)))&&Hr(this.baseMutations,e.baseMutations,((s,r)=>n_(s,r)))}}class fm{constructor(e,s,r,o){this.batch=e,this.commitVersion=s,this.mutationResults=r,this.docVersions=o}static from(e,s,r){Ze(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return RS})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new fm(e,s,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,s){this.largestBatchId=e,this.mutation=s}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,s){this.count=e,this.unchangedNames=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Ge;function GS(i){switch(i){case $.OK:return Te(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Te(15467,{code:i})}}function Wb(i){if(i===void 0)return Ks("GRPC error has no .code"),$.UNKNOWN;switch(i){case wt.OK:return $.OK;case wt.CANCELLED:return $.CANCELLED;case wt.UNKNOWN:return $.UNKNOWN;case wt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case wt.INTERNAL:return $.INTERNAL;case wt.UNAVAILABLE:return $.UNAVAILABLE;case wt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case wt.NOT_FOUND:return $.NOT_FOUND;case wt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case wt.ABORTED:return $.ABORTED;case wt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case wt.DATA_LOSS:return $.DATA_LOSS;default:return Te(39323,{code:i})}}(Ge=wt||(wt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=new Pi([4294967295,4294967295],0);function a_(i){const e=QS().encode(i),s=new pb;return s.update(e),new Uint8Array(s.digest())}function r_(i){const e=new DataView(i.buffer),s=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Pi([s,r],0),new Pi([o,u],0)]}class mm{constructor(e,s,r){if(this.bitmap=e,this.padding=s,this.hashCount=r,s<0||s>=8)throw new oo(`Invalid padding: ${s}`);if(r<0)throw new oo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new oo(`Invalid hash count: ${r}`);if(e.length===0&&s!==0)throw new oo(`Invalid padding when bitmap length is 0: ${s}`);this.ge=8*e.length-s,this.pe=Pi.fromNumber(this.ge)}ye(e,s,r){let o=e.add(s.multiply(Pi.fromNumber(r)));return o.compare(YS)===1&&(o=new Pi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const s=a_(e),[r,o]=r_(s);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(e,s,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new mm(u,o,s);return r.forEach((g=>f.insert(g))),f}insert(e){if(this.ge===0)return;const s=a_(e),[r,o]=r_(s);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.Se(f)}}Se(e){const s=Math.floor(e/8),r=e%8;this.bitmap[s]|=1<<r}}class oo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,s,r,o,u){this.snapshotVersion=e,this.targetChanges=s,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,s,r){const o=new Map;return o.set(e,Co.createSynthesizedTargetChangeForCurrentChange(e,s,r)),new Qu(we.min(),o,new mt(ze),Xs(),qe())}}class Co{constructor(e,s,r,o,u){this.resumeToken=e,this.current=s,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,s,r){return new Co(r,s,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,s,r,o){this.be=e,this.removedTargetIds=s,this.key=r,this.De=o}}class eE{constructor(e,s){this.targetId=e,this.Ce=s}}class tE{constructor(e,s,r=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=s,this.resumeToken=r,this.cause=o}}class l_{constructor(){this.ve=0,this.Fe=o_(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),s=qe(),r=qe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:s=s.add(o);break;case 1:r=r.add(o);break;default:Te(38017,{changeType:u})}})),new Co(this.Me,this.xe,e,s,r)}qe(){this.Oe=!1,this.Fe=o_()}Qe(e,s){this.Oe=!0,this.Fe=this.Fe.insert(e,s)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $S{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xs(),this.Je=au(),this.He=au(),this.Ye=new mt(ze)}Ze(e){for(const s of e.be)e.De&&e.De.isFoundDocument()?this.Xe(s,e.De):this.et(s,e.key,e.De);for(const s of e.removedTargetIds)this.et(s,e.key,e.De)}tt(e){this.forEachTarget(e,(s=>{const r=this.nt(s);switch(e.state){case 0:this.rt(s)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(s);break;case 3:this.rt(s)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(s)&&(this.it(s),r.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,s){e.targetIds.length>0?e.targetIds.forEach(s):this.ze.forEach(((r,o)=>{this.rt(o)&&s(o)}))}st(e){const s=e.targetId,r=e.Ce.count,o=this.ot(s);if(o){const u=o.target;if(Of(u))if(r===0){const f=new be(u.path);this.et(s,f,tn.newNoDocument(f,we.min()))}else Ze(r===1,20013,{expectedCount:r});else{const f=this._t(s);if(f!==r){const g=this.ut(e),v=g?this.ct(g,e,f):1;if(v!==0){this.it(s);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(s,y)}}}}}ut(e){const s=e.Ce.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=s;let f,g;try{f=Hi(r).toUint8Array()}catch(v){if(v instanceof wb)return qr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new mm(f,o,u)}catch(v){return qr(v instanceof oo?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(e,s,r){return s.Ce.count===r-this.Pt(e,s.targetId)?0:2}Pt(e,s){const r=this.Ge.getRemoteKeysForTarget(s);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(s,u,null),o++)})),o}Tt(e){const s=new Map;this.ze.forEach(((u,f)=>{const g=this.ot(f);if(g){if(u.current&&Of(g.target)){const v=new be(g.target.path);this.It(v).has(f)||this.Et(f,v)||this.et(f,v,tn.newNoDocument(v,e))}u.Be&&(s.set(f,u.ke()),u.qe())}}));let r=qe();this.He.forEach(((u,f)=>{let g=!0;f.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Qu(e,s,this.Ye,this.je,r);return this.je=Xs(),this.Je=au(),this.He=au(),this.Ye=new mt(ze),o}Xe(e,s){if(!this.rt(e))return;const r=this.Et(e,s.key)?2:0;this.nt(e).Qe(s.key,r),this.je=this.je.insert(s.key,s),this.Je=this.Je.insert(s.key,this.It(s.key).add(e)),this.He=this.He.insert(s.key,this.dt(s.key).add(e))}et(e,s,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,s)?o.Qe(s,1):o.$e(s),this.He=this.He.insert(s,this.dt(s).delete(e)),this.He=this.He.insert(s,this.dt(s).add(e)),r&&(this.je=this.je.insert(s,r))}removeTarget(e){this.ze.delete(e)}_t(e){const s=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+s.addedDocuments.size-s.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let s=this.ze.get(e);return s||(s=new l_,this.ze.set(e,s)),s}dt(e){let s=this.He.get(e);return s||(s=new Vt(ze),this.He=this.He.insert(e,s)),s}It(e){let s=this.Je.get(e);return s||(s=new Vt(ze),this.Je=this.Je.insert(e,s)),s}rt(e){const s=this.ot(e)!==null;return s||de("WatchChangeAggregator","Detected inactive target",e),s}ot(e){const s=this.ze.get(e);return s&&s.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new l_),this.Ge.getRemoteKeysForTarget(e).forEach((s=>{this.et(e,s,null)}))}Et(e,s){return this.Ge.getRemoteKeysForTarget(e).has(s)}}function au(){return new mt(be.comparator)}function o_(){return new mt(be.comparator)}const KS={asc:"ASCENDING",desc:"DESCENDING"},XS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZS={and:"AND",or:"OR"};class JS{constructor(e,s){this.databaseId=e,this.useProto3Json=s}}function Lf(i,e){return i.useProto3Json||Lu(e)?e:{value:e}}function Au(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nE(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function WS(i,e){return Au(i,e.toTimestamp())}function _s(i){return Ze(!!i,49232),we.fromTimestamp((function(s){const r=qi(s);return new ut(r.seconds,r.nanos)})(i))}function pm(i,e){return Pf(i,e).canonicalString()}function Pf(i,e){const s=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?s:s.child(e)}function sE(i){const e=rt.fromString(i);return Ze(oE(e),10190,{key:e.toString()}),e}function Uf(i,e){return pm(i.databaseId,e.path)}function yf(i,e){const s=sE(e);if(s.get(1)!==i.databaseId.projectId)throw new oe($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+i.databaseId.projectId);if(s.get(3)!==i.databaseId.database)throw new oe($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+i.databaseId.database);return new be(aE(s))}function iE(i,e){return pm(i.databaseId,e)}function ew(i){const e=sE(i);return e.length===4?rt.emptyPath():aE(e)}function Bf(i){return new rt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function aE(i){return Ze(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function c_(i,e,s){return{name:Uf(i,e),fields:s.value.mapValue.fields}}function tw(i,e){let s;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Ze(E===void 0||typeof E=="string",58123),$t.fromBase64String(E||"")):(Ze(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),$t.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&(function(y){const E=y.code===void 0?$.UNKNOWN:Wb(y.code);return new oe(E,y.message||"")})(f);s=new tE(r,o,u,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=yf(i,r.document.name),u=_s(r.document.updateTime),f=r.document.createTime?_s(r.document.createTime):we.min(),g=new gn({mapValue:{fields:r.document.fields}}),v=tn.newFoundDocument(o,u,f,g),y=r.targetIds||[],E=r.removedTargetIds||[];s=new hu(y,E,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=yf(i,r.document),u=r.readTime?_s(r.readTime):we.min(),f=tn.newNoDocument(o,u),g=r.removedTargetIds||[];s=new hu([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=yf(i,r.document),u=r.removedTargetIds||[];s=new hu([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new FS(o,u),g=r.targetId;s=new eE(g,f)}}return s}function nw(i,e){let s;if(e instanceof Ro)s={update:c_(i,e.key,e.value)};else if(e instanceof Gu)s={delete:Uf(i,e.key)};else if(e instanceof Ki)s={update:c_(i,e.key,e.data),updateMask:hw(e.fieldMask)};else{if(!(e instanceof zS))return Te(16599,{Vt:e.type});s={verify:Uf(i,e.key)}}return e.fieldTransforms.length>0&&(s.updateTransforms=e.fieldTransforms.map((r=>(function(u,f){const g=f.transform;if(g instanceof To)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ao)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof No)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Tu)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw Te(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(s.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:WS(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)})(i,e.precondition)),s}function sw(i,e){return i&&i.length>0?(Ze(e!==void 0,14353),i.map((s=>(function(o,u){let f=o.updateTime?_s(o.updateTime):_s(u);return f.isEqual(we.min())&&(f=_s(u)),new PS(f,o.transformResults||[])})(s,e)))):[]}function iw(i,e){return{documents:[iE(i,e.path)]}}function aw(i,e){const s={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,s.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),s.structuredQuery.from=[{collectionId:r.lastSegment()}]),s.parent=iE(i,o);const u=(function(y){if(y.length!==0)return lE(es.create(y,"and"))})(e.filters);u&&(s.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(C){return{field:Pr(C.field),direction:ow(C.dir)}})(E)))})(e.orderBy);f&&(s.structuredQuery.orderBy=f);const g=Lf(i,e.limit);return g!==null&&(s.structuredQuery.limit=g),e.startAt&&(s.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(s.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:s,parent:o}}function rw(i){let e=ew(i.parent);const s=i.structuredQuery,r=s.from?s.from.length:0;let o=null;if(r>0){Ze(r===1,65062);const E=s.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];s.where&&(u=(function(R){const C=rE(R);return C instanceof es&&Lb(C)?C.getFilters():[C]})(s.where));let f=[];s.orderBy&&(f=(function(R){return R.map((C=>(function(U){return new xo(Ur(U.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(C)))})(s.orderBy));let g=null;s.limit&&(g=(function(R){let C;return C=typeof R=="object"?R.value:R,Lu(C)?null:C})(s.limit));let v=null;s.startAt&&(v=(function(R){const C=!!R.before,P=R.values||[];return new Qr(P,C)})(s.startAt));let y=null;return s.endAt&&(y=(function(R){const C=!R.before,P=R.values||[];return new Qr(P,C)})(s.endAt)),AS(e,o,f,u,g,"F",v,y)}function lw(i,e){const s=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return s==null?null:{"goog-listen-tags":s}}function rE(i){return i.unaryFilter!==void 0?(function(s){switch(s.unaryFilter.op){case"IS_NAN":const r=Ur(s.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ur(s.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ur(s.unaryFilter.field);return jt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ur(s.unaryFilter.field);return jt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(i):i.fieldFilter!==void 0?(function(s){return jt.create(Ur(s.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(s.fieldFilter.op),s.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(s){return es.create(s.compositeFilter.filters.map((r=>rE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(s.compositeFilter.op))})(i):Te(30097,{filter:i})}function ow(i){return KS[i]}function cw(i){return XS[i]}function uw(i){return ZS[i]}function Pr(i){return{fieldPath:i.canonicalString()}}function Ur(i){return Yt.fromServerFormat(i.fieldPath)}function lE(i){return i instanceof jt?(function(s){if(s.op==="=="){if(Xy(s.value))return{unaryFilter:{field:Pr(s.field),op:"IS_NAN"}};if(Ky(s.value))return{unaryFilter:{field:Pr(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(Xy(s.value))return{unaryFilter:{field:Pr(s.field),op:"IS_NOT_NAN"}};if(Ky(s.value))return{unaryFilter:{field:Pr(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pr(s.field),op:cw(s.op),value:s.value}}})(i):i instanceof es?(function(s){const r=s.getFilters().map((o=>lE(o)));return r.length===1?r[0]:{compositeFilter:{op:uw(s.op),filters:r}}})(i):Te(54877,{filter:i})}function hw(i){const e=[];return i.fields.forEach((s=>e.push(s.canonicalString()))),{fieldPaths:e}}function oE(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,s,r,o,u=we.min(),f=we.min(),g=$t.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=s,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new Oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,s){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this.yt=e}}function fw(i){const e=rw({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?xu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(){this.Cn=new pw}addToCollectionParentIndex(e,s){return this.Cn.add(s),ne.resolve()}getCollectionParents(e,s){return ne.resolve(this.Cn.getEntries(s))}addFieldIndex(e,s){return ne.resolve()}deleteFieldIndex(e,s){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,s){return ne.resolve()}getDocumentsMatchingTarget(e,s){return ne.resolve(null)}getIndexType(e,s){return ne.resolve(0)}getFieldIndexes(e,s){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,s){return ne.resolve(zi.min())}getMinOffsetFromCollectionGroup(e,s){return ne.resolve(zi.min())}updateCollectionGroup(e,s,r){return ne.resolve()}updateIndexEntries(e,s){return ne.resolve()}}class pw{constructor(){this.index={}}add(e){const s=e.lastSegment(),r=e.popLast(),o=this.index[s]||new Vt(rt.comparator),u=!o.has(r);return this.index[s]=o.add(r),u}has(e){const s=e.lastSegment(),r=e.popLast(),o=this.index[s];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Vt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cE=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,s,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(cE,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Yr(0)}static cr(){return new Yr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="LruGarbageCollector",gw=1048576;function d_([i,e],[s,r]){const o=ze(i,s);return o===0?ze(e,r):o}class vw{constructor(e){this.Ir=e,this.buffer=new Vt(d_),this.Er=0}dr(){return++this.Er}Ar(e){const s=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(s);else{const r=this.buffer.last();d_(s,r)<0&&(this.buffer=this.buffer.delete(r).add(s))}}get maxValue(){return this.buffer.last()[0]}}class yw{constructor(e,s,r){this.garbageCollector=e,this.asyncQueue=s,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(h_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(s){Zr(s)?de(h_,"Ignoring IndexedDB error during garbage collection: ",s):await Xr(s)}await this.Vr(3e5)}))}}class _w{constructor(e,s){this.mr=e,this.params=s}calculateTargetCount(e,s){return this.mr.gr(e).next((r=>Math.floor(s/100*r)))}nthSequenceNumber(e,s){if(s===0)return ne.resolve(ku.ce);const r=new vw(s);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,s,r){return this.mr.removeTargets(e,s,r)}removeOrphanedDocuments(e,s){return this.mr.removeOrphanedDocuments(e,s)}collect(e,s){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(u_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),u_):this.yr(e,s)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,s){let r,o,u,f,g,v,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((R=>(R>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,f=Date.now(),this.nthSequenceNumber(e,o)))).next((R=>(r=R,g=Date.now(),this.removeTargets(e,r,s)))).next((R=>(u=R,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((R=>(y=Date.now(),kr()<=Qe.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(g-f)+`ms
	Removed ${u} targets in `+(v-g)+`ms
	Removed ${R} documents in `+(y-v)+`ms
Total Duration: ${y-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:R}))))}}function bw(i,e){return new _w(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.changes=new Fa((e=>e.toString()),((e,s)=>e.isEqual(s))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,s){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(s))}getEntry(e,s){this.assertNotApplied();const r=this.changes.get(s);return r!==void 0?ne.resolve(r):this.getFromCache(e,s)}getEntries(e,s){return this.getAllFromCache(e,s)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,s){this.overlayedDocument=e,this.mutatedFields=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,s,r,o){this.remoteDocumentCache=e,this.mutationQueue=s,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,s){let r=null;return this.documentOverlayCache.getOverlay(e,s).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,s)))).next((o=>(r!==null&&po(r.mutation,o,jn.empty(),ut.now()),o)))}getDocuments(e,s){return this.remoteDocumentCache.getEntries(e,s).next((r=>this.getLocalViewOfDocuments(e,r,qe()).next((()=>r))))}getLocalViewOfDocuments(e,s,r=qe()){const o=Oa();return this.populateOverlays(e,o,s).next((()=>this.computeViews(e,s,o,r).next((u=>{let f=lo();return u.forEach(((g,v)=>{f=f.insert(g,v.overlayedDocument)})),f}))))}getOverlayedDocuments(e,s){const r=Oa();return this.populateOverlays(e,r,s).next((()=>this.computeViews(e,s,r,qe())))}populateOverlays(e,s,r){const o=[];return r.forEach((u=>{s.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,g)=>{s.set(f,g)}))}))}computeViews(e,s,r,o){let u=Xs();const f=mo(),g=(function(){return mo()})();return s.forEach(((v,y)=>{const E=r.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Ki)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),po(E.mutation,y,E.mutation.getFieldMask(),ut.now())):f.set(y.key,jn.empty())})),this.recalculateAndSaveOverlays(e,u).next((v=>(v.forEach(((y,E)=>f.set(y,E))),s.forEach(((y,E)=>g.set(y,new xw(E,f.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,s){const r=mo();let o=new mt(((f,g)=>f-g)),u=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,s).next((f=>{for(const g of f)g.keys().forEach((v=>{const y=s.get(v);if(y===null)return;let E=r.get(v)||jn.empty();E=g.applyToLocalView(y,E),r.set(v,E);const R=(o.get(g.batchId)||qe()).add(v);o=o.insert(g.batchId,R)}))})).next((()=>{const f=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),y=v.key,E=v.value,R=Gb();E.forEach((C=>{if(!u.has(C)){const P=Zb(s.get(C),r.get(C));P!==null&&R.set(C,P),u=u.add(C)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,R))}return ne.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,s){return this.remoteDocumentCache.getEntries(e,s).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,s,r,o){return(function(f){return be.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(s)?this.getDocumentsMatchingDocumentQuery(e,s.path):hm(s)?this.getDocumentsMatchingCollectionGroupQuery(e,s,r,o):this.getDocumentsMatchingCollectionQuery(e,s,r,o)}getNextDocuments(e,s,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,s,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,s,r.largestBatchId,o-u.size):ne.resolve(Oa());let g=yo,v=u;return f.next((y=>ne.forEach(y,((E,R)=>(g<R.largestBatchId&&(g=R.largestBatchId),u.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next((C=>{v=v.insert(E,C)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,v,y,qe()))).next((E=>({batchId:g,changes:Fb(E)})))))}))}getDocumentsMatchingDocumentQuery(e,s){return this.getDocument(e,new be(s)).next((r=>{let o=lo();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,s,r,o){const u=s.collectionGroup;let f=lo();return this.indexManager.getCollectionParents(e,u).next((g=>ne.forEach(g,(v=>{const y=(function(R,C){return new Ha(C,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)})(s,v.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((E=>{E.forEach(((R,C)=>{f=f.insert(R,C)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,s,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,s.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,s,r,u,o)))).next((f=>{u.forEach(((v,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,tn.newInvalidDocument(E)))}));let g=lo();return f.forEach(((v,y)=>{const E=u.get(v);E!==void 0&&po(E.mutation,y,jn.empty(),ut.now()),qu(s,y)&&(g=g.insert(v,y))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,s){return ne.resolve(this.Lr.get(s))}saveBundleMetadata(e,s){return this.Lr.set(s.id,(function(o){return{id:o.id,version:o.version,createTime:_s(o.createTime)}})(s)),ne.resolve()}getNamedQuery(e,s){return ne.resolve(this.kr.get(s))}saveNamedQuery(e,s){return this.kr.set(s.name,(function(o){return{name:o.name,query:fw(o.bundledQuery),readTime:_s(o.readTime)}})(s)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(){this.overlays=new mt(be.comparator),this.qr=new Map}getOverlay(e,s){return ne.resolve(this.overlays.get(s))}getOverlays(e,s){const r=Oa();return ne.forEach(s,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,s,r){return r.forEach(((o,u)=>{this.St(e,s,u)})),ne.resolve()}removeOverlaysForBatchId(e,s,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),ne.resolve()}getOverlaysForCollection(e,s,r){const o=Oa(),u=s.length+1,f=new be(s.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const v=g.getNext().value,y=v.getKey();if(!s.isPrefixOf(y.path))break;y.path.length===u&&v.largestBatchId>r&&o.set(v.getKey(),v)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,s,r,o){let u=new mt(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===s&&y.largestBatchId>r){let E=u.get(y.largestBatchId);E===null&&(E=Oa(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const g=Oa(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,E)=>g.set(y,E))),!(g.size()>=o)););return ne.resolve(g)}St(e,s,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new HS(s,r));let u=this.qr.get(s);u===void 0&&(u=qe(),this.qr.set(s,u)),this.qr.set(s,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,s){return this.sessionToken=s,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(){this.Qr=new Vt(Bt.$r),this.Ur=new Vt(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,s){const r=new Bt(e,s);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,s){e.forEach((r=>this.addReference(r,s)))}removeReference(e,s){this.Gr(new Bt(e,s))}zr(e,s){e.forEach((r=>this.removeReference(r,s)))}jr(e){const s=new be(new rt([])),r=new Bt(s,e),o=new Bt(s,e+1),u=[];return this.Ur.forEachInRange([r,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const s=new be(new rt([])),r=new Bt(s,e),o=new Bt(s,e+1);let u=qe();return this.Ur.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const s=new Bt(e,0),r=this.Qr.firstAfterOrEqual(s);return r!==null&&e.isEqual(r.key)}}class Bt{constructor(e,s){this.key=e,this.Yr=s}static $r(e,s){return be.comparator(e.key,s.key)||ze(e.Yr,s.Yr)}static Kr(e,s){return ze(e.Yr,s.Yr)||be.comparator(e.key,s.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,s){this.indexManager=e,this.referenceDelegate=s,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(Bt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,s,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new qS(u,s,r,o);this.mutationQueue.push(f);for(const g of o)this.Zr=this.Zr.add(new Bt(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,s){return ne.resolve(this.Xr(s))}getNextMutationBatchAfterBatchId(e,s){const r=s+1,o=this.ei(r),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?lm:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,s){const r=new Bt(s,0),o=new Bt(s,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(f=>{const g=this.Xr(f.Yr);u.push(g)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,s){let r=new Vt(ze);return s.forEach((o=>{const u=new Bt(o,0),f=new Bt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(g=>{r=r.add(g.Yr)}))})),ne.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,s){const r=s.path,o=r.length+1;let u=r;be.isDocumentKey(u)||(u=u.child(""));const f=new Bt(new be(u),0);let g=new Vt(ze);return this.Zr.forEachWhile((v=>{const y=v.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(g=g.add(v.Yr)),!0)}),f),ne.resolve(this.ti(g))}ti(e){const s=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&s.push(o)})),s}removeMutationBatch(e,s){Ze(this.ni(s.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ne.forEach(s.mutations,(o=>{const u=new Bt(o.key,s.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,s){const r=new Bt(s,0),o=this.Zr.firstAfterOrEqual(r);return ne.resolve(s.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,s){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const s=this.ei(e);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e){this.ri=e,this.docs=(function(){return new mt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,s){const r=s.key,o=this.docs.get(r),u=o?o.size:0,f=this.ri(s);return this.docs=this.docs.insert(r,{document:s.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const s=this.docs.get(e);s&&(this.docs=this.docs.remove(e),this.size-=s.size)}getEntry(e,s){const r=this.docs.get(s);return ne.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(s))}getEntries(e,s){let r=Xs();return s.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))})),ne.resolve(r)}getDocumentsMatchingQuery(e,s,r,o){let u=Xs();const f=s.path,g=new be(f.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:y,value:{document:E}}=v.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||nS(tS(E),r)<=0||(o.has(E.key)||qu(s,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,s,r,o){Te(9500)}ii(e,s){return ne.forEach(this.docs,(r=>s(r)))}newChangeBuffer(e){return new Rw(this)}getSize(e){return ne.resolve(this.size)}}class Rw extends Ew{constructor(e){super(),this.Nr=e}applyChanges(e){const s=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?s.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),ne.waitFor(s)}getFromCache(e,s){return this.Nr.getEntry(e,s)}getAllFromCache(e,s){return this.Nr.getEntries(e,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e){this.persistence=e,this.si=new Fa((s=>cm(s)),um),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new gm,this.targetCount=0,this.ai=Yr.ur()}forEachTarget(e,s){return this.si.forEach(((r,o)=>s(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,s,r){return r&&(this.lastRemoteSnapshotVersion=r),s>this.oi&&(this.oi=s),ne.resolve()}Pr(e){this.si.set(e.target,e);const s=e.targetId;s>this.highestTargetId&&(this.ai=new Yr(s),this.highestTargetId=s),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,s){return this.Pr(s),this.targetCount+=1,ne.resolve()}updateTargetData(e,s){return this.Pr(s),ne.resolve()}removeTargetData(e,s){return this.si.delete(s.target),this._i.jr(s.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,s,r){let o=0;const u=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=s&&r.get(g.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,s){const r=this.si.get(s)||null;return ne.resolve(r)}addMatchingKeys(e,s,r){return this._i.Wr(s,r),ne.resolve()}removeMatchingKeys(e,s,r){this._i.zr(s,r);const o=this.persistence.referenceDelegate,u=[];return o&&s.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,s){return this._i.jr(s),ne.resolve()}getMatchingKeysForTargetId(e,s){const r=this._i.Hr(s);return ne.resolve(r)}containsKey(e,s){return ne.resolve(this._i.containsKey(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,s){this.ui={},this.overlays={},this.ci=new ku(0),this.li=!1,this.li=!0,this.hi=new Sw,this.referenceDelegate=e(this),this.Pi=new Cw(this),this.indexManager=new mw,this.remoteDocumentCache=(function(o){return new jw(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new dw(s),this.Ii=new Aw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let s=this.overlays[e.toKey()];return s||(s=new Nw,this.overlays[e.toKey()]=s),s}getMutationQueue(e,s){let r=this.ui[e.toKey()];return r||(r=new ww(s,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,s,r){de("MemoryPersistence","Starting transaction:",e);const o=new Dw(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,s){return ne.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,s))))}}class Dw extends iS{constructor(e){super(),this.currentSequenceNumber=e}}class vm{constructor(e){this.persistence=e,this.Ri=new gm,this.Vi=null}static mi(e){return new vm(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,s,r){return this.Ri.addReference(r,s),this.fi.delete(r.toString()),ne.resolve()}removeReference(e,s,r){return this.Ri.removeReference(r,s),this.fi.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,s){return this.fi.add(s.toString()),ne.resolve()}removeTarget(e,s){this.Ri.jr(s.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,s.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,s)))}Ei(){this.Vi=new Set}di(e){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(r=>{const o=be.fromPath(r);return this.gi(e,o).next((u=>{u||s.removeEntry(o,we.min())}))})).next((()=>(this.Vi=null,s.apply(e))))}updateLimboDocument(e,s){return this.gi(e,s).next((r=>{r?this.fi.delete(s.toString()):this.fi.add(s.toString())}))}Ti(e){return 0}gi(e,s){return ne.or([()=>ne.resolve(this.Ri.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(e,s),()=>this.persistence.Ai(e,s)])}}class Nu{constructor(e,s){this.persistence=e,this.pi=new Fa((r=>lS(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=bw(this,s)}static mi(e,s){return new Nu(e,s)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,s){return this.persistence.getTargetCache().forEachTarget(e,s)}gr(e){const s=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>s.next((o=>r+o))))}wr(e){let s=0;return this.pr(e,(r=>{s++})).next((()=>s))}pr(e,s){return ne.forEach(this.pi,((r,o)=>this.br(e,r,o).next((u=>u?ne.resolve():s(o)))))}removeTargets(e,s,r){return this.persistence.getTargetCache().removeTargets(e,s,r)}removeOrphanedDocuments(e,s){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,s).next((g=>{g||(r++,u.removeEntry(f,we.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeTarget(e,s){const r=s.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,s,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,s,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}Ti(e){let s=e.key.toString().length;return e.isFoundDocument()&&(s+=ou(e.data.value)),s}br(e,s,r){return ne.or([()=>this.persistence.Ai(e,s),()=>this.persistence.getTargetCache().containsKey(e,s),()=>{const o=this.pi.get(s);return ne.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,s,r,o){this.targetId=e,this.fromCache=s,this.Es=r,this.ds=o}static As(e,s){let r=qe(),o=qe();for(const u of s.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ym(e,s.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return s0()?8:aS(e0())>0?6:4})()}initialize(e,s){this.ps=e,this.indexManager=s,this.Rs=!0}getDocumentsMatchingQuery(e,s,r,o){const u={result:null};return this.ys(e,s).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,s,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new Iw;return this.Ss(e,s,f).next((g=>{if(u.result=g,this.Vs)return this.bs(e,s,f,g.size)}))})).next((()=>u.result))}bs(e,s,r,o){return r.documentReadCount<this.fs?(kr()<=Qe.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Lr(s),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(kr()<=Qe.DEBUG&&de("QueryEngine","Query:",Lr(s),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(kr()<=Qe.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Lr(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ys(s))):ne.resolve())}ys(e,s){if(e_(s))return ne.resolve(null);let r=ys(s);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(s.limit!==null&&o===1&&(s=xu(s,null,"F"),r=ys(s)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const f=qe(...u);return this.ps.getDocuments(e,f).next((g=>this.indexManager.getMinOffset(e,r).next((v=>{const y=this.Ds(s,g);return this.Cs(s,y,f,v.readTime)?this.ys(e,xu(s,null,"F")):this.vs(e,y,s,v)}))))})))))}ws(e,s,r,o){return e_(s)||o.isEqual(we.min())?ne.resolve(null):this.ps.getDocuments(e,r).next((u=>{const f=this.Ds(s,u);return this.Cs(s,f,r,o)?ne.resolve(null):(kr()<=Qe.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Lr(s)),this.vs(e,f,s,eS(o,yo)).next((g=>g)))}))}Ds(e,s){let r=new Vt(qb(e));return s.forEach(((o,u)=>{qu(e,u)&&(r=r.add(u))})),r}Cs(e,s,r,o){if(e.limit===null)return!1;if(r.size!==s.size)return!0;const u=e.limitType==="F"?s.last():s.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,s,r){return kr()<=Qe.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Lr(s)),this.ps.getDocumentsMatchingQuery(e,s,zi.min(),r)}vs(e,s,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((u=>(s.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="LocalStore",Vw=3e8;class Ow{constructor(e,s,r,o){this.persistence=e,this.Fs=s,this.serializer=o,this.Ms=new mt(ze),this.xs=new Fa((u=>cm(u)),um),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(s=>e.collect(s,this.Ms)))}}function kw(i,e,s,r){return new Ow(i,e,s,r)}async function hE(i,e){const s=Ce(i);return await s.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return s.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,s.Bs(e),s.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],g=[];let v=qe();for(const y of o){f.push(y.batchId);for(const E of y.mutations)v=v.add(E.key)}for(const y of u){g.push(y.batchId);for(const E of y.mutations)v=v.add(E.key)}return s.localDocuments.getDocuments(r,v).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:g})))}))}))}function Lw(i,e){const s=Ce(i);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=s.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,v,y,E){const R=y.batch,C=R.keys();let P=ne.resolve();return C.forEach((U=>{P=P.next((()=>E.getEntry(v,U))).next((W=>{const K=y.docVersions.get(U);Ze(K!==null,48541),W.version.compareTo(K)<0&&(R.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),E.addEntry(W)))}))})),P.next((()=>g.mutationQueue.removeMutationBatch(v,R)))})(s,r,e,u).next((()=>u.apply(r))).next((()=>s.mutationQueue.performConsistencyCheck(r))).next((()=>s.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let v=qe();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(v=v.add(g.batch.mutations[y].key));return v})(e)))).next((()=>s.localDocuments.getDocuments(r,o)))}))}function dE(i){const e=Ce(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(s=>e.Pi.getLastRemoteSnapshotVersion(s)))}function Pw(i,e){const s=Ce(i),r=e.snapshotVersion;let o=s.Ms;return s.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=s.Ns.newChangeBuffer({trackRemovals:!0});o=s.Ms;const g=[];e.targetChanges.forEach(((E,R)=>{const C=o.get(R);if(!C)return;g.push(s.Pi.removeMatchingKeys(u,E.removedDocuments,R).next((()=>s.Pi.addMatchingKeys(u,E.addedDocuments,R))));let P=C.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(R)!==null?P=P.withResumeToken($t.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,r)),o=o.insert(R,P),(function(W,K,me){return W.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=Vw?!0:me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0})(C,P,E)&&g.push(s.Pi.updateTargetData(u,P))}));let v=Xs(),y=qe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&g.push(s.persistence.referenceDelegate.updateLimboDocument(u,E))})),g.push(Uw(u,f,e.documentUpdates).next((E=>{v=E.ks,y=E.qs}))),!r.isEqual(we.min())){const E=s.Pi.getLastRemoteSnapshotVersion(u).next((R=>s.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));g.push(E)}return ne.waitFor(g).next((()=>f.apply(u))).next((()=>s.localDocuments.getLocalViewOfDocuments(u,v,y))).next((()=>v))})).then((u=>(s.Ms=o,u)))}function Uw(i,e,s){let r=qe(),o=qe();return s.forEach((u=>r=r.add(u))),e.getEntries(i,r).next((u=>{let f=Xs();return s.forEach(((g,v)=>{const y=u.get(g);v.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(we.min())?(e.removeEntry(g,v.readTime),f=f.insert(g,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(v),f=f.insert(g,v)):de(_m,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",v.version)})),{ks:f,qs:o}}))}function Bw(i,e){const s=Ce(i);return s.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=lm),s.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function zw(i,e){const s=Ce(i);return s.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return s.Pi.getTargetData(r,e).next((u=>u?(o=u,ne.resolve(o)):s.Pi.allocateTargetId(r).next((f=>(o=new Oi(e,f,"TargetPurposeListen",r.currentSequenceNumber),s.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=s.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(s.Ms=s.Ms.insert(r.targetId,r),s.xs.set(e,r.targetId)),r}))}async function zf(i,e,s){const r=Ce(i),o=r.Ms.get(e),u=s?"readwrite":"readwrite-primary";try{s||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Zr(f))throw f;de(_m,`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function f_(i,e,s){const r=Ce(i);let o=we.min(),u=qe();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(v,y,E){const R=Ce(v),C=R.xs.get(E);return C!==void 0?ne.resolve(R.Ms.get(C)):R.Pi.getTargetData(y,E)})(r,f,ys(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,g.targetId).next((v=>{u=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,e,s?o:we.min(),s?u:qe()))).next((g=>(qw(r,SS(e),g),{documents:g,Qs:u})))))}function qw(i,e,s){let r=i.Os.get(e)||we.min();s.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),i.Os.set(e,r)}class m_{constructor(){this.activeTargetIds=IS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hw{constructor(){this.Mo=new m_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,s,r){}addLocalQueryTarget(e,s=!0){return s&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,s,r){this.xo[e]=s}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new m_,Promise.resolve()}handleUserChange(e,s,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="ConnectivityMonitor";class g_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(p_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(p_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ru=null;function qf(){return ru===null?ru=(function(){return 268435456+Math.round(2147483648*Math.random())})():ru++,"0x"+ru.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f="RestConnection",Gw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qw{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const s=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=s+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===_u?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,s,r,o,u){const f=qf(),g=this.zo(e,s.toUriEncodedString());de(_f,`Sending RPC '${e}' ${f}:`,g,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,u);const{host:y}=new URL(g),E=Zf(y);return this.Jo(e,g,v,r,E).then((R=>(de(_f,`Received RPC '${e}' ${f}: `,R),R)),(R=>{throw qr(_f,`RPC '${e}' ${f} failed with error: `,R,"url: ",g,"request:",r),R}))}Ho(e,s,r,o,u,f){return this.Go(e,s,r,o,u)}jo(e,s,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Kr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}zo(e,s){const r=Gw[e];return`${this.Uo}/v1/${s}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class $w extends Qw{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,s,r,o,u){const f=qf();return new Promise(((g,v)=>{const y=new gb;y.setWithCredentials(!0),y.listenOnce(vb.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case lu.NO_ERROR:const R=y.getResponseJson();de(Wt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(R)),g(R);break;case lu.TIMEOUT:de(Wt,`RPC '${e}' ${f} timed out`),v(new oe($.DEADLINE_EXCEEDED,"Request time out"));break;case lu.HTTP_ERROR:const C=y.getStatus();if(de(Wt,`RPC '${e}' ${f} failed with status:`,C,"response text:",y.getResponseText()),C>0){let P=y.getResponseJson();Array.isArray(P)&&(P=P[0]);const U=P?.error;if(U&&U.status&&U.message){const W=(function(me){const ie=me.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ie)>=0?ie:$.UNKNOWN})(U.status);v(new oe(W,U.message))}else v(new oe($.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new oe($.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{de(Wt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);de(Wt,`RPC '${e}' ${f} sending request:`,o),y.send(s,"POST",E,r,15)}))}T_(e,s,r){const o=qf(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=bb(),g=_b(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(v.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,s,r),v.encodeInitMessageHeaders=!0;const E=u.join("");de(Wt,`Creating RPC '${e}' stream ${o}: ${E}`,v);const R=f.createWebChannel(E,v);this.I_(R);let C=!1,P=!1;const U=new Yw({Yo:K=>{P?de(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,K):(C||(de(Wt,`Opening RPC '${e}' stream ${o} transport.`),R.open(),C=!0),de(Wt,`RPC '${e}' stream ${o} sending:`,K),R.send(K))},Zo:()=>R.close()}),W=(K,me,ie)=>{K.listen(me,(k=>{try{ie(k)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return W(R,ro.EventType.OPEN,(()=>{P||(de(Wt,`RPC '${e}' stream ${o} transport opened.`),U.o_())})),W(R,ro.EventType.CLOSE,(()=>{P||(P=!0,de(Wt,`RPC '${e}' stream ${o} transport closed`),U.a_(),this.E_(R))})),W(R,ro.EventType.ERROR,(K=>{P||(P=!0,qr(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,K.name,"Message:",K.message),U.a_(new oe($.UNAVAILABLE,"The operation could not be completed")))})),W(R,ro.EventType.MESSAGE,(K=>{if(!P){const me=K.data[0];Ze(!!me,16349);const ie=me,k=ie?.error||ie[0]?.error;if(k){de(Wt,`RPC '${e}' stream ${o} received error:`,k);const ae=k.status;let Z=(function(N){const D=wt[N];if(D!==void 0)return Wb(D)})(ae),se=k.message;Z===void 0&&(Z=$.INTERNAL,se="Unknown error status: "+ae+" with message "+k.message),P=!0,U.a_(new oe(Z,se)),R.close()}else de(Wt,`RPC '${e}' stream ${o} received:`,me),U.u_(me)}})),W(g,yb.STAT_EVENT,(K=>{K.stat===Cf.PROXY?de(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):K.stat===Cf.NOPROXY&&de(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((s=>s===e))}}function bf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(i){return new JS(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,s,r=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=s,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const s=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,s-r);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${s} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="PersistentStream";class mE{constructor(e,s,r,o,u,f,g,v){this.Mi=e,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fE(e,s)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,s){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():s&&s.code===$.RESOURCE_EXHAUSTED?(Ks(s.toString()),Ks("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):s&&s.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(s)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),s=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===s&&this.G_(r,o)}),(r=>{e((()=>{const o=new oe($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,s){const r=this.W_(this.D_);this.stream=this.j_(e,s),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(v_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return s=>{this.Mi.enqueueAndForget((()=>this.D_===e?s():(de(v_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Kw extends mE{constructor(e,s,r,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,r,o,f),this.serializer=u}j_(e,s){return this.connection.T_("Listen",e,s)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const s=tw(this.serializer,e),r=(function(u){if(!("targetChange"in u))return we.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?_s(f.readTime):we.min()})(e);return this.listener.H_(s,r)}Y_(e){const s={};s.database=Bf(this.serializer),s.addTarget=(function(u,f){let g;const v=f.target;if(g=Of(v)?{documents:iw(u,v)}:{query:aw(u,v).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=nE(u,f.resumeToken);const y=Lf(u,f.expectedCount);y!==null&&(g.expectedCount=y)}else if(f.snapshotVersion.compareTo(we.min())>0){g.readTime=Au(u,f.snapshotVersion.toTimestamp());const y=Lf(u,f.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const r=lw(this.serializer,e);r&&(s.labels=r),this.q_(s)}Z_(e){const s={};s.database=Bf(this.serializer),s.removeTarget=e,this.q_(s)}}class Xw extends mE{constructor(e,s,r,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,r,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,s){return this.connection.T_("Write",e,s)}J_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const s=sw(e.writeResults,e.commitTime),r=_s(e.commitTime);return this.listener.na(r,s)}ra(){const e={};e.database=Bf(this.serializer),this.q_(e)}ea(e){const s={streamToken:this.lastStreamToken,writes:e.map((r=>nw(this.serializer,r)))};this.q_(s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{}class Jw extends Zw{constructor(e,s,r,o){super(),this.authCredentials=e,this.appCheckCredentials=s,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,s,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Pf(s,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe($.UNKNOWN,u.toString())}))}Ho(e,s,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(e,Pf(s,r),o,f,g,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new oe($.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Ww{constructor(e,s){this.asyncQueue=e,this.onlineStateHandler=s,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const s=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ks(s),this.aa=!1):de("OnlineStateTracker",s)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa="RemoteStore";class e1{constructor(e,s,r,o,u){this.localStore=e,this.datastore=s,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{Ga(this)&&(de(qa,"Restarting streams for network reachability change."),await(async function(v){const y=Ce(v);y.Ea.add(4),await Do(y),y.Ra.set("Unknown"),y.Ea.delete(4),await $u(y)})(this))}))})),this.Ra=new Ww(r,o)}}async function $u(i){if(Ga(i))for(const e of i.da)await e(!0)}async function Do(i){for(const e of i.da)await e(!1)}function pE(i,e){const s=Ce(i);s.Ia.has(e.targetId)||(s.Ia.set(e.targetId,e),Tm(s)?xm(s):Jr(s).O_()&&Em(s,e))}function bm(i,e){const s=Ce(i),r=Jr(s);s.Ia.delete(e),r.O_()&&gE(s,e),s.Ia.size===0&&(r.O_()?r.L_():Ga(s)&&s.Ra.set("Unknown"))}function Em(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const s=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(s)}Jr(i).Y_(e)}function gE(i,e){i.Va.Ue(e),Jr(i).Z_(e)}function xm(i){i.Va=new $S({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Jr(i).start(),i.Ra.ua()}function Tm(i){return Ga(i)&&!Jr(i).x_()&&i.Ia.size>0}function Ga(i){return Ce(i).Ea.size===0}function vE(i){i.Va=void 0}async function t1(i){i.Ra.set("Online")}async function n1(i){i.Ia.forEach(((e,s)=>{Em(i,e)}))}async function s1(i,e){vE(i),Tm(i)?(i.Ra.ha(e),xm(i)):i.Ra.set("Unknown")}async function i1(i,e,s){if(i.Ra.set("Online"),e instanceof tE&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const g of u.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,f),o.Ia.delete(g),o.Va.removeTarget(g))})(i,e)}catch(r){de(qa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Su(i,r)}else if(e instanceof hu?i.Va.Ze(e):e instanceof eE?i.Va.st(e):i.Va.tt(e),!s.isEqual(we.min()))try{const r=await dE(i.localStore);s.compareTo(r)>=0&&await(function(u,f){const g=u.Va.Tt(f);return g.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(v.resumeToken,f))}})),g.targetMismatches.forEach(((v,y)=>{const E=u.Ia.get(v);if(!E)return;u.Ia.set(v,E.withResumeToken($t.EMPTY_BYTE_STRING,E.snapshotVersion)),gE(u,v);const R=new Oi(E.target,v,y,E.sequenceNumber);Em(u,R)})),u.remoteSyncer.applyRemoteEvent(g)})(i,s)}catch(r){de(qa,"Failed to raise snapshot:",r),await Su(i,r)}}async function Su(i,e,s){if(!Zr(e))throw e;i.Ea.add(1),await Do(i),i.Ra.set("Offline"),s||(s=()=>dE(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{de(qa,"Retrying IndexedDB access"),await s(),i.Ea.delete(1),await $u(i)}))}function yE(i,e){return e().catch((s=>Su(i,s,e)))}async function Ku(i){const e=Ce(i),s=Gi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:lm;for(;a1(e);)try{const o=await Bw(e.localStore,r);if(o===null){e.Ta.length===0&&s.L_();break}r=o.batchId,r1(e,o)}catch(o){await Su(e,o)}_E(e)&&bE(e)}function a1(i){return Ga(i)&&i.Ta.length<10}function r1(i,e){i.Ta.push(e);const s=Gi(i);s.O_()&&s.X_&&s.ea(e.mutations)}function _E(i){return Ga(i)&&!Gi(i).x_()&&i.Ta.length>0}function bE(i){Gi(i).start()}async function l1(i){Gi(i).ra()}async function o1(i){const e=Gi(i);for(const s of i.Ta)e.ea(s.mutations)}async function c1(i,e,s){const r=i.Ta.shift(),o=fm.from(r,e,s);await yE(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Ku(i)}async function u1(i,e){e&&Gi(i).X_&&await(async function(r,o){if((function(f){return GS(f)&&f!==$.ABORTED})(o.code)){const u=r.Ta.shift();Gi(r).B_(),await yE(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Ku(r)}})(i,e),_E(i)&&bE(i)}async function y_(i,e){const s=Ce(i);s.asyncQueue.verifyOperationInProgress(),de(qa,"RemoteStore received new credentials");const r=Ga(s);s.Ea.add(3),await Do(s),r&&s.Ra.set("Unknown"),await s.remoteSyncer.handleCredentialChange(e),s.Ea.delete(3),await $u(s)}async function h1(i,e){const s=Ce(i);e?(s.Ea.delete(2),await $u(s)):e||(s.Ea.add(2),await Do(s),s.Ra.set("Unknown"))}function Jr(i){return i.ma||(i.ma=(function(s,r,o){const u=Ce(s);return u.sa(),new Kw(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:t1.bind(null,i),t_:n1.bind(null,i),r_:s1.bind(null,i),H_:i1.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Tm(i)?xm(i):i.Ra.set("Unknown")):(await i.ma.stop(),vE(i))}))),i.ma}function Gi(i){return i.fa||(i.fa=(function(s,r,o){const u=Ce(s);return u.sa(),new Xw(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:l1.bind(null,i),r_:u1.bind(null,i),ta:o1.bind(null,i),na:c1.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Ku(i)):(await i.fa.stop(),i.Ta.length>0&&(de(qa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,s,r,o,u){this.asyncQueue=e,this.timerId=s,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,s,r,o,u){const f=Date.now()+r,g=new Am(e,s,f,o,u);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nm(i,e){if(Ks("AsyncQueue",`${e}: ${i}`),Zr(i))return new oe($.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{static emptySet(e){return new zr(e.comparator)}constructor(e){this.comparator=e?(s,r)=>e(s,r)||be.comparator(s.key,r.key):(s,r)=>be.comparator(s.key,r.key),this.keyedMap=lo(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const s=this.keyedMap.get(e);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((s,r)=>(e(s),!1)))}add(e){const s=this.delete(e.key);return s.copy(s.keyedMap.insert(e.key,e),s.sortedSet.insert(e,null))}delete(e){const s=this.get(e);return s?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(s)):this}isEqual(e){if(!(e instanceof zr)||this.size!==e.size)return!1;const s=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;s.hasNext();){const o=s.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((s=>{e.push(s.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,s){const r=new zr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=s,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(){this.ga=new mt(be.comparator)}track(e){const s=e.doc.key,r=this.ga.get(s);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(s,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(s,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(s,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(s):e.type===1&&r.type===2?this.ga=this.ga.insert(s,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(s,e)}ya(){const e=[];return this.ga.inorderTraversal(((s,r)=>{e.push(r)})),e}}class $r{constructor(e,s,r,o,u,f,g,v,y){this.query=e,this.docs=s,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(e,s,r,o,u){const f=[];return s.forEach((g=>{f.push({type:0,doc:g})})),new $r(e,s,zr.emptySet(s),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const s=this.docChanges,r=e.docChanges;if(s.length!==r.length)return!1;for(let o=0;o<s.length;o++)if(s[o].type!==r[o].type||!s[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class f1{constructor(){this.queries=b_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(s,r){const o=Ce(s),u=o.queries;o.queries=b_(),u.forEach(((f,g)=>{for(const v of g.Sa)v.onError(r)}))})(this,new oe($.ABORTED,"Firestore shutting down"))}}function b_(){return new Fa((i=>zb(i)),zu)}async function Sm(i,e){const s=Ce(i);let r=3;const o=e.query;let u=s.queries.get(o);u?!u.ba()&&e.Da()&&(r=2):(u=new d1,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await s.onListen(o,!0);break;case 1:u.wa=await s.onListen(o,!1);break;case 2:await s.onFirstRemoteStoreListen(o)}}catch(f){const g=Nm(f,`Initialization of query '${Lr(e.query)}' failed`);return void e.onError(g)}s.queries.set(o,u),u.Sa.push(e),e.va(s.onlineState),u.wa&&e.Fa(u.wa)&&jm(s)}async function wm(i,e){const s=Ce(i),r=e.query;let o=3;const u=s.queries.get(r);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return s.queries.delete(r),s.onUnlisten(r,!0);case 1:return s.queries.delete(r),s.onUnlisten(r,!1);case 2:return s.onLastRemoteStoreUnlisten(r);default:return}}function m1(i,e){const s=Ce(i);let r=!1;for(const o of e){const u=o.query,f=s.queries.get(u);if(f){for(const g of f.Sa)g.Fa(o)&&(r=!0);f.wa=o}}r&&jm(s)}function p1(i,e,s){const r=Ce(i),o=r.queries.get(e);if(o)for(const u of o.Sa)u.onError(s);r.queries.delete(e)}function jm(i){i.Ca.forEach((e=>{e.next()}))}var Hf,E_;(E_=Hf||(Hf={})).Ma="default",E_.Cache="cache";class Rm{constructor(e,s,r){this.query=e,this.xa=s,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new $r(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let s=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),s=!0):this.La(e,this.onlineState)&&(this.ka(e),s=!0),this.Na=e,s}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let s=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),s=!0),s}La(e,s){if(!e.fromCache||!this.Da())return!0;const r=s!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||s==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const s=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}ka(e){e=$r.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Hf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e){this.key=e}}class xE{constructor(e){this.key=e}}class g1{constructor(e,s){this.query=e,this.Ya=s,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=qb(e),this.tu=new zr(this.eu)}get nu(){return this.Ya}ru(e,s){const r=s?s.iu:new __,o=s?s.tu:this.tu;let u=s?s.mutatedKeys:this.mutatedKeys,f=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,R)=>{const C=o.get(E),P=qu(this.query,R)?R:null,U=!!C&&this.mutatedKeys.has(C.key),W=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let K=!1;C&&P?C.data.isEqual(P.data)?U!==W&&(r.track({type:3,doc:P}),K=!0):this.su(C,P)||(r.track({type:2,doc:P}),K=!0,(v&&this.eu(P,v)>0||y&&this.eu(P,y)<0)&&(g=!0)):!C&&P?(r.track({type:0,doc:P}),K=!0):C&&!P&&(r.track({type:1,doc:C}),K=!0,(v||y)&&(g=!0)),K&&(P?(f=f.add(P),u=W?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{tu:f,iu:r,Cs:g,mutatedKeys:u}}su(e,s){return e.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(e,s,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,R)=>(function(P,U){const W=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:K})}};return W(P)-W(U)})(E.type,R.type)||this.eu(E.doc,R.doc))),this.ou(r),o=o??!1;const g=s&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,y=v!==this.Za;return this.Za=v,f.length!==0||y?{snapshot:new $r(this.query,e.tu,u,f,e.mutatedKeys,v===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new __,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((s=>this.Ya=this.Ya.add(s))),e.modifiedDocuments.forEach((s=>{})),e.removedDocuments.forEach((s=>this.Ya=this.Ya.delete(s))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const s=[];return e.forEach((r=>{this.Xa.has(r)||s.push(new xE(r))})),this.Xa.forEach((r=>{e.has(r)||s.push(new EE(r))})),s}cu(e){this.Ya=e.Qs,this.Xa=qe();const s=this.ru(e.documents);return this.applyChanges(s,!0)}lu(){return $r.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Cm="SyncEngine";class v1{constructor(e,s,r){this.query=e,this.targetId=s,this.view=r}}class y1{constructor(e){this.key=e,this.hu=!1}}class _1{constructor(e,s,r,o,u,f){this.localStore=e,this.remoteStore=s,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Fa((g=>zb(g)),zu),this.Iu=new Map,this.Eu=new Set,this.du=new mt(be.comparator),this.Au=new Map,this.Ru=new gm,this.Vu={},this.mu=new Map,this.fu=Yr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function b1(i,e,s=!0){const r=jE(i);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await TE(r,e,s,!0),o}async function E1(i,e){const s=jE(i);await TE(s,e,!0,!1)}async function TE(i,e,s,r){const o=await zw(i.localStore,ys(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,s);let g;return r&&(g=await x1(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&s&&pE(i.remoteStore,o),g}async function x1(i,e,s,r,o){i.pu=(R,C,P)=>(async function(W,K,me,ie){let k=K.view.ru(me);k.Cs&&(k=await f_(W.localStore,K.query,!1).then((({documents:S})=>K.view.ru(S,k))));const ae=ie&&ie.targetChanges.get(K.targetId),Z=ie&&ie.targetMismatches.get(K.targetId)!=null,se=K.view.applyChanges(k,W.isPrimaryClient,ae,Z);return T_(W,K.targetId,se.au),se.snapshot})(i,R,C,P);const u=await f_(i.localStore,e,!0),f=new g1(e,u.Qs),g=f.ru(u.documents),v=Co.createSynthesizedTargetChangeForCurrentChange(s,r&&i.onlineState!=="Offline",o),y=f.applyChanges(g,i.isPrimaryClient,v);T_(i,s,y.au);const E=new v1(e,s,f);return i.Tu.set(e,E),i.Iu.has(s)?i.Iu.get(s).push(e):i.Iu.set(s,[e]),y.snapshot}async function T1(i,e,s){const r=Ce(i),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!zu(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await zf(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),s&&bm(r.remoteStore,o.targetId),Ff(r,o.targetId)})).catch(Xr)):(Ff(r,o.targetId),await zf(r.localStore,o.targetId,!0))}async function A1(i,e){const s=Ce(i),r=s.Tu.get(e),o=s.Iu.get(r.targetId);s.isPrimaryClient&&o.length===1&&(s.sharedClientState.removeLocalQueryTarget(r.targetId),bm(s.remoteStore,r.targetId))}async function N1(i,e,s){const r=I1(i);try{const o=await(function(f,g){const v=Ce(f),y=ut.now(),E=g.reduce(((P,U)=>P.add(U.key)),qe());let R,C;return v.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let U=Xs(),W=qe();return v.Ns.getEntries(P,E).next((K=>{U=K,U.forEach(((me,ie)=>{ie.isValidDocument()||(W=W.add(me))}))})).next((()=>v.localDocuments.getOverlayedDocuments(P,U))).next((K=>{R=K;const me=[];for(const ie of g){const k=BS(ie,R.get(ie.key).overlayedDocument);k!=null&&me.push(new Ki(ie.key,k,Vb(k.value.mapValue),yn.exists(!0)))}return v.mutationQueue.addMutationBatch(P,y,me,g)})).next((K=>{C=K;const me=K.applyToLocalDocumentSet(R,W);return v.documentOverlayCache.saveOverlays(P,K.batchId,me)}))})).then((()=>({batchId:C.batchId,changes:Fb(R)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(f,g,v){let y=f.Vu[f.currentUser.toKey()];y||(y=new mt(ze)),y=y.insert(g,v),f.Vu[f.currentUser.toKey()]=y})(r,o.batchId,s),await Io(r,o.changes),await Ku(r.remoteStore)}catch(o){const u=Nm(o,"Failed to persist write");s.reject(u)}}async function AE(i,e){const s=Ce(i);try{const r=await Pw(s.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=s.Au.get(u);f&&(Ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ze(f.hu,14607):o.removedDocuments.size>0&&(Ze(f.hu,42227),f.hu=!1))})),await Io(s,r,e)}catch(r){await Xr(r)}}function x_(i,e,s){const r=Ce(i);if(r.isPrimaryClient&&s===0||!r.isPrimaryClient&&s===1){const o=[];r.Tu.forEach(((u,f)=>{const g=f.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(f,g){const v=Ce(f);v.onlineState=g;let y=!1;v.queries.forEach(((E,R)=>{for(const C of R.Sa)C.va(g)&&(y=!0)})),y&&jm(v)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function S1(i,e,s){const r=Ce(i);r.sharedClientState.updateQueryState(e,"rejected",s);const o=r.Au.get(e),u=o&&o.key;if(u){let f=new mt(be.comparator);f=f.insert(u,tn.newNoDocument(u,we.min()));const g=qe().add(u),v=new Qu(we.min(),new Map,new mt(ze),f,g);await AE(r,v),r.du=r.du.remove(u),r.Au.delete(e),Dm(r)}else await zf(r.localStore,e,!1).then((()=>Ff(r,e,s))).catch(Xr)}async function w1(i,e){const s=Ce(i),r=e.batch.batchId;try{const o=await Lw(s.localStore,e);SE(s,r,null),NE(s,r),s.sharedClientState.updateMutationState(r,"acknowledged"),await Io(s,o)}catch(o){await Xr(o)}}async function j1(i,e,s){const r=Ce(i);try{const o=await(function(f,g){const v=Ce(f);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return v.mutationQueue.lookupMutationBatch(y,g).next((R=>(Ze(R!==null,37113),E=R.keys(),v.mutationQueue.removeMutationBatch(y,R)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,E,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>v.localDocuments.getDocuments(y,E)))}))})(r.localStore,e);SE(r,e,s),NE(r,e),r.sharedClientState.updateMutationState(e,"rejected",s),await Io(r,o)}catch(o){await Xr(o)}}function NE(i,e){(i.mu.get(e)||[]).forEach((s=>{s.resolve()})),i.mu.delete(e)}function SE(i,e,s){const r=Ce(i);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(s?u.reject(s):u.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Ff(i,e,s=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),s&&i.Pu.yu(r,s);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((r=>{i.Ru.containsKey(r)||wE(i,r)}))}function wE(i,e){i.Eu.delete(e.path.canonicalString());const s=i.du.get(e);s!==null&&(bm(i.remoteStore,s),i.du=i.du.remove(e),i.Au.delete(s),Dm(i))}function T_(i,e,s){for(const r of s)r instanceof EE?(i.Ru.addReference(r.key,e),R1(i,r)):r instanceof xE?(de(Cm,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||wE(i,r.key)):Te(19791,{wu:r})}function R1(i,e){const s=e.key,r=s.path.canonicalString();i.du.get(s)||i.Eu.has(r)||(de(Cm,"New document in limbo: "+s),i.Eu.add(r),Dm(i))}function Dm(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const s=new be(rt.fromString(e)),r=i.fu.next();i.Au.set(r,new y1(s)),i.du=i.du.insert(s,r),pE(i.remoteStore,new Oi(ys(Bu(s.path)),r,"TargetPurposeLimboResolution",ku.ce))}}async function Io(i,e,s){const r=Ce(i),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,v)=>{f.push(r.pu(v,e,s).then((y=>{if((y||s)&&r.isPrimaryClient){const E=y?!y.fromCache:s?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,E?"current":"not-current")}if(y){o.push(y);const E=ym.As(v.targetId,y);u.push(E)}})))})),await Promise.all(f),r.Pu.H_(o),await(async function(v,y){const E=Ce(v);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(R=>ne.forEach(y,(C=>ne.forEach(C.Es,(P=>E.persistence.referenceDelegate.addReference(R,C.targetId,P))).next((()=>ne.forEach(C.ds,(P=>E.persistence.referenceDelegate.removeReference(R,C.targetId,P)))))))))}catch(R){if(!Zr(R))throw R;de(_m,"Failed to update sequence numbers: "+R)}for(const R of y){const C=R.targetId;if(!R.fromCache){const P=E.Ms.get(C),U=P.snapshotVersion,W=P.withLastLimboFreeSnapshotVersion(U);E.Ms=E.Ms.insert(C,W)}}})(r.localStore,u))}async function C1(i,e){const s=Ce(i);if(!s.currentUser.isEqual(e)){de(Cm,"User change. New user:",e.toKey());const r=await hE(s.localStore,e);s.currentUser=e,(function(u,f){u.mu.forEach((g=>{g.forEach((v=>{v.reject(new oe($.CANCELLED,f))}))})),u.mu.clear()})(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Io(s,r.Ls)}}function D1(i,e){const s=Ce(i),r=s.Au.get(e);if(r&&r.hu)return qe().add(r.key);{let o=qe();const u=s.Iu.get(e);if(!u)return o;for(const f of u){const g=s.Tu.get(f);o=o.unionWith(g.view.nu)}return o}}function jE(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=AE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=D1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=S1.bind(null,e),e.Pu.H_=m1.bind(null,e.eventManager),e.Pu.yu=p1.bind(null,e.eventManager),e}function I1(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=j1.bind(null,e),e}class wu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yu(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,s){return null}Mu(e,s){return null}vu(e){return kw(this.persistence,new Mw,e.initialUser,this.serializer)}Cu(e){return new uE(vm.mi,this.serializer)}Du(e){return new Hw}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wu.provider={build:()=>new wu};class M1 extends wu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,s){Ze(this.persistence.referenceDelegate instanceof Nu,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new yw(r,e.asyncQueue,s)}Cu(e){const s=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new uE((r=>Nu.mi(r,s)),this.serializer)}}class Gf{async initialize(e,s){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>x_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=C1.bind(null,this.syncEngine),await h1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new f1})()}createDatastore(e){const s=Yu(e.databaseInfo.databaseId),r=(function(u){return new $w(u)})(e.databaseInfo);return(function(u,f,g,v){return new Jw(u,f,g,v)})(e.authCredentials,e.appCheckCredentials,r,s)}createRemoteStore(e){return(function(r,o,u,f,g){return new e1(r,o,u,f,g)})(this.localStore,this.datastore,e.asyncQueue,(s=>x_(this.syncEngine,s,0)),(function(){return g_.v()?new g_:new Fw})())}createSyncEngine(e,s){return(function(o,u,f,g,v,y,E){const R=new _1(o,u,f,g,v,y);return E&&(R.gu=!0),R})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,s)}async terminate(){await(async function(s){const r=Ce(s);de(qa,"RemoteStore shutting down."),r.Ea.add(5),await Do(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Gf.provider={build:()=>new Gf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ks("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,s){setTimeout((()=>{this.muted||e(s)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi="FirestoreClient";class V1{constructor(e,s,r,o,u){this.authCredentials=e,this.appCheckCredentials=s,this.asyncQueue=r,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=rm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{de(Qi,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(de(Qi,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(s){const r=Nm(s,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ef(i,e){i.asyncQueue.verifyOperationInProgress(),de(Qi,"Initializing OfflineComponentProvider");const s=i.configuration;await e.initialize(s);let r=s.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await hE(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function A_(i,e){i.asyncQueue.verifyOperationInProgress();const s=await O1(i);de(Qi,"Initializing OnlineComponentProvider"),await e.initialize(s,i.configuration),i.setCredentialChangeListener((r=>y_(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>y_(e.remoteStore,o))),i._onlineComponents=e}async function O1(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){de(Qi,"Using user provided OfflineComponentProvider");try{await Ef(i,i._uninitializedComponentsProvider._offline)}catch(e){const s=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(s))throw s;qr("Error using user provided cache. Falling back to memory cache: "+s),await Ef(i,new wu)}}else de(Qi,"Using default OfflineComponentProvider"),await Ef(i,new M1(void 0));return i._offlineComponents}async function RE(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(de(Qi,"Using user provided OnlineComponentProvider"),await A_(i,i._uninitializedComponentsProvider._online)):(de(Qi,"Using default OnlineComponentProvider"),await A_(i,new Gf))),i._onlineComponents}function k1(i){return RE(i).then((e=>e.syncEngine))}async function ju(i){const e=await RE(i),s=e.eventManager;return s.onListen=b1.bind(null,e.syncEngine),s.onUnlisten=T1.bind(null,e.syncEngine),s.onFirstRemoteStoreListen=E1.bind(null,e.syncEngine),s.onLastRemoteStoreUnlisten=A1.bind(null,e.syncEngine),s}function L1(i,e,s={}){const r=new Qs;return i.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,v,y){const E=new Im({next:C=>{E.Nu(),f.enqueueAndForget((()=>wm(u,R)));const P=C.docs.has(g);!P&&C.fromCache?y.reject(new oe($.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&C.fromCache&&v&&v.source==="server"?y.reject(new oe($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(C)},error:C=>y.reject(C)}),R=new Rm(Bu(g.path),E,{includeMetadataChanges:!0,qa:!0});return Sm(u,R)})(await ju(i),i.asyncQueue,e,s,r))),r.promise}function P1(i,e,s={}){const r=new Qs;return i.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,v,y){const E=new Im({next:C=>{E.Nu(),f.enqueueAndForget((()=>wm(u,R))),C.fromCache&&v.source==="server"?y.reject(new oe($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(C)},error:C=>y.reject(C)}),R=new Rm(g,E,{includeMetadataChanges:!0,qa:!0});return Sm(u,R)})(await ju(i),i.asyncQueue,e,s,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="firestore.googleapis.com",S_=!0;class w_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DE,this.ssl=S_}else this.host=e.host,this.ssl=e.ssl??S_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gw)throw new oe($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new oe($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new oe($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new oe($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xu{constructor(e,s,r,o){this._authCredentials=e,this._appCheckCredentials=s,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new qN;switch(r.type){case"firstParty":return new QN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(s){const r=N_.get(s);r&&(de("ComponentProvider","Removing Datastore"),N_.delete(s),r.terminate())})(this),Promise.resolve()}}function U1(i,e,s,r={}){i=Cn(i,Xu);const o=Zf(e),u=i._getSettings(),f={...u,emulatorOptions:i._getEmulatorOptions()},g=`${e}:${s}`;o&&(KT(`https://${g}`),WT("Firestore",!0)),u.host!==DE&&u.host!==g&&qr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...u,host:g,ssl:o,emulatorOptions:r};if(!go(v,f)&&(i._setSettings(v),r.mockUserToken)){let y,E;if(typeof r.mockUserToken=="string")y=r.mockUserToken,E=en.MOCK_USER;else{y=XT(r.mockUserToken,i._app?.options.projectId);const R=r.mockUserToken.sub||r.mockUserToken.user_id;if(!R)throw new oe($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new en(R)}i._authCredentials=new HN(new xb(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,s,r){this.converter=s,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ts(this.firestore,e,this._query)}}class At{constructor(e,s,r){this.converter=s,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}toJSON(){return{type:At._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,s,r){if(jo(s,At._jsonSchema))return new At(e,r||null,new be(rt.fromString(s.referencePath)))}}At._jsonSchemaVersion="firestore/documentReference/1.0",At._jsonSchema={type:Rt("string",At._jsonSchemaVersion),referencePath:Rt("string")};class Ui extends Ts{constructor(e,s,r){super(e,s,Bu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new be(e))}withConverter(e){return new Ui(this.firestore,e,this._path)}}function Ne(i,e,...s){if(i=un(i),Tb("collection","path",e),i instanceof Xu){const r=rt.fromString(e,...s);return zy(r),new Ui(i,null,r)}{if(!(i instanceof At||i instanceof Ui))throw new oe($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(rt.fromString(e,...s));return zy(r),new Ui(i.firestore,null,r)}}function _n(i,e,...s){if(i=un(i),arguments.length===1&&(e=rm.newId()),Tb("doc","path",e),i instanceof Xu){const r=rt.fromString(e,...s);return By(r),new At(i,null,new be(r))}{if(!(i instanceof At||i instanceof Ui))throw new oe($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(rt.fromString(e,...s));return By(r),new At(i.firestore,i instanceof Ui?i.converter:null,new be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="AsyncQueue";class R_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fE(this,"async_queue_retry"),this._c=()=>{const r=bf();r&&de(j_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const s=bf();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const s=bf();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const s=new Qs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(s.resolve,s.reject),s.promise))).then((()=>s.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Zr(e))throw e;de(j_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const s=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ks("INTERNAL UNHANDLED ERROR: ",C_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=s,s}enqueueAfterDelay(e,s,r){this.uc(),this.oc.indexOf(e)>-1&&(s=0);const o=Am.createAndSchedule(this,e,s,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:C_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const s of this.tc)if(s.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((s,r)=>s.targetTimeMs-r.targetTimeMs));for(const s of this.tc)if(s.skipDelay(),e!=="all"&&s.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const s=this.tc.indexOf(e);this.tc.splice(s,1)}}function C_(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(i){return(function(s,r){if(typeof s!="object"||s===null)return!1;const o=s;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class Zs extends Xu{constructor(e,s,r,o){super(e,s,r,o),this.type="firestore",this._queue=new R_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new R_(e),this._firestoreClient=void 0,await e}}}function B1(i,e){const s=typeof i=="object"?i:F_(),r=typeof i=="string"?i:_u,o=wo(s,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=YT("firestore");u&&U1(o,...u)}return o}function Mo(i){if(i._terminated)throw new oe($.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||z1(i),i._firestoreClient}function z1(i){const e=i._freezeSettings(),s=(function(o,u,f,g){return new uS(o,u,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,CE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new V1(i._authCredentials,i._appCheckCredentials,i._queue,s,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn($t.fromBase64String(e))}catch(s){throw new oe($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(e){return new Hn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(jo(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Rt("string",Hn._jsonSchemaVersion),bytes:Rt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(...e){for(let s=0;s<e.length;++s)if(e[s].length===0)throw new oe($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,s){if(!isFinite(e)||e<-90||e>90)throw new oe($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(s)||s<-180||s>180)throw new oe($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=e,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bs._jsonSchemaVersion}}static fromJSON(e){if(jo(e,bs._jsonSchema))return new bs(e.latitude,e.longitude)}}bs._jsonSchemaVersion="firestore/geoPoint/1.0",bs._jsonSchema={type:Rt("string",bs._jsonSchemaVersion),latitude:Rt("number"),longitude:Rt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this._values=(e||[]).map((s=>s))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Es._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(jo(e,Es._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((s=>typeof s=="number")))return new Es(e.vectorValues);throw new oe($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Es._jsonSchemaVersion="firestore/vectorValue/1.0",Es._jsonSchema={type:Rt("string",Es._jsonSchemaVersion),vectorValues:Rt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=/^__.*__$/;class H1{constructor(e,s,r){this.data=e,this.fieldMask=s,this.fieldTransforms=r}toMutation(e,s){return this.fieldMask!==null?new Ki(e,this.data,this.fieldMask,s,this.fieldTransforms):new Ro(e,this.data,s,this.fieldTransforms)}}class IE{constructor(e,s,r){this.data=e,this.fieldMask=s,this.fieldTransforms=r}toMutation(e,s){return new Ki(e,this.data,this.fieldMask,s,this.fieldTransforms)}}function ME(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:i})}}class Mm{constructor(e,s,r,o,u,f){this.settings=e,this.databaseId=s,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Mm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const s=this.path?.child(e),r=this.Vc({path:s,fc:!1});return r.gc(e),r}yc(e){const s=this.path?.child(e),r=this.Vc({path:s,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ru(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((s=>e.isPrefixOf(s)))!==void 0||this.fieldTransforms.find((s=>e.isPrefixOf(s.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ME(this.Ac)&&q1.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class F1{constructor(e,s,r){this.databaseId=e,this.ignoreUndefinedProperties=s,this.serializer=r||Yu(e)}Cc(e,s,r,o=!1){return new Mm({Ac:e,methodName:s,Dc:r,path:Yt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Oo(i){const e=i._freezeSettings(),s=Yu(i._databaseId);return new F1(i._databaseId,!!e.ignoreUndefinedProperties,s)}function VE(i,e,s,r,o,u={}){const f=i.Cc(u.merge||u.mergeFields?2:0,e,s,o);Om("Data must be an object, but it was:",f,r);const g=PE(r,f);let v,y;if(u.merge)v=new jn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const R of u.mergeFields){const C=Qf(e,R,s);if(!f.contains(C))throw new oe($.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);BE(E,C)||E.push(C)}v=new jn(E),y=f.fieldTransforms.filter((R=>v.covers(R.field)))}else v=null,y=f.fieldTransforms;return new H1(new gn(g),v,y)}class Ju extends Zu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ju}}class Vm extends Zu{_toFieldTransform(e){return new kS(e.path,new To)}isEqual(e){return e instanceof Vm}}function OE(i,e,s,r){const o=i.Cc(1,e,s);Om("Data must be an object, but it was:",o,r);const u=[],f=gn.empty();$i(r,((v,y)=>{const E=km(e,v,s);y=un(y);const R=o.yc(E);if(y instanceof Ju)u.push(E);else{const C=ko(y,R);C!=null&&(u.push(E),f.set(E,C))}}));const g=new jn(u);return new IE(f,g,o.fieldTransforms)}function kE(i,e,s,r,o,u){const f=i.Cc(1,e,s),g=[Qf(e,r,s)],v=[o];if(u.length%2!=0)throw new oe($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<u.length;C+=2)g.push(Qf(e,u[C])),v.push(u[C+1]);const y=[],E=gn.empty();for(let C=g.length-1;C>=0;--C)if(!BE(y,g[C])){const P=g[C];let U=v[C];U=un(U);const W=f.yc(P);if(U instanceof Ju)y.push(P);else{const K=ko(U,W);K!=null&&(y.push(P),E.set(P,K))}}const R=new jn(y);return new IE(E,R,f.fieldTransforms)}function LE(i,e,s,r=!1){return ko(s,i.Cc(r?4:3,e))}function ko(i,e){if(UE(i=un(i)))return Om("Unsupported field value:",e,i),PE(i,e);if(i instanceof Zu)return(function(r,o){if(!ME(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const g of r){let v=ko(g,o.wc(f));v==null&&(v={nullValue:"NULL_VALUE"}),u.push(v),f++}return{arrayValue:{values:u}}})(i,e)}return(function(r,o){if((r=un(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return MS(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=ut.fromDate(r);return{timestampValue:Au(o.serializer,u)}}if(r instanceof ut){const u=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Au(o.serializer,u)}}if(r instanceof bs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hn)return{bytesValue:nE(o.serializer,r._byteString)};if(r instanceof At){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:pm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Es)return(function(f,g){return{mapValue:{fields:{[Ib]:{stringValue:Mb},[bu]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return dm(g.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Ou(r)}`)})(i,e)}function PE(i,e){const s={};return Sb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$i(i,((r,o)=>{const u=ko(o,e.mc(r));u!=null&&(s[r]=u)})),{mapValue:{fields:s}}}function UE(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ut||i instanceof bs||i instanceof Hn||i instanceof At||i instanceof Zu||i instanceof Es)}function Om(i,e,s){if(!UE(s)||!Ab(s)){const r=Ou(s);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function Qf(i,e,s){if((e=un(e))instanceof Vo)return e._internalPath;if(typeof e=="string")return km(i,e);throw Ru("Field path arguments must be of type string or ",i,!1,void 0,s)}const G1=new RegExp("[~\\*/\\[\\]]");function km(i,e,s){if(e.search(G1)>=0)throw Ru(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,s);try{return new Vo(...e.split("."))._internalPath}catch{throw Ru(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,s)}}function Ru(i,e,s,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let g=`Function ${e}() called with invalid data`;s&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(u||f)&&(v+=" (found",u&&(v+=` in field ${r}`),f&&(v+=` in document ${o}`),v+=")"),new oe($.INVALID_ARGUMENT,g+i+v)}function BE(i,e){return i.some((s=>s.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,s,r,o,u){this._firestore=e,this._userDataWriter=s,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Q1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const s=this._document.data.field(Wu("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s)}}}class Q1 extends Lm{data(){return super.data()}}function Wu(i,e){return typeof e=="string"?km(i,e):e instanceof Vo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new oe($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pm{}class eh extends Pm{}function Ye(i,e,...s){let r=[];e instanceof Pm&&r.push(e),r=r.concat(s),(function(u){const f=u.filter((v=>v instanceof Um)).length,g=u.filter((v=>v instanceof th)).length;if(f>1||f>0&&g>0)throw new oe($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)i=o._apply(i);return i}class th extends eh{constructor(e,s,r){super(),this._field=e,this._op=s,this._value=r,this.type="where"}static _create(e,s,r){return new th(e,s,r)}_apply(e){const s=this._parse(e);return qE(e._query,s),new Ts(e.firestore,e.converter,kf(e._query,s))}_parse(e){const s=Oo(e.firestore);return(function(u,f,g,v,y,E,R){let C;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new oe($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){M_(R,E);const U=[];for(const W of R)U.push(I_(v,u,W));C={arrayValue:{values:U}}}else C=I_(v,u,R)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||M_(R,E),C=LE(g,f,R,E==="in"||E==="not-in");return jt.create(y,E,C)})(e._query,"where",s,e.firestore._databaseId,this._field,this._op,this._value)}}function Ue(i,e,s){const r=e,o=Wu("where",i);return th._create(o,r,s)}class Um extends Pm{constructor(e,s){super(),this.type=e,this._queryConstraints=s}static _create(e,s){return new Um(e,s)}_parse(e){const s=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return s.length===1?s[0]:es.create(s,this._getOperator())}_apply(e){const s=this._parse(e);return s.getFilters().length===0?e:((function(o,u){let f=o;const g=u.getFlattenedFilters();for(const v of g)qE(f,v),f=kf(f,v)})(e._query,s),new Ts(e.firestore,e.converter,kf(e._query,s)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bm extends eh{constructor(e,s){super(),this._field=e,this._direction=s,this.type="orderBy"}static _create(e,s){return new Bm(e,s)}_apply(e){const s=(function(o,u,f){if(o.startAt!==null)throw new oe($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xo(u,f)})(e._query,this._field,this._direction);return new Ts(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new Ha(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,s))}}function Cu(i,e="asc"){const s=e,r=Wu("orderBy",i);return Bm._create(r,s)}class zm extends eh{constructor(e,s,r){super(),this.type=e,this._limit=s,this._limitType=r}static _create(e,s,r){return new zm(e,s,r)}_apply(e){return new Ts(e.firestore,e.converter,xu(e._query,this._limit,this._limitType))}}function Y1(i){return WN("limit",i),zm._create("limit",i,"F")}class qm extends eh{constructor(e,s,r){super(),this.type=e,this._docOrFields=s,this._inclusive=r}static _create(e,s,r){return new qm(e,s,r)}_apply(e){const s=K1(e,this.type,this._docOrFields,this._inclusive);return new Ts(e.firestore,e.converter,(function(o,u){return new Ha(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)})(e._query,s))}}function $1(...i){return qm._create("startAfter",i,!1)}function K1(i,e,s,r){if(s[0]=un(s[0]),s[0]instanceof Lm)return(function(u,f,g,v,y){if(!v)throw new oe($.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const E=[];for(const R of Br(u))if(R.field.isKeyField())E.push(Eu(f,v.key));else{const C=v.data.field(R.field);if(Pu(C))throw new oe($.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+R.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(C===null){const P=R.field.canonicalString();throw new oe($.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${P}' (used as the orderBy) does not exist.`)}E.push(C)}return new Qr(E,y)})(i._query,i.firestore._databaseId,e,s[0]._document,r);{const o=Oo(i.firestore);return(function(f,g,v,y,E,R){const C=f.explicitOrderBy;if(E.length>C.length)throw new oe($.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const P=[];for(let U=0;U<E.length;U++){const W=E[U];if(C[U].field.isKeyField()){if(typeof W!="string")throw new oe($.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof W}`);if(!hm(f)&&W.indexOf("/")!==-1)throw new oe($.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${W}' contains a slash.`);const K=f.path.child(rt.fromString(W));if(!be.isDocumentKey(K))throw new oe($.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${K}' is not because it contains an odd number of segments.`);const me=new be(K);P.push(Eu(g,me))}else{const K=LE(v,y,W);P.push(K)}}return new Qr(P,R)})(i._query,i.firestore._databaseId,o,e,s,r)}}function I_(i,e,s){if(typeof(s=un(s))=="string"){if(s==="")throw new oe($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hm(e)&&s.indexOf("/")!==-1)throw new oe($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${s}' contains a '/' character.`);const r=e.path.child(rt.fromString(s));if(!be.isDocumentKey(r))throw new oe($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Eu(i,new be(r))}if(s instanceof At)return Eu(i,s._key);throw new oe($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ou(s)}.`)}function M_(i,e){if(!Array.isArray(i)||i.length===0)throw new oe($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qE(i,e){const s=(function(o,u){for(const f of o)for(const g of f.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(s!==null)throw s===e.op?new oe($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${s.toString()}' filters.`)}class X1{convertValue(e,s="none"){switch(Fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,s);case 5:return e.stringValue;case 6:return this.convertBytes(Hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,s);case 11:return this.convertObject(e.mapValue,s);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,s){return this.convertObjectMap(e.fields,s)}convertObjectMap(e,s="none"){const r={};return $i(e,((o,u)=>{r[o]=this.convertValue(u,s)})),r}convertVectorValue(e){const s=e.fields?.[bu].arrayValue?.values?.map((r=>Tt(r.doubleValue)));return new Es(s)}convertGeoPoint(e){return new bs(Tt(e.latitude),Tt(e.longitude))}convertArray(e,s){return(e.values||[]).map((r=>this.convertValue(r,s)))}convertServerTimestamp(e,s){switch(s){case"previous":const r=Uu(e);return r==null?null:this.convertValue(r,s);case"estimate":return this.convertTimestamp(_o(e));default:return null}}convertTimestamp(e){const s=qi(e);return new ut(s.seconds,s.nanos)}convertDocumentKey(e,s){const r=rt.fromString(e);Ze(oE(r),9688,{name:e});const o=new bo(r.get(1),r.get(3)),u=new be(r.popFirst(5));return o.isEqual(s)||Ks(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(i,e,s){let r;return r=i?s&&(s.merge||s.mergeFields)?i.toFirestore(e,s):i.toFirestore(e):e,r}class co{constructor(e,s){this.hasPendingWrites=e,this.fromCache=s}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class La extends Lm{constructor(e,s,r,o,u,f){super(e,s,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const s=new du(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,s={}){if(this._document){const r=this._document.data.field(Wu("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,s.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,s={};return s.type=La._jsonSchemaVersion,s.bundle="",s.bundleSource="DocumentSnapshot",s.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?s:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),s.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),s)}}La._jsonSchemaVersion="firestore/documentSnapshot/1.0",La._jsonSchema={type:Rt("string",La._jsonSchemaVersion),bundleSource:Rt("string","DocumentSnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class du extends La{data(e={}){return super.data(e)}}class Pa{constructor(e,s,r,o){this._firestore=e,this._userDataWriter=s,this._snapshot=o,this.metadata=new co(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((s=>e.push(s))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,s){this._snapshot.docs.forEach((r=>{e.call(s,new du(this._firestore,this._userDataWriter,r.key,r,new co(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const s=!!e.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new oe($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((g=>{const v=new du(o._firestore,o._userDataWriter,g.doc.key,g.doc,new co(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const v=new du(o._firestore,o._userDataWriter,g.doc.key,g.doc,new co(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return g.type!==0&&(y=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),E=f.indexOf(g.doc.key)),{type:Z1(g.type),doc:v,oldIndex:y,newIndex:E}}))}})(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Pa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const s=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(s.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Z1(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(i){i=Cn(i,At);const e=Cn(i.firestore,Zs);return L1(Mo(e),i._key).then((s=>GE(e,i,s)))}Pa._jsonSchemaVersion="firestore/querySnapshot/1.0",Pa._jsonSchema={type:Rt("string",Pa._jsonSchemaVersion),bundleSource:Rt("string","QuerySnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class Hm extends X1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,s)}}function Xe(i){i=Cn(i,Ts);const e=Cn(i.firestore,Zs),s=Mo(e),r=new Hm(e);return zE(i._query),P1(s,i._query).then((o=>new Pa(e,r,i,o)))}function Du(i,e,s,...r){i=Cn(i,At);const o=Cn(i.firestore,Zs),u=Oo(o);let f;return f=typeof(e=un(e))=="string"||e instanceof Vo?kE(u,"updateDoc",i._key,e,s,r):OE(u,"updateDoc",i._key,e),sh(o,[f.toMutation(i._key,yn.exists(!0))])}function J1(i){return sh(Cn(i.firestore,Zs),[new Gu(i._key,yn.none())])}function nh(i,e){const s=Cn(i.firestore,Zs),r=_n(i),o=HE(i.converter,e);return sh(s,[VE(Oo(i.firestore),"addDoc",r._key,o,i.converter!==null,{}).toMutation(r._key,yn.exists(!1))]).then((()=>r))}function Fm(i,...e){i=un(i);let s={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||D_(e[r])||(s=e[r++]);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(D_(e[r])){const v=e[r];e[r]=v.next?.bind(v),e[r+1]=v.error?.bind(v),e[r+2]=v.complete?.bind(v)}let u,f,g;if(i instanceof At)f=Cn(i.firestore,Zs),g=Bu(i._key.path),u={next:v=>{e[r]&&e[r](GE(f,i,v))},error:e[r+1],complete:e[r+2]};else{const v=Cn(i,Ts);f=Cn(v.firestore,Zs),g=v._query;const y=new Hm(f);u={next:E=>{e[r]&&e[r](new Pa(f,y,v,E))},error:e[r+1],complete:e[r+2]},zE(i._query)}return(function(y,E,R,C){const P=new Im(C),U=new Rm(E,P,R);return y.asyncQueue.enqueueAndForget((async()=>Sm(await ju(y),U))),()=>{P.Nu(),y.asyncQueue.enqueueAndForget((async()=>wm(await ju(y),U)))}})(Mo(f),g,o,u)}function sh(i,e){return(function(r,o){const u=new Qs;return r.asyncQueue.enqueueAndForget((async()=>N1(await k1(r),o,u))),u.promise})(Mo(i),e)}function GE(i,e,s){const r=s.docs.get(e._key),o=new Hm(i);return new La(i,o,e._key,r,new co(s.hasPendingWrites,s.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,s){this._firestore=e,this._commitHandler=s,this._mutations=[],this._committed=!1,this._dataReader=Oo(e)}set(e,s,r){this._verifyNotCommitted();const o=xf(e,this._firestore),u=HE(o.converter,s,r),f=VE(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,r);return this._mutations.push(f.toMutation(o._key,yn.none())),this}update(e,s,r,...o){this._verifyNotCommitted();const u=xf(e,this._firestore);let f;return f=typeof(s=un(s))=="string"||s instanceof Vo?kE(this._dataReader,"WriteBatch.update",u._key,s,r,o):OE(this._dataReader,"WriteBatch.update",u._key,s),this._mutations.push(f.toMutation(u._key,yn.exists(!0))),this}delete(e){this._verifyNotCommitted();const s=xf(e,this._firestore);return this._mutations=this._mutations.concat(new Gu(s._key,yn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new oe($.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function xf(i,e){if((i=un(i)).firestore!==e)throw new oe($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function gs(){return new Vm("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(i){return Mo(i=Cn(i,Zs)),new W1(i,(e=>sh(i,e)))}(function(e,s=!0){(function(o){Kr=o})(uA),Bi(new Ys("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),g=new Zs(new FN(r.getProvider("auth-internal")),new YN(f,r.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new oe($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bo(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:s,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),vs(ky,Ly,e),vs(ky,Ly,"esm2020")})();const fu={apiKey:"AIzaSyBfcUdX6thAZ-RBiDJCXOcjOq27Z3Cet4I",authDomain:"fir-mart-e9e21.firebaseapp.com",projectId:"fir-mart-e9e21",storageBucket:"fir-mart-e9e21.firebasestorage.app",messagingSenderId:"58204415374",appId:"1:58204415374:web:613ee6291af1a6b34330df",measurementId:"G-2CQ2G7TPPR"};console.log("🔥 Initializing Firebase with config:",{projectId:fu.projectId,authDomain:fu.authDomain,storageBucket:fu.storageBucket});const QE=H_(fu),ej=PN(QE),ve=B1(QE);console.log("✅ Firebase initialized successfully");console.log("📊 Analytics:",ej?"Enabled":"Disabled");console.log("🗄️ Firestore:",ve?"Connected":"Not connected");const tj=({onLoginClick:i,isAuthenticated:e,currentUser:s,userType:r,onLogout:o})=>c.jsx("nav",{className:"navbar",children:c.jsxs("div",{className:"navbar-content",children:[c.jsxs("div",{className:"navbar-title",children:[c.jsx("h1",{children:e&&s?r==="hive"?`🏠 ${s.hiveName}`:`👥 ${s.hiveName}`:"Pivot"}),e&&s&&c.jsx("span",{className:"navbar-subtitle",children:r==="hive"?"Hive Dashboard":"Member Dashboard"})]}),c.jsx("div",{className:"navbar-actions",children:e&&s?c.jsxs("div",{className:"user-menu",children:[c.jsx("span",{className:"user-info",children:r==="hive"?`👨‍💼 ${s.creatorName}`:`👥 ${s.memberName}`}),c.jsx("button",{className:"logout-button",onClick:o,children:"🚪 Logout"})]}):c.jsx("button",{className:"login-button",onClick:i,children:"🔐 Join Community"})})]})}),nj={HIVES:"hives",MEMBERS:"members"},sj=async i=>{try{const e=new Date().toISOString(),s={...i,createdAt:e,updatedAt:e,status:"pending",isActive:!1,memberCount:0,applicationDate:e},r=await nh(Ne(ve,nj.HIVES),s);return console.log("Hive data saved successfully with ID:",r.id),r.id}catch(e){throw console.error("Error saving hive data:",e),new Error(`Failed to save hive data: ${e.message}`)}},ij=i=>{const e={name:"Full Name",mobile:"Mobile Number",course:"Course",branch:"Branch",year:"Year of Study",codingLanguages:"Coding Languages",campusName:"Campus Name",campusLocation:"Campus Location",hiveName:"Hive Name",expectedAudience:"Expected Audience",facultyAdvisorName:"Faculty Advisor Name",facultyAdvisorContact:"Faculty Advisor Contact",leadershipExperience:"Leadership Experience",longTermVision:"Long-term Vision",termsAccepted:"Terms Acceptance"},s=[],r=[];for(const[o,u]of Object.entries(e)){const f=i[o];o==="codingLanguages"?(!f||!Array.isArray(f)||f.length===0)&&(s.push(`${u} is required`),r.push(o)):o==="termsAccepted"?f||(s.push("You must accept the terms and conditions"),r.push(o)):(!f||typeof f=="string"&&f.trim()==="")&&(s.push(`${u} is required`),r.push(o))}return{isValid:s.length===0,errors:s,missingFields:r}},nn={MEMBERS:"members",MEMBERS_APPROVED:"members_approved",MEMBERS_REJECTED:"members_rejected",MEMBER_CREDENTIALS:"member_credentials",HIVES_APPROVED:"hives_approved"},YE=async()=>{try{console.log("📋 Fetching approved hives for member registration...");const i=Ye(Ne(ve,nn.HIVES_APPROVED),Cu("approvedAt","desc")),e=await Xe(i),s=[];return e.forEach(r=>{const o=r.data();s.push({id:r.id,hiveName:o.hiveName,campusName:o.campusName,campusLocation:o.campusLocation,creatorName:o.name,memberCount:o.memberCount||0,expectedAudience:o.expectedAudience})}),console.log(`✅ Found ${s.length} approved hives`),s}catch(i){throw console.error("💥 Error fetching approved hives:",i),new Error(`Failed to fetch approved hives: ${i.message}`)}},$E=async i=>{try{console.log("💾 Saving member application for:",i.selectedHive?.hiveName);const e=new Date().toISOString(),s={...i,createdAt:e,updatedAt:e,status:"pending",isActive:!1,applicationDate:e,selectedHiveId:i.selectedHive?.id,selectedHiveName:i.selectedHive?.hiveName};delete s.selectedHive;const r=await nh(Ne(ve,nn.MEMBERS),s);return console.log("✅ Member application saved successfully with ID:",r.id),r.id}catch(e){throw console.error("💥 Error saving member application:",e),new Error(`Failed to save member application: ${e.message}`)}},aj=async(i,e=20,s=null)=>{try{console.log("🔍 Fetching pending member applications for hive:",i);let r=Ye(Ne(ve,nn.MEMBERS),Ue("selectedHiveId","==",i),Ue("status","==","pending"),Cu("createdAt","desc"));e&&(r=Ye(r,Y1(e))),s&&(r=Ye(r,$1(s)));const o=await Xe(r),u=[];let f=null;return o.forEach(g=>{u.push({id:g.id,...g.data()}),f=g}),console.log(`✅ Found ${u.length} pending member applications`),{applications:u,lastVisible:f,hasMore:o.size===e}}catch(r){throw console.error("💥 Error fetching pending member applications:",r),new Error(`Failed to fetch member applications: ${r.message}`)}},rj=async i=>{try{console.log("📊 Fetching member statistics for hive:",i);const e=Ye(Ne(ve,nn.MEMBERS),Ue("selectedHiveId","==",i),Ue("status","==","pending")),s=await Xe(e),r=Ye(Ne(ve,nn.MEMBERS_APPROVED),Ue("selectedHiveId","==",i)),o=await Xe(r),u=Ye(Ne(ve,nn.MEMBERS_REJECTED),Ue("selectedHiveId","==",i)),f=await Xe(u),g=new Date;g.setDate(g.getDate()-7);let v=0;s.forEach(E=>{const R=E.data();new Date(R.createdAt)>g&&v++});const y={totalApplications:s.size+o.size+f.size,pending:s.size,approved:o.size,rejected:f.size,recentApplications:v};return console.log("✅ Member statistics fetched successfully:",y),y}catch(e){throw console.error("💥 Error fetching member statistics:",e),new Error(`Failed to fetch member statistics: ${e.message}`)}},KE=i=>{try{console.log("🔑 Generating member credentials for:",i.name);const e=i.name||"member",s=i.selectedHiveName||"community",r=e.toLowerCase().replace(/[^a-z0-9]/g,"").substring(0,10),o=s.toLowerCase().replace(/[^a-z0-9]/g,"").substring(0,8),u=Date.now().toString().slice(-4),f=`${r}.${o}.${u}@members.hivecommunity.com`,g=lj();return{email:f,password:g,generatedAt:new Date().toISOString()}}catch(e){throw console.error("💥 Error generating member credentials:",e),new Error(`Failed to generate member credentials: ${e.message}`)}},lj=()=>{const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%&*";let e="";e+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(Math.random()*26)],e+="abcdefghijklmnopqrstuvwxyz"[Math.floor(Math.random()*26)],e+="0123456789"[Math.floor(Math.random()*10)],e+="!@#$%&*"[Math.floor(Math.random()*7)];for(let s=4;s<10;s++)e+=i[Math.floor(Math.random()*i.length)];return e.split("").sort(()=>Math.random()-.5).join("")},XE=async(i,e,s="")=>{try{console.log("✅ Approving member application:",i);const r=Gm(ve),o=await Qm(i);if(!o)throw new Error("Member application not found");const u=KE(o),f={...o,status:"approved",isActive:!0,hiveLeaderNote:s,hiveLeaderActionDate:new Date().toISOString(),approvedAt:new Date().toISOString(),approvedBy:e,credentials:{email:u.email,generatedAt:u.generatedAt}},g=_n(Ne(ve,nn.MEMBERS_APPROVED));r.set(g,f);const v=_n(Ne(ve,nn.MEMBER_CREDENTIALS));r.set(v,{memberId:g.id,originalMemberId:i,memberName:o.name,email:u.email,password:u.password,generatedAt:u.generatedAt,hiveId:o.selectedHiveId,hiveName:o.selectedHiveName,isActive:!0});const y=_n(ve,nn.MEMBERS,i);return r.delete(y),await r.commit(),console.log("✅ Member application approved successfully"),{approvedMemberId:g.id,credentials:{email:u.email,password:u.password,generatedAt:u.generatedAt}}}catch(r){throw console.error("💥 Error approving member application:",r),new Error(`Failed to approve member application: ${r.message}`)}},ZE=async(i,e,s="")=>{try{console.log("❌ Rejecting member application:",i);const r=Gm(ve),o=await Qm(i);if(!o)throw new Error("Member application not found");const u={...o,status:"rejected",isActive:!1,hiveLeaderNote:s,hiveLeaderActionDate:new Date().toISOString(),rejectedAt:new Date().toISOString(),rejectedBy:e},f=_n(Ne(ve,nn.MEMBERS_REJECTED));r.set(f,u);const g=_n(ve,nn.MEMBERS,i);return r.delete(g),await r.commit(),console.log("❌ Member application rejected successfully"),f.id}catch(r){throw console.error("💥 Error rejecting member application:",r),new Error(`Failed to reject member application: ${r.message}`)}},Qm=async i=>{try{const e=_n(ve,nn.MEMBERS,i),s=await FE(e);return s.exists()?{id:s.id,...s.data()}:null}catch(e){throw console.error("💥 Error fetching member application:",e),new Error(`Failed to fetch member application: ${e.message}`)}},JE=async(i,e)=>{try{console.log("🔐 Attempting to authenticate member credentials:",{email:i});const s=Ye(Ne(ve,nn.MEMBER_CREDENTIALS),Ue("email","==",i),Ue("isActive","==",!0)),r=await Xe(s);if(r.empty)return console.log("❌ No active member credentials found for email:",i),{success:!1,error:"Invalid credentials. Please check your email and password.",errorCode:"INVALID_CREDENTIALS"};let o=null;if(r.forEach(f=>{const g=f.data();g.password===e&&(o={id:f.id,...g})}),!o)return console.log("❌ Password mismatch for member email:",i),{success:!1,error:"Invalid credentials. Please check your email and password.",errorCode:"INVALID_CREDENTIALS"};console.log("✅ Member credentials validated successfully for:",o.memberName);let u=null;try{const f=Ye(Ne(ve,nn.MEMBERS_APPROVED),Ue("credentials.email","==",i)),g=await Xe(f);g.empty||g.forEach(v=>{u={id:v.id,...v.data()}})}catch(f){console.log("⚠️ Could not fetch approved member data:",f.message)}return{success:!0,member:{id:o.memberId,originalMemberId:o.originalMemberId,memberName:o.memberName,email:o.email,generatedAt:o.generatedAt,isActive:o.isActive,hiveId:o.hiveId,hiveName:o.hiveName,approvedData:u},message:`Welcome to ${o.hiveName}, ${o.memberName}!`}}catch(s){return console.error("💥 Error during member authentication:",s),{success:!1,error:"Authentication service error. Please try again later.",errorCode:"SERVICE_ERROR"}}},WE=i=>{const e={name:"Full Name",email:"Email Address",mobile:"Mobile Number",course:"Course",branch:"Branch",year:"Year of Study",collegeName:"College/University Name",cgpa:"CGPA/Percentage",skills:"Technical Skills",interestedEvents:"Interested Events",selectedHive:"Selected Hive",heardAbout:"How did you hear about us",mainGoal:"Main Goal",termsAccepted:"Terms Acceptance"},s=[],r=[];for(const[o,u]of Object.entries(e)){const f=i[o];o==="skills"||o==="interestedEvents"?(!f||!Array.isArray(f)||f.length===0)&&(s.push(`${u} is required`),r.push(o)):o==="selectedHive"?(!f||!f.id)&&(s.push(`${u} is required`),r.push(o)):o==="termsAccepted"?f||(s.push("You must accept the terms and conditions"),r.push(o)):(!f||typeof f=="string"&&f.trim()==="")&&(s.push(`${u} is required`),r.push(o))}return{isValid:s.length===0,errors:s,missingFields:r}},oj=async(i,e)=>{try{return(await XE(i,e.selectedHiveId||e.selectedHive?.id,"")).credentials}catch(s){throw console.error("Error in approveMember wrapper:",s),s}},cj=async(i,e)=>{try{await ZE(i,e.selectedHiveId||e.selectedHive?.id,"")}catch(s){throw console.error("Error in rejectMember wrapper:",s),s}},uj=async i=>{try{const e=Ye(Ne(ve,nn.MEMBERS_APPROVED),Ue("selectedHiveName","==",i));return await Xe(e)}catch(e){throw console.error("Error fetching approved members:",e),e}},hj=async i=>{try{const e=Ye(Ne(ve,nn.MEMBERS_REJECTED),Ue("selectedHiveName","==",i));return await Xe(e)}catch(e){throw console.error("Error fetching rejected members:",e),e}},ka={getApprovedHivesForSelection:YE,saveMemberApplication:$E,getPendingMemberApplications:aj,getMemberStats:rj,generateMemberCredentials:KE,approveMemberApplication:XE,rejectMemberApplication:ZE,getMemberApplicationById:Qm,authenticateMemberCredentials:JE,validateMemberData:WE,approveMember:oj,rejectMember:cj,getApprovedMembers:uj,getRejectedMembers:hj},Yf={HIVE_CREDENTIALS:"hive_credentials",HIVES_APPROVED:"hives_approved",HIVES:"hives"},dj=async(i,e)=>{try{console.log("🔐 Attempting to authenticate hive credentials:",{email:i});const s=Ye(Ne(ve,Yf.HIVE_CREDENTIALS),Ue("email","==",i),Ue("isActive","==",!0)),r=await Xe(s);if(r.empty)return console.log("❌ No active credentials found for email:",i),{success:!1,error:"Invalid credentials. Please check your email and password.",errorCode:"INVALID_CREDENTIALS"};let o=null;if(r.forEach(f=>{const g=f.data();g.password===e&&(o={id:f.id,...g})}),!o)return console.log("❌ Password mismatch for email:",i),{success:!1,error:"Invalid credentials. Please check your email and password.",errorCode:"INVALID_CREDENTIALS"};console.log("✅ Credentials validated successfully for:",o.hiveName);let u=null;try{const f=Ye(Ne(ve,Yf.HIVES_APPROVED),Ue("credentials.email","==",i)),g=await Xe(f);g.empty||g.forEach(v=>{u={id:v.id,...v.data()}})}catch(f){console.log("⚠️ Could not fetch approved hive data:",f.message)}return{success:!0,hive:{id:o.hiveId,originalHiveId:o.originalHiveId,hiveName:o.hiveName,creatorName:o.creatorName,email:o.email,generatedAt:o.generatedAt,isActive:o.isActive,approvedData:u},message:`Welcome back to ${o.hiveName}!`}}catch(s){return console.error("💥 Error during authentication:",s),{success:!1,error:"Authentication service error. Please try again later.",errorCode:"SERVICE_ERROR"}}},fj=async(i,e)=>{try{console.log("🔐 Attempting authentication for:",{email:i});const s=await dj(i,e);if(s.success)return{...s,userType:"hive"};const r=await JE(i,e);return r.success?{...r,userType:"member"}:(console.log("❌ Authentication failed for both hive and member credentials"),{success:!1,error:"Invalid credentials. Please check your email and password.",errorCode:"INVALID_CREDENTIALS"})}catch(s){return console.error("💥 Error during authentication:",s),{success:!1,error:"Authentication service error. Please try again later.",errorCode:"SERVICE_ERROR"}}},mj=async(i,e)=>{try{console.log("🔍 Validating hive session:",{hiveId:i,email:e});const s=Ye(Ne(ve,Yf.HIVE_CREDENTIALS),Ue("hiveId","==",i),Ue("email","==",e),Ue("isActive","==",!0));return(await Xe(s)).empty?(console.log("❌ Hive session invalid - credentials not found or deactivated"),{valid:!1,error:"Session expired or credentials deactivated.",errorCode:"SESSION_EXPIRED"}):(console.log("✅ Hive session is valid"),{valid:!0,message:"Session is active"})}catch(s){return console.error("💥 Error validating hive session:",s),{valid:!1,error:"Session validation error. Please sign in again.",errorCode:"VALIDATION_ERROR"}}},pj=i=>{try{const e={userType:"hive",hiveId:i.id,originalHiveId:i.originalHiveId,hiveName:i.hiveName,creatorName:i.creatorName,email:i.email,loginTime:new Date().toISOString()};localStorage.setItem("userSession",JSON.stringify(e)),console.log("💾 Hive session stored successfully")}catch(e){console.error("💥 Error storing hive session:",e)}},gj=i=>{try{const e={userType:"member",memberId:i.id,originalMemberId:i.originalMemberId,memberName:i.memberName,email:i.email,hiveId:i.hiveId,hiveName:i.hiveName,loginTime:new Date().toISOString()};localStorage.setItem("userSession",JSON.stringify(e)),console.log("💾 Member session stored successfully")}catch(e){console.error("💥 Error storing member session:",e)}},vj=()=>{try{const i=localStorage.getItem("userSession");if(i){const e=JSON.parse(i),s=e.userType==="hive"?e.hiveName:`${e.memberName} (${e.hiveName})`;return console.log(`📶 Retrieved stored ${e.userType} session:`,s),e}return null}catch(i){return console.error("💥 Error retrieving user session:",i),null}},$f=()=>{try{localStorage.removeItem("userSession"),console.log("🗱️ User session cleared")}catch(i){console.error("💥 Error clearing user session:",i)}},yj=async()=>{try{const i=vj();if(!i)return{isAuthenticated:!1,user:null,userType:null};let e={valid:!0};return i.userType==="hive"&&(e=await mj(i.hiveId,i.email)),e.valid?{isAuthenticated:!0,user:i,userType:i.userType}:($f(),{isAuthenticated:!1,user:null,userType:null,error:e.error})}catch(i){return console.error("💥 Error checking auth status:",i),$f(),{isAuthenticated:!1,user:null,userType:null,error:"Authentication check failed"}}},_j=({isOpen:i,onClose:e,onOptionSelect:s})=>{const[r,o]=re.useState("options"),[u,f]=re.useState(1),[g,v]=re.useState(""),[y,E]=re.useState(""),[R,C]=re.useState(!1),[P,U]=re.useState(""),[W,K]=re.useState(""),[me,ie]=re.useState([]),[k,ae]=re.useState(""),[Z,se]=re.useState(!1),[S,N]=re.useState([]),[D,j]=re.useState(!1),[A,V]=re.useState({name:"",course:"",branch:"",year:"",mobile:"",codingLanguages:[],campusName:"",campusLocation:"",hiveName:"",expectedAudience:"",facultyAdvisorName:"",facultyAdvisorContact:"",linkedinProfile:"",githubProfile:"",leadershipExperience:"",achievements:"",longTermVision:"",termsAccepted:!1}),[w,De]=re.useState({name:"",course:"",branch:"",year:"",mobile:"",email:"",cgpa:"",skills:[],collegeName:"",interestedEvents:[],priorProjects:"",eventParticipation:"",selectedHive:null,linkedinProfile:"",githubProfile:"",heardAbout:"",mainGoal:"",subscription:!1,termsAccepted:!1}),He=()=>{o("hive-form"),f(1)},Y=async()=>{o("member-form"),f(1),S.length===0&&await ue()},ue=async()=>{j(!0);try{console.log("🏗️ Loading approved hives for member registration...");const q=await YE();N(q),console.log(`✅ Loaded ${q.length} approved hives`)}catch(q){console.error("💥 Error loading approved hives:",q),U("Failed to load available hives. Please try again.")}finally{j(!1)}},ge=()=>{o("login")},Be=()=>{o("options"),f(1),v(""),E("")},M=async q=>{q.preventDefault(),ae(""),se(!0);try{if(console.log("🔐 Attempting hive login:",{email:g}),!g||!y){ae("Please enter both email and password.");return}const je=await fj(g,y);if(!je.success){console.log("❌ Authentication failed:",je.error),ae(je.error);return}const Se=je.userType==="hive"?je.hive:je.member,zt=je.userType==="hive"?Se.hiveName:`${Se.memberName} (${Se.hiveName})`;console.log("✅ Authentication successful:",zt),je.userType==="hive"?pj(Se):gj(Se),s&&s("login-success",{user:Se,userType:je.userType,message:je.message}),v(""),E(""),ee()}catch(je){console.error("💥 Login error:",je),ae("Login failed. Please try again later.")}finally{se(!1)}},ee=()=>{o("options"),f(1),v(""),E(""),U(""),K(""),ie([]),ae(""),C(!1),se(!1),V({name:"",course:"",branch:"",year:"",mobile:"",codingLanguages:[],campusName:"",campusLocation:"",hiveName:"",expectedAudience:"",facultyAdvisorName:"",facultyAdvisorContact:"",linkedinProfile:"",githubProfile:"",leadershipExperience:"",achievements:"",longTermVision:"",termsAccepted:!1}),De({name:"",course:"",branch:"",year:"",mobile:"",email:"",cgpa:"",skills:[],collegeName:"",interestedEvents:[],priorProjects:"",eventParticipation:"",selectedHive:null,linkedinProfile:"",githubProfile:"",heardAbout:"",mainGoal:"",subscription:!1,termsAccepted:!1}),e()},he=()=>{u<4&&f(u+1)},ce=()=>{u>1?f(u-1):(o("options"),f(1))},ye=async q=>{q.preventDefault(),U(""),K(""),ie([]);const je=ij(A);if(!je.isValid){ie(je.errors),U("Please fill in all required fields.");return}C(!0);try{const Se=await sj(A);console.log("Hive form submitted successfully:",{hiveId:Se,data:A}),K("Your hive application has been submitted successfully! You will receive a confirmation email shortly."),s&&s("create-hive",{hiveId:Se,...A}),setTimeout(()=>{ee()},2e3)}catch(Se){console.error("Error submitting hive form:",Se),U(`Failed to submit application: ${Se.message}`)}finally{C(!1)}},Ve=async q=>{q.preventDefault(),U(""),K(""),ie([]);const je=WE(w);if(!je.isValid){ie(je.errors),U("Please fill in all required fields and select a hive.");return}C(!0);try{const Se=await $E(w);console.log("Member application submitted successfully:",{memberId:Se,hiveName:w.selectedHive?.hiveName}),K(`Your application to join ${w.selectedHive?.hiveName} has been submitted successfully! The hive leader will review your application.`),s&&s("register-member",{memberId:Se,...w}),setTimeout(()=>{ee()},3e3)}catch(Se){console.error("Error submitting member application:",Se),U(`Failed to submit application: ${Se.message}`)}finally{C(!1)}},fe=(q,je)=>{V(Se=>({...Se,[q]:je}))},ke=(q,je)=>{De(Se=>({...Se,[q]:je}))};return i?c.jsx("div",{className:"popup-overlay",onClick:ee,children:c.jsx("div",{className:"popup-content",onClick:q=>q.stopPropagation(),children:r==="options"?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"popup-header",children:[c.jsx("h2",{children:"Welcome to the Ecosystem"}),c.jsx("button",{className:"close-btn",onClick:ee,children:"×"})]}),c.jsxs("div",{className:"options-container",children:[c.jsx("p",{className:"welcome-text",children:"Choose your path to join our community"}),c.jsxs("div",{className:"option-cards",children:[c.jsxs("div",{className:"option-card hive-card",onClick:He,children:[c.jsx("div",{className:"card-icon",children:"🏗️"}),c.jsx("h3",{children:"Create a New Hive"}),c.jsx("p",{children:"Start your own community and become a hive leader. Build, manage, and grow your network."}),c.jsxs("div",{className:"card-features",children:[c.jsx("span",{className:"feature",children:"• Full admin control"}),c.jsx("span",{className:"feature",children:"• Custom branding"}),c.jsx("span",{className:"feature",children:"• Member management"}),c.jsx("span",{className:"feature",children:"• Analytics dashboard"})]}),c.jsxs("button",{className:"option-btn create-btn",children:[c.jsx("span",{children:"Create Hive"}),c.jsx("div",{className:"btn-arrow",children:"→"})]})]}),c.jsxs("div",{className:"option-card member-card",onClick:Y,children:[c.jsx("div",{className:"card-icon",children:"👥"}),c.jsx("h3",{children:"Register as a Member"}),c.jsx("p",{children:"Join an existing hive and connect with like-minded individuals in established communities."}),c.jsxs("div",{className:"card-features",children:[c.jsx("span",{className:"feature",children:"• Browse hives"}),c.jsx("span",{className:"feature",children:"• Join discussions"}),c.jsx("span",{className:"feature",children:"• Network building"}),c.jsx("span",{className:"feature",children:"• Community events"})]}),c.jsxs("button",{className:"option-btn member-btn",children:[c.jsx("span",{children:"Join as Member"}),c.jsx("div",{className:"btn-arrow",children:"→"})]})]})]}),c.jsx("div",{className:"popup-footer",children:c.jsxs("p",{children:["Already have an account? ",c.jsx("button",{className:"link-btn",onClick:ge,children:"Sign In"})]})})]})]}):r==="login"?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"popup-header",children:[c.jsxs("div",{className:"header-with-back",children:[c.jsx("button",{className:"back-btn",onClick:Be,children:"←"}),c.jsx("h2",{children:"Welcome Back"})]}),c.jsx("button",{className:"close-btn",onClick:ee,children:"×"})]}),c.jsxs("div",{className:"login-container",children:[c.jsx("p",{className:"login-welcome-text",children:"Sign in to access your hive dashboard"}),k&&c.jsxs("div",{className:"status-message error-message",children:[c.jsx("div",{className:"status-icon",children:"⚠️"}),c.jsxs("div",{className:"status-content",children:[c.jsx("h4",{children:"Login Failed"}),c.jsx("p",{children:k})]})]}),c.jsxs("form",{className:"login-form",onSubmit:M,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"email",children:"Email Address"}),c.jsx("input",{type:"email",id:"email",value:g,onChange:q=>v(q.target.value),placeholder:"Enter your hive email address",disabled:Z,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"password",children:"Password"}),c.jsx("input",{type:"password",id:"password",value:y,onChange:q=>E(q.target.value),placeholder:"Enter your password",disabled:Z,required:!0})]}),c.jsxs("div",{className:"form-options",children:[c.jsxs("label",{className:"checkbox-label",children:[c.jsx("input",{type:"checkbox",className:"remember-checkbox"}),c.jsx("span",{className:"checkbox-text",children:"Remember me"})]}),c.jsx("button",{type:"button",className:"forgot-link",children:"Forgot password?"})]}),c.jsx("div",{className:"form-actions",children:c.jsx("button",{type:"submit",className:"login-submit-btn",disabled:Z,children:Z?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"loading-spinner"}),"Signing In..."]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{children:"Sign In"}),c.jsx("div",{className:"btn-arrow",children:"→"})]})})}),c.jsx("div",{className:"login-footer",children:c.jsxs("p",{children:["Don't have an account? ",c.jsx("button",{type:"button",className:"link-btn",onClick:Be,children:"Choose your path"})]})})]})]})]}):r==="hive-form"?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"popup-header",children:[c.jsxs("div",{className:"header-with-back",children:[c.jsx("button",{className:"back-btn",onClick:ce,children:"←"}),c.jsx("h2",{children:"Create Your Hive"})]}),c.jsx("button",{className:"close-btn",onClick:ee,children:"×"})]}),c.jsxs("div",{className:"form-container",children:[c.jsxs("div",{className:"progress-bar",children:[c.jsx("div",{className:"progress-steps",children:[1,2,3,4].map(q=>c.jsxs("div",{className:`progress-step ${u>=q?"active":""}`,children:[c.jsx("span",{className:"step-number",children:q}),c.jsxs("span",{className:"step-label",children:[q===1&&"Personal Info",q===2&&"College Info",q===3&&"Hive Vision",q===4&&"Commitment"]})]},q))}),c.jsx("div",{className:"progress-line",style:{width:`${(u-1)/3*100}%`}})]}),c.jsxs("div",{className:"section-content",children:[u===1&&c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{className:"section-title",children:"Personal Information"}),c.jsx("p",{className:"section-description",children:"Tell us about yourself to create your hive profile"}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"hive-name",children:"Full Name *"}),c.jsx("input",{type:"text",id:"hive-name",value:A.name,onChange:q=>fe("name",q.target.value),placeholder:"Enter your full name",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"hive-mobile",children:"Mobile Number *"}),c.jsx("input",{type:"tel",id:"hive-mobile",value:A.mobile,onChange:q=>fe("mobile",q.target.value),placeholder:"Enter your mobile number",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"hive-course",children:"Course *"}),c.jsxs("select",{id:"hive-course",value:A.course,onChange:q=>fe("course",q.target.value),required:!0,children:[c.jsx("option",{value:"",children:"Select your course"}),c.jsx("option",{value:"B.Tech",children:"B.Tech"}),c.jsx("option",{value:"B.E",children:"B.E"}),c.jsx("option",{value:"MCA",children:"MCA"}),c.jsx("option",{value:"M.Tech",children:"M.Tech"}),c.jsx("option",{value:"BCA",children:"BCA"}),c.jsx("option",{value:"BSc Computer Science",children:"BSc Computer Science"}),c.jsx("option",{value:"Other",children:"Other"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"hive-branch",children:"Branch *"}),c.jsxs("select",{id:"hive-branch",value:A.branch,onChange:q=>fe("branch",q.target.value),required:!0,children:[c.jsx("option",{value:"",children:"Select your branch"}),c.jsx("option",{value:"Computer Science Engineering",children:"Computer Science Engineering"}),c.jsx("option",{value:"Information Technology",children:"Information Technology"}),c.jsx("option",{value:"Electronics & Communication",children:"Electronics & Communication"}),c.jsx("option",{value:"Electrical Engineering",children:"Electrical Engineering"}),c.jsx("option",{value:"Mechanical Engineering",children:"Mechanical Engineering"}),c.jsx("option",{value:"Civil Engineering",children:"Civil Engineering"}),c.jsx("option",{value:"Data Science",children:"Data Science"}),c.jsx("option",{value:"Artificial Intelligence",children:"Artificial Intelligence"}),c.jsx("option",{value:"Other",children:"Other"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"hive-year",children:"Year of Study *"}),c.jsxs("select",{id:"hive-year",value:A.year,onChange:q=>fe("year",q.target.value),required:!0,children:[c.jsx("option",{value:"",children:"Select year"}),c.jsx("option",{value:"1st Year",children:"1st Year"}),c.jsx("option",{value:"2nd Year",children:"2nd Year"}),c.jsx("option",{value:"3rd Year",children:"3rd Year"}),c.jsx("option",{value:"4th Year",children:"4th Year"}),c.jsx("option",{value:"5th Year",children:"5th Year"}),c.jsx("option",{value:"Graduate",children:"Graduate"})]})]})]}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{children:"Coding Languages You're Efficient In *"}),c.jsx("div",{className:"checkbox-grid",children:["JavaScript","Python","Java","C++","C","React","Node.js","PHP","Go","Rust","Swift","Kotlin"].map(q=>c.jsxs("label",{className:"checkbox-label",children:[c.jsx("input",{type:"checkbox",checked:A.codingLanguages.includes(q),onChange:je=>{const Se=[...A.codingLanguages];if(je.target.checked)Se.push(q);else{const zt=Se.indexOf(q);zt>-1&&Se.splice(zt,1)}fe("codingLanguages",Se)}}),c.jsx("span",{className:"checkbox-text",children:q})]},q))})]})]}),u===2&&c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{className:"section-title",children:"College Information"}),c.jsx("p",{className:"section-description",children:"Tell us about your college and campus"}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{htmlFor:"campus-name",children:"Name of the Campus *"}),c.jsx("input",{type:"text",id:"campus-name",value:A.campusName,onChange:q=>fe("campusName",q.target.value),placeholder:"Enter your college/university name",required:!0})]}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{htmlFor:"campus-location",children:"Location of the Campus *"}),c.jsx("input",{type:"text",id:"campus-location",value:A.campusLocation,onChange:q=>fe("campusLocation",q.target.value),placeholder:"City, State, Country",required:!0})]})]}),c.jsxs("div",{className:"info-card",children:[c.jsx("div",{className:"info-icon",children:"🏫"}),c.jsxs("div",{className:"info-content",children:[c.jsx("h4",{children:"Why do we need this information?"}),c.jsx("p",{children:"Campus information helps us verify your eligibility and connect you with other hives in your region. This enables better collaboration and resource sharing."})]})]})]}),u===3&&c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{className:"section-title",children:"Your Hive Vision"}),c.jsx("p",{className:"section-description",children:"Define your community and leadership approach"}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{htmlFor:"hive-name-field",children:"Name of Your Hive *"}),c.jsx("input",{type:"text",id:"hive-name-field",value:A.hiveName,onChange:q=>fe("hiveName",q.target.value),placeholder:"Enter a unique name for your hive",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"expected-audience",children:"Expected Audience Size *"}),c.jsxs("select",{id:"expected-audience",value:A.expectedAudience,onChange:q=>fe("expectedAudience",q.target.value),required:!0,children:[c.jsx("option",{value:"",children:"Select range"}),c.jsx("option",{value:"1-10",children:"1-10 members"}),c.jsx("option",{value:"11-20",children:"11-20 members"}),c.jsx("option",{value:"21-30",children:"21-30 members"}),c.jsx("option",{value:"31-40",children:"31-40 members"}),c.jsx("option",{value:"41-50",children:"41-50 members"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"faculty-advisor",children:"Faculty Advisor Name *"}),c.jsx("input",{type:"text",id:"faculty-advisor",value:A.facultyAdvisorName,onChange:q=>fe("facultyAdvisorName",q.target.value),placeholder:"Enter faculty advisor's name",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"faculty-contact",children:"Faculty Advisor Contact *"}),c.jsx("input",{type:"tel",id:"faculty-contact",value:A.facultyAdvisorContact,onChange:q=>fe("facultyAdvisorContact",q.target.value),placeholder:"Phone number or email",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"linkedin-profile",children:"LinkedIn Profile"}),c.jsx("input",{type:"url",id:"linkedin-profile",value:A.linkedinProfile,onChange:q=>fe("linkedinProfile",q.target.value),placeholder:"https://linkedin.com/in/your-profile"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"github-profile",children:"GitHub Profile"}),c.jsx("input",{type:"url",id:"github-profile",value:A.githubProfile,onChange:q=>fe("githubProfile",q.target.value),placeholder:"https://github.com/your-username"})]})]}),c.jsxs("div",{className:"highlight-card",children:[c.jsx("div",{className:"highlight-icon",children:"🎨"}),c.jsxs("div",{className:"highlight-content",children:[c.jsx("h4",{children:"Pro Tip: Creating a Memorable Hive Name"}),c.jsx("p",{children:"Choose a name that reflects your community's values and goals. Consider combining tech terms with creative elements that represent your vision!"})]})]})]}),u===4&&c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{className:"section-title",children:"Commitment & Support"}),c.jsx("p",{className:"section-description",children:"Share your experience and long-term vision"}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{htmlFor:"leadership-experience",children:"Leadership Experience *"}),c.jsx("textarea",{id:"leadership-experience",value:A.leadershipExperience,onChange:q=>fe("leadershipExperience",q.target.value),placeholder:"Describe your leadership experience (clubs, projects, teams, etc.)",rows:4,required:!0})]}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{htmlFor:"achievements",children:"Notable Achievements"}),c.jsx("textarea",{id:"achievements",value:A.achievements,onChange:q=>fe("achievements",q.target.value),placeholder:"Share your academic, technical, or extracurricular achievements",rows:3})]}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{htmlFor:"long-term-vision",children:"Long-term Vision for Your Hive *"}),c.jsx("textarea",{id:"long-term-vision",value:A.longTermVision,onChange:q=>fe("longTermVision",q.target.value),placeholder:"Describe your goals and vision for the community you want to build",rows:4,required:!0})]})]}),c.jsxs("div",{className:"terms-section",children:[c.jsx("h4",{children:"Declaration & Terms"}),c.jsxs("div",{className:"declaration-card",children:[c.jsx("p",{children:c.jsx("strong",{children:"By creating a hive, I declare that:"})}),c.jsxs("ul",{children:[c.jsx("li",{children:"All information provided is accurate and truthful"}),c.jsx("li",{children:"I have the necessary permissions from my institution"}),c.jsx("li",{children:"I commit to actively managing and growing my hive community"}),c.jsx("li",{children:"I will maintain professional standards and follow community guidelines"}),c.jsx("li",{children:"I understand that hive leadership comes with responsibilities"})]})]}),c.jsxs("label",{className:"checkbox-label terms-checkbox",children:[c.jsx("input",{type:"checkbox",checked:A.termsAccepted,onChange:q=>fe("termsAccepted",q.target.checked),required:!0}),c.jsx("span",{className:"checkbox-text",children:"I accept the terms and conditions and declare that all information provided is accurate *"})]})]})]})]}),P&&c.jsxs("div",{className:"status-message error-message",children:[c.jsx("div",{className:"status-icon",children:"⚠️"}),c.jsxs("div",{className:"status-content",children:[c.jsx("h4",{children:"Submission Error"}),c.jsx("p",{children:P}),me.length>0&&c.jsx("ul",{children:me.map((q,je)=>c.jsx("li",{children:q},je))})]})]}),W&&c.jsxs("div",{className:"status-message success-message",children:[c.jsx("div",{className:"status-icon",children:"✅"}),c.jsxs("div",{className:"status-content",children:[c.jsx("h4",{children:"Application Submitted!"}),c.jsx("p",{children:W})]})]}),c.jsxs("div",{className:"form-navigation",children:[u>1&&c.jsx("button",{type:"button",className:"nav-btn prev-btn",onClick:ce,disabled:R,children:"Previous"}),u<4?c.jsx("button",{type:"button",className:"nav-btn next-btn",onClick:he,disabled:R,children:"Next"}):c.jsx("button",{type:"button",className:"nav-btn submit-btn",onClick:ye,disabled:R,children:R?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"loading-spinner"}),"Submitting..."]}):"Create Hive"})]})]})]}):r==="member-form"?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"popup-header",children:[c.jsxs("div",{className:"header-with-back",children:[c.jsx("button",{className:"back-btn",onClick:ce,children:"←"}),c.jsx("h2",{children:"Join as Member"})]}),c.jsx("button",{className:"close-btn",onClick:ee,children:"×"})]}),c.jsxs("div",{className:"form-container",children:[c.jsxs("div",{className:"progress-bar",children:[c.jsx("div",{className:"progress-steps",children:[1,2,3,4].map(q=>c.jsxs("div",{className:`progress-step ${u>=q?"active":""}`,children:[c.jsx("span",{className:"step-number",children:q}),c.jsxs("span",{className:"step-label",children:[q===1&&"Personal Info",q===2&&"Academic Info",q===3&&"Interests",q===4&&"Goals"]})]},q))}),c.jsx("div",{className:"progress-line",style:{width:`${(u-1)/3*100}%`}})]}),c.jsxs("div",{className:"section-content",children:[u===1&&c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{className:"section-title",children:"Personal Information"}),c.jsx("p",{className:"section-description",children:"Let's get to know you better to create your member profile"}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"member-name",children:"Full Name *"}),c.jsx("input",{type:"text",id:"member-name",value:w.name,onChange:q=>ke("name",q.target.value),placeholder:"Enter your full name",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"member-email",children:"Email Address *"}),c.jsx("input",{type:"email",id:"member-email",value:w.email,onChange:q=>ke("email",q.target.value),placeholder:"Enter your email address",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"member-mobile",children:"Mobile Number *"}),c.jsx("input",{type:"tel",id:"member-mobile",value:w.mobile,onChange:q=>ke("mobile",q.target.value),placeholder:"Enter your mobile number",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"member-course",children:"Course *"}),c.jsxs("select",{id:"member-course",value:w.course,onChange:q=>ke("course",q.target.value),required:!0,children:[c.jsx("option",{value:"",children:"Select your course"}),c.jsx("option",{value:"B.Tech",children:"B.Tech"}),c.jsx("option",{value:"B.E",children:"B.E"}),c.jsx("option",{value:"MCA",children:"MCA"}),c.jsx("option",{value:"M.Tech",children:"M.Tech"}),c.jsx("option",{value:"BCA",children:"BCA"}),c.jsx("option",{value:"BSc Computer Science",children:"BSc Computer Science"}),c.jsx("option",{value:"MSc Computer Science",children:"MSc Computer Science"}),c.jsx("option",{value:"Diploma",children:"Diploma"}),c.jsx("option",{value:"Other",children:"Other"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"member-branch",children:"Branch *"}),c.jsxs("select",{id:"member-branch",value:w.branch,onChange:q=>ke("branch",q.target.value),required:!0,children:[c.jsx("option",{value:"",children:"Select your branch"}),c.jsx("option",{value:"Computer Science Engineering",children:"Computer Science Engineering"}),c.jsx("option",{value:"Information Technology",children:"Information Technology"}),c.jsx("option",{value:"Electronics & Communication",children:"Electronics & Communication"}),c.jsx("option",{value:"Electrical Engineering",children:"Electrical Engineering"}),c.jsx("option",{value:"Mechanical Engineering",children:"Mechanical Engineering"}),c.jsx("option",{value:"Civil Engineering",children:"Civil Engineering"}),c.jsx("option",{value:"Data Science",children:"Data Science"}),c.jsx("option",{value:"Artificial Intelligence",children:"Artificial Intelligence"}),c.jsx("option",{value:"Cyber Security",children:"Cyber Security"}),c.jsx("option",{value:"Software Engineering",children:"Software Engineering"}),c.jsx("option",{value:"Other",children:"Other"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"member-year",children:"Year of Study *"}),c.jsxs("select",{id:"member-year",value:w.year,onChange:q=>ke("year",q.target.value),required:!0,children:[c.jsx("option",{value:"",children:"Select year"}),c.jsx("option",{value:"1st Year",children:"1st Year"}),c.jsx("option",{value:"2nd Year",children:"2nd Year"}),c.jsx("option",{value:"3rd Year",children:"3rd Year"}),c.jsx("option",{value:"4th Year",children:"4th Year"}),c.jsx("option",{value:"5th Year",children:"5th Year"}),c.jsx("option",{value:"Graduate",children:"Graduate"}),c.jsx("option",{value:"Post Graduate",children:"Post Graduate"})]})]})]}),c.jsxs("div",{className:"info-card",children:[c.jsx("div",{className:"info-icon",children:"👤"}),c.jsxs("div",{className:"info-content",children:[c.jsx("h4",{children:"Building Your Profile"}),c.jsx("p",{children:"Your personal information helps us match you with the right hives and opportunities. We keep your data secure and use it only to enhance your community experience."})]})]})]}),u===2&&c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{className:"section-title",children:"Academic Information"}),c.jsx("p",{className:"section-description",children:"Share your academic background and technical skills"}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{htmlFor:"college-name-member",children:"College/University Name *"}),c.jsx("input",{type:"text",id:"college-name-member",value:w.collegeName,onChange:q=>ke("collegeName",q.target.value),placeholder:"Enter your college or university name",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"member-cgpa-field",children:"CGPA/Percentage *"}),c.jsx("input",{type:"text",id:"member-cgpa-field",value:w.cgpa,onChange:q=>ke("cgpa",q.target.value),placeholder:"e.g., 8.5 CGPA or 85%",required:!0})]})]}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{children:"Technical Skills & Programming Languages *"}),c.jsx("div",{className:"checkbox-grid",children:["JavaScript","Python","Java","C++","C","React","Node.js","Angular","Vue.js","PHP","Go","Rust","Swift","Kotlin","Flutter","React Native","Django","Spring Boot","MySQL","MongoDB","PostgreSQL","AWS","Docker","Git"].map(q=>c.jsxs("label",{className:"checkbox-label",children:[c.jsx("input",{type:"checkbox",checked:w.skills.includes(q),onChange:je=>{const Se=[...w.skills];if(je.target.checked)Se.push(q);else{const zt=Se.indexOf(q);zt>-1&&Se.splice(zt,1)}ke("skills",Se)}}),c.jsx("span",{className:"checkbox-text",children:q})]},q))})]}),c.jsxs("div",{className:"highlight-card",children:[c.jsx("div",{className:"highlight-icon",children:"📚"}),c.jsxs("div",{className:"highlight-content",children:[c.jsx("h4",{children:"Academic Excellence Matters"}),c.jsx("p",{children:"Your academic performance and technical skills help us understand your learning journey and match you with relevant opportunities and peers."})]})]})]}),u===3&&c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{className:"section-title",children:"Your Interests"}),c.jsx("p",{className:"section-description",children:"Tell us about your interests and experience with tech events"}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{children:"Which type of tech events interest you? *"}),c.jsx("div",{className:"checkbox-grid",children:["Hackathons","Technical Workshops","Coding Competitions","Seminars & Webinars","Project Showcases","Career Fairs","Startup Pitches","Open Source Contributions","Study Groups","Mentorship Programs"].map(q=>c.jsxs("label",{className:"checkbox-label",children:[c.jsx("input",{type:"checkbox",checked:w.interestedEvents.includes(q),onChange:je=>{const Se=[...w.interestedEvents];if(je.target.checked)Se.push(q);else{const zt=Se.indexOf(q);zt>-1&&Se.splice(zt,1)}ke("interestedEvents",Se)}}),c.jsx("span",{className:"checkbox-text",children:q})]},q))})]}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{htmlFor:"prior-projects-member",children:"Prior Projects & Technical Work"}),c.jsx("textarea",{id:"prior-projects-member",value:w.priorProjects,onChange:q=>ke("priorProjects",q.target.value),placeholder:"Describe your personal projects, internships, or technical work (GitHub links, live demos, etc.)",rows:4})]}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{htmlFor:"event-participation-member",children:"Event Participation History"}),c.jsx("textarea",{id:"event-participation-member",value:w.eventParticipation,onChange:q=>ke("eventParticipation",q.target.value),placeholder:"Share your experience with hackathons, competitions, workshops, or tech events you've attended",rows:3})]})]}),c.jsxs("div",{className:"info-card",children:[c.jsx("div",{className:"info-icon",children:"🎆"}),c.jsxs("div",{className:"info-content",children:[c.jsx("h4",{children:"Discover Your Tech Community"}),c.jsx("p",{children:"Your interests help us connect you with like-minded peers and relevant events. Whether you're a beginner or experienced, there's a place for everyone!"})]})]})]}),u===4&&c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{className:"section-title",children:"Goals & Additional Information"}),c.jsx("p",{className:"section-description",children:"Help us understand your goals and how you found us"}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"member-linkedin-field",children:"LinkedIn Profile"}),c.jsx("input",{type:"url",id:"member-linkedin-field",value:w.linkedinProfile,onChange:q=>ke("linkedinProfile",q.target.value),placeholder:"https://linkedin.com/in/your-profile"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"member-github-field",children:"GitHub Profile"}),c.jsx("input",{type:"url",id:"member-github-field",value:w.githubProfile,onChange:q=>ke("githubProfile",q.target.value),placeholder:"https://github.com/your-username"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"heard-about-member",children:"How did you hear about us? *"}),c.jsxs("select",{id:"heard-about-member",value:w.heardAbout,onChange:q=>ke("heardAbout",q.target.value),required:!0,children:[c.jsx("option",{value:"",children:"Select an option"}),c.jsx("option",{value:"College/University",children:"College/University"}),c.jsx("option",{value:"Friend/Peer",children:"Friend/Peer"}),c.jsx("option",{value:"Social Media",children:"Social Media"}),c.jsx("option",{value:"Tech Event/Workshop",children:"Tech Event/Workshop"}),c.jsx("option",{value:"Online Search",children:"Online Search"}),c.jsx("option",{value:"Faculty/Professor",children:"Faculty/Professor"}),c.jsx("option",{value:"Career Fair",children:"Career Fair"}),c.jsx("option",{value:"Other",children:"Other"})]})]})]}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{htmlFor:"hive-selection",children:"Select a Hive to Join *"}),D?c.jsxs("div",{className:"hives-loading",children:[c.jsx("span",{className:"loading-spinner"}),"Loading available hives..."]}):c.jsxs("select",{id:"hive-selection",value:w.selectedHive?.id||"",onChange:q=>{const je=S.find(Se=>Se.id===q.target.value);ke("selectedHive",je||null)},required:!0,children:[c.jsx("option",{value:"",children:"Choose a hive to join"}),S.map(q=>c.jsxs("option",{value:q.id,children:[q.hiveName," - ",q.campusName," (",q.memberCount||0,"/",q.expectedAudience," members)"]},q.id))]}),w.selectedHive&&c.jsxs("div",{className:"selected-hive-info",children:[c.jsxs("h4",{children:["🏠 ",w.selectedHive.hiveName]}),c.jsxs("div",{className:"hive-details",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Campus:"})," ",w.selectedHive.campusName]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Location:"})," ",w.selectedHive.campusLocation]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Leader:"})," ",w.selectedHive.creatorName]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Members:"})," ",w.selectedHive.memberCount||0," / ",w.selectedHive.expectedAudience]})]})]}),S.length===0&&!D&&c.jsx("div",{className:"no-hives-available",children:c.jsx("p",{children:"⚠️ No hives are currently accepting new members. Please check back later or contact support."})})]}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{htmlFor:"main-goal-member",children:"What's your main goal for joining the community? *"}),c.jsx("textarea",{id:"main-goal-member",value:w.mainGoal,onChange:q=>ke("mainGoal",q.target.value),placeholder:"Tell us what you hope to achieve (e.g., learning new skills, networking, career growth, contributing to projects)",rows:4,required:!0})]}),c.jsxs("div",{className:"subscription-section",children:[c.jsx("h4",{children:"Stay Connected"}),c.jsxs("div",{className:"subscription-card",children:[c.jsxs("div",{className:"subscription-content",children:[c.jsx("h5",{children:"📩 Newsletter Subscription"}),c.jsx("p",{children:"Get the latest updates on tech events, job opportunities, and community highlights delivered to your inbox."}),c.jsxs("ul",{children:[c.jsx("li",{children:"Weekly tech event notifications"}),c.jsx("li",{children:"Job and internship opportunities"}),c.jsx("li",{children:"Community achievements and success stories"}),c.jsx("li",{children:"Exclusive member-only content"})]})]}),c.jsxs("label",{className:"checkbox-label subscription-checkbox",children:[c.jsx("input",{type:"checkbox",checked:w.subscription,onChange:q=>ke("subscription",q.target.checked)}),c.jsx("span",{className:"checkbox-text",children:"Yes, I want to subscribe to the newsletter and stay updated"})]})]})]}),c.jsxs("div",{className:"terms-section",children:[c.jsx("h4",{children:"Declaration & Terms"}),c.jsxs("div",{className:"declaration-card",children:[c.jsx("p",{children:c.jsx("strong",{children:"By registering as a member, I declare that:"})}),c.jsxs("ul",{children:[c.jsx("li",{children:"All information provided is accurate and truthful"}),c.jsx("li",{children:"I agree to follow community guidelines and code of conduct"}),c.jsx("li",{children:"I will actively participate and contribute positively to the community"}),c.jsx("li",{children:"I understand that membership privileges can be revoked for misconduct"}),c.jsx("li",{children:"I consent to the use of my information for community matching and communication"})]})]}),c.jsxs("label",{className:"checkbox-label terms-checkbox",children:[c.jsx("input",{type:"checkbox",checked:w.termsAccepted,onChange:q=>ke("termsAccepted",q.target.checked),required:!0}),c.jsx("span",{className:"checkbox-text",children:"I accept the terms and conditions and declare that all information provided is accurate *"})]})]})]})]}),P&&c.jsxs("div",{className:"status-message error-message",children:[c.jsx("div",{className:"status-icon",children:"⚠️"}),c.jsxs("div",{className:"status-content",children:[c.jsx("h4",{children:"Registration Error"}),c.jsx("p",{children:P})]})]}),W&&c.jsxs("div",{className:"status-message success-message",children:[c.jsx("div",{className:"status-icon",children:"✅"}),c.jsxs("div",{className:"status-content",children:[c.jsx("h4",{children:"Welcome to the Community!"}),c.jsx("p",{children:W})]})]}),c.jsxs("div",{className:"form-navigation",children:[u>1&&c.jsx("button",{type:"button",className:"nav-btn prev-btn",onClick:ce,disabled:R,children:"Previous"}),u<4?c.jsx("button",{type:"button",className:"nav-btn next-btn",onClick:he,disabled:R,children:"Next"}):c.jsx("button",{type:"button",className:"nav-btn submit-btn",onClick:Ve,disabled:R,children:R?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"loading-spinner"}),"Registering..."]}):"Register"})]})]})]}):null})}):null},bj=({application:i,onApprove:e,onReject:s,isProcessing:r})=>{const[o,u]=re.useState(!1),[f,g]=re.useState(!1),v=async()=>{u(!0);try{await e(i.id,i)}catch(P){console.error("Error approving member:",P)}finally{u(!1)}},y=async()=>{g(!0);try{await s(i.id,i)}catch(P){console.error("Error rejecting member:",P)}finally{g(!1)}},E=P=>P?(P.toDate?P.toDate():new Date(P)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",R=P=>P?P.split(" ").map(U=>U.charAt(0)).join("").toUpperCase().slice(0,2):"?",C=r||o||f;return c.jsxs("div",{className:"member-application-card",children:[c.jsxs("div",{className:"card-header",children:[c.jsx("div",{className:"member-avatar",children:R(i.name)}),c.jsxs("div",{className:"member-info",children:[c.jsx("h3",{className:"member-name",children:i.name||"Unknown Name"}),c.jsx("p",{className:"member-email",children:i.email}),c.jsx("div",{className:"application-meta",children:c.jsxs("span",{className:"application-date",children:["📅 Applied: ",E(i.createdAt)]})})]}),c.jsx("div",{className:"application-status",children:c.jsx("span",{className:"status-badge pending",children:"⏳ Pending"})})]}),c.jsxs("div",{className:"card-content",children:[c.jsxs("div",{className:"info-grid",children:[c.jsxs("div",{className:"info-item",children:[c.jsx("label",{children:"Selected Hive:"}),c.jsxs("span",{className:"info-value hive-name",children:["🏠 ",i.selectedHiveName]})]}),i.mobile&&c.jsxs("div",{className:"info-item",children:[c.jsx("label",{children:"Mobile Number:"}),c.jsxs("span",{className:"info-value",children:["📱 ",i.mobile]})]}),i.course&&c.jsxs("div",{className:"info-item",children:[c.jsx("label",{children:"Course:"}),c.jsxs("span",{className:"info-value",children:["📚 ",i.course]})]}),i.branch&&c.jsxs("div",{className:"info-item",children:[c.jsx("label",{children:"Branch:"}),c.jsxs("span",{className:"info-value",children:["🌱 ",i.branch]})]}),i.year&&c.jsxs("div",{className:"info-item",children:[c.jsx("label",{children:"Year:"}),c.jsxs("span",{className:"info-value",children:["🏅 ",i.year]})]}),i.cgpa&&c.jsxs("div",{className:"info-item",children:[c.jsx("label",{children:"CGPA:"}),c.jsxs("span",{className:"info-value",children:["📊 ",i.cgpa]})]})]}),i.mainGoal&&c.jsxs("div",{className:"motivation-section",children:[c.jsx("label",{children:"Main Goal:"}),c.jsxs("p",{className:"motivation-text",children:['"',i.mainGoal,'"']})]}),i.priorProjects&&c.jsxs("div",{className:"additional-info-section",children:[c.jsx("label",{children:"Prior Projects:"}),c.jsx("p",{className:"additional-info-text",children:i.priorProjects})]}),i.skills&&i.skills.length>0&&c.jsxs("div",{className:"additional-info-section",children:[c.jsx("label",{children:"Technical Skills:"}),c.jsx("p",{className:"additional-info-text",children:i.skills.join(", ")})]})]}),c.jsxs("div",{className:"card-actions",children:[c.jsx("button",{className:"reject-btn",onClick:y,disabled:C,children:f?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"spinner"}),"Rejecting..."]}):c.jsx(c.Fragment,{children:"❌ Reject"})}),c.jsx("button",{className:"approve-btn",onClick:v,disabled:C,children:o?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"spinner"}),"Approving..."]}):c.jsx(c.Fragment,{children:"✅ Approve & Generate Credentials"})})]})]})},Ej=({credentials:i,memberData:e,onClose:s})=>{const[r,o]=re.useState(null),[u,f]=re.useState(!1),g=async(y,E)=>{try{await navigator.clipboard.writeText(y),o(E),setTimeout(()=>o(null),2e3)}catch(R){console.error("Failed to copy text: ",R)}},v=async()=>{const y=`
Member Login Credentials for ${e.fullName||e.name}
==========================================
Hive: ${e.selectedHive||e.selectedHiveName}
Email: ${i.email}
Password: ${i.password}
Generated: ${new Date(i.generatedAt).toLocaleString()}

Please share these credentials securely with the member.
The member can use these to access their dashboard.
    `.trim();try{await navigator.clipboard.writeText(y),o("all"),setTimeout(()=>o(null),2e3)}catch(E){console.error("Failed to copy credentials: ",E)}};return c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"member-credentials-modal",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"🎉 Member Approved Successfully!"}),c.jsx("button",{onClick:s,className:"close-btn",children:"✕"})]}),c.jsxs("div",{className:"modal-content",children:[c.jsxs("div",{className:"success-message",children:[c.jsxs("div",{className:"member-info",children:[c.jsx("div",{className:"member-avatar",children:"👥"}),c.jsxs("div",{className:"member-details",children:[c.jsx("h3",{children:e.fullName||e.name}),c.jsxs("p",{className:"hive-name",children:["🏠 Approved to join ",e.selectedHive||e.selectedHiveName]})]})]}),c.jsx("p",{className:"instructions",children:"Member login credentials have been generated and stored securely. Please share these credentials with the new member:"})]}),c.jsxs("div",{className:"credentials-container",children:[c.jsxs("div",{className:"credential-field",children:[c.jsx("label",{children:"Email Address"}),c.jsxs("div",{className:"input-with-copy",children:[c.jsx("input",{type:"text",value:i.email,readOnly:!0,className:"credential-input"}),c.jsx("button",{onClick:()=>g(i.email,"email"),className:"copy-btn",title:"Copy email",children:r==="email"?"✓":"📋"})]})]}),c.jsxs("div",{className:"credential-field",children:[c.jsx("label",{children:"Password"}),c.jsxs("div",{className:"input-with-copy",children:[c.jsx("input",{type:u?"text":"password",value:i.password,readOnly:!0,className:"credential-input"}),c.jsxs("div",{className:"input-actions",children:[c.jsx("button",{onClick:()=>f(!u),className:"toggle-password-btn",title:u?"Hide password":"Show password",children:u?"🙈":"👁️"}),c.jsx("button",{onClick:()=>g(i.password,"password"),className:"copy-btn",title:"Copy password",children:r==="password"?"✓":"📋"})]})]})]}),c.jsxs("div",{className:"credential-field",children:[c.jsx("label",{children:"Generated"}),c.jsx("div",{className:"generated-date",children:new Date(i.generatedAt).toLocaleString()})]})]}),c.jsx("div",{className:"modal-actions",children:c.jsx("button",{onClick:v,className:"copy-all-btn",children:r==="all"?c.jsx(c.Fragment,{children:"✓ All Credentials Copied!"}):c.jsx(c.Fragment,{children:"📋 Copy All Credentials"})})}),c.jsxs("div",{className:"member-notice",children:[c.jsx("p",{children:c.jsx("strong",{children:"📧 Next Steps:"})}),c.jsxs("ul",{children:[c.jsxs("li",{children:["Share these credentials securely with ",e.fullName||e.name]}),c.jsx("li",{children:"The member can now log in using these credentials"}),c.jsx("li",{children:"Member will have access to the hive dashboard and activities"}),c.jsx("li",{children:"Credentials are stored securely in the database for reference"}),c.jsx("li",{children:"Consider sending a welcome message to introduce them to the hive"})]})]})]})]})})},xj=({hive:i})=>{const[e,s]=re.useState([]),[r,o]=re.useState(!0),[u,f]=re.useState(""),[g,v]=re.useState("name"),[y,E]=re.useState("");re.useEffect(()=>{if(!i?.hiveName)return;o(!0),E("");const U=Ye(Ne(ve,"members_approved"),Ue("selectedHiveName","==",i.hiveName)),W=Fm(U,K=>{const me=K.docs.map(ie=>({id:ie.id,...ie.data()}));s(me),o(!1)},K=>{console.error("Error fetching approved members:",K),E("Failed to load approved members. Please try again."),o(!1)});return()=>W()},[i?.hiveName]);const R=e.filter(U=>{if(!u)return!0;const W=u.toLowerCase();return U.name?.toLowerCase().includes(W)||U.email?.toLowerCase().includes(W)||U.course?.toLowerCase().includes(W)||U.branch?.toLowerCase().includes(W)}).sort((U,W)=>{switch(g){case"name":return(U.name||"").localeCompare(W.name||"");case"date":return new Date(W.approvedAt||0)-new Date(U.approvedAt||0);case"course":return(U.course||"").localeCompare(W.course||"");case"year":return(U.year||"").localeCompare(W.year||"");default:return 0}}),C=U=>U?U.split(" ").map(W=>W.charAt(0)).join("").toUpperCase().slice(0,2):"?",P=U=>U?new Date(U).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return r?c.jsxs("div",{className:"approved-members-list",children:[c.jsxs("div",{className:"approved-members-header",children:[c.jsx("h2",{children:"👥 Approved Members"}),c.jsxs("p",{children:["Active members in ",c.jsx("span",{className:"hive-highlight",children:i?.hiveName})]})]}),c.jsxs("div",{className:"loading-container",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("p",{children:"Loading approved members..."})]})]}):c.jsxs("div",{className:"approved-members-list",children:[c.jsxs("div",{className:"approved-members-header",children:[c.jsxs("div",{className:"header-content",children:[c.jsx("h2",{children:"👥 Approved Members"}),c.jsxs("p",{children:["Active members in ",c.jsx("span",{className:"hive-highlight",children:i?.hiveName})]})]}),c.jsxs("div",{className:"member-stats-summary",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("div",{className:"stat-number",children:e.length}),c.jsx("div",{className:"stat-label",children:"Active Members"})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("div",{className:"stat-number",children:R.length}),c.jsx("div",{className:"stat-label",children:"Displayed"})]})]})]}),c.jsxs("div",{className:"members-controls",children:[c.jsxs("div",{className:"search-container",children:[c.jsx("input",{type:"text",placeholder:"Search members by name, email, course, or branch...",value:u,onChange:U=>f(U.target.value),className:"search-input"}),c.jsx("span",{className:"search-icon",children:"🔍"})]}),c.jsxs("div",{className:"sort-container",children:[c.jsx("label",{children:"Sort by:"}),c.jsxs("select",{value:g,onChange:U=>v(U.target.value),className:"sort-select",children:[c.jsx("option",{value:"name",children:"Name"}),c.jsx("option",{value:"date",children:"Join Date"}),c.jsx("option",{value:"course",children:"Course"}),c.jsx("option",{value:"year",children:"Year"})]})]})]}),y&&c.jsxs("div",{className:"error-banner",children:[c.jsx("span",{className:"error-icon",children:"⚠️"}),y,c.jsx("button",{onClick:()=>E(""),className:"dismiss-btn","aria-label":"Dismiss error",children:"✕"})]}),c.jsxs("div",{className:"members-section",children:[c.jsxs("div",{className:"section-header",children:[c.jsxs("h3",{children:["Active Members",c.jsxs("span",{className:"count",children:["(",R.length,")"]})]}),u&&c.jsx("button",{onClick:()=>f(""),className:"clear-search-btn",children:"Clear search"})]}),R.length===0?c.jsxs("div",{className:"empty-state",children:[c.jsx("div",{className:"empty-icon",children:"👥"}),c.jsx("h3",{children:e.length===0?"No approved members yet":"No members match your search"}),c.jsx("p",{children:e.length===0?`No members have been approved for ${i?.hiveName} yet. Approved members will appear here.`:"Try adjusting your search term to see more members."}),u&&c.jsx("button",{onClick:()=>f(""),className:"secondary-btn",children:"Clear search"})]}):c.jsx("div",{className:"members-grid",children:R.map(U=>c.jsxs("div",{className:"member-card",children:[c.jsxs("div",{className:"member-header",children:[c.jsx("div",{className:"member-avatar",children:C(U.name)}),c.jsxs("div",{className:"member-basic-info",children:[c.jsx("h3",{className:"member-name",children:U.name}),c.jsx("p",{className:"member-email",children:U.email}),c.jsx("div",{className:"member-meta",children:c.jsxs("span",{className:"join-date",children:["📅 Joined: ",P(U.approvedAt)]})})]}),c.jsx("div",{className:"member-status",children:c.jsx("span",{className:"status-badge active",children:"✅ Active"})})]}),c.jsxs("div",{className:"member-details",children:[c.jsxs("div",{className:"details-grid",children:[U.course&&c.jsxs("div",{className:"detail-item",children:[c.jsx("label",{children:"Course:"}),c.jsxs("span",{children:["📚 ",U.course]})]}),U.branch&&c.jsxs("div",{className:"detail-item",children:[c.jsx("label",{children:"Branch:"}),c.jsxs("span",{children:["🌱 ",U.branch]})]}),U.year&&c.jsxs("div",{className:"detail-item",children:[c.jsx("label",{children:"Year:"}),c.jsxs("span",{children:["🏅 ",U.year]})]}),U.cgpa&&c.jsxs("div",{className:"detail-item",children:[c.jsx("label",{children:"CGPA:"}),c.jsxs("span",{children:["📊 ",U.cgpa]})]}),U.mobile&&c.jsxs("div",{className:"detail-item",children:[c.jsx("label",{children:"Mobile:"}),c.jsxs("span",{children:["📱 ",U.mobile]})]})]}),U.skills&&U.skills.length>0&&c.jsxs("div",{className:"skills-section",children:[c.jsx("label",{children:"Technical Skills:"}),c.jsx("div",{className:"skills-tags",children:U.skills.map((W,K)=>c.jsx("span",{className:"skill-tag",children:W},K))})]}),U.mainGoal&&c.jsxs("div",{className:"goal-section",children:[c.jsx("label",{children:"Main Goal:"}),c.jsxs("p",{className:"goal-text",children:['"',U.mainGoal,'"']})]})]})]},U.id))})]})]})},V_=({hive:i,mode:e="applications"})=>{const[s,r]=re.useState([]),[o,u]=re.useState(!0),[f,g]=re.useState(null),[v,y]=re.useState("all"),[E,R]=re.useState(""),[C,P]=re.useState(!1),[U,W]=re.useState(null),[K,me]=re.useState(null),[ie,k]=re.useState(""),[ae,Z]=re.useState({total:0,pending:0,approved:0,rejected:0});if(re.useEffect(()=>{if(!i?.hiveName||e!=="applications")return;u(!0),k("");const A=Ye(Ne(ve,"members"),Ue("selectedHiveName","==",i.hiveName));Ye(Ne(ve,"members_approved"),Ue("selectedHiveName","==",i.hiveName)),Ye(Ne(ve,"members_rejected"),Ue("selectedHiveName","==",i.hiveName));const V=Fm(A,De=>{const He=De.docs.map(Y=>({id:Y.id,...Y.data()}));He.sort((Y,ue)=>{const ge=new Date(Y.createdAt||0);return new Date(ue.createdAt||0)-ge}),r(He),u(!1)},De=>{console.error("Error fetching applications:",De),k("Failed to load member applications. Please try again."),u(!1)});return(async()=>{try{const He=(await ka.getApprovedMembers(i.hiveName)).size,ue=(await ka.getRejectedMembers(i.hiveName)).size;Z(ge=>({...ge,approved:He,rejected:ue}))}catch(De){console.error("Error fetching stats:",De)}})(),()=>V()},[i?.hiveName,e]),e==="members")return c.jsx(xj,{hive:i});re.useEffect(()=>{Z(A=>({...A,pending:s.length,total:A.approved+A.rejected+s.length}))},[s,ae.approved,ae.rejected]);const se=s.filter(A=>{if(!(!E||A.name?.toLowerCase().includes(E.toLowerCase())||A.email?.toLowerCase().includes(E.toLowerCase())||A.course?.toLowerCase().includes(E.toLowerCase())||A.branch?.toLowerCase().includes(E.toLowerCase())))return!1;if(v==="all")return!0;const w=A.createdAt?new Date(A.createdAt):new Date,He=Math.abs(new Date-w),Y=Math.ceil(He/(1e3*60*60*24));switch(v){case"recent":return Y<=3;case"thisWeek":return Y<=7;case"thisMonth":return Y<=30;default:return!0}}),S=async(A,V)=>{g(A);try{const w=await ka.approveMember(A,V);W(w),me(V),P(!0),r(De=>De.filter(He=>He.id!==A))}catch(w){console.error("Error approving member:",w),k("Failed to approve member. Please try again.")}finally{g(null)}},N=async(A,V)=>{g(A);try{await ka.rejectMember(A,V),r(w=>w.filter(De=>De.id!==A))}catch(w){console.error("Error rejecting member:",w),k("Failed to reject member. Please try again.")}finally{g(null)}},D=()=>{P(!1),W(null),me(null)},j=A=>{switch(A){case"recent":return"Last 3 Days";case"thisWeek":return"This Week";case"thisMonth":return"This Month";default:return"All Applications"}};return o?c.jsxs("div",{className:"member-management",children:[c.jsxs("div",{className:"member-management-header",children:[c.jsx("h2",{children:"👥 Member Applications"}),c.jsxs("p",{children:["Managing applications for ",c.jsx("span",{className:"hive-highlight",children:i?.hiveName})]})]}),c.jsxs("div",{className:"loading-container",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("p",{children:"Loading member applications..."})]})]}):c.jsxs("div",{className:"member-management",children:[c.jsxs("div",{className:"member-management-header",children:[c.jsxs("div",{className:"header-content",children:[c.jsx("h2",{children:"👥 Member Applications"}),c.jsxs("p",{children:["Managing applications for ",c.jsx("span",{className:"hive-highlight",children:i?.hiveName})]})]}),c.jsxs("div",{className:"stats-grid",children:[c.jsxs("div",{className:"stat-card total",children:[c.jsx("div",{className:"stat-number",children:ae.total}),c.jsx("div",{className:"stat-label",children:"Total Applications"})]}),c.jsxs("div",{className:"stat-card pending",children:[c.jsx("div",{className:"stat-number",children:ae.pending}),c.jsx("div",{className:"stat-label",children:"Pending Review"})]}),c.jsxs("div",{className:"stat-card approved",children:[c.jsx("div",{className:"stat-number",children:ae.approved}),c.jsx("div",{className:"stat-label",children:"Approved"})]}),c.jsxs("div",{className:"stat-card rejected",children:[c.jsx("div",{className:"stat-number",children:ae.rejected}),c.jsx("div",{className:"stat-label",children:"Rejected"})]})]})]}),c.jsxs("div",{className:"management-controls",children:[c.jsxs("div",{className:"search-container",children:[c.jsx("input",{type:"text",placeholder:"Search by name, email, course, or branch...",value:E,onChange:A=>R(A.target.value),className:"search-input"}),c.jsx("span",{className:"search-icon",children:"🔍"})]}),c.jsxs("div",{className:"filter-container",children:[c.jsx("label",{children:"Filter by:"}),c.jsxs("select",{value:v,onChange:A=>y(A.target.value),className:"filter-select",children:[c.jsx("option",{value:"all",children:"All Applications"}),c.jsx("option",{value:"recent",children:"Last 3 Days"}),c.jsx("option",{value:"thisWeek",children:"This Week"}),c.jsx("option",{value:"thisMonth",children:"This Month"})]})]})]}),ie&&c.jsxs("div",{className:"error-banner",children:[c.jsx("span",{className:"error-icon",children:"⚠️"}),ie,c.jsx("button",{onClick:()=>k(""),className:"dismiss-btn","aria-label":"Dismiss error",children:"✕"})]}),c.jsxs("div",{className:"applications-section",children:[c.jsxs("div",{className:"section-header",children:[c.jsxs("h3",{children:[j(v),c.jsxs("span",{className:"count",children:["(",se.length,")"]})]}),E&&c.jsx("button",{onClick:()=>R(""),className:"clear-search-btn",children:"Clear search"})]}),se.length===0?c.jsxs("div",{className:"empty-state",children:[c.jsx("div",{className:"empty-icon",children:"📭"}),c.jsx("h3",{children:s.length===0?"No member applications yet":"No applications match your filters"}),c.jsx("p",{children:s.length===0?`No one has applied to join ${i?.hiveName} yet. Applications will appear here when submitted.`:"Try adjusting your search term or date filter to see more applications."}),E&&c.jsx("button",{onClick:()=>R(""),className:"secondary-btn",children:"Clear search"})]}):c.jsx("div",{className:"applications-grid",children:se.map(A=>c.jsx(bj,{application:A,onApprove:S,onReject:N,isProcessing:f===A.id},A.id))})]}),C&&U&&K&&c.jsx("div",{className:"modal-overlay",children:c.jsx(Ej,{credentials:U,memberData:K,onClose:D})})]})},Tj=({isOpen:i,onClose:e,onSubmit:s,hive:r})=>{const[o,u]=re.useState({eventName:"",eventType:"",eventDescription:"",timeline:"",campus:"",venue:"",duration:"",startDate:"",startTime:"",endDate:"",endTime:"",maxParticipants:"",registrationFees:"",numberOfVolunteers:"",prerequisites:"",estimatedBudget:"",budgetBreakdown:"",sponsorshipNeeded:!1,additionalNotes:""}),[f,g]=re.useState({}),[v,y]=re.useState(!1),E=P=>{const{name:U,value:W,type:K,checked:me}=P.target;u(ie=>({...ie,[U]:K==="checkbox"?me:W})),f[U]&&g(ie=>({...ie,[U]:""}))},R=()=>{const P={};return o.eventName.trim()||(P.eventName="Event name is required"),o.eventType||(P.eventType="Event type is required"),o.campus.trim()||(P.campus="Campus location is required"),o.startDate||(P.startDate="Start date is required"),o.startTime||(P.startTime="Start time is required"),o.duration||(P.duration="Duration is required"),(!o.maxParticipants||o.maxParticipants<=0)&&(P.maxParticipants="Valid number of participants is required"),(!o.estimatedBudget||o.estimatedBudget<0)&&(P.estimatedBudget="Valid budget estimate is required"),o.startDate&&o.endDate&&o.endDate<o.startDate&&(P.endDate="End date cannot be before start date"),o.startDate&&o.endDate&&o.startDate===o.endDate&&o.startTime&&o.endTime&&o.endTime<=o.startTime&&(P.endTime="End time must be after start time"),P},C=async P=>{P.preventDefault();const U=R();if(Object.keys(U).length>0){g(U);return}y(!0);try{const W={...o,hiveName:r.hiveName,hiveId:r.id||r.hiveName,creatorName:r.creatorName,creatorEmail:r.email,status:"draft",approvalStatus:"pending",adminComments:"",approvedAt:null,approvedBy:null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await s(W),e(),u({eventName:"",eventType:"",eventDescription:"",timeline:"",campus:"",venue:"",duration:"",startDate:"",startTime:"",endDate:"",endTime:"",maxParticipants:"",registrationFees:"",numberOfVolunteers:"",prerequisites:"",estimatedBudget:"",budgetBreakdown:"",sponsorshipNeeded:!1,additionalNotes:""}),g({})}catch(W){console.error("Error creating event:",W),alert("Failed to create event. Please try again.")}finally{y(!1)}};return i?c.jsx("div",{className:"event-modal-overlay",onClick:e,children:c.jsxs("div",{className:"event-modal",onClick:P=>P.stopPropagation(),children:[c.jsxs("div",{className:"event-modal-header",children:[c.jsx("h2",{children:"🎉 Create New Event"}),c.jsx("button",{className:"close-btn",onClick:e,children:"×"})]}),c.jsxs("form",{className:"event-form",onSubmit:C,children:[c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{children:"📋 Event Information"}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"eventName",children:"Event Name *"}),c.jsx("input",{type:"text",id:"eventName",name:"eventName",value:o.eventName,onChange:E,placeholder:"Enter event name",className:f.eventName?"error":""}),f.eventName&&c.jsx("span",{className:"error-text",children:f.eventName})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"eventType",children:"Event Type *"}),c.jsxs("select",{id:"eventType",name:"eventType",value:o.eventType,onChange:E,className:f.eventType?"error":"",children:[c.jsx("option",{value:"",children:"Select event type"}),c.jsx("option",{value:"workshop",children:"Workshop"}),c.jsx("option",{value:"seminar",children:"Seminar"}),c.jsx("option",{value:"hackathon",children:"Hackathon"}),c.jsx("option",{value:"networking",children:"Networking Event"}),c.jsx("option",{value:"competition",children:"Competition"}),c.jsx("option",{value:"conference",children:"Conference"}),c.jsx("option",{value:"social",children:"Social Gathering"}),c.jsx("option",{value:"training",children:"Training Session"}),c.jsx("option",{value:"other",children:"Other"})]}),f.eventType&&c.jsx("span",{className:"error-text",children:f.eventType})]})]}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{htmlFor:"eventDescription",children:"Event Description"}),c.jsx("textarea",{id:"eventDescription",name:"eventDescription",value:o.eventDescription,onChange:E,placeholder:"Describe your event, its objectives, and what participants can expect...",rows:"3"})]}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{htmlFor:"timeline",children:"Event Timeline/Agenda"}),c.jsx("textarea",{id:"timeline",name:"timeline",value:o.timeline,onChange:E,placeholder:"Provide a detailed schedule or timeline for the event...",rows:"3"})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{children:"📍 Venue & Schedule"}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"campus",children:"Campus/Location *"}),c.jsx("input",{type:"text",id:"campus",name:"campus",value:o.campus,onChange:E,placeholder:"Which campus or location?",className:f.campus?"error":""}),f.campus&&c.jsx("span",{className:"error-text",children:f.campus})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"venue",children:"Specific Venue"}),c.jsx("input",{type:"text",id:"venue",name:"venue",value:o.venue,onChange:E,placeholder:"Room/Hall/Building name"})]})]}),c.jsx("div",{className:"form-row",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"duration",children:"Duration *"}),c.jsxs("select",{id:"duration",name:"duration",value:o.duration,onChange:E,className:f.duration?"error":"",children:[c.jsx("option",{value:"",children:"Select duration"}),c.jsx("option",{value:"1 hour",children:"1 hour"}),c.jsx("option",{value:"2 hours",children:"2 hours"}),c.jsx("option",{value:"3 hours",children:"3 hours"}),c.jsx("option",{value:"Half day (4 hours)",children:"Half day (4 hours)"}),c.jsx("option",{value:"Full day (8 hours)",children:"Full day (8 hours)"}),c.jsx("option",{value:"2 days",children:"2 days"}),c.jsx("option",{value:"3 days",children:"3 days"}),c.jsx("option",{value:"1 week",children:"1 week"}),c.jsx("option",{value:"Custom",children:"Custom"})]}),f.duration&&c.jsx("span",{className:"error-text",children:f.duration})]})}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"startDate",children:"Start Date *"}),c.jsx("input",{type:"date",id:"startDate",name:"startDate",value:o.startDate,onChange:E,min:new Date().toISOString().split("T")[0],className:f.startDate?"error":""}),f.startDate&&c.jsx("span",{className:"error-text",children:f.startDate})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"startTime",children:"Start Time *"}),c.jsx("input",{type:"time",id:"startTime",name:"startTime",value:o.startTime,onChange:E,className:f.startTime?"error":""}),f.startTime&&c.jsx("span",{className:"error-text",children:f.startTime})]})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"endDate",children:"End Date"}),c.jsx("input",{type:"date",id:"endDate",name:"endDate",value:o.endDate,onChange:E,min:o.startDate||new Date().toISOString().split("T")[0],className:f.endDate?"error":""}),f.endDate&&c.jsx("span",{className:"error-text",children:f.endDate})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"endTime",children:"End Time"}),c.jsx("input",{type:"time",id:"endTime",name:"endTime",value:o.endTime,onChange:E,className:f.endTime?"error":""}),f.endTime&&c.jsx("span",{className:"error-text",children:f.endTime})]})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{children:"👥 Participation Details"}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"maxParticipants",children:"Maximum Participants *"}),c.jsx("input",{type:"number",id:"maxParticipants",name:"maxParticipants",value:o.maxParticipants,onChange:E,placeholder:"Enter maximum number",min:"1",className:f.maxParticipants?"error":""}),f.maxParticipants&&c.jsx("span",{className:"error-text",children:f.maxParticipants})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"registrationFees",children:"Registration Fees (₹)"}),c.jsx("input",{type:"number",id:"registrationFees",name:"registrationFees",value:o.registrationFees,onChange:E,placeholder:"Enter amount (0 for free)",min:"0",step:"0.01"})]})]}),c.jsx("div",{className:"form-row",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"numberOfVolunteers",children:"Number of Volunteers Needed"}),c.jsx("input",{type:"number",id:"numberOfVolunteers",name:"numberOfVolunteers",value:o.numberOfVolunteers,onChange:E,placeholder:"Enter number needed",min:"0"})]})}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{htmlFor:"prerequisites",children:"Prerequisites/Requirements"}),c.jsx("textarea",{id:"prerequisites",name:"prerequisites",value:o.prerequisites,onChange:E,placeholder:"Any specific skills, equipment, or requirements for participants...",rows:"2"})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{children:"💰 Budget & Planning"}),c.jsx("div",{className:"form-row",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"estimatedBudget",children:"Estimated Budget (₹) *"}),c.jsx("input",{type:"number",id:"estimatedBudget",name:"estimatedBudget",value:o.estimatedBudget,onChange:E,placeholder:"Total estimated cost",min:"0",step:"0.01",className:f.estimatedBudget?"error":""}),f.estimatedBudget&&c.jsx("span",{className:"error-text",children:f.estimatedBudget})]})}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{htmlFor:"budgetBreakdown",children:"Budget Breakdown"}),c.jsx("textarea",{id:"budgetBreakdown",name:"budgetBreakdown",value:o.budgetBreakdown,onChange:E,placeholder:"Break down the budget: venue costs, refreshments, materials, speaker fees, etc.",rows:"3"})]}),c.jsx("div",{className:"form-group checkbox-group",children:c.jsxs("label",{className:"checkbox-label",children:[c.jsx("input",{type:"checkbox",name:"sponsorshipNeeded",checked:o.sponsorshipNeeded,onChange:E}),c.jsx("span",{className:"checkmark"}),"Sponsorship or external funding needed"]})}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{htmlFor:"additionalNotes",children:"Additional Notes"}),c.jsx("textarea",{id:"additionalNotes",name:"additionalNotes",value:o.additionalNotes,onChange:E,placeholder:"Any additional information, special requirements, or notes...",rows:"2"})]})]}),c.jsxs("div",{className:"form-actions",children:[c.jsx("button",{type:"button",className:"cancel-btn",onClick:e,disabled:v,children:"Cancel"}),c.jsx("button",{type:"submit",className:"submit-btn",disabled:v,children:v?"Creating Event...":"Create Event"})]})]})]})}):null},So={async createEvent(i){try{console.log("🎉 Creating new event:",i.eventName);const e={...i,createdAt:gs(),updatedAt:gs(),status:i.status||"draft",registrationFees:i.registrationFees||0,numberOfVolunteers:i.numberOfVolunteers||0,sponsorshipNeeded:i.sponsorshipNeeded||!1},s=await nh(Ne(ve,"events"),e);return console.log("✅ Event created successfully with ID:",s.id),{id:s.id,...e}}catch(e){throw console.error("💥 Error creating event:",e),new Error(`Failed to create event: ${e.message}`)}},async getAllEvents(){try{console.log("📋 Fetching all events...");const i=Ye(Ne(ve,"events"),Cu("createdAt","desc")),s=(await Xe(i)).docs.map(r=>({id:r.id,...r.data()}));return console.log(`✅ Retrieved ${s.length} events`),s}catch(i){throw console.error("💥 Error fetching events:",i),new Error(`Failed to fetch events: ${i.message}`)}},async getEventsByHive(i){try{console.log("🏠 Fetching events for hive:",i);const e=Ye(Ne(ve,"events"),Ue("hiveName","==",i)),o=(await Xe(e)).docs.map(u=>({id:u.id,...u.data()})).sort((u,f)=>{const g=u.createdAt?.toDate?.()||new Date(u.createdAt||0);return(f.createdAt?.toDate?.()||new Date(f.createdAt||0))-g});return console.log(`✅ Retrieved ${o.length} events for ${i}`),o}catch(e){throw console.error("💥 Error fetching hive events:",e),new Error(`Failed to fetch hive events: ${e.message}`)}},async getEventsByHiveSimple(i){try{console.log("🏠 Fetching events for hive (simple):",i);const o=(await Xe(Ne(ve,"events"))).docs.map(u=>({id:u.id,...u.data()})).filter(u=>u.hiveName===i).sort((u,f)=>{const g=u.createdAt?.toDate?.()||new Date(u.createdAt||0);return(f.createdAt?.toDate?.()||new Date(f.createdAt||0))-g});return console.log(`✅ Retrieved ${o.length} events for ${i} (simple)`),o}catch(e){throw console.error("💥 Error fetching hive events (simple):",e),new Error(`Failed to fetch hive events (simple): ${e.message}`)}},async getEventsByStatus(i){try{console.log("📊 Fetching events with status:",i);const e=Ye(Ne(ve,"events"),Ue("status","==",i)),o=(await Xe(e)).docs.map(u=>({id:u.id,...u.data()})).sort((u,f)=>{const g=u.createdAt?.toDate?.()||new Date(u.createdAt||0);return(f.createdAt?.toDate?.()||new Date(f.createdAt||0))-g});return console.log(`✅ Retrieved ${o.length} ${i} events`),o}catch(e){throw console.error("💥 Error fetching events by status:",e),new Error(`Failed to fetch events by status: ${e.message}`)}},async getUpcomingEvents(){try{console.log("🔮 Fetching upcoming events...");const i=new Date().toISOString().split("T")[0],e=Ye(Ne(ve,"events"),Ue("startDate",">=",i),Cu("startDate","asc")),r=(await Xe(e)).docs.map(o=>({id:o.id,...o.data()}));return console.log(`✅ Retrieved ${r.length} upcoming events`),r}catch(i){throw console.error("💥 Error fetching upcoming events:",i),new Error(`Failed to fetch upcoming events: ${i.message}`)}},async updateEvent(i,e){try{console.log("✏️ Updating event:",i);const s=_n(ve,"events",i),r={...e,updatedAt:gs()};return await Du(s,r),console.log("✅ Event updated successfully"),!0}catch(s){throw console.error("💥 Error updating event:",s),new Error(`Failed to update event: ${s.message}`)}},async deleteEvent(i){try{console.log("🗑️ Deleting event:",i);const e=_n(ve,"events",i);return await J1(e),console.log("✅ Event deleted successfully"),!0}catch(e){throw console.error("💥 Error deleting event:",e),new Error(`Failed to delete event: ${e.message}`)}},async updateEventStatus(i,e){try{console.log("🔄 Updating event status:",i,"to",e);const s=_n(ve,"events",i);return await Du(s,{status:e,updatedAt:gs()}),console.log("✅ Event status updated successfully"),!0}catch(s){throw console.error("💥 Error updating event status:",s),new Error(`Failed to update event status: ${s.message}`)}},async getEventsForMember(i){try{console.log("👥 Fetching events for member of hive:",i);const o=(await Xe(Ne(ve,"events"))).docs.map(u=>({id:u.id,...u.data()})).filter(u=>{const f=u.hiveName===i,g=!u.hiveName||u.hiveName==="admin"||u.organizerType==="admin";return f||g}).sort((u,f)=>{const g=u.createdAt?.toDate?.()||new Date(u.createdAt||0);return(f.createdAt?.toDate?.()||new Date(f.createdAt||0))-g});return console.log(`✅ Retrieved ${o.length} events for member (${i} hive + admin events)`),o}catch(e){throw console.error("💥 Error fetching member events:",e),new Error(`Failed to fetch member events: ${e.message}`)}},async getUpcomingEventsForMember(i){try{console.log("🔮 Fetching upcoming events for member of hive:",i);const e=new Date().toISOString().split("T")[0],o=(await this.getEventsForMember(i)).filter(u=>u.startDate>=e&&(u.status==="active"||u.status==="approved")).sort((u,f)=>{const g=new Date(u.startDate),v=new Date(f.startDate);return g-v});return console.log(`✅ Retrieved ${o.length} upcoming events for member`),o}catch(e){throw console.error("💥 Error fetching upcoming member events:",e),new Error(`Failed to fetch upcoming member events: ${e.message}`)}},async getEventStatistics(i=null){try{console.log("📊 Fetching event statistics...");let e;i?e=Ye(Ne(ve,"events"),Ue("hiveName","==",i)):e=Ne(ve,"events");const r=(await Xe(e)).docs.map(u=>({id:u.id,...u.data()})),o={total:r.length,draft:r.filter(u=>u.status==="draft").length,active:r.filter(u=>u.status==="active").length,completed:r.filter(u=>u.status==="completed").length,cancelled:r.filter(u=>u.status==="cancelled").length,upcoming:r.filter(u=>{const f=new Date().toISOString().split("T")[0];return u.startDate>=f}).length};return console.log("✅ Event statistics calculated:",o),o}catch(e){throw console.error("💥 Error fetching event statistics:",e),new Error(`Failed to fetch event statistics: ${e.message}`)}}},Aj=({hive:i,onCreateEvent:e})=>{const[s,r]=re.useState([]),[o,u]=re.useState(!0),[f,g]=re.useState(""),[v,y]=re.useState("all"),[E,R]=re.useState({total:0,draft:0,active:0,completed:0,cancelled:0,pending:0,approved:0,rejected:0});re.useEffect(()=>{if(!i?.hiveName){u(!1);return}console.log("📋 Setting up real-time listener for hive events:",i.hiveName),u(!0);const k=Ye(Ne(ve,"events"),Ue("hiveName","==",i.hiveName)),ae=Fm(k,Z=>{try{const se=Z.docs.map(N=>({id:N.id,...N.data(),approvalStatus:N.data().approvalStatus||"pending"}));console.log(`✅ Real-time update: ${se.length} events for ${i.hiveName}`),r(se);const S={total:se.length,draft:se.filter(N=>N.status==="draft").length,active:se.filter(N=>N.status==="active").length,completed:se.filter(N=>N.status==="completed").length,cancelled:se.filter(N=>N.status==="cancelled").length,pending:se.filter(N=>(N.approvalStatus||"pending")==="pending").length,approved:se.filter(N=>N.approvalStatus==="approved").length,rejected:se.filter(N=>N.approvalStatus==="rejected").length};R(S),console.log("📊 Event statistics updated:",S),g(""),u(!1)}catch(se){console.error("💥 Error processing events snapshot:",se),g("Failed to load events. Please try again."),u(!1)}},Z=>{console.error("💥 Error with events listener:",Z),g("Failed to load events. Please check your connection."),u(!1)});return()=>{console.log("🔌 Cleaning up events listener for:",i.hiveName),ae()}},[i?.hiveName]);const C=s.filter(k=>v==="all"?!0:k.status===v),P=async(k,ae)=>{try{console.log("🔄 Updating event status:",k,"to",ae),await So.updateEventStatus(k,ae),r(S=>S.map(N=>N.id===k?{...N,status:ae}:N));const Z=s.map(S=>S.id===k?{...S,status:ae}:S),se={total:Z.length,draft:Z.filter(S=>S.status==="draft").length,active:Z.filter(S=>S.status==="active").length,completed:Z.filter(S=>S.status==="completed").length,cancelled:Z.filter(S=>S.status==="cancelled").length,pending:Z.filter(S=>S.approvalStatus==="pending").length,approved:Z.filter(S=>S.approvalStatus==="approved").length,rejected:Z.filter(S=>S.approvalStatus==="rejected").length};R(se)}catch(Z){console.error("💥 Error updating event status:",Z),alert("Failed to update event status. Please try again.")}},U=async(k,ae)=>{if(window.confirm(`Are you sure you want to delete "${ae}"? This action cannot be undone.`))try{console.log("🗑️ Deleting event:",k),await So.deleteEvent(k),r(S=>S.filter(N=>N.id!==k));const Z=s.filter(S=>S.id!==k),se={total:Z.length,draft:Z.filter(S=>S.status==="draft").length,active:Z.filter(S=>S.status==="active").length,completed:Z.filter(S=>S.status==="completed").length,cancelled:Z.filter(S=>S.status==="cancelled").length,pending:Z.filter(S=>S.approvalStatus==="pending").length,approved:Z.filter(S=>S.approvalStatus==="approved").length,rejected:Z.filter(S=>S.approvalStatus==="rejected").length};R(se)}catch(Z){console.error("💥 Error deleting event:",Z),alert("Failed to delete event. Please try again.")}},W=k=>{switch(k){case"draft":return"#94a3b8";case"active":return"#10b981";case"completed":return"#3b82f6";case"cancelled":return"#ef4444";default:return"#6b7280"}},K=k=>{switch(k){case"draft":return"📝";case"active":return"🔴";case"completed":return"✅";case"cancelled":return"❌";default:return"⚪"}},me=k=>k?new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Not set",ie=k=>k?new Date(`2000-01-01T${k}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):"";return o?c.jsx("div",{className:"events-management",children:c.jsxs("div",{className:"loading-container",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("p",{children:"Loading events..."})]})}):(console.log("🔍 EventsManagement render - Hive:",i?.hiveName,"Events count:",s.length,"Loading:",o),c.jsxs("div",{className:"events-management",children:[c.jsxs("div",{className:"events-header",children:[c.jsxs("div",{className:"header-content",children:[c.jsx("h2",{children:"📅 Events Management"}),c.jsx("p",{children:"Manage your hive's events and activities"}),c.jsxs("small",{style:{color:"#94a3b8",fontSize:"0.8rem"},children:["Showing real-time events for: ",i?.hiveName||"No hive selected"]})]}),c.jsx("button",{className:"create-event-btn",onClick:e,children:"🎉 Create New Event"})]}),f&&c.jsxs("div",{className:"error-banner",children:[c.jsxs("span",{children:["⚠️ ",f]}),c.jsx("button",{className:"close-error",onClick:()=>g(""),children:"×"})]}),c.jsxs("div",{className:"event-stats-grid",children:[c.jsxs("div",{className:"stat-card total",children:[c.jsx("div",{className:"stat-number",children:E.total}),c.jsx("div",{className:"stat-label",children:"Total Events"})]}),c.jsxs("div",{className:"stat-card draft",children:[c.jsx("div",{className:"stat-number",children:E.draft}),c.jsx("div",{className:"stat-label",children:"Draft Events"})]}),c.jsxs("div",{className:"stat-card active",children:[c.jsx("div",{className:"stat-number",children:E.active}),c.jsx("div",{className:"stat-label",children:"Active Events"})]}),c.jsxs("div",{className:"stat-card completed",children:[c.jsx("div",{className:"stat-number",children:E.completed}),c.jsx("div",{className:"stat-label",children:"Completed"})]}),c.jsxs("div",{className:"stat-card cancelled",children:[c.jsx("div",{className:"stat-number",children:E.cancelled}),c.jsx("div",{className:"stat-label",children:"Cancelled"})]})]}),c.jsxs("div",{className:"approval-stats-grid",children:[c.jsxs("div",{className:"approval-stat-card pending",children:[c.jsx("div",{className:"stat-number",children:E.pending}),c.jsx("div",{className:"stat-label",children:"Pending Approval"})]}),c.jsxs("div",{className:"approval-stat-card approved",children:[c.jsx("div",{className:"stat-number",children:E.approved}),c.jsx("div",{className:"stat-label",children:"Approved by Admin"})]}),c.jsxs("div",{className:"approval-stat-card rejected",children:[c.jsx("div",{className:"stat-number",children:E.rejected}),c.jsx("div",{className:"stat-label",children:"Rejected by Admin"})]})]}),c.jsx("div",{className:"events-controls",children:c.jsxs("div",{className:"filter-container",children:[c.jsx("label",{htmlFor:"statusFilter",children:"Filter by Status:"}),c.jsxs("select",{id:"statusFilter",className:"filter-select",value:v,onChange:k=>y(k.target.value),children:[c.jsxs("option",{value:"all",children:["All Status (",E.total,")"]}),c.jsxs("option",{value:"draft",children:["Draft (",E.draft,")"]}),c.jsxs("option",{value:"active",children:["Active (",E.active,")"]}),c.jsxs("option",{value:"completed",children:["Completed (",E.completed,")"]}),c.jsxs("option",{value:"cancelled",children:["Cancelled (",E.cancelled,")"]})]})]})}),c.jsxs("div",{className:"events-section",children:[c.jsx("div",{className:"section-header",children:c.jsxs("h3",{children:["Events ",c.jsxs("span",{className:"count",children:["(",C.length,")"]})]})}),C.length===0?c.jsxs("div",{className:"empty-state",children:[c.jsx("div",{className:"empty-icon",children:"🎪"}),c.jsx("h3",{children:"No events found"}),c.jsx("p",{children:s.length===0?`No events found for ${i?.hiveName||"this hive"}. Click 'Create New Event' to get started!`:"No events match your current filter criteria."}),s.length===0&&c.jsx("div",{style:{marginTop:"16px",padding:"12px",background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.2)",borderRadius:"8px"},children:c.jsxs("small",{style:{color:"#93c5fd",fontSize:"0.8rem"},children:["📝 Debug: Listening for events in Firebase collection 'events' where hiveName = '",i?.hiveName,"'"]})}),s.length===0&&c.jsx("button",{className:"create-first-event-btn",onClick:e,children:"🎉 Create Your First Event"})]}):c.jsx("div",{className:"events-grid",children:C.map(k=>c.jsxs("div",{className:"event-card",children:[c.jsxs("div",{className:"event-header",children:[c.jsxs("div",{className:"event-title",children:[c.jsx("h4",{children:k.eventName}),c.jsx("div",{className:"event-type",children:k.eventType})]}),c.jsxs("div",{className:"event-status",children:[c.jsxs("span",{className:`status-badge ${k.status}`,style:{borderColor:W(k.status)},children:[K(k.status)," ",k.status]}),c.jsxs("span",{className:`approval-badge ${k.approvalStatus||"pending"}`,children:[k.approvalStatus==="approved"&&"✅ Approved",k.approvalStatus==="rejected"&&"❌ Rejected",(!k.approvalStatus||k.approvalStatus==="pending")&&"⏳ Pending Approval"]})]})]}),c.jsxs("div",{className:"event-details",children:[c.jsxs("div",{className:"detail-row",children:[c.jsx("span",{className:"detail-label",children:"📍 Location:"}),c.jsx("span",{className:"detail-value",children:k.campus})]}),c.jsxs("div",{className:"detail-row",children:[c.jsx("span",{className:"detail-label",children:"📅 Date:"}),c.jsxs("span",{className:"detail-value",children:[me(k.startDate),k.startTime&&` at ${ie(k.startTime)}`]})]}),c.jsxs("div",{className:"detail-row",children:[c.jsx("span",{className:"detail-label",children:"👥 Participants:"}),c.jsx("span",{className:"detail-value",children:k.maxParticipants||"Unlimited"})]}),c.jsxs("div",{className:"detail-row",children:[c.jsx("span",{className:"detail-label",children:"💰 Budget:"}),c.jsxs("span",{className:"detail-value",children:["₹",k.estimatedBudget||0]})]})]}),k.eventDescription&&c.jsx("div",{className:"event-description",children:c.jsx("p",{children:k.eventDescription})}),k.adminComments&&c.jsxs("div",{className:"admin-comments",children:[c.jsx("h5",{children:"Admin Comments:"}),c.jsx("p",{children:k.adminComments}),k.approvedAt&&c.jsxs("small",{children:["Updated: ",me(k.approvedAt)," by ",k.approvedBy||"Admin"]})]}),c.jsxs("div",{className:"event-actions",children:[c.jsx("div",{className:"status-actions",children:c.jsxs("select",{value:k.status,onChange:ae=>P(k.id,ae.target.value),className:"status-select",children:[c.jsx("option",{value:"draft",children:"📝 Draft"}),c.jsx("option",{value:"active",children:"🔴 Active"}),c.jsx("option",{value:"completed",children:"✅ Completed"}),c.jsx("option",{value:"cancelled",children:"❌ Cancelled"})]})}),c.jsxs("div",{className:"action-buttons",children:[c.jsx("button",{className:"action-btn edit-btn",title:"Edit Event",children:"✏️ Edit"}),c.jsx("button",{className:"action-btn delete-btn",title:"Delete Event",onClick:()=>U(k.id,k.eventName),children:"🗑️ Delete"})]})]}),c.jsx("div",{className:"event-meta",children:c.jsxs("small",{children:["Created: ",me(k.createdAt?.seconds?new Date(k.createdAt.seconds*1e3).toISOString().split("T")[0]:k.createdAt)]})})]},k.id))})]})]}))},cn={VOLUNTEERS:"volunteers",VOLUNTEER_APPLICATIONS:"volunteer_applications",VOLUNTEER_NOTIFICATIONS:"volunteer_notifications"},Nj=async()=>{try{console.log("🔍 Fetching active volunteer opportunities for members...");const i=Ye(Ne(ve,cn.VOLUNTEERS),Ue("isActive","==",!0)),e=await Xe(i),s=[];for(const o of e.docs){const u=o.data(),f=Ye(Ne(ve,cn.VOLUNTEER_APPLICATIONS),Ue("volunteerId","==",o.id),Ue("status","==","approved")),g=await Xe(f);let v=null;if(u.eventId)try{const y=await FE(_n(ve,"events",u.eventId));y.exists()&&(v=y.data())}catch(y){console.warn("⚠️ Could not fetch event details for opportunity:",y.message)}s.push({id:o.id,...u,event:v,currentApplications:g.size,spotsRemaining:(u.maxVolunteers||0)-g.size})}const r=s.sort((o,u)=>(u.createdAt?.seconds||0)-(o.createdAt?.seconds||0));return console.log(`✅ Retrieved and sorted ${r.length} active volunteer opportunities with event details`),r}catch(i){throw console.error("💥 Error fetching volunteer opportunities:",i),new Error(`Failed to fetch volunteer opportunities: ${i.message}`)}},Sj=async(i,e)=>{try{console.log("📝 Applying for volunteer opportunity:",i);const s=Ye(Ne(ve,cn.VOLUNTEER_APPLICATIONS),Ue("volunteerId","==",i),Ue("memberEmail","==",e.memberEmail));if(!(await Xe(s)).empty)throw new Error("You have already applied for this volunteer opportunity");const o={volunteerId:i,memberEmail:e.memberEmail,memberName:e.memberName,hiveName:e.hiveName,phone:e.phone||"",skills:e.skills||[],experience:e.experience||"",availability:e.availability||"",motivation:e.motivation||"",status:"pending",appliedAt:gs(),updatedAt:gs()},u=await nh(Ne(ve,cn.VOLUNTEER_APPLICATIONS),o);return console.log("✅ Volunteer application submitted:",u.id),u.id}catch(s){throw console.error("💥 Error applying for volunteer:",s),s}},wj=async i=>{try{console.log("📋 Fetching volunteer applications for member:",i);const e=Ye(Ne(ve,cn.VOLUNTEER_APPLICATIONS),Ue("memberEmail","==",i)),s=await Xe(e),r=[];for(const u of s.docs){const f=u.data(),g=await Xe(Ye(Ne(ve,cn.VOLUNTEERS),Ue("__name__","==",f.volunteerId)));let v=null;g.empty||(v=g.docs[0].data()),r.push({id:u.id,...f,opportunity:v})}const o=r.sort((u,f)=>(f.appliedAt?.seconds||0)-(u.appliedAt?.seconds||0));return console.log(`✅ Retrieved and sorted ${o.length} applications for member`),o}catch(e){throw console.error("💥 Error fetching member applications:",e),new Error(`Failed to fetch applications: ${e.message}`)}},jj=async i=>{try{console.log("🔔 Fetching volunteer notifications for member:",i);const e=Ye(Ne(ve,cn.VOLUNTEER_NOTIFICATIONS),Ue("memberEmail","==",i)),s=await Xe(e),r=[];s.forEach(u=>{r.push({id:u.id,...u.data()})});const o=r.filter(u=>!u.isRead).sort((u,f)=>{const g=u.createdAt?.toDate?u.createdAt.toDate():new Date(0);return(f.createdAt?.toDate?f.createdAt.toDate():new Date(0))-g});return console.log(`✅ Retrieved ${o.length} unread notifications for member`),o}catch(e){return console.error("💥 Error fetching notifications:",e),[]}},Rj=async i=>{try{await Du(_n(ve,cn.VOLUNTEER_NOTIFICATIONS,i),{isRead:!0,readAt:gs()}),console.log("✅ Notification marked as read:",i)}catch(e){console.error("💥 Error marking notification as read:",e)}},Cj=async i=>{try{console.log("🔔 Creating volunteer notifications for all members");const e=Ye(Ne(ve,"members_approved")),s=await Xe(e),r=Gm(ve);let o=0;s.forEach(u=>{const f=u.data(),g={type:"volunteer_opportunity",title:"New Volunteer Opportunity Available! 🙋‍♀️",message:`A new volunteer opportunity "${i.title||"Volunteer Position"}" is now open for applications. Join us and make a difference!`,memberEmail:f.email||f.credentials?.email,memberName:f.name,opportunityId:i.id,opportunityTitle:i.title,isRead:!1,createdAt:gs()},v=_n(Ne(ve,cn.VOLUNTEER_NOTIFICATIONS));r.set(v,g),o++}),await r.commit(),console.log(`✅ Created ${o} volunteer notifications`)}catch(e){console.error("💥 Error creating volunteer notifications:",e)}},Dj=async(i=null)=>{try{console.log("👨‍💼 Fetching volunteer applications for admin review");let e;i?e=Ye(Ne(ve,cn.VOLUNTEER_APPLICATIONS),Ue("volunteerId","==",i)):e=Ne(ve,cn.VOLUNTEER_APPLICATIONS);const s=await Xe(e),r=[];for(const u of s.docs){const f=u.data(),g=Ye(Ne(ve,cn.VOLUNTEERS),Ue("__name__","==",f.volunteerId)),v=await Xe(g);let y=null;v.empty||(y=v.docs[0].data()),r.push({id:u.id,...f,opportunity:y})}const o=r.sort((u,f)=>(f.appliedAt?.seconds||0)-(u.appliedAt?.seconds||0));return console.log(`✅ Retrieved and sorted ${o.length} applications for admin`),o}catch(e){throw console.error("💥 Error fetching applications for admin:",e),new Error(`Failed to fetch applications: ${e.message}`)}},Ij=async(i,e,s="")=>{try{console.log("📝 Updating application status:",i,"to",e),await Du(_n(ve,cn.VOLUNTEER_APPLICATIONS,i),{status:e,adminNote:s,reviewedAt:gs(),updatedAt:gs()}),console.log("✅ Application status updated successfully")}catch(r){throw console.error("💥 Error updating application status:",r),new Error(`Failed to update application status: ${r.message}`)}},Mj=async()=>{try{console.log("📊 Fetching volunteer statistics for admin");const[i,e]=await Promise.all([Xe(Ne(ve,cn.VOLUNTEERS)),Xe(Ne(ve,cn.VOLUNTEER_APPLICATIONS))]),s={totalOpportunities:i.size,activeOpportunities:0,totalApplications:e.size,pendingApplications:0,approvedApplications:0,rejectedApplications:0};return i.forEach(r=>{r.data().isActive&&s.activeOpportunities++}),e.forEach(r=>{switch(r.data().status){case"pending":s.pendingApplications++;break;case"approved":s.approvedApplications++;break;case"rejected":s.rejectedApplications++;break}}),console.log("✅ Volunteer statistics calculated:",s),s}catch(i){throw console.error("💥 Error fetching volunteer statistics:",i),new Error(`Failed to fetch volunteer statistics: ${i.message}`)}},Gs={getActiveVolunteerOpportunities:Nj,applyForVolunteer:Sj,getMemberApplications:wj,getVolunteerNotifications:jj,markNotificationAsRead:Rj,createVolunteerNotifications:Cj,getVolunteerApplicationsForAdmin:Dj,updateApplicationStatus:Ij,getVolunteerStatsForAdmin:Mj},Vj=({currentUser:i,onBack:e})=>{const[s,r]=re.useState([]),[o,u]=re.useState([]),[f,g]=re.useState([]),[v,y]=re.useState(!0),[E,R]=re.useState(null),[C,P]=re.useState("opportunities"),[U,W]=re.useState(null),[K,me]=re.useState(!1),[ie,k]=re.useState({phone:"",skills:[],experience:"",availability:"",motivation:"",tshirtSize:""});re.useEffect(()=>{ae();const j=setInterval(()=>{Gs.getVolunteerNotifications(i.email).then(A=>{g(A)}).catch(A=>{console.error("Error refreshing notifications:",A)})},3e4);return()=>clearInterval(j)},[i.email]);const ae=async()=>{try{y(!0);const[j,A,V]=await Promise.all([Gs.getActiveVolunteerOpportunities(),Gs.getMemberApplications(i.email),Gs.getVolunteerNotifications(i.email)]);r(j),u(A),g(V)}catch(j){console.error("Error fetching volunteer data:",j),R("Failed to load volunteer opportunities. Please try again.")}finally{y(!1)}},Z=j=>{W(j),k({phone:"",skills:i.approvedData?.skills||[],experience:"",availability:"",motivation:"",tshirtSize:""}),me(!0)},se=async j=>{j.preventDefault();try{const A={memberEmail:i.email,memberName:i.memberName,hiveName:i.hiveName,...ie};await Gs.applyForVolunteer(U.id,A),alert(`Application submitted successfully! 🎉

Your volunteer application has been sent for review. You will be notified of the decision soon.`),me(!1),W(null);const[V,w]=await Promise.all([Gs.getMemberApplications(i.email),Gs.getVolunteerNotifications(i.email)]);u(V),g(w)}catch(A){console.error("Error submitting application:",A),alert(`Failed to submit application: ${A.message}`)}},S=async j=>{try{await Gs.markNotificationAsRead(j),g(f.filter(A=>A.id!==j))}catch(A){console.error("Error marking notification as read:",A)}},N=j=>{const A=o.find(V=>V.volunteerId===j);return A?A.status:null},D=j=>!N(j.id)&&j.spotsRemaining>0;return v?c.jsxs("div",{className:"volunteer-opportunities-loading",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("p",{children:"Loading volunteer opportunities..."})]}):c.jsxs("div",{className:"volunteer-opportunities",children:[c.jsxs("div",{className:"volunteer-header",children:[c.jsx("button",{className:"back-button",onClick:e,children:"← Back to Dashboard"}),c.jsxs("div",{className:"header-content",children:[c.jsx("h2",{children:"🙋‍♀️ Volunteer Opportunities"}),c.jsx("p",{children:"Join us and make a difference in your community!"})]})]}),E&&c.jsxs("div",{className:"error-banner",children:[c.jsx("span",{className:"error-icon",children:"⚠️"}),c.jsx("span",{children:E}),c.jsx("button",{onClick:()=>R(null),children:"×"})]}),f.length>0&&c.jsxs("div",{className:"notifications-banner",children:[c.jsx("div",{className:"notifications-header",children:c.jsxs("h3",{children:["🔔 New Notifications (",f.length,")"]})}),c.jsxs("div",{className:"notifications-list",children:[f.slice(0,3).map(j=>c.jsxs("div",{className:"notification-item",children:[c.jsxs("div",{className:"notification-content",children:[c.jsx("h4",{children:j.title}),c.jsx("p",{children:j.message})]}),c.jsx("button",{className:"mark-read-btn",onClick:()=>S(j.id),children:"✓"})]},j.id)),f.length>3&&c.jsxs("div",{className:"more-notifications",children:["+",f.length-3," more notifications"]})]})]}),c.jsxs("div",{className:"volunteer-tabs",children:[c.jsxs("button",{className:`tab ${C==="opportunities"?"active":""}`,onClick:()=>P("opportunities"),children:["🎯 Available Opportunities (",s.length,")"]}),c.jsxs("button",{className:`tab ${C==="applications"?"active":""}`,onClick:()=>P("applications"),children:["📋 My Applications (",o.length,")"]})]}),c.jsxs("div",{className:"tab-content",children:[C==="opportunities"&&c.jsx("div",{className:"opportunities-grid",children:s.length===0?c.jsxs("div",{className:"empty-state",children:[c.jsx("div",{className:"empty-icon",children:"🙋‍♀️"}),c.jsx("h3",{children:"No volunteer opportunities available"}),c.jsx("p",{children:"Check back later for new opportunities to make a difference!"})]}):s.map(j=>{const A=N(j.id);return c.jsxs("div",{className:"opportunity-card",children:[c.jsxs("div",{className:"opportunity-header",children:[c.jsx("h3",{children:j.title||"Volunteer Opportunity"}),c.jsx("div",{className:"opportunity-meta",children:c.jsxs("span",{className:"spots-remaining",children:[j.spotsRemaining," spots remaining"]})})]}),j.event&&c.jsxs("div",{className:"event-info-section",children:[c.jsxs("div",{className:"event-title",children:["📅 ",j.event.eventName]}),j.event.startDate&&c.jsxs("div",{className:"event-date",children:[c.jsx("span",{className:"info-icon",children:"🗓️"}),c.jsx("span",{children:new Date(j.event.startDate).toLocaleDateString(void 0,{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),j.event.venue&&c.jsxs("div",{className:"event-venue",children:[c.jsx("span",{className:"info-icon",children:"📍"}),c.jsx("span",{children:j.event.venue})]})]}),c.jsxs("div",{className:"opportunity-details",children:[c.jsx("p",{className:"description",children:j.description||"Help us make a difference in the community!"}),c.jsxs("div",{className:"opportunity-info",children:[j.deadline&&c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"info-icon",children:"⏰"}),c.jsxs("span",{children:["Apply by: ",new Date(j.deadline).toLocaleDateString()]})]}),c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"info-icon",children:"👥"}),c.jsxs("span",{children:[j.currentApplications,"/",j.maxVolunteers," volunteers"]})]}),j.requirements&&c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"info-icon",children:"📋"}),c.jsxs("span",{children:["Requirements: ",j.requirements]})]})]}),j.benefits&&c.jsxs("div",{className:"benefits",children:[c.jsx("h4",{children:"💫 What you'll gain:"}),c.jsx("p",{children:j.benefits})]})]}),c.jsx("div",{className:"opportunity-actions",children:A?c.jsxs("div",{className:`application-status ${A}`,children:[c.jsxs("span",{className:"status-icon",children:[A==="pending"&&"⏳",A==="approved"&&"✅",A==="rejected"&&"❌"]}),c.jsxs("span",{className:"status-text",children:[A==="pending"&&"Application Pending",A==="approved"&&"Application Approved",A==="rejected"&&"Application Rejected"]})]}):D(j)?c.jsx("button",{className:"apply-button",onClick:()=>Z(j),children:"🙋‍♀️ Apply Now"}):c.jsxs("div",{className:"application-status full",children:[c.jsx("span",{className:"status-icon",children:"🚫"}),c.jsx("span",{className:"status-text",children:"No spots available"})]})})]},j.id)})}),C==="applications"&&c.jsx("div",{className:"applications-list",children:o.length===0?c.jsxs("div",{className:"empty-state",children:[c.jsx("div",{className:"empty-icon",children:"📋"}),c.jsx("h3",{children:"No applications yet"}),c.jsx("p",{children:"Apply for volunteer opportunities to see your applications here."})]}):o.map(j=>c.jsxs("div",{className:"application-card",children:[c.jsxs("div",{className:"application-header",children:[c.jsx("h3",{children:j.opportunity?.title||"Volunteer Position"}),c.jsxs("div",{className:`status-badge ${j.status}`,children:[j.status==="pending"&&"⏳ Pending Review",j.status==="approved"&&"✅ Approved",j.status==="rejected"&&"❌ Rejected"]})]}),c.jsxs("div",{className:"application-details",children:[c.jsxs("div",{className:"detail-item",children:[c.jsx("span",{className:"detail-label",children:"Applied:"}),c.jsx("span",{children:j.appliedAt?.seconds?new Date(j.appliedAt.seconds*1e3).toLocaleDateString():"Unknown"})]}),j.motivation&&c.jsxs("div",{className:"detail-item",children:[c.jsx("span",{className:"detail-label",children:"Motivation:"}),c.jsx("span",{children:j.motivation})]}),j.adminNote&&c.jsxs("div",{className:"admin-note",children:[c.jsx("span",{className:"note-label",children:"Admin Note:"}),c.jsx("span",{children:j.adminNote})]})]})]},j.id))})]}),K&&c.jsx("div",{className:"modal-overlay",onClick:()=>me(!1),children:c.jsxs("div",{className:"modal-content",onClick:j=>j.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{children:"Apply for Volunteer Position"}),c.jsx("button",{onClick:()=>me(!1),children:"×"})]}),c.jsxs("div",{className:"modal-body",children:[c.jsxs("div",{className:"opportunity-summary",children:[c.jsx("h4",{children:U?.title||"Volunteer Opportunity"}),c.jsx("p",{children:U?.description})]}),c.jsxs("form",{onSubmit:se,className:"application-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Phone Number"}),c.jsx("input",{type:"tel",value:ie.phone,onChange:j=>k({...ie,phone:j.target.value}),placeholder:"Your contact number",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Relevant Skills"}),c.jsx("textarea",{value:Array.isArray(ie.skills)?ie.skills.join(", "):ie.skills,onChange:j=>k({...ie,skills:j.target.value.split(",").map(A=>A.trim())}),placeholder:"List your relevant skills (comma separated)",rows:"3"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Previous Experience"}),c.jsx("textarea",{value:ie.experience,onChange:j=>k({...ie,experience:j.target.value}),placeholder:"Describe any relevant experience you have",rows:"3"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Availability"}),c.jsx("textarea",{value:ie.availability,onChange:j=>k({...ie,availability:j.target.value}),placeholder:"When are you available to volunteer?",rows:"2",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Tshirt Size *"}),c.jsxs("select",{value:ie.tshirtSize,onChange:j=>k({...ie,tshirtSize:j.target.value}),required:!0,children:[c.jsx("option",{value:"",children:"Select your T-shirt size"}),c.jsx("option",{value:"XS",children:"XS"}),c.jsx("option",{value:"S",children:"S"}),c.jsx("option",{value:"M",children:"M"}),c.jsx("option",{value:"L",children:"L"}),c.jsx("option",{value:"XL",children:"XL"}),c.jsx("option",{value:"XXL",children:"XXL"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Why do you want to volunteer? *"}),c.jsx("textarea",{value:ie.motivation,onChange:j=>k({...ie,motivation:j.target.value}),placeholder:"Tell us why you're interested in this volunteer opportunity",rows:"4",required:!0})]}),c.jsxs("div",{className:"form-actions",children:[c.jsx("button",{type:"button",onClick:()=>me(!1),children:"Cancel"}),c.jsx("button",{type:"submit",className:"submit-button",children:"Submit Application"})]})]})]})]})})]})},Oj=({currentUser:i,onViewChange:e})=>{const[s,r]=re.useState("dashboard"),[o,u]=re.useState(null),[f,g]=re.useState([]),[v,y]=re.useState([]),[E,R]=re.useState([]),[C,P]=re.useState([]),[U,W]=re.useState(!0),[K,me]=re.useState(null),[ie,k]=re.useState({totalHiveMates:0,upcomingEvents:0,totalEvents:0,volunteerNotifications:0});re.useEffect(()=>{const Z=async()=>{try{W(!0),console.log("📊 Fetching member dashboard data for:",i?.memberName);let se=[];try{se=await Gs.getVolunteerNotifications(i.email)}catch(V){console.warn("⚠️ Could not fetch volunteer notifications:",V.message)}let S=[];try{(await ka.getApprovedMembers(i.hiveName)).forEach(w=>{const De=w.data();De.email!==i.email&&S.push({id:w.id,...De})})}catch(V){console.warn("⚠️ Could not fetch hive mates, continuing without members:",V.message)}let N=[];try{N=await So.getEventsForMember(i.hiveName)}catch(V){console.warn("⚠️ Primary member event fetch failed, trying fallback method:",V.message);try{N=await So.getEventsByHive(i.hiveName)}catch(w){console.warn("⚠️ All event fetch methods failed, continuing without events:",w.message)}}const D=new Date().toISOString().split("T")[0],j=N.filter(V=>V.startDate>=D&&(V.status==="active"||V.status==="approved")),A={name:i.hiveName,leader:i.approvedData?.createdBy||"Hive Leader",memberCount:S.length+1,description:i.approvedData?.description||"Tech community fostering growth and collaboration",campus:i.approvedData?.campusName||"Campus",location:i.approvedData?.campusLocation||"Location"};g(S),y(j.slice(0,5)),R(N),u(A),P(se),k({totalHiveMates:S.length,upcomingEvents:j.length,totalEvents:N.length,volunteerNotifications:se.length}),console.log("✅ Member dashboard data loaded successfully")}catch(se){console.error("💥 Error fetching some dashboard data:",se)}finally{W(!1)}};i?.hiveName&&Z()},[i]);const ae=Z=>{r(Z)};return U?c.jsxs("div",{className:"member-dashboard-loading",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("p",{children:"Loading your dashboard..."})]}):K?c.jsxs("div",{className:"member-dashboard-error",children:[c.jsxs("p",{children:["❌ ",K]}),c.jsx("button",{onClick:()=>window.location.reload(),className:"retry-button",children:"Retry"})]}):c.jsxs("div",{className:"member-dashboard",children:[s==="dashboard"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"member-header",children:[c.jsxs("h1",{children:["👥 Welcome back, ",i.memberName,"!"]}),c.jsxs("p",{className:"member-subtitle",children:["Member of ",i.hiveName]})]}),c.jsxs("div",{className:"member-stats",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-number",children:ie.totalHiveMates}),c.jsx("span",{className:"stat-label",children:"Hive Mates"})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-number",children:ie.upcomingEvents}),c.jsx("span",{className:"stat-label",children:"Upcoming Events"})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-number",children:ie.totalEvents}),c.jsx("span",{className:"stat-label",children:"Total Events"})]})]}),c.jsxs("div",{className:"dashboard-cards",children:[c.jsxs("div",{className:"dashboard-card",children:[c.jsx("h3",{children:"🏠 My Hive Details"}),c.jsxs("p",{children:["Learn more about ",o?.name," and connect with the community."]}),c.jsx("div",{className:"card-info",children:c.jsxs("small",{children:["🏢 ",o?.campus," • 👥 ",o?.memberCount," members"]})}),c.jsx("button",{className:"card-button",onClick:()=>ae("hive-details"),children:"View Hive Details"})]}),c.jsxs("div",{className:"dashboard-card",children:[c.jsx("h3",{children:"👥 Hive Mates"}),c.jsxs("p",{children:["Connect and collaborate with your ",ie.totalHiveMates," hive mates."]}),c.jsx("div",{className:"card-info",children:c.jsx("small",{children:"💬 Network • 🤝 Collaborate • 🚀 Grow together"})}),c.jsx("button",{className:"card-button",onClick:()=>ae("hive-mates"),children:"Meet Hive Mates"})]}),c.jsxs("div",{className:"dashboard-card",children:[c.jsx("h3",{children:"📅 Upcoming Events"}),c.jsxs("p",{children:["Don't miss out on ",ie.upcomingEvents," upcoming events from your hive and admin."]}),c.jsx("div",{className:"card-info",children:c.jsx("small",{children:"🎉 Hive Events • 🚀 Admin Events • 🏆 Competitions"})}),c.jsx("button",{className:"card-button",onClick:()=>ae("events"),children:"View All Events"})]}),c.jsxs("div",{className:"dashboard-card",children:[c.jsx("h3",{children:"🙋‍♀️ Volunteer Opportunities"}),c.jsx("p",{children:"Make a difference! Join volunteer opportunities and help your community."}),c.jsxs("div",{className:"card-info",children:[c.jsx("small",{children:"🎆 Community Service • 🚀 Skill Building • 🏆 Impact"}),ie.volunteerNotifications>0&&c.jsxs("div",{className:"notification-badge",children:["🔔 ",ie.volunteerNotifications," new opportunities!"]})]}),c.jsx("button",{className:"card-button",onClick:()=>ae("volunteer-opportunities"),children:"View Opportunities"})]}),c.jsxs("div",{className:"dashboard-card",children:[c.jsx("h3",{children:"⚙️ My Profile"}),c.jsx("p",{children:"Manage your profile settings and preferences."}),c.jsx("div",{className:"card-info",children:c.jsx("small",{children:"📝 Edit Info • 🔔 Notifications • 🎯 Skills"})}),c.jsx("button",{className:"card-button",onClick:()=>ae("profile"),children:"Edit Profile"})]})]}),c.jsxs("div",{className:"member-info",children:[c.jsxs("div",{className:"info-card",children:[c.jsx("h3",{children:"📋 Member Information"}),c.jsxs("div",{className:"member-details",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Name:"})," ",i.memberName]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Email:"})," ",i.email]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Hive:"})," ",i.hiveName]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Member Since:"})," ",new Date(i.generatedAt||Date.now()).toLocaleDateString()]})]})]}),c.jsxs("div",{className:"info-card",children:[c.jsx("h3",{children:"🚀 Quick Actions"}),c.jsxs("div",{className:"quick-actions",children:[c.jsx("button",{className:"action-btn primary",onClick:()=>ae("events"),children:"📅 Browse Events"}),c.jsx("button",{className:"action-btn secondary",onClick:()=>ae("hive-mates"),children:"👥 Find Teammates"}),c.jsx("button",{className:"action-btn tertiary",onClick:()=>ae("hive-details"),children:"🏠 Hive Info"})]})]})]}),v.length>0&&c.jsxs("div",{className:"recent-activity",children:[c.jsx("h3",{children:"🔥 Upcoming Events Preview"}),c.jsx("div",{className:"event-preview-list",children:v.slice(0,3).map(Z=>c.jsxs("div",{className:"event-preview-item",children:[c.jsxs("div",{className:"event-date",children:[c.jsx("span",{className:"day",children:new Date(Z.startDate).getDate()}),c.jsx("span",{className:"month",children:new Date(Z.startDate).toLocaleDateString("en",{month:"short"})})]}),c.jsxs("div",{className:"event-info",children:[c.jsx("h4",{children:Z.eventName}),c.jsxs("p",{children:[Z.eventType," • ",Z.mode]}),c.jsx("p",{className:"event-organizer",children:!Z.hiveName||Z.hiveName==="admin"||Z.organizerType==="admin"?"🚀 Organized by Admin":`🏠 Organized by ${Z.hiveName}`})]}),c.jsx("div",{className:"event-status",children:c.jsx("span",{className:`status ${Z.status}`,children:Z.status})})]},Z.id))})]})]}),s==="hive-details"&&c.jsx(kj,{hiveDetails:o,onBack:()=>ae("dashboard"),currentUser:i}),s==="hive-mates"&&c.jsx(Lj,{hiveMates:f,onBack:()=>ae("dashboard"),currentUser:i}),s==="events"&&c.jsx(Pj,{upcomingEvents:v,allEvents:E,onBack:()=>ae("dashboard"),currentUser:i}),s==="profile"&&c.jsx(Uj,{onBack:()=>ae("dashboard"),currentUser:i}),s==="volunteer-opportunities"&&c.jsx(Vj,{onBack:()=>ae("dashboard"),currentUser:i})]})},kj=({hiveDetails:i,onBack:e,currentUser:s})=>c.jsxs("div",{className:"hive-details-view",children:[c.jsxs("div",{className:"view-header",children:[c.jsx("button",{className:"back-button",onClick:e,children:"← Back to Dashboard"}),c.jsxs("h2",{children:["🏠 ",i?.name," Details"]})]}),c.jsxs("div",{className:"hive-details-content",children:[c.jsxs("div",{className:"hive-info-card",children:[c.jsx("h3",{children:"🏢 Hive Information"}),c.jsxs("div",{className:"hive-info-grid",children:[c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"label",children:"Hive Name:"}),c.jsx("span",{className:"value",children:i?.name})]}),c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"label",children:"Campus:"}),c.jsx("span",{className:"value",children:i?.campus})]}),c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"label",children:"Location:"}),c.jsx("span",{className:"value",children:i?.location})]}),c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"label",children:"Total Members:"}),c.jsx("span",{className:"value",children:i?.memberCount})]}),c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"label",children:"Hive Leader:"}),c.jsx("span",{className:"value",children:i?.leader})]})]})]}),c.jsxs("div",{className:"hive-description-card",children:[c.jsx("h3",{children:"📝 About Our Hive"}),c.jsx("p",{children:i?.description})]}),c.jsxs("div",{className:"hive-contact-card",children:[c.jsx("h3",{children:"📞 Get in Touch"}),c.jsx("p",{children:"Connect with other members, participate in discussions, and grow together!"}),c.jsxs("div",{className:"contact-actions",children:[c.jsx("button",{className:"contact-btn",children:"💬 Join Discussion"}),c.jsx("button",{className:"contact-btn",children:"📧 Contact Leader"})]})]})]})]}),Lj=({hiveMates:i,onBack:e,currentUser:s})=>c.jsxs("div",{className:"hive-mates-view",children:[c.jsxs("div",{className:"view-header",children:[c.jsx("button",{className:"back-button",onClick:e,children:"← Back to Dashboard"}),c.jsxs("h2",{children:["👥 Your Hive Mates (",i.length,")"]})]}),c.jsx("div",{className:"hive-mates-content",children:i.length===0?c.jsxs("div",{className:"empty-state",children:[c.jsx("h3",{children:"🔍 No other members yet"}),c.jsx("p",{children:"You're one of the first members! More hive mates will join soon."})]}):c.jsx("div",{className:"members-grid",children:i.map(r=>c.jsxs("div",{className:"member-card",children:[c.jsx("div",{className:"member-avatar",children:r.name?.charAt(0)?.toUpperCase()||"👤"}),c.jsxs("div",{className:"member-info",children:[c.jsx("h4",{children:r.name}),c.jsxs("p",{className:"member-course",children:[r.course," - ",r.branch]}),c.jsxs("p",{className:"member-year",children:["Year ",r.year]}),c.jsx("p",{className:"member-college",children:r.collegeName}),r.skills&&r.skills.length>0&&c.jsxs("div",{className:"member-skills",children:[c.jsx("span",{className:"skills-label",children:"Skills:"}),c.jsxs("div",{className:"skills-tags",children:[r.skills.slice(0,3).map((o,u)=>c.jsx("span",{className:"skill-tag",children:o},u)),r.skills.length>3&&c.jsxs("span",{className:"skill-tag more",children:["+",r.skills.length-3]})]})]}),c.jsxs("div",{className:"member-actions",children:[c.jsx("button",{className:"connect-btn",children:"🤝 Connect"}),c.jsx("button",{className:"message-btn",children:"💬 Message"})]})]})]},r.id))})})]}),Pj=({upcomingEvents:i,allEvents:e,onBack:s,currentUser:r})=>{const[o,u]=re.useState("upcoming"),f=e.filter(g=>g.status==="completed");return e.filter(g=>g.status==="draft"),c.jsxs("div",{className:"events-view",children:[c.jsxs("div",{className:"view-header",children:[c.jsx("button",{className:"back-button",onClick:s,children:"← Back to Dashboard"}),c.jsxs("h2",{children:["📅 Events for ",r.hiveName," Members"]})]}),c.jsxs("div",{className:"events-tabs",children:[c.jsxs("button",{className:`tab ${o==="upcoming"?"active":""}`,onClick:()=>u("upcoming"),children:["🔮 Upcoming (",i.length,")"]}),c.jsxs("button",{className:`tab ${o==="all"?"active":""}`,onClick:()=>u("all"),children:["📋 All Events (",e.length,")"]}),c.jsxs("button",{className:`tab ${o==="completed"?"active":""}`,onClick:()=>u("completed"),children:["✅ Completed (",f.length,")"]})]}),c.jsxs("div",{className:"events-content",children:[o==="upcoming"&&c.jsx(Tf,{events:i,emptyMessage:"No upcoming events scheduled."}),o==="all"&&c.jsx(Tf,{events:e,emptyMessage:"No events found."}),o==="completed"&&c.jsx(Tf,{events:f,emptyMessage:"No completed events yet."})]})]})},Tf=({events:i,emptyMessage:e})=>c.jsx("div",{className:"events-list",children:i.length===0?c.jsxs("div",{className:"empty-state",children:[c.jsxs("h3",{children:["📅 ",e]}),c.jsx("p",{children:"Check back later for updates!"})]}):i.map(s=>c.jsxs("div",{className:"event-card",children:[c.jsxs("div",{className:"event-header",children:[c.jsx("h4",{children:s.eventName}),c.jsx("span",{className:`event-status ${s.status}`,children:s.status})]}),c.jsxs("div",{className:"event-details",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Type:"})," ",s.eventType]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Mode:"})," ",s.mode]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Date:"})," ",new Date(s.startDate).toLocaleDateString()," - ",new Date(s.endDate).toLocaleDateString()]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Venue:"})," ",s.venue]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Organized by:"})," ",!s.hiveName||s.hiveName==="admin"||s.organizerType==="admin"?"🚀 Admin":`🏠 ${s.hiveName}`]}),s.registrationFees>0&&c.jsxs("p",{children:[c.jsx("strong",{children:"Registration Fee:"})," ₹",s.registrationFees]})]}),s.eventDescription&&c.jsx("div",{className:"event-description",children:c.jsx("p",{children:s.eventDescription})}),c.jsxs("div",{className:"event-actions",children:[c.jsx("button",{className:"event-btn primary",children:"📋 View Details"}),s.status==="active"&&c.jsx("button",{className:"event-btn secondary",children:"✍️ Register"})]})]},s.id))}),Uj=({onBack:i,currentUser:e})=>c.jsxs("div",{className:"profile-view",children:[c.jsxs("div",{className:"view-header",children:[c.jsx("button",{className:"back-button",onClick:i,children:"← Back to Dashboard"}),c.jsx("h2",{children:"⚙️ My Profile"})]}),c.jsxs("div",{className:"profile-content",children:[c.jsxs("div",{className:"profile-section",children:[c.jsx("h3",{children:"👤 Personal Information"}),c.jsxs("div",{className:"profile-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Full Name"}),c.jsx("input",{type:"text",value:e.memberName,disabled:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Email"}),c.jsx("input",{type:"email",value:e.email,disabled:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Hive"}),c.jsx("input",{type:"text",value:e.hiveName,disabled:!0})]})]})]}),e.approvedData&&c.jsxs("div",{className:"profile-section",children:[c.jsx("h3",{children:"🎓 Academic Information"}),c.jsxs("div",{className:"profile-info-grid",children:[c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"label",children:"Course:"}),c.jsx("span",{className:"value",children:e.approvedData.course})]}),c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"label",children:"Branch:"}),c.jsx("span",{className:"value",children:e.approvedData.branch})]}),c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"label",children:"Year:"}),c.jsx("span",{className:"value",children:e.approvedData.year})]}),c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"label",children:"College:"}),c.jsx("span",{className:"value",children:e.approvedData.collegeName})]})]})]}),c.jsxs("div",{className:"profile-section",children:[c.jsx("h3",{children:"🔔 Preferences"}),c.jsx("p",{children:"Profile editing and preference management will be available soon!"}),c.jsx("button",{className:"profile-btn",disabled:!0,children:"Coming Soon"})]})]})]}),Bj=()=>c.jsx("section",{className:"about-section",children:c.jsx("div",{className:"about-container",children:c.jsxs("div",{className:"about-content",children:[c.jsx("h2",{className:"about-heading",children:"About Us"}),c.jsx("p",{className:"about-description",children:"We are a community-driven organization dedicated to empowering individuals through technology, education, and collaboration. Our mission is to create inclusive spaces where everyone can learn, grow, and contribute to meaningful projects that address real-world challenges."}),c.jsxs("div",{className:"about-features",children:[c.jsxs("div",{className:"feature-item",children:[c.jsx("div",{className:"feature-icon",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),c.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),c.jsx("h3",{children:"Our Mission"}),c.jsx("p",{children:"To connect talented individuals with opportunities to learn, collaborate, and innovate together."})]}),c.jsxs("div",{className:"feature-item",children:[c.jsx("div",{className:"feature-icon",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("polyline",{points:"12 6 12 12 16 14"})]})}),c.jsx("h3",{children:"Our Vision"}),c.jsx("p",{children:"To build a global network of communities that drive positive change through technology."})]}),c.jsxs("div",{className:"feature-item",children:[c.jsx("div",{className:"feature-icon",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),c.jsx("circle",{cx:"9",cy:"7",r:"4"}),c.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),c.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),c.jsx("h3",{children:"Our Values"}),c.jsx("p",{children:"Integrity, inclusivity, innovation, and community are at the core of everything we do."})]})]}),c.jsxs("div",{className:"about-stats",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("div",{className:"stat-number",children:"500+"}),c.jsx("div",{className:"stat-label",children:"Members"})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("div",{className:"stat-number",children:"100+"}),c.jsx("div",{className:"stat-label",children:"Events"})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("div",{className:"stat-number",children:"50+"}),c.jsx("div",{className:"stat-label",children:"Partners"})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("div",{className:"stat-number",children:"15+"}),c.jsx("div",{className:"stat-label",children:"Communities"})]})]})]})})}),zj=()=>c.jsx("section",{className:"vision-section",children:c.jsx("div",{className:"vision-container",children:c.jsxs("div",{className:"vision-content",children:[c.jsx("h2",{className:"vision-heading",children:"Vision & Core Values"}),c.jsx("p",{className:"vision-description",children:"Our vision is to build a global network of communities that drive positive change through technology and collaboration. We believe in creating inclusive spaces where everyone has the opportunity to learn, grow, and contribute."}),c.jsxs("div",{className:"vision-values",children:[c.jsxs("div",{className:"value-item",children:[c.jsx("div",{className:"value-icon",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),c.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),c.jsx("h3",{children:"Integrity"}),c.jsx("p",{children:"We uphold the highest standards of honesty, transparency, and ethical behavior in all our interactions."})]}),c.jsxs("div",{className:"value-item",children:[c.jsx("div",{className:"value-icon",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),c.jsx("circle",{cx:"9",cy:"7",r:"4"}),c.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),c.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),c.jsx("h3",{children:"Inclusivity"}),c.jsx("p",{children:"We celebrate diversity and create welcoming environments where everyone feels valued and respected."})]}),c.jsxs("div",{className:"value-item",children:[c.jsx("div",{className:"value-icon",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),c.jsx("path",{d:"M2 17l10 5 10-5"}),c.jsx("path",{d:"M2 12l10 5 10-5"})]})}),c.jsx("h3",{children:"Innovation"}),c.jsx("p",{children:"We foster creativity and encourage experimentation to find new and better ways to solve problems."})]}),c.jsxs("div",{className:"value-item",children:[c.jsx("div",{className:"value-icon",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),c.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),c.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),c.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]})}),c.jsx("h3",{children:"Community"}),c.jsx("p",{children:"We believe in the power of people coming together to support one another and achieve common goals."})]})]}),c.jsx("div",{className:"vision-impact",children:c.jsxs("div",{className:"impact-content",children:[c.jsx("h3",{className:"impact-heading",children:"Our Impact"}),c.jsx("p",{className:"impact-description",children:"Through our programs and initiatives, we've helped thousands of individuals develop new skills, connect with like-minded peers, and contribute to projects that make a difference in their communities. We're committed to continuing this work and expanding our reach to create even more opportunities for growth and collaboration."}),c.jsx("button",{className:"impact-btn",children:"Learn About Our Initiatives"})]})})]})})}),qj=()=>{const[i,e]=re.useState(!1),[s,r]=re.useState(null),[o,u]=re.useState("all"),[f,g]=re.useState(""),[v,y]=re.useState("upcoming"),E=[{id:1,title:"Tech Bootcamps",description:"Intensive hands-on learning sessions covering the latest technologies and frameworks.",image:"https://images.unsplash.com/photo-1531482615713-2afd69097998?w=400&h=250&fit=crop",duration:"2-4 weeks",level:"All Levels"},{id:2,title:"Hackathons",description:"48-hour coding competitions where teams solve real-world problems with innovative solutions.",image:"https://images.unsplash.com/photo-1504384308090-c894fdcc538d?w=400&h=250&fit=crop",duration:"48 hours",level:"Intermediate+"},{id:3,title:"Workshop Series",description:"Weekly workshops on emerging technologies, career development, and technical skills.",image:"https://images.unsplash.com/photo-1552664730-d307ca884978?w=400&h=250&fit=crop",duration:"2-3 hours",level:"Beginner"}],R=[{id:1,title:"Web Development Workshop",description:"Learn the fundamentals of modern web development with hands-on exercises and projects.",eventDate:new Date(Date.now()+864e5*5).toISOString(),startTime:"10:00 AM",endTime:"2:00 PM",location:"Tech Hub, Downtown",capacity:50,eventType:"Workshop",requestingHiveName:"Frontend Developers"},{id:2,title:"AI & Machine Learning Conference",description:"Explore the latest trends and applications in artificial intelligence and machine learning.",eventDate:new Date(Date.now()+864e5*15).toISOString(),startTime:"9:00 AM",endTime:"5:00 PM",location:"Innovation Center",capacity:100,eventType:"Conference",requestingHiveName:"AI Research Group"},{id:3,title:"Past Hackathon",description:"A 48-hour coding competition focused on solving environmental challenges.",eventDate:new Date(Date.now()-864e5*10).toISOString(),startTime:"9:00 AM",endTime:"9:00 AM",location:"Tech Campus",capacity:75,eventType:"Hackathon",requestingHiveName:"Green Tech Alliance"}],[C,P]=re.useState(R),[U,W]=re.useState(R);re.useEffect(()=>{if(!C.length)return;let k=[...C];o!=="all"&&(k=k.filter(Z=>Z.eventType===o));const ae=new Date;if(v==="upcoming")k=k.filter(Z=>new Date(Z.eventDate)>=ae);else if(v==="past")k=k.filter(Z=>new Date(Z.eventDate)<ae);else if(v==="thisMonth"){const Z=ae.getMonth(),se=ae.getFullYear();k=k.filter(S=>{const N=new Date(S.eventDate);return N.getMonth()===Z&&N.getFullYear()===se})}if(f.trim()){const Z=f.toLowerCase();k=k.filter(se=>se.title?.toLowerCase().includes(Z)||se.description?.toLowerCase().includes(Z)||se.location?.toLowerCase().includes(Z)||se.requestingHiveName?.toLowerCase().includes(Z))}v==="past"?k.sort((Z,se)=>new Date(se.eventDate)-new Date(Z.eventDate)):k.sort((Z,se)=>new Date(Z.eventDate)-new Date(se.eventDate)),W(k)},[C,o,v,f]);const K=re.useMemo(()=>{if(!C.length)return[];const k=new Set;return C.forEach(ae=>{ae.eventType&&k.add(ae.eventType)}),Array.from(k)},[C]),me=(k,ae)=>k&&ae?`${k} - ${ae}`:k||"Time TBD",ie=k=>{const ae=new Date(k),Z=ae.getDate(),se=ae.toLocaleDateString("en-US",{month:"short"});return{day:Z,month:se}};return c.jsx("section",{className:"programs-section",children:c.jsx("div",{className:"programs-container",children:c.jsxs("div",{className:"programs-content",children:[c.jsx("h2",{className:"programs-heading",children:"Programs & Events"}),c.jsx("p",{className:"programs-description",children:"Join our diverse range of programs designed to enhance your skills, expand your network, and accelerate your journey in technology and innovation."}),c.jsxs("div",{className:"events-filter",children:[c.jsxs("div",{className:"filter-row",children:[c.jsxs("div",{className:"filter-group",children:[c.jsx("label",{htmlFor:"eventTimeFrame",children:"Time Frame"}),c.jsxs("select",{id:"eventTimeFrame",value:v,onChange:k=>y(k.target.value),className:"filter-select",children:[c.jsx("option",{value:"upcoming",children:"Upcoming Events"}),c.jsx("option",{value:"thisMonth",children:"This Month"}),c.jsx("option",{value:"past",children:"Past Events"}),c.jsx("option",{value:"all",children:"All Events"})]})]}),c.jsxs("div",{className:"filter-group",children:[c.jsx("label",{htmlFor:"eventType",children:"Event Type"}),c.jsxs("select",{id:"eventType",value:o,onChange:k=>u(k.target.value),className:"filter-select",children:[c.jsx("option",{value:"all",children:"All Types"}),K.map(k=>c.jsx("option",{value:k,children:k},k))]})]}),c.jsxs("div",{className:"filter-group search-group",children:[c.jsx("label",{htmlFor:"eventSearch",children:"Search"}),c.jsx("input",{id:"eventSearch",type:"text",placeholder:"Search events...",value:f,onChange:k=>g(k.target.value),className:"filter-input"})]})]}),f||o!=="all"||v!=="upcoming"?c.jsxs("div",{className:"active-filters",children:[c.jsx("span",{children:"Active filters:"}),v!=="upcoming"&&c.jsx("span",{className:"filter-tag",children:v==="past"?"Past Events":v==="thisMonth"?"This Month":"All Dates"}),o!=="all"&&c.jsx("span",{className:"filter-tag",children:o}),f&&c.jsxs("span",{className:"filter-tag",children:['Search: "',f,'"']}),c.jsx("button",{className:"clear-filters",onClick:()=>{u("all"),y("upcoming"),g("")},children:"Clear All"})]}):null]}),c.jsx("div",{className:"programs-grid",children:E.map(k=>c.jsxs("div",{className:"program-card",children:[c.jsxs("div",{className:"program-image",children:[c.jsx("img",{src:k.image,alt:k.title}),c.jsx("div",{className:"program-overlay",children:c.jsx("span",{className:"program-level",children:k.level})})]}),c.jsxs("div",{className:"program-info",children:[c.jsx("h3",{children:k.title}),c.jsx("p",{children:k.description}),c.jsx("div",{className:"program-meta",children:c.jsxs("span",{className:"program-duration",children:["📅 ",k.duration]})}),c.jsx("button",{className:"program-btn",children:"Learn More"})]})]},k.id))}),c.jsxs("div",{className:"events-section",children:[c.jsxs("h3",{className:"events-heading",children:[v==="upcoming"?"Upcoming Events":v==="past"?"Past Events":v==="thisMonth"?"Events This Month":"All Events",U.length>0&&c.jsxs("span",{className:"event-count",children:["(",U.length,")"]})]}),i?c.jsx("div",{className:"events-loading",children:c.jsx("p",{children:"Loading events..."})}):s?c.jsx("div",{className:"events-error",children:c.jsxs("p",{children:["Error loading events: ",s]})}):C.length===0?c.jsx("div",{className:"events-empty",children:c.jsx("p",{children:"No events available at this time. Check back soon!"})}):U.length===0?c.jsx("div",{className:"events-empty",children:c.jsx("p",{children:"No events match your current filters. Try adjusting your search criteria."})}):c.jsx("div",{className:"events-list",children:U.map(k=>{const ae=ie(k.eventDate);return c.jsxs("div",{className:"event-item",children:[c.jsxs("div",{className:"event-date",children:[c.jsx("span",{className:"event-day",children:ae.day}),c.jsx("span",{className:"event-month",children:ae.month}),k.eventType&&c.jsx("span",{className:"event-type-badge",children:k.eventType})]}),c.jsxs("div",{className:"event-details",children:[c.jsx("h4",{children:k.title}),c.jsxs("div",{className:"event-info",children:[c.jsxs("span",{className:"event-time",children:["🕐 ",me(k.startTime,k.endTime)]}),c.jsxs("span",{className:"event-location",children:["📍 ",k.location||"Location TBD"]}),c.jsxs("span",{className:"event-capacity",children:["👥 ",k.capacity?`${k.capacity} spots`:"Open registration"]}),v==="past"&&c.jsx("span",{className:"event-past-label",children:"Completed"})]}),k.description&&c.jsxs("p",{className:"event-description",children:[k.description.substring(0,150),"...",c.jsx("button",{className:"read-more-btn",children:"Read More"})]}),k.requestingHiveName&&c.jsx("div",{className:"event-organizer",children:c.jsxs("span",{children:["📋 Organized by: ",c.jsx("strong",{children:k.requestingHiveName})]})})]}),c.jsx("div",{className:"event-action",children:new Date(k.eventDate)>=new Date?c.jsx("button",{className:"event-register-btn",children:"Register"}):c.jsx("button",{className:"event-view-btn",children:"View Details"})})]},k.id)})})]})]})})})};function Hj(){const[i,e]=re.useState(!1),[s,r]=re.useState(!1),[o,u]=re.useState(null),[f,g]=re.useState(null),[v,y]=re.useState(!0),[E,R]=re.useState("dashboard"),[C,P]=re.useState(!1),[U,W]=re.useState({total:0,pending:0,approved:0,rejected:0});re.useEffect(()=>{(async()=>{try{console.log("🔍 Checking existing authentication...");const S=await yj();if(S.isAuthenticated){const N=S.userType==="hive"?S.user.hiveName:`${S.user.memberName} (${S.user.hiveName})`;console.log(`✅ User already authenticated as ${S.userType}:`,N),r(!0),u(S.user),g(S.userType)}else console.log("❌ No existing authentication found")}catch(S){console.error("💥 Error checking auth status:",S)}finally{y(!1)}})()},[]),re.useEffect(()=>{(async()=>{if(s&&f==="hive"&&o?.hiveName)try{console.log("📊 Fetching member stats for hive:",o.hiveName);const S=Ye(Ne(ve,"members"),Ue("selectedHiveName","==",o.hiveName)),D=(await Xe(S)).size,A=(await ka.getApprovedMembers(o.hiveName)).size,w=(await ka.getRejectedMembers(o.hiveName)).size,De={pending:D,approved:A,rejected:w,total:D+A+w};W(De),console.log("✅ Member stats updated:",De)}catch(S){console.error("💥 Error fetching member stats:",S)}})()},[s,f,o?.hiveName]);const K=()=>{e(!0)},me=()=>{e(!1)},ie=()=>{console.log(`🚪 Logging out ${f} user`),$f(),r(!1),u(null),g(null),R("dashboard"),console.log("✅ Logout successful")},k=se=>{R(se)},ae=async se=>{try{console.log("🎉 Creating event for hive:",o.hiveName),console.log("📋 Event data being submitted:",se);const S=await So.createEvent(se);console.log("✅ Event created successfully with ID:",S.id),alert(`Event request submitted successfully! 🎉

Your event has been sent to the admin for approval. You can view its status in the Events Management section.`)}catch(S){throw console.error("💥 Error creating event:",S),alert("Failed to create event. Please try again."),S}},Z=(se,S=null)=>{switch(console.log("Selected option:",se,S),se){case"create-hive":console.log("🏗️ User submitted hive creation request"),alert("Hive application submitted successfully! You will receive a confirmation email shortly.");break;case"register-member":console.log("👥 User registered as member");const N=S?.selectedHive?.hiveName||"the selected hive";alert(`Application submitted successfully! Your application to join ${N} has been sent to the hive leader for review.`);break;case"login-success":const D=S.userType==="hive"?S.user.hiveName:`${S.user.memberName} (${S.user.hiveName})`;console.log(`✅ ${S.userType} login successful:`,D),r(!0),u(S.user),g(S.userType),e(!1),console.log(`🏠 Redirected to ${S.userType} dashboard for:`,D);return;default:console.log("Unknown option selected:",se)}e(!1)};return v?c.jsx("div",{className:"app loading-app",children:c.jsxs("div",{className:"loading-container",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("p",{children:"Loading..."})]})}):c.jsxs("div",{className:"app",children:[c.jsx(tj,{onLoginClick:K,isAuthenticated:s,currentUser:o,userType:f,onLogout:ie}),c.jsx("main",{className:"main-content",children:c.jsx("div",{className:"content-container",children:s&&o?f==="hive"?c.jsxs(c.Fragment,{children:[E==="dashboard"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"hive-header",children:[c.jsxs("h1",{children:["🏠 Welcome back to ",o.hiveName,"!"]}),c.jsxs("p",{className:"hive-subtitle",children:["Hello, ",o.creatorName," - Hive Leader"]})]}),c.jsxs("div",{className:"hive-dashboard",children:[c.jsxs("div",{className:"dashboard-cards",children:[c.jsxs("div",{className:"dashboard-card",children:[c.jsx("h3",{children:"📋 Member Status"}),c.jsxs("p",{children:["Total: ",U.total," • Pending: ",U.pending," • Approved: ",U.approved," • Rejected: ",U.rejected]}),c.jsx("button",{className:"card-button",onClick:()=>k("member-status"),children:"Review Applications"})]}),c.jsxs("div",{className:"dashboard-card",children:[c.jsx("h3",{children:"👥 Member Management"}),c.jsxs("p",{children:["View and monitor your approved hive members (",U.approved," active members)."]}),c.jsx("button",{className:"card-button",onClick:()=>k("member-management"),children:"View Members"})]}),c.jsxs("div",{className:"dashboard-card",children:[c.jsx("h3",{children:"📅 Events & Activities"}),c.jsx("p",{children:"Create and manage hive events and activities."}),c.jsx("button",{className:"card-button",onClick:()=>k("events-management"),children:"Manage Events"})]}),c.jsxs("div",{className:"dashboard-card",children:[c.jsx("h3",{children:"⚙️ Hive Settings"}),c.jsx("p",{children:"Customize your hive preferences and settings."}),c.jsx("button",{className:"card-button",children:"Edit Settings"})]})]}),c.jsxs("div",{className:"hive-info",children:[c.jsxs("div",{className:"info-card",children:[c.jsx("h3",{children:"🎆 Hive Information"}),c.jsxs("div",{className:"hive-details",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Hive Name:"})," ",o.hiveName]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Leader:"})," ",o.creatorName]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Contact:"})," ",o.email]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Login Time:"})," ",new Date(o.loginTime).toLocaleString()]})]})]}),c.jsxs("div",{className:"info-card",children:[c.jsx("h3",{children:"🚀 Quick Actions"}),c.jsxs("div",{className:"quick-actions",children:[c.jsx("button",{className:"action-btn primary",onClick:()=>P(!0),children:"Create Event"}),c.jsx("button",{className:"action-btn secondary",children:"Invite Members"}),c.jsx("button",{className:"action-btn tertiary",children:"View Reports"})]})]})]})]})]}),E==="member-status"&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"view-header",children:c.jsx("button",{className:"back-button",onClick:()=>k("dashboard"),children:"← Back to Dashboard"})}),c.jsx(V_,{hive:o,mode:"applications"})]}),E==="member-management"&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"view-header",children:c.jsx("button",{className:"back-button",onClick:()=>k("dashboard"),children:"← Back to Dashboard"})}),c.jsx(V_,{hive:o,mode:"members"})]}),E==="events-management"&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"view-header",children:c.jsx("button",{className:"back-button",onClick:()=>k("dashboard"),children:"← Back to Dashboard"})}),c.jsx(Aj,{hive:o,onCreateEvent:()=>P(!0)})]})]}):c.jsx(Oj,{currentUser:o,onViewChange:k}):c.jsxs(c.Fragment,{children:[c.jsx("section",{className:"hero-section",children:c.jsxs("div",{className:"hero-content",children:[c.jsx("h1",{children:"Welcome to the Pivot"}),c.jsx("p",{children:"Connect, collaborate, and grow your tech community!"}),c.jsxs("div",{className:"hero-actions",children:[c.jsx("button",{onClick:K,className:"btn-primary",children:"Join Now"}),c.jsx("button",{onClick:()=>{document.getElementById("about").scrollIntoView({behavior:"smooth"})},className:"btn-secondary",children:"Learn More"})]})]})}),c.jsx("section",{id:"about",children:c.jsx(Bj,{})}),c.jsx("section",{id:"vision",children:c.jsx(zj,{})}),c.jsx("section",{id:"programs",children:c.jsx(qj,{})}),c.jsx("section",{className:"cta-section",children:c.jsxs("div",{className:"cta-content",children:[c.jsx("h2",{children:"Ready to Join Our Community?"}),c.jsx("p",{children:"Create an account or sign in to get started with your Pivot journey."}),c.jsx("button",{onClick:K,className:"btn-primary",children:"Get Started"})]})})]})})}),!s&&c.jsx(_j,{isOpen:i,onClose:me,onOptionSelect:Z}),s&&f==="hive"&&c.jsx(Tj,{isOpen:C,onClose:()=>P(!1),onSubmit:ae,hive:o})]})}kT.createRoot(document.getElementById("root")).render(c.jsx(re.StrictMode,{children:c.jsx(Hj,{})}));
