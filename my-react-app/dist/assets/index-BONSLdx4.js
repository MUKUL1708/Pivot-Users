(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function s(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(c){if(c.ep)return;c.ep=!0;const h=s(c);fetch(c.href,h)}})();var cf={exports:{}},so={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function wT(){if(oy)return so;oy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(r,c,h){var f=null;if(h!==void 0&&(f=""+h),c.key!==void 0&&(f=""+c.key),"key"in c){h={};for(var p in c)p!=="key"&&(h[p]=c[p])}else h=c;return c=h.ref,{$$typeof:i,type:r,key:f,ref:c!==void 0?c:null,props:h}}return so.Fragment=e,so.jsx=s,so.jsxs=s,so}var cy;function jT(){return cy||(cy=1,cf.exports=wT()),cf.exports}var o=jT(),uf={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function RT(){if(uy)return Ce;uy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),C=Symbol.iterator;function R(M){return M===null||typeof M!="object"?null:(M=C&&M[C]||M["@@iterator"],typeof M=="function"?M:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,Z={};function K(M,ee,he){this.props=M,this.context=ee,this.refs=Z,this.updater=he||U}K.prototype.isReactComponent={},K.prototype.setState=function(M,ee){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ee,"setState")},K.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function fe(){}fe.prototype=K.prototype;function ie(M,ee,he){this.props=M,this.context=ee,this.refs=Z,this.updater=he||U}var k=ie.prototype=new fe;k.constructor=ie,L(k,K.prototype),k.isPureReactComponent=!0;var ae=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},re=Object.prototype.hasOwnProperty;function w(M,ee,he,se,be,De){return he=De.ref,{$$typeof:i,type:M,key:ee,ref:he!==void 0?he:null,props:De}}function A(M,ee){return w(M.type,ee,void 0,void 0,void 0,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function j(M){var ee={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(he){return ee[he]})}var S=/\/+/g;function V(M,ee){return typeof M=="object"&&M!==null&&M.key!=null?j(""+M.key):ee.toString(36)}function N(){}function Me(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(N,N):(M.status="pending",M.then(function(ee){M.status==="pending"&&(M.status="fulfilled",M.value=ee)},function(ee){M.status==="pending"&&(M.status="rejected",M.reason=ee)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function $e(M,ee,he,se,be){var De=typeof M;(De==="undefined"||De==="boolean")&&(M=null);var me=!1;if(M===null)me=!0;else switch(De){case"bigint":case"string":case"number":me=!0;break;case"object":switch(M.$$typeof){case i:case e:me=!0;break;case E:return me=M._init,$e(me(M._payload),ee,he,se,be)}}if(me)return be=be(M),me=se===""?"."+V(M,0):se,ae(be)?(he="",me!=null&&(he=me.replace(S,"$&/")+"/"),$e(be,ee,he,"",function(Re){return Re})):be!=null&&(D(be)&&(be=A(be,he+(be.key==null||M&&M.key===be.key?"":(""+be.key).replace(S,"$&/")+"/")+me)),ee.push(be)),1;me=0;var Ve=se===""?".":se+":";if(ae(M))for(var H=0;H<M.length;H++)se=M[H],De=Ve+V(se,H),me+=$e(se,ee,he,De,be);else if(H=R(M),typeof H=="function")for(M=H.call(M),H=0;!(se=M.next()).done;)se=se.value,De=Ve+V(se,H++),me+=$e(se,ee,he,De,be);else if(De==="object"){if(typeof M.then=="function")return $e(Me(M),ee,he,se,be);throw ee=String(M),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return me}function Y(M,ee,he){if(M==null)return M;var se=[],be=0;return $e(M,se,"","",function(De){return ee.call(he,De,be++)}),se}function ce(M){if(M._status===-1){var ee=M._result;ee=ee(),ee.then(function(he){(M._status===0||M._status===-1)&&(M._status=1,M._result=he)},function(he){(M._status===0||M._status===-1)&&(M._status=2,M._result=he)}),M._status===-1&&(M._status=0,M._result=ee)}if(M._status===1)return M._result.default;throw M._result}var ge=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function ze(){}return Ce.Children={map:Y,forEach:function(M,ee,he){Y(M,function(){ee.apply(this,arguments)},he)},count:function(M){var ee=0;return Y(M,function(){ee++}),ee},toArray:function(M){return Y(M,function(ee){return ee})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ce.Component=K,Ce.Fragment=s,Ce.Profiler=c,Ce.PureComponent=ie,Ce.StrictMode=r,Ce.Suspense=v,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(M){return J.H.useMemoCache(M)}},Ce.cache=function(M){return function(){return M.apply(null,arguments)}},Ce.cloneElement=function(M,ee,he){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var se=L({},M.props),be=M.key,De=void 0;if(ee!=null)for(me in ee.ref!==void 0&&(De=void 0),ee.key!==void 0&&(be=""+ee.key),ee)!re.call(ee,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&ee.ref===void 0||(se[me]=ee[me]);var me=arguments.length-2;if(me===1)se.children=he;else if(1<me){for(var Ve=Array(me),H=0;H<me;H++)Ve[H]=arguments[H+2];se.children=Ve}return w(M.type,be,void 0,void 0,De,se)},Ce.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:h,_context:M},M},Ce.createElement=function(M,ee,he){var se,be={},De=null;if(ee!=null)for(se in ee.key!==void 0&&(De=""+ee.key),ee)re.call(ee,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(be[se]=ee[se]);var me=arguments.length-2;if(me===1)be.children=he;else if(1<me){for(var Ve=Array(me),H=0;H<me;H++)Ve[H]=arguments[H+2];be.children=Ve}if(M&&M.defaultProps)for(se in me=M.defaultProps,me)be[se]===void 0&&(be[se]=me[se]);return w(M,De,void 0,void 0,null,be)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(M){return{$$typeof:p,render:M}},Ce.isValidElement=D,Ce.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:ce}},Ce.memo=function(M,ee){return{$$typeof:y,type:M,compare:ee===void 0?null:ee}},Ce.startTransition=function(M){var ee=J.T,he={};J.T=he;try{var se=M(),be=J.S;be!==null&&be(he,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(ze,ge)}catch(De){ge(De)}finally{J.T=ee}},Ce.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Ce.use=function(M){return J.H.use(M)},Ce.useActionState=function(M,ee,he){return J.H.useActionState(M,ee,he)},Ce.useCallback=function(M,ee){return J.H.useCallback(M,ee)},Ce.useContext=function(M){return J.H.useContext(M)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(M,ee){return J.H.useDeferredValue(M,ee)},Ce.useEffect=function(M,ee,he){var se=J.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(M,ee)},Ce.useId=function(){return J.H.useId()},Ce.useImperativeHandle=function(M,ee,he){return J.H.useImperativeHandle(M,ee,he)},Ce.useInsertionEffect=function(M,ee){return J.H.useInsertionEffect(M,ee)},Ce.useLayoutEffect=function(M,ee){return J.H.useLayoutEffect(M,ee)},Ce.useMemo=function(M,ee){return J.H.useMemo(M,ee)},Ce.useOptimistic=function(M,ee){return J.H.useOptimistic(M,ee)},Ce.useReducer=function(M,ee,he){return J.H.useReducer(M,ee,he)},Ce.useRef=function(M){return J.H.useRef(M)},Ce.useState=function(M){return J.H.useState(M)},Ce.useSyncExternalStore=function(M,ee,he){return J.H.useSyncExternalStore(M,ee,he)},Ce.useTransition=function(){return J.H.useTransition()},Ce.version="19.1.1",Ce}var hy;function em(){return hy||(hy=1,uf.exports=RT()),uf.exports}var le=em(),hf={exports:{}},io={},df={exports:{}},ff={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function CT(){return dy||(dy=1,(function(i){function e(Y,ce){var ge=Y.length;Y.push(ce);e:for(;0<ge;){var ze=ge-1>>>1,M=Y[ze];if(0<c(M,ce))Y[ze]=ce,Y[ge]=M,ge=ze;else break e}}function s(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var ce=Y[0],ge=Y.pop();if(ge!==ce){Y[0]=ge;e:for(var ze=0,M=Y.length,ee=M>>>1;ze<ee;){var he=2*(ze+1)-1,se=Y[he],be=he+1,De=Y[be];if(0>c(se,ge))be<M&&0>c(De,se)?(Y[ze]=De,Y[be]=ge,ze=be):(Y[ze]=se,Y[he]=ge,ze=he);else if(be<M&&0>c(De,ge))Y[ze]=De,Y[be]=ge,ze=be;else break e}}return ce}function c(Y,ce){var ge=Y.sortIndex-ce.sortIndex;return ge!==0?ge:Y.id-ce.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;i.unstable_now=function(){return h.now()}}else{var f=Date,p=f.now();i.unstable_now=function(){return f.now()-p}}var v=[],y=[],E=1,C=null,R=3,U=!1,L=!1,Z=!1,K=!1,fe=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function ae(Y){for(var ce=s(y);ce!==null;){if(ce.callback===null)r(y);else if(ce.startTime<=Y)r(y),ce.sortIndex=ce.expirationTime,e(v,ce);else break;ce=s(y)}}function J(Y){if(Z=!1,ae(Y),!L)if(s(v)!==null)L=!0,re||(re=!0,V());else{var ce=s(y);ce!==null&&$e(J,ce.startTime-Y)}}var re=!1,w=-1,A=5,D=-1;function j(){return K?!0:!(i.unstable_now()-D<A)}function S(){if(K=!1,re){var Y=i.unstable_now();D=Y;var ce=!0;try{e:{L=!1,Z&&(Z=!1,ie(w),w=-1),U=!0;var ge=R;try{t:{for(ae(Y),C=s(v);C!==null&&!(C.expirationTime>Y&&j());){var ze=C.callback;if(typeof ze=="function"){C.callback=null,R=C.priorityLevel;var M=ze(C.expirationTime<=Y);if(Y=i.unstable_now(),typeof M=="function"){C.callback=M,ae(Y),ce=!0;break t}C===s(v)&&r(v),ae(Y)}else r(v);C=s(v)}if(C!==null)ce=!0;else{var ee=s(y);ee!==null&&$e(J,ee.startTime-Y),ce=!1}}break e}finally{C=null,R=ge,U=!1}ce=void 0}}finally{ce?V():re=!1}}}var V;if(typeof k=="function")V=function(){k(S)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Me=N.port2;N.port1.onmessage=S,V=function(){Me.postMessage(null)}}else V=function(){fe(S,0)};function $e(Y,ce){w=fe(function(){Y(i.unstable_now())},ce)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return R},i.unstable_next=function(Y){switch(R){case 1:case 2:case 3:var ce=3;break;default:ce=R}var ge=R;R=ce;try{return Y()}finally{R=ge}},i.unstable_requestPaint=function(){K=!0},i.unstable_runWithPriority=function(Y,ce){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ge=R;R=Y;try{return ce()}finally{R=ge}},i.unstable_scheduleCallback=function(Y,ce,ge){var ze=i.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?ze+ge:ze):ge=ze,Y){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ge+M,Y={id:E++,callback:ce,priorityLevel:Y,startTime:ge,expirationTime:M,sortIndex:-1},ge>ze?(Y.sortIndex=ge,e(y,Y),s(v)===null&&Y===s(y)&&(Z?(ie(w),w=-1):Z=!0,$e(J,ge-ze))):(Y.sortIndex=M,e(v,Y),L||U||(L=!0,re||(re=!0,V()))),Y},i.unstable_shouldYield=j,i.unstable_wrapCallback=function(Y){var ce=R;return function(){var ge=R;R=ce;try{return Y.apply(this,arguments)}finally{R=ge}}}})(ff)),ff}var fy;function DT(){return fy||(fy=1,df.exports=CT()),df.exports}var mf={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my;function IT(){if(my)return Wt;my=1;var i=em();function e(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function h(v,y,E){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:C==null?null:""+C,children:v,containerInfo:y,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Wt.createPortal=function(v,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return h(v,y,null,E)},Wt.flushSync=function(v){var y=f.T,E=r.p;try{if(f.T=null,r.p=2,v)return v()}finally{f.T=y,r.p=E,r.d.f()}},Wt.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(v,y))},Wt.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},Wt.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var E=y.as,C=p(E,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,U=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?r.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:C,integrity:R,fetchPriority:U}):E==="script"&&r.d.X(v,{crossOrigin:C,integrity:R,fetchPriority:U,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Wt.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);r.d.M(v,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(v)},Wt.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,C=p(E,y.crossOrigin);r.d.L(v,E,{crossOrigin:C,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Wt.preloadModule=function(v,y){if(typeof v=="string")if(y){var E=p(y.as,y.crossOrigin);r.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(v)},Wt.requestFormReset=function(v){r.d.r(v)},Wt.unstable_batchedUpdates=function(v,y){return v(y)},Wt.useFormState=function(v,y,E){return f.H.useFormState(v,y,E)},Wt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Wt.version="19.1.1",Wt}var py;function MT(){if(py)return mf.exports;py=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),mf.exports=IT(),mf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function VT(){if(gy)return io;gy=1;var i=DT(),e=em(),s=MT();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(h(t)!==t)throw Error(r(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return p(d),t;if(m===l)return p(d),n;m=m.sibling}throw Error(r(188))}if(a.return!==l.return)a=d,l=m;else{for(var b=!1,x=d.child;x;){if(x===a){b=!0,a=d,l=m;break}if(x===l){b=!0,l=d,a=m;break}x=x.sibling}if(!b){for(x=m.child;x;){if(x===a){b=!0,a=m,l=d;break}if(x===l){b=!0,l=m,a=d;break}x=x.sibling}if(!b)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,C=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),fe=Symbol.for("react.provider"),ie=Symbol.for("react.consumer"),k=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),S=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=S&&t[S]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case K:return"Profiler";case Z:return"StrictMode";case J:return"Suspense";case re:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case k:return(t.displayName||"Context")+".Provider";case ie:return(t._context.displayName||"Context")+".Consumer";case ae:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case w:return n=t.displayName||null,n!==null?n:Me(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return Me(t(n))}catch{}}return null}var $e=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},ze=[],M=-1;function ee(t){return{current:t}}function he(t){0>M||(t.current=ze[M],ze[M]=null,M--)}function se(t,n){M++,ze[M]=t.current,t.current=n}var be=ee(null),De=ee(null),me=ee(null),Ve=ee(null);function H(t,n){switch(se(me,n),se(De,t),se(be,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?kv(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=kv(n),t=Lv(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}he(be),se(be,t)}function Re(){he(be),he(De),he(me)}function Ae(t){t.memoizedState!==null&&se(Ve,t);var n=be.current,a=Lv(n,t.type);n!==a&&(se(De,t),se(be,a))}function Tt(t){De.current===t&&(he(be),he(De)),Ve.current===t&&(he(Ve),Jl._currentValue=ge)}var Fi=Object.prototype.hasOwnProperty,Gi=i.unstable_scheduleCallback,Qi=i.unstable_cancelCallback,Kr=i.unstable_shouldYield,ko=i.unstable_requestPaint,Dn=i.unstable_now,oh=i.unstable_getCurrentPriorityLevel,Xr=i.unstable_ImmediatePriority,Ba=i.unstable_UserBlockingPriority,Yi=i.unstable_NormalPriority,ch=i.unstable_LowPriority,za=i.unstable_IdlePriority,Zr=i.log,Lo=i.unstable_setDisableYieldValue,pt=null,et=null;function _n(t){if(typeof Zr=="function"&&Lo(t),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(pt,t)}catch{}}var Zt=Math.clz32?Math.clz32:$i,Po=Math.log,uh=Math.LN2;function $i(t){return t>>>=0,t===0?32:31-(Po(t)/uh|0)|0}var Ki=256,Xi=4194304;function Gn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function qa(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,m=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var x=l&134217727;return x!==0?(l=x&~m,l!==0?d=Gn(l):(b&=x,b!==0?d=Gn(b):a||(a=x&~t,a!==0&&(d=Gn(a))))):(x=l&~m,x!==0?d=Gn(x):b!==0?d=Gn(b):a||(a=l&~t,a!==0&&(d=Gn(a)))),d===0?0:n!==0&&n!==d&&(n&m)===0&&(m=d&-d,a=n&-n,m>=a||m===32&&(a&4194048)!==0)?n:d}function Zi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Jr(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wr(){var t=Ki;return Ki<<=1,(Ki&4194048)===0&&(Ki=256),t}function el(){var t=Xi;return Xi<<=1,(Xi&62914560)===0&&(Xi=4194304),t}function Ts(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function As(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function tl(t,n,a,l,d,m){var b=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var x=t.entanglements,I=t.expirationTimes,q=t.hiddenUpdates;for(a=b&~a;0<a;){var X=31-Zt(a),te=1<<X;x[X]=0,I[X]=-1;var F=q[X];if(F!==null)for(q[X]=null,X=0;X<F.length;X++){var G=F[X];G!==null&&(G.lane&=-536870913)}a&=~te}l!==0&&Jn(t,l,0),m!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=m&~(b&~n))}function Jn(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Zt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function nl(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Zt(a),d=1<<l;d&n|t[l]&n&&(t[l]|=n),a&=~d}}function ti(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ha(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ni(){var t=ce.p;return t!==0?t:(t=window.event,t===void 0?32:ny(t.type))}function Uo(t,n){var a=ce.p;try{return ce.p=t,n()}finally{ce.p=a}}var ht=Math.random().toString(36).slice(2),Dt="__reactFiber$"+ht,At="__reactProps$"+ht,In="__reactContainer$"+ht,sl="__reactEvents$"+ht,hh="__reactListeners$"+ht,si="__reactHandles$"+ht,Bo="__reactResources$"+ht,Ji="__reactMarker$"+ht;function ii(t){delete t[Dt],delete t[At],delete t[sl],delete t[hh],delete t[si]}function Ns(t){var n=t[Dt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[In]||a[Dt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=zv(t);t!==null;){if(a=t[Dt])return a;t=zv(t)}return n}t=a,a=t.parentNode}return null}function Wn(t){if(t=t[Dt]||t[In]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function es(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function an(t){var n=t[Bo];return n||(n=t[Bo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function yt(t){t[Ji]=!0}var il=new Set,Fa={};function Qn(t,n){Ss(t,n),Ss(t+"Capture",n)}function Ss(t,n){for(Fa[t]=n,t=0;t<n.length;t++)il.add(n[t])}var zo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qo={},Wi={};function Ho(t){return Fi.call(Wi,t)?!0:Fi.call(qo,t)?!1:zo.test(t)?Wi[t]=!0:(qo[t]=!0,!1)}function ai(t,n,a){if(Ho(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function ts(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ht(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var ea,Fo;function ws(t){if(ea===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ea=n&&n[1]||"",Fo=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ea+t+Fo}var Ga=!1;function Qa(t,n){if(!t||Ga)return"";Ga=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(G){var F=G}Reflect.construct(t,[],te)}else{try{te.call()}catch(G){F=G}t.call(te.prototype)}}else{try{throw Error()}catch(G){F=G}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(G){if(G&&F&&typeof G.stack=="string")return[G.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),b=m[0],x=m[1];if(b&&x){var I=b.split(`
`),q=x.split(`
`);for(d=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;d<q.length&&!q[d].includes("DetermineComponentFrameRoot");)d++;if(l===I.length||d===q.length)for(l=I.length-1,d=q.length-1;1<=l&&0<=d&&I[l]!==q[d];)d--;for(;1<=l&&0<=d;l--,d--)if(I[l]!==q[d]){if(l!==1||d!==1)do if(l--,d--,0>d||I[l]!==q[d]){var X=`
`+I[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=d);break}}}finally{Ga=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ws(a):""}function al(t){switch(t.tag){case 26:case 27:case 5:return ws(t.type);case 16:return ws("Lazy");case 13:return ws("Suspense");case 19:return ws("SuspenseList");case 0:case 15:return Qa(t.type,!1);case 11:return Qa(t.type.render,!1);case 1:return Qa(t.type,!0);case 31:return ws("Activity");default:return""}}function Ya(t){try{var n="";do n+=al(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function rn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rl(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function dh(t){var n=rl(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return d.call(this)},set:function(b){l=""+b,m.call(this,b)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function $a(t){t._valueTracker||(t._valueTracker=dh(t))}function ll(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=rl(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ta(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var fh=/[\n"\\]/g;function Nt(t){return t.replace(fh,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function bn(t,n,a,l,d,m,b,x){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),n!=null?b==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+rn(n)):t.value!==""+rn(n)&&(t.value=""+rn(n)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),n!=null?ri(t,b,rn(n)):a!=null?ri(t,b,rn(a)):l!=null&&t.removeAttribute("value"),d==null&&m!=null&&(t.defaultChecked=!!m),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+rn(x):t.removeAttribute("name")}function na(t,n,a,l,d,m,b,x){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||n!=null))return;a=a!=null?""+rn(a):"",n=n!=null?""+rn(n):a,x||n===t.value||(t.value=n),t.defaultValue=n}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=x?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b)}function ri(t,n,a){n==="number"&&ta(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function js(t,n,a,l){if(t=t.options,n){n={};for(var d=0;d<a.length;d++)n["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=n.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+rn(a),n=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}n!==null||t[d].disabled||(n=t[d])}n!==null&&(n.selected=!0)}}function st(t,n,a){if(n!=null&&(n=""+rn(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+rn(a):""}function sa(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if($e(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=rn(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Mn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var ia=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Go(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||ia.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function ol(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in n)l=n[d],n.hasOwnProperty(d)&&a[d]!==l&&Go(t,d,l)}else for(var m in n)n.hasOwnProperty(m)&&Go(t,m,n[m])}function cl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ph=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ka(t){return ph.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Rs=null;function Vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cs=null,Ds=null;function ul(t){var n=Wn(t);if(n&&(t=n.stateNode)){var a=t[At]||null;e:switch(t=n.stateNode,n.type){case"input":if(bn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Nt(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var d=l[At]||null;if(!d)throw Error(r(90));bn(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&ll(l)}break e;case"textarea":st(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&js(t,!!a.multiple,n,!1)}}}var ns=!1;function Qo(t,n,a){if(ns)return t(n,a);ns=!0;try{var l=t(n);return l}finally{if(ns=!1,(Cs!==null||Ds!==null)&&(Uc(),Cs&&(n=Cs,t=Ds,Ds=Cs=null,ul(n),t)))for(n=0;n<t.length;n++)ul(t[n])}}function aa(t,n){var a=t.stateNode;if(a===null)return null;var l=a[At]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),On=!1;if(Yn)try{var ra={};Object.defineProperty(ra,"passive",{get:function(){On=!0}}),window.addEventListener("test",ra,ra),window.removeEventListener("test",ra,ra)}catch{On=!1}var ss=null,li=null,Is=null;function hl(){if(Is)return Is;var t,n=li,a=n.length,l,d="value"in ss?ss.value:ss.textContent,m=d.length;for(t=0;t<a&&n[t]===d[t];t++);var b=a-t;for(l=1;l<=b&&n[a-l]===d[m-l];l++);return Is=d.slice(t,1<l?1-l:void 0)}function is(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function as(){return!0}function dl(){return!1}function Lt(t){function n(a,l,d,m,b){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(a=t[x],this[x]=a?a(m):m[x]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?as:dl,this.isPropagationStopped=dl,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),n}var Je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xa=Lt(Je),la=E({},Je,{view:0,detail:0}),Yo=Lt(la),Za,Ja,rs,oa=E({},la,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ha,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==rs&&(rs&&t.type==="mousemove"?(Za=t.screenX-rs.screenX,Ja=t.screenY-rs.screenY):Ja=Za=0,rs=t),Za)},movementY:function(t){return"movementY"in t?t.movementY:Ja}}),kn=Lt(oa),$o=E({},oa,{dataTransfer:0}),gh=Lt($o),ca=E({},la,{relatedTarget:0}),Wa=Lt(ca),fl=E({},Je,{animationName:0,elapsedTime:0,pseudoElement:0}),er=Lt(fl),Ko=E({},Je,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tr=Lt(Ko),vh=E({},Je,{data:0}),ml=Lt(vh),ua={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Zo[t])?!!n[t]:!1}function ha(){return pl}var Jo=E({},la,{key:function(t){if(t.key){var n=ua[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=is(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ha,charCode:function(t){return t.type==="keypress"?is(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?is(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nr=Lt(Jo),Wo=E({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gl=Lt(Wo),Ms=E({},la,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ha}),ec=Lt(Ms),tc=E({},Je,{propertyName:0,elapsedTime:0,pseudoElement:0}),nc=Lt(tc),sc=E({},oa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sr=Lt(sc),ln=E({},Je,{newState:0,oldState:0}),ic=Lt(ln),ac=[9,13,27,32],ls=Yn&&"CompositionEvent"in window,u=null;Yn&&"documentMode"in document&&(u=document.documentMode);var g=Yn&&"TextEvent"in window&&!u,_=Yn&&(!ls||u&&8<u&&11>=u),T=" ",B=!1;function Q(t,n){switch(t){case"keyup":return ac.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qe=!1;function It(t,n){switch(t){case"compositionend":return oe(n);case"keypress":return n.which!==32?null:(B=!0,T);case"textInput":return t=n.data,t===T&&B?null:t;default:return null}}function He(t,n){if(qe)return t==="compositionend"||!ls&&Q(t,n)?(t=hl(),Is=li=ss=null,qe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Pt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mt(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Pt[t.type]:n==="textarea"}function Vs(t,n,a,l){Cs?Ds?Ds.push(l):Ds=[l]:Cs=l,n=Gc(n,"onChange"),0<n.length&&(a=new Xa("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Ft=null,os=null;function vl(t){Dv(t,0)}function rc(t){var n=es(t);if(ll(n))return t}function Jm(t,n){if(t==="change")return n}var Wm=!1;if(Yn){var yh;if(Yn){var _h="oninput"in document;if(!_h){var ep=document.createElement("div");ep.setAttribute("oninput","return;"),_h=typeof ep.oninput=="function"}yh=_h}else yh=!1;Wm=yh&&(!document.documentMode||9<document.documentMode)}function tp(){Ft&&(Ft.detachEvent("onpropertychange",np),os=Ft=null)}function np(t){if(t.propertyName==="value"&&rc(os)){var n=[];Vs(n,os,t,Vn(t)),Qo(vl,n)}}function sx(t,n,a){t==="focusin"?(tp(),Ft=n,os=a,Ft.attachEvent("onpropertychange",np)):t==="focusout"&&tp()}function ix(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rc(os)}function ax(t,n){if(t==="click")return rc(n)}function rx(t,n){if(t==="input"||t==="change")return rc(n)}function lx(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var En=typeof Object.is=="function"?Object.is:lx;function yl(t,n){if(En(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!Fi.call(n,d)||!En(t[d],n[d]))return!1}return!0}function sp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ip(t,n){var a=sp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=sp(a)}}function ap(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?ap(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function rp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ta(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ta(t.document)}return n}function bh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var ox=Yn&&"documentMode"in document&&11>=document.documentMode,ir=null,Eh=null,_l=null,xh=!1;function lp(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xh||ir==null||ir!==ta(l)||(l=ir,"selectionStart"in l&&bh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),_l&&yl(_l,l)||(_l=l,l=Gc(Eh,"onSelect"),0<l.length&&(n=new Xa("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=ir)))}function da(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var ar={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},Th={},op={};Yn&&(op=document.createElement("div").style,"AnimationEvent"in window||(delete ar.animationend.animation,delete ar.animationiteration.animation,delete ar.animationstart.animation),"TransitionEvent"in window||delete ar.transitionend.transition);function fa(t){if(Th[t])return Th[t];if(!ar[t])return t;var n=ar[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in op)return Th[t]=n[a];return t}var cp=fa("animationend"),up=fa("animationiteration"),hp=fa("animationstart"),cx=fa("transitionrun"),ux=fa("transitionstart"),hx=fa("transitioncancel"),dp=fa("transitionend"),fp=new Map,Ah="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ah.push("scrollEnd");function $n(t,n){fp.set(t,n),Qn(n,[t])}var mp=new WeakMap;function Ln(t,n){if(typeof t=="object"&&t!==null){var a=mp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Ya(n)},mp.set(t,n),n)}return{value:t,source:n,stack:Ya(n)}}var Pn=[],rr=0,Nh=0;function lc(){for(var t=rr,n=Nh=rr=0;n<t;){var a=Pn[n];Pn[n++]=null;var l=Pn[n];Pn[n++]=null;var d=Pn[n];Pn[n++]=null;var m=Pn[n];if(Pn[n++]=null,l!==null&&d!==null){var b=l.pending;b===null?d.next=d:(d.next=b.next,b.next=d),l.pending=d}m!==0&&pp(a,d,m)}}function oc(t,n,a,l){Pn[rr++]=t,Pn[rr++]=n,Pn[rr++]=a,Pn[rr++]=l,Nh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Sh(t,n,a,l){return oc(t,n,a,l),cc(t)}function lr(t,n){return oc(t,null,null,n),cc(t)}function pp(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(d=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,d&&n!==null&&(d=31-Zt(a),t=m.hiddenUpdates,l=t[d],l===null?t[d]=[n]:l.push(n),n.lane=a|536870912),m):null}function cc(t){if(50<Fl)throw Fl=0,Id=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var or={};function dx(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,n,a,l){return new dx(t,n,a,l)}function wh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Os(t,n){var a=t.alternate;return a===null?(a=xn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function gp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function uc(t,n,a,l,d,m){var b=0;if(l=t,typeof t=="function")wh(t)&&(b=1);else if(typeof t=="string")b=mT(t,a,be.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case D:return t=xn(31,a,n,d),t.elementType=D,t.lanes=m,t;case L:return ma(a.children,d,m,n);case Z:b=8,d|=24;break;case K:return t=xn(12,a,n,d|2),t.elementType=K,t.lanes=m,t;case J:return t=xn(13,a,n,d),t.elementType=J,t.lanes=m,t;case re:return t=xn(19,a,n,d),t.elementType=re,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fe:case k:b=10;break e;case ie:b=9;break e;case ae:b=11;break e;case w:b=14;break e;case A:b=16,l=null;break e}b=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=xn(b,a,n,d),n.elementType=t,n.type=l,n.lanes=m,n}function ma(t,n,a,l){return t=xn(7,t,l,n),t.lanes=a,t}function jh(t,n,a){return t=xn(6,t,null,n),t.lanes=a,t}function Rh(t,n,a){return n=xn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var cr=[],ur=0,hc=null,dc=0,Un=[],Bn=0,pa=null,ks=1,Ls="";function ga(t,n){cr[ur++]=dc,cr[ur++]=hc,hc=t,dc=n}function vp(t,n,a){Un[Bn++]=ks,Un[Bn++]=Ls,Un[Bn++]=pa,pa=t;var l=ks;t=Ls;var d=32-Zt(l)-1;l&=~(1<<d),a+=1;var m=32-Zt(n)+d;if(30<m){var b=d-d%5;m=(l&(1<<b)-1).toString(32),l>>=b,d-=b,ks=1<<32-Zt(n)+d|a<<d|l,Ls=m+t}else ks=1<<m|a<<d|l,Ls=t}function Ch(t){t.return!==null&&(ga(t,1),vp(t,1,0))}function Dh(t){for(;t===hc;)hc=cr[--ur],cr[ur]=null,dc=cr[--ur],cr[ur]=null;for(;t===pa;)pa=Un[--Bn],Un[Bn]=null,Ls=Un[--Bn],Un[Bn]=null,ks=Un[--Bn],Un[Bn]=null}var on=null,gt=null,Xe=!1,va=null,cs=!1,Ih=Error(r(519));function ya(t){var n=Error(r(418,""));throw xl(Ln(n,t)),Ih}function yp(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Dt]=t,n[At]=l,a){case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":case"embed":Le("load",n);break;case"video":case"audio":for(a=0;a<Ql.length;a++)Le(Ql[a],n);break;case"source":Le("error",n);break;case"img":case"image":case"link":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"input":Le("invalid",n),na(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),$a(n);break;case"select":Le("invalid",n);break;case"textarea":Le("invalid",n),sa(n,l.value,l.defaultValue,l.children),$a(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Ov(n.textContent,a)?(l.popover!=null&&(Le("beforetoggle",n),Le("toggle",n)),l.onScroll!=null&&Le("scroll",n),l.onScrollEnd!=null&&Le("scrollend",n),l.onClick!=null&&(n.onclick=Qc),n=!0):n=!1,n||ya(t)}function _p(t){for(on=t.return;on;)switch(on.tag){case 5:case 13:cs=!1;return;case 27:case 3:cs=!0;return;default:on=on.return}}function bl(t){if(t!==on)return!1;if(!Xe)return _p(t),Xe=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||$d(t.type,t.memoizedProps)),a=!a),a&&gt&&ya(t),_p(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){gt=Xn(t.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}gt=null}}else n===27?(n=gt,Ti(t.type)?(t=Jd,Jd=null,gt=t):gt=n):gt=on?Xn(t.stateNode.nextSibling):null;return!0}function El(){gt=on=null,Xe=!1}function bp(){var t=va;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),va=null),t}function xl(t){va===null?va=[t]:va.push(t)}var Mh=ee(null),_a=null,Ps=null;function oi(t,n,a){se(Mh,n._currentValue),n._currentValue=a}function Us(t){t._currentValue=Mh.current,he(Mh)}function Vh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Oh(t,n,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var m=d.dependencies;if(m!==null){var b=d.child;m=m.firstContext;e:for(;m!==null;){var x=m;m=d;for(var I=0;I<n.length;I++)if(x.context===n[I]){m.lanes|=a,x=m.alternate,x!==null&&(x.lanes|=a),Vh(m.return,a,t),l||(b=null);break e}m=x.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(r(341));b.lanes|=a,m=b.alternate,m!==null&&(m.lanes|=a),Vh(b,a,t),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===t){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function Tl(t,n,a,l){t=null;for(var d=n,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var x=d.type;En(d.pendingProps.value,b.value)||(t!==null?t.push(x):t=[x])}}else if(d===Ve.current){if(b=d.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Jl):t=[Jl])}d=d.return}t!==null&&Oh(n,t,a,l),n.flags|=262144}function fc(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ba(t){_a=t,Ps=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Jt(t){return Ep(_a,t)}function mc(t,n){return _a===null&&ba(t),Ep(t,n)}function Ep(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ps===null){if(t===null)throw Error(r(308));Ps=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ps=Ps.next=n;return a}var fx=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},mx=i.unstable_scheduleCallback,px=i.unstable_NormalPriority,Vt={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kh(){return{controller:new fx,data:new Map,refCount:0}}function Al(t){t.refCount--,t.refCount===0&&mx(px,function(){t.controller.abort()})}var Nl=null,Lh=0,hr=0,dr=null;function gx(t,n){if(Nl===null){var a=Nl=[];Lh=0,hr=Ud(),dr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Lh++,n.then(xp,xp),n}function xp(){if(--Lh===0&&Nl!==null){dr!==null&&(dr.status="fulfilled");var t=Nl;Nl=null,hr=0,dr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function vx(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var d=0;d<a.length;d++)(0,a[d])(n)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var Tp=Y.S;Y.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&gx(t,n),Tp!==null&&Tp(t,n)};var Ea=ee(null);function Ph(){var t=Ea.current;return t!==null?t:ct.pooledCache}function pc(t,n){n===null?se(Ea,Ea.current):se(Ea,n.pool)}function Ap(){var t=Ph();return t===null?null:{parent:Vt._currentValue,pool:t}}var Sl=Error(r(460)),Np=Error(r(474)),gc=Error(r(542)),Uh={then:function(){}};function Sp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function vc(){}function wp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(vc,vc),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Rp(t),t;default:if(typeof n.status=="string")n.then(vc,vc);else{if(t=ct,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=l}},function(l){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Rp(t),t}throw wl=n,Sl}}var wl=null;function jp(){if(wl===null)throw Error(r(459));var t=wl;return wl=null,t}function Rp(t){if(t===Sl||t===gc)throw Error(r(483))}var ci=!1;function Bh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ui(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function hi(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(tt&2)!==0){var d=l.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),l.pending=n,n=cc(t),pp(t,null,a),n}return oc(t,l,n,a),cc(t)}function jl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,nl(t,a)}}function qh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?d=m=b:m=m.next=b,a=a.next}while(a!==null);m===null?d=m=n:m=m.next=n}else d=m=n;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Hh=!1;function Rl(){if(Hh){var t=dr;if(t!==null)throw t}}function Cl(t,n,a,l){Hh=!1;var d=t.updateQueue;ci=!1;var m=d.firstBaseUpdate,b=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var I=x,q=I.next;I.next=null,b===null?m=q:b.next=q,b=I;var X=t.alternate;X!==null&&(X=X.updateQueue,x=X.lastBaseUpdate,x!==b&&(x===null?X.firstBaseUpdate=q:x.next=q,X.lastBaseUpdate=I))}if(m!==null){var te=d.baseState;b=0,X=q=I=null,x=m;do{var F=x.lane&-536870913,G=F!==x.lane;if(G?(Fe&F)===F:(l&F)===F){F!==0&&F===hr&&(Hh=!0),X!==null&&(X=X.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var Ne=t,Ee=x;F=n;var rt=a;switch(Ee.tag){case 1:if(Ne=Ee.payload,typeof Ne=="function"){te=Ne.call(rt,te,F);break e}te=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Ee.payload,F=typeof Ne=="function"?Ne.call(rt,te,F):Ne,F==null)break e;te=E({},te,F);break e;case 2:ci=!0}}F=x.callback,F!==null&&(t.flags|=64,G&&(t.flags|=8192),G=d.callbacks,G===null?d.callbacks=[F]:G.push(F))}else G={lane:F,tag:x.tag,payload:x.payload,callback:x.callback,next:null},X===null?(q=X=G,I=te):X=X.next=G,b|=F;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;G=x,x=G.next,G.next=null,d.lastBaseUpdate=G,d.shared.pending=null}}while(!0);X===null&&(I=te),d.baseState=I,d.firstBaseUpdate=q,d.lastBaseUpdate=X,m===null&&(d.shared.lanes=0),_i|=b,t.lanes=b,t.memoizedState=te}}function Cp(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Dp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Cp(a[t],n)}var fr=ee(null),yc=ee(0);function Ip(t,n){t=Qs,se(yc,t),se(fr,n),Qs=t|n.baseLanes}function Fh(){se(yc,Qs),se(fr,fr.current)}function Gh(){Qs=yc.current,he(fr),he(yc)}var di=0,Ie=null,it=null,St=null,_c=!1,mr=!1,xa=!1,bc=0,Dl=0,pr=null,yx=0;function _t(){throw Error(r(321))}function Qh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!En(t[a],n[a]))return!1;return!0}function Yh(t,n,a,l,d,m){return di=m,Ie=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Y.H=t===null||t.memoizedState===null?pg:gg,xa=!1,m=a(l,d),xa=!1,mr&&(m=Vp(n,a,l,d)),Mp(t),m}function Mp(t){Y.H=Sc;var n=it!==null&&it.next!==null;if(di=0,St=it=Ie=null,_c=!1,Dl=0,pr=null,n)throw Error(r(300));t===null||Ut||(t=t.dependencies,t!==null&&fc(t)&&(Ut=!0))}function Vp(t,n,a,l){Ie=t;var d=0;do{if(mr&&(pr=null),Dl=0,mr=!1,25<=d)throw Error(r(301));if(d+=1,St=it=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Y.H=Nx,m=n(a,l)}while(mr);return m}function _x(){var t=Y.H,n=t.useState()[0];return n=typeof n.then=="function"?Il(n):n,t=t.useState()[0],(it!==null?it.memoizedState:null)!==t&&(Ie.flags|=1024),n}function $h(){var t=bc!==0;return bc=0,t}function Kh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Xh(t){if(_c){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}_c=!1}di=0,St=it=Ie=null,mr=!1,Dl=bc=0,pr=null}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Ie.memoizedState=St=t:St=St.next=t,St}function wt(){if(it===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var n=St===null?Ie.memoizedState:St.next;if(n!==null)St=n,it=t;else{if(t===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},St===null?Ie.memoizedState=St=t:St=St.next=t}return St}function Zh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Il(t){var n=Dl;return Dl+=1,pr===null&&(pr=[]),t=wp(pr,t,n),n=Ie,(St===null?n.memoizedState:St.next)===null&&(n=n.alternate,Y.H=n===null||n.memoizedState===null?pg:gg),t}function Ec(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Il(t);if(t.$$typeof===k)return Jt(t)}throw Error(r(438,String(t)))}function Jh(t){var n=null,a=Ie.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Zh(),Ie.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=j;return n.index++,a}function Bs(t,n){return typeof n=="function"?n(t):n}function xc(t){var n=wt();return Wh(n,it,t)}function Wh(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var d=t.baseQueue,m=l.pending;if(m!==null){if(d!==null){var b=d.next;d.next=m.next,m.next=b}n.baseQueue=d=m,l.pending=null}if(m=t.baseState,d===null)t.memoizedState=m;else{n=d.next;var x=b=null,I=null,q=n,X=!1;do{var te=q.lane&-536870913;if(te!==q.lane?(Fe&te)===te:(di&te)===te){var F=q.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),te===hr&&(X=!0);else if((di&F)===F){q=q.next,F===hr&&(X=!0);continue}else te={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(x=I=te,b=m):I=I.next=te,Ie.lanes|=F,_i|=F;te=q.action,xa&&a(m,te),m=q.hasEagerState?q.eagerState:a(m,te)}else F={lane:te,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(x=I=F,b=m):I=I.next=F,Ie.lanes|=te,_i|=te;q=q.next}while(q!==null&&q!==n);if(I===null?b=m:I.next=x,!En(m,t.memoizedState)&&(Ut=!0,X&&(a=dr,a!==null)))throw a;t.memoizedState=m,t.baseState=b,t.baseQueue=I,l.lastRenderedState=m}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ed(t){var n=wt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,m=n.memoizedState;if(d!==null){a.pending=null;var b=d=d.next;do m=t(m,b.action),b=b.next;while(b!==d);En(m,n.memoizedState)||(Ut=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),a.lastRenderedState=m}return[m,l]}function Op(t,n,a){var l=Ie,d=wt(),m=Xe;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=n();var b=!En((it||d).memoizedState,a);b&&(d.memoizedState=a,Ut=!0),d=d.queue;var x=Pp.bind(null,l,d,t);if(Ml(2048,8,x,[t]),d.getSnapshot!==n||b||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,gr(9,Tc(),Lp.bind(null,l,d,a,n),null),ct===null)throw Error(r(349));m||(di&124)!==0||kp(l,n,a)}return a}function kp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ie.updateQueue,n===null?(n=Zh(),Ie.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Lp(t,n,a,l){n.value=a,n.getSnapshot=l,Up(n)&&Bp(t)}function Pp(t,n,a){return a(function(){Up(n)&&Bp(t)})}function Up(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!En(t,a)}catch{return!0}}function Bp(t){var n=lr(t,2);n!==null&&wn(n,t,2)}function td(t){var n=hn();if(typeof t=="function"){var a=t;if(t=a(),xa){_n(!0);try{a()}finally{_n(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:t},n}function zp(t,n,a,l){return t.baseState=a,Wh(t,it,typeof l=="function"?l:Bs)}function bx(t,n,a,l,d){if(Nc(t))throw Error(r(485));if(t=n.action,t!==null){var m={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};Y.T!==null?a(!0):m.isTransition=!1,l(m),a=n.pending,a===null?(m.next=n.pending=m,qp(n,m)):(m.next=a.next,n.pending=a.next=m)}}function qp(t,n){var a=n.action,l=n.payload,d=t.state;if(n.isTransition){var m=Y.T,b={};Y.T=b;try{var x=a(d,l),I=Y.S;I!==null&&I(b,x),Hp(t,n,x)}catch(q){nd(t,n,q)}finally{Y.T=m}}else try{m=a(d,l),Hp(t,n,m)}catch(q){nd(t,n,q)}}function Hp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Fp(t,n,l)},function(l){return nd(t,n,l)}):Fp(t,n,a)}function Fp(t,n,a){n.status="fulfilled",n.value=a,Gp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,qp(t,a)))}function nd(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Gp(n),n=n.next;while(n!==l)}t.action=null}function Gp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Qp(t,n){return n}function Yp(t,n){if(Xe){var a=ct.formState;if(a!==null){e:{var l=Ie;if(Xe){if(gt){t:{for(var d=gt,m=cs;d.nodeType!==8;){if(!m){d=null;break t}if(d=Xn(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){gt=Xn(d.nextSibling),l=d.data==="F!";break e}}ya(l)}l=!1}l&&(n=a[0])}}return a=hn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qp,lastRenderedState:n},a.queue=l,a=dg.bind(null,Ie,l),l.dispatch=a,l=td(!1),m=ld.bind(null,Ie,!1,l.queue),l=hn(),d={state:n,dispatch:null,action:t,pending:null},l.queue=d,a=bx.bind(null,Ie,d,m,a),d.dispatch=a,l.memoizedState=t,[n,a,!1]}function $p(t){var n=wt();return Kp(n,it,t)}function Kp(t,n,a){if(n=Wh(t,n,Qp)[0],t=xc(Bs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Il(n)}catch(b){throw b===Sl?gc:b}else l=n;n=wt();var d=n.queue,m=d.dispatch;return a!==n.memoizedState&&(Ie.flags|=2048,gr(9,Tc(),Ex.bind(null,d,a),null)),[l,m,t]}function Ex(t,n){t.action=n}function Xp(t){var n=wt(),a=it;if(a!==null)return Kp(n,a,t);wt(),n=n.memoizedState,a=wt();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function gr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Ie.updateQueue,n===null&&(n=Zh(),Ie.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Tc(){return{destroy:void 0,resource:void 0}}function Zp(){return wt().memoizedState}function Ac(t,n,a,l){var d=hn();l=l===void 0?null:l,Ie.flags|=t,d.memoizedState=gr(1|n,Tc(),a,l)}function Ml(t,n,a,l){var d=wt();l=l===void 0?null:l;var m=d.memoizedState.inst;it!==null&&l!==null&&Qh(l,it.memoizedState.deps)?d.memoizedState=gr(n,m,a,l):(Ie.flags|=t,d.memoizedState=gr(1|n,m,a,l))}function Jp(t,n){Ac(8390656,8,t,n)}function Wp(t,n){Ml(2048,8,t,n)}function eg(t,n){return Ml(4,2,t,n)}function tg(t,n){return Ml(4,4,t,n)}function ng(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function sg(t,n,a){a=a!=null?a.concat([t]):null,Ml(4,4,ng.bind(null,n,t),a)}function sd(){}function ig(t,n){var a=wt();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Qh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function ag(t,n){var a=wt();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Qh(n,l[1]))return l[0];if(l=t(),xa){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,n],l}function id(t,n,a){return a===void 0||(di&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=ov(),Ie.lanes|=t,_i|=t,a)}function rg(t,n,a,l){return En(a,n)?a:fr.current!==null?(t=id(t,a,l),En(t,n)||(Ut=!0),t):(di&42)===0?(Ut=!0,t.memoizedState=a):(t=ov(),Ie.lanes|=t,_i|=t,n)}function lg(t,n,a,l,d){var m=ce.p;ce.p=m!==0&&8>m?m:8;var b=Y.T,x={};Y.T=x,ld(t,!1,n,a);try{var I=d(),q=Y.S;if(q!==null&&q(x,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=vx(I,l);Vl(t,n,X,Sn(t))}else Vl(t,n,l,Sn(t))}catch(te){Vl(t,n,{then:function(){},status:"rejected",reason:te},Sn())}finally{ce.p=m,Y.T=b}}function xx(){}function ad(t,n,a,l){if(t.tag!==5)throw Error(r(476));var d=og(t).queue;lg(t,d,n,ge,a===null?xx:function(){return cg(t),a(l)})}function og(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:ge},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function cg(t){var n=og(t).next.queue;Vl(t,n,{},Sn())}function rd(){return Jt(Jl)}function ug(){return wt().memoizedState}function hg(){return wt().memoizedState}function Tx(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Sn();t=ui(a);var l=hi(n,t,a);l!==null&&(wn(l,n,a),jl(l,n,a)),n={cache:kh()},t.payload=n;return}n=n.return}}function Ax(t,n,a){var l=Sn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Nc(t)?fg(n,a):(a=Sh(t,n,a,l),a!==null&&(wn(a,t,l),mg(a,n,l)))}function dg(t,n,a){var l=Sn();Vl(t,n,a,l)}function Vl(t,n,a,l){var d={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Nc(t))fg(n,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var b=n.lastRenderedState,x=m(b,a);if(d.hasEagerState=!0,d.eagerState=x,En(x,b))return oc(t,n,d,0),ct===null&&lc(),!1}catch{}finally{}if(a=Sh(t,n,d,l),a!==null)return wn(a,t,l),mg(a,n,l),!0}return!1}function ld(t,n,a,l){if(l={lane:2,revertLane:Ud(),action:l,hasEagerState:!1,eagerState:null,next:null},Nc(t)){if(n)throw Error(r(479))}else n=Sh(t,a,l,2),n!==null&&wn(n,t,2)}function Nc(t){var n=t.alternate;return t===Ie||n!==null&&n===Ie}function fg(t,n){mr=_c=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function mg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,nl(t,a)}}var Sc={readContext:Jt,use:Ec,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t},pg={readContext:Jt,use:Ec,useCallback:function(t,n){return hn().memoizedState=[t,n===void 0?null:n],t},useContext:Jt,useEffect:Jp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Ac(4194308,4,ng.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Ac(4194308,4,t,n)},useInsertionEffect:function(t,n){Ac(4,2,t,n)},useMemo:function(t,n){var a=hn();n=n===void 0?null:n;var l=t();if(xa){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=hn();if(a!==void 0){var d=a(n);if(xa){_n(!0);try{a(n)}finally{_n(!1)}}}else d=n;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=Ax.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var n=hn();return t={current:t},n.memoizedState=t},useState:function(t){t=td(t);var n=t.queue,a=dg.bind(null,Ie,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:sd,useDeferredValue:function(t,n){var a=hn();return id(a,t,n)},useTransition:function(){var t=td(!1);return t=lg.bind(null,Ie,t.queue,!0,!1),hn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Ie,d=hn();if(Xe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ct===null)throw Error(r(349));(Fe&124)!==0||kp(l,n,a)}d.memoizedState=a;var m={value:a,getSnapshot:n};return d.queue=m,Jp(Pp.bind(null,l,m,t),[t]),l.flags|=2048,gr(9,Tc(),Lp.bind(null,l,m,a,n),null),a},useId:function(){var t=hn(),n=ct.identifierPrefix;if(Xe){var a=Ls,l=ks;a=(l&~(1<<32-Zt(l)-1)).toString(32)+a,n="«"+n+"R"+a,a=bc++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=yx++,n="«"+n+"r"+a.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:rd,useFormState:Yp,useActionState:Yp,useOptimistic:function(t){var n=hn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=ld.bind(null,Ie,!0,a),a.dispatch=n,[t,n]},useMemoCache:Jh,useCacheRefresh:function(){return hn().memoizedState=Tx.bind(null,Ie)}},gg={readContext:Jt,use:Ec,useCallback:ig,useContext:Jt,useEffect:Wp,useImperativeHandle:sg,useInsertionEffect:eg,useLayoutEffect:tg,useMemo:ag,useReducer:xc,useRef:Zp,useState:function(){return xc(Bs)},useDebugValue:sd,useDeferredValue:function(t,n){var a=wt();return rg(a,it.memoizedState,t,n)},useTransition:function(){var t=xc(Bs)[0],n=wt().memoizedState;return[typeof t=="boolean"?t:Il(t),n]},useSyncExternalStore:Op,useId:ug,useHostTransitionStatus:rd,useFormState:$p,useActionState:$p,useOptimistic:function(t,n){var a=wt();return zp(a,it,t,n)},useMemoCache:Jh,useCacheRefresh:hg},Nx={readContext:Jt,use:Ec,useCallback:ig,useContext:Jt,useEffect:Wp,useImperativeHandle:sg,useInsertionEffect:eg,useLayoutEffect:tg,useMemo:ag,useReducer:ed,useRef:Zp,useState:function(){return ed(Bs)},useDebugValue:sd,useDeferredValue:function(t,n){var a=wt();return it===null?id(a,t,n):rg(a,it.memoizedState,t,n)},useTransition:function(){var t=ed(Bs)[0],n=wt().memoizedState;return[typeof t=="boolean"?t:Il(t),n]},useSyncExternalStore:Op,useId:ug,useHostTransitionStatus:rd,useFormState:Xp,useActionState:Xp,useOptimistic:function(t,n){var a=wt();return it!==null?zp(a,it,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Jh,useCacheRefresh:hg},vr=null,Ol=0;function wc(t){var n=Ol;return Ol+=1,vr===null&&(vr=[]),wp(vr,t,n)}function kl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function jc(t,n){throw n.$$typeof===C?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function vg(t){var n=t._init;return n(t._payload)}function yg(t){function n(P,O){if(t){var z=P.deletions;z===null?(P.deletions=[O],P.flags|=16):z.push(O)}}function a(P,O){if(!t)return null;for(;O!==null;)n(P,O),O=O.sibling;return null}function l(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function d(P,O){return P=Os(P,O),P.index=0,P.sibling=null,P}function m(P,O,z){return P.index=z,t?(z=P.alternate,z!==null?(z=z.index,z<O?(P.flags|=67108866,O):z):(P.flags|=67108866,O)):(P.flags|=1048576,O)}function b(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function x(P,O,z,W){return O===null||O.tag!==6?(O=jh(z,P.mode,W),O.return=P,O):(O=d(O,z),O.return=P,O)}function I(P,O,z,W){var pe=z.type;return pe===L?X(P,O,z.props.children,W,z.key):O!==null&&(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===A&&vg(pe)===O.type)?(O=d(O,z.props),kl(O,z),O.return=P,O):(O=uc(z.type,z.key,z.props,null,P.mode,W),kl(O,z),O.return=P,O)}function q(P,O,z,W){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=Rh(z,P.mode,W),O.return=P,O):(O=d(O,z.children||[]),O.return=P,O)}function X(P,O,z,W,pe){return O===null||O.tag!==7?(O=ma(z,P.mode,W,pe),O.return=P,O):(O=d(O,z),O.return=P,O)}function te(P,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=jh(""+O,P.mode,z),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case R:return z=uc(O.type,O.key,O.props,null,P.mode,z),kl(z,O),z.return=P,z;case U:return O=Rh(O,P.mode,z),O.return=P,O;case A:var W=O._init;return O=W(O._payload),te(P,O,z)}if($e(O)||V(O))return O=ma(O,P.mode,z,null),O.return=P,O;if(typeof O.then=="function")return te(P,wc(O),z);if(O.$$typeof===k)return te(P,mc(P,O),z);jc(P,O)}return null}function F(P,O,z,W){var pe=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return pe!==null?null:x(P,O,""+z,W);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case R:return z.key===pe?I(P,O,z,W):null;case U:return z.key===pe?q(P,O,z,W):null;case A:return pe=z._init,z=pe(z._payload),F(P,O,z,W)}if($e(z)||V(z))return pe!==null?null:X(P,O,z,W,null);if(typeof z.then=="function")return F(P,O,wc(z),W);if(z.$$typeof===k)return F(P,O,mc(P,z),W);jc(P,z)}return null}function G(P,O,z,W,pe){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return P=P.get(z)||null,x(O,P,""+W,pe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case R:return P=P.get(W.key===null?z:W.key)||null,I(O,P,W,pe);case U:return P=P.get(W.key===null?z:W.key)||null,q(O,P,W,pe);case A:var Oe=W._init;return W=Oe(W._payload),G(P,O,z,W,pe)}if($e(W)||V(W))return P=P.get(z)||null,X(O,P,W,pe,null);if(typeof W.then=="function")return G(P,O,z,wc(W),pe);if(W.$$typeof===k)return G(P,O,z,mc(O,W),pe);jc(O,W)}return null}function Ne(P,O,z,W){for(var pe=null,Oe=null,ye=O,xe=O=0,zt=null;ye!==null&&xe<z.length;xe++){ye.index>xe?(zt=ye,ye=null):zt=ye.sibling;var Ke=F(P,ye,z[xe],W);if(Ke===null){ye===null&&(ye=zt);break}t&&ye&&Ke.alternate===null&&n(P,ye),O=m(Ke,O,xe),Oe===null?pe=Ke:Oe.sibling=Ke,Oe=Ke,ye=zt}if(xe===z.length)return a(P,ye),Xe&&ga(P,xe),pe;if(ye===null){for(;xe<z.length;xe++)ye=te(P,z[xe],W),ye!==null&&(O=m(ye,O,xe),Oe===null?pe=ye:Oe.sibling=ye,Oe=ye);return Xe&&ga(P,xe),pe}for(ye=l(ye);xe<z.length;xe++)zt=G(ye,P,xe,z[xe],W),zt!==null&&(t&&zt.alternate!==null&&ye.delete(zt.key===null?xe:zt.key),O=m(zt,O,xe),Oe===null?pe=zt:Oe.sibling=zt,Oe=zt);return t&&ye.forEach(function(ji){return n(P,ji)}),Xe&&ga(P,xe),pe}function Ee(P,O,z,W){if(z==null)throw Error(r(151));for(var pe=null,Oe=null,ye=O,xe=O=0,zt=null,Ke=z.next();ye!==null&&!Ke.done;xe++,Ke=z.next()){ye.index>xe?(zt=ye,ye=null):zt=ye.sibling;var ji=F(P,ye,Ke.value,W);if(ji===null){ye===null&&(ye=zt);break}t&&ye&&ji.alternate===null&&n(P,ye),O=m(ji,O,xe),Oe===null?pe=ji:Oe.sibling=ji,Oe=ji,ye=zt}if(Ke.done)return a(P,ye),Xe&&ga(P,xe),pe;if(ye===null){for(;!Ke.done;xe++,Ke=z.next())Ke=te(P,Ke.value,W),Ke!==null&&(O=m(Ke,O,xe),Oe===null?pe=Ke:Oe.sibling=Ke,Oe=Ke);return Xe&&ga(P,xe),pe}for(ye=l(ye);!Ke.done;xe++,Ke=z.next())Ke=G(ye,P,xe,Ke.value,W),Ke!==null&&(t&&Ke.alternate!==null&&ye.delete(Ke.key===null?xe:Ke.key),O=m(Ke,O,xe),Oe===null?pe=Ke:Oe.sibling=Ke,Oe=Ke);return t&&ye.forEach(function(ST){return n(P,ST)}),Xe&&ga(P,xe),pe}function rt(P,O,z,W){if(typeof z=="object"&&z!==null&&z.type===L&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case R:e:{for(var pe=z.key;O!==null;){if(O.key===pe){if(pe=z.type,pe===L){if(O.tag===7){a(P,O.sibling),W=d(O,z.props.children),W.return=P,P=W;break e}}else if(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===A&&vg(pe)===O.type){a(P,O.sibling),W=d(O,z.props),kl(W,z),W.return=P,P=W;break e}a(P,O);break}else n(P,O);O=O.sibling}z.type===L?(W=ma(z.props.children,P.mode,W,z.key),W.return=P,P=W):(W=uc(z.type,z.key,z.props,null,P.mode,W),kl(W,z),W.return=P,P=W)}return b(P);case U:e:{for(pe=z.key;O!==null;){if(O.key===pe)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){a(P,O.sibling),W=d(O,z.children||[]),W.return=P,P=W;break e}else{a(P,O);break}else n(P,O);O=O.sibling}W=Rh(z,P.mode,W),W.return=P,P=W}return b(P);case A:return pe=z._init,z=pe(z._payload),rt(P,O,z,W)}if($e(z))return Ne(P,O,z,W);if(V(z)){if(pe=V(z),typeof pe!="function")throw Error(r(150));return z=pe.call(z),Ee(P,O,z,W)}if(typeof z.then=="function")return rt(P,O,wc(z),W);if(z.$$typeof===k)return rt(P,O,mc(P,z),W);jc(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(a(P,O.sibling),W=d(O,z),W.return=P,P=W):(a(P,O),W=jh(z,P.mode,W),W.return=P,P=W),b(P)):a(P,O)}return function(P,O,z,W){try{Ol=0;var pe=rt(P,O,z,W);return vr=null,pe}catch(ye){if(ye===Sl||ye===gc)throw ye;var Oe=xn(29,ye,null,P.mode);return Oe.lanes=W,Oe.return=P,Oe}finally{}}}var yr=yg(!0),_g=yg(!1),zn=ee(null),us=null;function fi(t){var n=t.alternate;se(Ot,Ot.current&1),se(zn,t),us===null&&(n===null||fr.current!==null||n.memoizedState!==null)&&(us=t)}function bg(t){if(t.tag===22){if(se(Ot,Ot.current),se(zn,t),us===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(us=t)}}else mi()}function mi(){se(Ot,Ot.current),se(zn,zn.current)}function zs(t){he(zn),us===t&&(us=null),he(Ot)}var Ot=ee(0);function Rc(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Zd(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function od(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:E({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var cd={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=Sn(),d=ui(l);d.payload=n,a!=null&&(d.callback=a),n=hi(t,d,l),n!==null&&(wn(n,t,l),jl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=Sn(),d=ui(l);d.tag=1,d.payload=n,a!=null&&(d.callback=a),n=hi(t,d,l),n!==null&&(wn(n,t,l),jl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Sn(),l=ui(a);l.tag=2,n!=null&&(l.callback=n),n=hi(t,l,a),n!==null&&(wn(n,t,a),jl(n,t,a))}};function Eg(t,n,a,l,d,m,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,b):n.prototype&&n.prototype.isPureReactComponent?!yl(a,l)||!yl(d,m):!0}function xg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&cd.enqueueReplaceState(n,n.state,null)}function Ta(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=E({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}var Cc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Tg(t){Cc(t)}function Ag(t){console.error(t)}function Ng(t){Cc(t)}function Dc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Sg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function ud(t,n,a){return a=ui(a),a.tag=3,a.payload={element:null},a.callback=function(){Dc(t,n)},a}function wg(t){return t=ui(t),t.tag=3,t}function jg(t,n,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var m=l.value;t.payload=function(){return d(m)},t.callback=function(){Sg(n,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){Sg(n,a,l),typeof d!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function Sx(t,n,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Tl(n,a,d,!0),a=zn.current,a!==null){switch(a.tag){case 13:return us===null?Vd():a.alternate===null&&vt===0&&(vt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===Uh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),kd(t,l,d)),!1;case 22:return a.flags|=65536,l===Uh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),kd(t,l,d)),!1}throw Error(r(435,a.tag))}return kd(t,l,d),Vd(),!1}if(Xe)return n=zn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,l!==Ih&&(t=Error(r(422),{cause:l}),xl(Ln(t,a)))):(l!==Ih&&(n=Error(r(423),{cause:l}),xl(Ln(n,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=Ln(l,a),d=ud(t.stateNode,l,d),qh(t,d),vt!==4&&(vt=2)),!1;var m=Error(r(520),{cause:l});if(m=Ln(m,a),Hl===null?Hl=[m]:Hl.push(m),vt!==4&&(vt=2),n===null)return!0;l=Ln(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=ud(a.stateNode,l,t),qh(a,t),!1;case 1:if(n=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(bi===null||!bi.has(m))))return a.flags|=65536,d&=-d,a.lanes|=d,d=wg(d),jg(d,t,a,l),qh(a,d),!1}a=a.return}while(a!==null);return!1}var Rg=Error(r(461)),Ut=!1;function Gt(t,n,a,l){n.child=t===null?_g(n,null,a,l):yr(n,t.child,a,l)}function Cg(t,n,a,l,d){a=a.render;var m=n.ref;if("ref"in l){var b={};for(var x in l)x!=="ref"&&(b[x]=l[x])}else b=l;return ba(n),l=Yh(t,n,a,b,m,d),x=$h(),t!==null&&!Ut?(Kh(t,n,d),qs(t,n,d)):(Xe&&x&&Ch(n),n.flags|=1,Gt(t,n,l,d),n.child)}function Dg(t,n,a,l,d){if(t===null){var m=a.type;return typeof m=="function"&&!wh(m)&&m.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=m,Ig(t,n,m,l,d)):(t=uc(a.type,null,l,n,n.mode,d),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!yd(t,d)){var b=m.memoizedProps;if(a=a.compare,a=a!==null?a:yl,a(b,l)&&t.ref===n.ref)return qs(t,n,d)}return n.flags|=1,t=Os(m,l),t.ref=n.ref,t.return=n,n.child=t}function Ig(t,n,a,l,d){if(t!==null){var m=t.memoizedProps;if(yl(m,l)&&t.ref===n.ref)if(Ut=!1,n.pendingProps=l=m,yd(t,d))(t.flags&131072)!==0&&(Ut=!0);else return n.lanes=t.lanes,qs(t,n,d)}return hd(t,n,a,l,d)}function Mg(t,n,a){var l=n.pendingProps,d=l.children,m=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,t!==null){for(d=n.child=t.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;n.childLanes=m&~l}else n.childLanes=0,n.child=null;return Vg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&pc(n,m!==null?m.cachePool:null),m!==null?Ip(n,m):Fh(),bg(n);else return n.lanes=n.childLanes=536870912,Vg(t,n,m!==null?m.baseLanes|a:a,a)}else m!==null?(pc(n,m.cachePool),Ip(n,m),mi(),n.memoizedState=null):(t!==null&&pc(n,null),Fh(),mi());return Gt(t,n,d,a),n.child}function Vg(t,n,a,l){var d=Ph();return d=d===null?null:{parent:Vt._currentValue,pool:d},n.memoizedState={baseLanes:a,cachePool:d},t!==null&&pc(n,null),Fh(),bg(n),t!==null&&Tl(t,n,l,!0),null}function Ic(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function hd(t,n,a,l,d){return ba(n),a=Yh(t,n,a,l,void 0,d),l=$h(),t!==null&&!Ut?(Kh(t,n,d),qs(t,n,d)):(Xe&&l&&Ch(n),n.flags|=1,Gt(t,n,a,d),n.child)}function Og(t,n,a,l,d,m){return ba(n),n.updateQueue=null,a=Vp(n,l,a,d),Mp(t),l=$h(),t!==null&&!Ut?(Kh(t,n,m),qs(t,n,m)):(Xe&&l&&Ch(n),n.flags|=1,Gt(t,n,a,m),n.child)}function kg(t,n,a,l,d){if(ba(n),n.stateNode===null){var m=or,b=a.contextType;typeof b=="object"&&b!==null&&(m=Jt(b)),m=new a(l,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=cd,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=l,m.state=n.memoizedState,m.refs={},Bh(n),b=a.contextType,m.context=typeof b=="object"&&b!==null?Jt(b):or,m.state=n.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(od(n,a,b,l),m.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&cd.enqueueReplaceState(m,m.state,null),Cl(n,l,m,d),Rl(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){m=n.stateNode;var x=n.memoizedProps,I=Ta(a,x);m.props=I;var q=m.context,X=a.contextType;b=or,typeof X=="object"&&X!==null&&(b=Jt(X));var te=a.getDerivedStateFromProps;X=typeof te=="function"||typeof m.getSnapshotBeforeUpdate=="function",x=n.pendingProps!==x,X||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x||q!==b)&&xg(n,m,l,b),ci=!1;var F=n.memoizedState;m.state=F,Cl(n,l,m,d),Rl(),q=n.memoizedState,x||F!==q||ci?(typeof te=="function"&&(od(n,a,te,l),q=n.memoizedState),(I=ci||Eg(n,a,I,l,F,q,b))?(X||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=q),m.props=l,m.state=q,m.context=b,l=I):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{m=n.stateNode,zh(t,n),b=n.memoizedProps,X=Ta(a,b),m.props=X,te=n.pendingProps,F=m.context,q=a.contextType,I=or,typeof q=="object"&&q!==null&&(I=Jt(q)),x=a.getDerivedStateFromProps,(q=typeof x=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==te||F!==I)&&xg(n,m,l,I),ci=!1,F=n.memoizedState,m.state=F,Cl(n,l,m,d),Rl();var G=n.memoizedState;b!==te||F!==G||ci||t!==null&&t.dependencies!==null&&fc(t.dependencies)?(typeof x=="function"&&(od(n,a,x,l),G=n.memoizedState),(X=ci||Eg(n,a,X,l,F,G,I)||t!==null&&t.dependencies!==null&&fc(t.dependencies))?(q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,G,I),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,G,I)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=G),m.props=l,m.state=G,m.context=I,l=X):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),l=!1)}return m=l,Ic(t,n),l=(n.flags&128)!==0,m||l?(m=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&l?(n.child=yr(n,t.child,null,d),n.child=yr(n,null,a,d)):Gt(t,n,a,d),n.memoizedState=m.state,t=n.child):t=qs(t,n,d),t}function Lg(t,n,a,l){return El(),n.flags|=256,Gt(t,n,a,l),n.child}var dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fd(t){return{baseLanes:t,cachePool:Ap()}}function md(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=qn),t}function Pg(t,n,a){var l=n.pendingProps,d=!1,m=(n.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:(Ot.current&2)!==0),b&&(d=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,t===null){if(Xe){if(d?fi(n):mi(),Xe){var x=gt,I;if(I=x){e:{for(I=x,x=cs;I.nodeType!==8;){if(!x){x=null;break e}if(I=Xn(I.nextSibling),I===null){x=null;break e}}x=I}x!==null?(n.memoizedState={dehydrated:x,treeContext:pa!==null?{id:ks,overflow:Ls}:null,retryLane:536870912,hydrationErrors:null},I=xn(18,null,null,0),I.stateNode=x,I.return=n,n.child=I,on=n,gt=null,I=!0):I=!1}I||ya(n)}if(x=n.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return Zd(x)?n.lanes=32:n.lanes=536870912,null;zs(n)}return x=l.children,l=l.fallback,d?(mi(),d=n.mode,x=Mc({mode:"hidden",children:x},d),l=ma(l,d,a,null),x.return=n,l.return=n,x.sibling=l,n.child=x,d=n.child,d.memoizedState=fd(a),d.childLanes=md(t,b,a),n.memoizedState=dd,l):(fi(n),pd(n,x))}if(I=t.memoizedState,I!==null&&(x=I.dehydrated,x!==null)){if(m)n.flags&256?(fi(n),n.flags&=-257,n=gd(t,n,a)):n.memoizedState!==null?(mi(),n.child=t.child,n.flags|=128,n=null):(mi(),d=l.fallback,x=n.mode,l=Mc({mode:"visible",children:l.children},x),d=ma(d,x,a,null),d.flags|=2,l.return=n,d.return=n,l.sibling=d,n.child=l,yr(n,t.child,null,a),l=n.child,l.memoizedState=fd(a),l.childLanes=md(t,b,a),n.memoizedState=dd,n=d);else if(fi(n),Zd(x)){if(b=x.nextSibling&&x.nextSibling.dataset,b)var q=b.dgst;b=q,l=Error(r(419)),l.stack="",l.digest=b,xl({value:l,source:null,stack:null}),n=gd(t,n,a)}else if(Ut||Tl(t,n,a,!1),b=(a&t.childLanes)!==0,Ut||b){if(b=ct,b!==null&&(l=a&-a,l=(l&42)!==0?1:ti(l),l=(l&(b.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,lr(t,l),wn(b,t,l),Rg;x.data==="$?"||Vd(),n=gd(t,n,a)}else x.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,gt=Xn(x.nextSibling),on=n,Xe=!0,va=null,cs=!1,t!==null&&(Un[Bn++]=ks,Un[Bn++]=Ls,Un[Bn++]=pa,ks=t.id,Ls=t.overflow,pa=n),n=pd(n,l.children),n.flags|=4096);return n}return d?(mi(),d=l.fallback,x=n.mode,I=t.child,q=I.sibling,l=Os(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,q!==null?d=Os(q,d):(d=ma(d,x,a,null),d.flags|=2),d.return=n,l.return=n,l.sibling=d,n.child=l,l=d,d=n.child,x=t.child.memoizedState,x===null?x=fd(a):(I=x.cachePool,I!==null?(q=Vt._currentValue,I=I.parent!==q?{parent:q,pool:q}:I):I=Ap(),x={baseLanes:x.baseLanes|a,cachePool:I}),d.memoizedState=x,d.childLanes=md(t,b,a),n.memoizedState=dd,l):(fi(n),a=t.child,t=a.sibling,a=Os(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(b=n.deletions,b===null?(n.deletions=[t],n.flags|=16):b.push(t)),n.child=a,n.memoizedState=null,a)}function pd(t,n){return n=Mc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Mc(t,n){return t=xn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function gd(t,n,a){return yr(n,t.child,null,a),t=pd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ug(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Vh(t.return,n,a)}function vd(t,n,a,l,d){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d}:(m.isBackwards=n,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=d)}function Bg(t,n,a){var l=n.pendingProps,d=l.revealOrder,m=l.tail;if(Gt(t,n,l.children,a),l=Ot.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ug(t,a,n);else if(t.tag===19)Ug(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(se(Ot,l),d){case"forwards":for(a=n.child,d=null;a!==null;)t=a.alternate,t!==null&&Rc(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=n.child,n.child=null):(d=a.sibling,a.sibling=null),vd(n,!1,d,a,m);break;case"backwards":for(a=null,d=n.child,n.child=null;d!==null;){if(t=d.alternate,t!==null&&Rc(t)===null){n.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}vd(n,!0,a,null,m);break;case"together":vd(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function qs(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),_i|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Tl(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Os(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Os(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function yd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&fc(t)))}function wx(t,n,a){switch(n.tag){case 3:H(n,n.stateNode.containerInfo),oi(n,Vt,t.memoizedState.cache),El();break;case 27:case 5:Ae(n);break;case 4:H(n,n.stateNode.containerInfo);break;case 10:oi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(fi(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Pg(t,n,a):(fi(n),t=qs(t,n,a),t!==null?t.sibling:null);fi(n);break;case 19:var d=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Tl(t,n,a,!1),l=(a&n.childLanes)!==0),d){if(l)return Bg(t,n,a);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),se(Ot,Ot.current),l)break;return null;case 22:case 23:return n.lanes=0,Mg(t,n,a);case 24:oi(n,Vt,t.memoizedState.cache)}return qs(t,n,a)}function zg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ut=!0;else{if(!yd(t,a)&&(n.flags&128)===0)return Ut=!1,wx(t,n,a);Ut=(t.flags&131072)!==0}else Ut=!1,Xe&&(n.flags&1048576)!==0&&vp(n,dc,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,d=l._init;if(l=d(l._payload),n.type=l,typeof l=="function")wh(l)?(t=Ta(l,t),n.tag=1,n=kg(null,n,l,t,a)):(n.tag=0,n=hd(null,n,l,t,a));else{if(l!=null){if(d=l.$$typeof,d===ae){n.tag=11,n=Cg(null,n,l,t,a);break e}else if(d===w){n.tag=14,n=Dg(null,n,l,t,a);break e}}throw n=Me(l)||l,Error(r(306,n,""))}}return n;case 0:return hd(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,d=Ta(l,n.pendingProps),kg(t,n,l,d,a);case 3:e:{if(H(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var m=n.memoizedState;d=m.element,zh(t,n),Cl(n,l,null,a);var b=n.memoizedState;if(l=b.cache,oi(n,Vt,l),l!==m.cache&&Oh(n,[Vt],a,!0),Rl(),l=b.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=Lg(t,n,l,a);break e}else if(l!==d){d=Ln(Error(r(424)),n),xl(d),n=Lg(t,n,l,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(gt=Xn(t.firstChild),on=n,Xe=!0,va=null,cs=!0,a=_g(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(El(),l===d){n=qs(t,n,a);break e}Gt(t,n,l,a)}n=n.child}return n;case 26:return Ic(t,n),t===null?(a=Gv(n.type,null,n.pendingProps,null))?n.memoizedState=a:Xe||(a=n.type,t=n.pendingProps,l=Yc(me.current).createElement(a),l[Dt]=n,l[At]=t,Yt(l,a,t),yt(l),n.stateNode=l):n.memoizedState=Gv(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ae(n),t===null&&Xe&&(l=n.stateNode=qv(n.type,n.pendingProps,me.current),on=n,cs=!0,d=gt,Ti(n.type)?(Jd=d,gt=Xn(l.firstChild)):gt=d),Gt(t,n,n.pendingProps.children,a),Ic(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Xe&&((d=l=gt)&&(l=tT(l,n.type,n.pendingProps,cs),l!==null?(n.stateNode=l,on=n,gt=Xn(l.firstChild),cs=!1,d=!0):d=!1),d||ya(n)),Ae(n),d=n.type,m=n.pendingProps,b=t!==null?t.memoizedProps:null,l=m.children,$d(d,m)?l=null:b!==null&&$d(d,b)&&(n.flags|=32),n.memoizedState!==null&&(d=Yh(t,n,_x,null,null,a),Jl._currentValue=d),Ic(t,n),Gt(t,n,l,a),n.child;case 6:return t===null&&Xe&&((t=a=gt)&&(a=nT(a,n.pendingProps,cs),a!==null?(n.stateNode=a,on=n,gt=null,t=!0):t=!1),t||ya(n)),null;case 13:return Pg(t,n,a);case 4:return H(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=yr(n,null,l,a):Gt(t,n,l,a),n.child;case 11:return Cg(t,n,n.type,n.pendingProps,a);case 7:return Gt(t,n,n.pendingProps,a),n.child;case 8:return Gt(t,n,n.pendingProps.children,a),n.child;case 12:return Gt(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,oi(n,n.type,l.value),Gt(t,n,l.children,a),n.child;case 9:return d=n.type._context,l=n.pendingProps.children,ba(n),d=Jt(d),l=l(d),n.flags|=1,Gt(t,n,l,a),n.child;case 14:return Dg(t,n,n.type,n.pendingProps,a);case 15:return Ig(t,n,n.type,n.pendingProps,a);case 19:return Bg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=Mc(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Os(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Mg(t,n,a);case 24:return ba(n),l=Jt(Vt),t===null?(d=Ph(),d===null&&(d=ct,m=kh(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=a),d=m),n.memoizedState={parent:l,cache:d},Bh(n),oi(n,Vt,d)):((t.lanes&a)!==0&&(zh(t,n),Cl(n,null,null,a),Rl()),d=t.memoizedState,m=n.memoizedState,d.parent!==l?(d={parent:l,cache:l},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),oi(n,Vt,l)):(l=m.cache,oi(n,Vt,l),l!==d.cache&&Oh(n,[Vt],a,!0))),Gt(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Hs(t){t.flags|=4}function qg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Xv(n)){if(n=zn.current,n!==null&&((Fe&4194048)===Fe?us!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||n!==us))throw wl=Uh,Np;t.flags|=8192}}function Vc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?el():536870912,t.lanes|=n,xr|=n)}function Ll(t,n){if(!Xe)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ft(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function jx(t,n,a){var l=n.pendingProps;switch(Dh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(n),null;case 1:return ft(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Us(Vt),Re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(bl(n)?Hs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,bp())),ft(n),null;case 26:return a=n.memoizedState,t===null?(Hs(n),a!==null?(ft(n),qg(n,a)):(ft(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Hs(n),ft(n),qg(n,a)):(ft(n),n.flags&=-16777217):(t.memoizedProps!==l&&Hs(n),ft(n),n.flags&=-16777217),null;case 27:Tt(n),a=me.current;var d=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Hs(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ft(n),null}t=be.current,bl(n)?yp(n):(t=qv(d,l,a),n.stateNode=t,Hs(n))}return ft(n),null;case 5:if(Tt(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Hs(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ft(n),null}if(t=be.current,bl(n))yp(n);else{switch(d=Yc(me.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?d.createElement(a,{is:l.is}):d.createElement(a)}}t[Dt]=n,t[At]=l;e:for(d=n.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}n.stateNode=t;e:switch(Yt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Hs(n)}}return ft(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Hs(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=me.current,bl(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,d=on,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[Dt]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ov(t.nodeValue,a)),t||ya(n)}else t=Yc(t).createTextNode(l),t[Dt]=n,n.stateNode=t}return ft(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=bl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(r(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Dt]=n}else El(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ft(n),d=!1}else d=bp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(zs(n),n):(zs(n),null)}if(zs(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Vc(n,n.updateQueue),ft(n),null;case 4:return Re(),t===null&&Hd(n.stateNode.containerInfo),ft(n),null;case 10:return Us(n.type),ft(n),null;case 19:if(he(Ot),d=n.memoizedState,d===null)return ft(n),null;if(l=(n.flags&128)!==0,m=d.rendering,m===null)if(l)Ll(d,!1);else{if(vt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=Rc(t),m!==null){for(n.flags|=128,Ll(d,!1),t=m.updateQueue,n.updateQueue=t,Vc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)gp(a,t),a=a.sibling;return se(Ot,Ot.current&1|2),n.child}t=t.sibling}d.tail!==null&&Dn()>Lc&&(n.flags|=128,l=!0,Ll(d,!1),n.lanes=4194304)}else{if(!l)if(t=Rc(m),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Vc(n,t),Ll(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!Xe)return ft(n),null}else 2*Dn()-d.renderingStartTime>Lc&&a!==536870912&&(n.flags|=128,l=!0,Ll(d,!1),n.lanes=4194304);d.isBackwards?(m.sibling=n.child,n.child=m):(t=d.last,t!==null?t.sibling=m:n.child=m,d.last=m)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=Dn(),n.sibling=null,t=Ot.current,se(Ot,l?t&1|2:t&1),n):(ft(n),null);case 22:case 23:return zs(n),Gh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ft(n),n.subtreeFlags&6&&(n.flags|=8192)):ft(n),a=n.updateQueue,a!==null&&Vc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&he(Ea),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Us(Vt),ft(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function Rx(t,n){switch(Dh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Us(Vt),Re(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Tt(n),null;case 13:if(zs(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));El()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return he(Ot),null;case 4:return Re(),null;case 10:return Us(n.type),null;case 22:case 23:return zs(n),Gh(),t!==null&&he(Ea),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Us(Vt),null;case 25:return null;default:return null}}function Hg(t,n){switch(Dh(n),n.tag){case 3:Us(Vt),Re();break;case 26:case 27:case 5:Tt(n);break;case 4:Re();break;case 13:zs(n);break;case 19:he(Ot);break;case 10:Us(n.type);break;case 22:case 23:zs(n),Gh(),t!==null&&he(Ea);break;case 24:Us(Vt)}}function Pl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var m=a.create,b=a.inst;l=m(),b.destroy=l}a=a.next}while(a!==d)}}catch(x){lt(n,n.return,x)}}function pi(t,n,a){try{var l=n.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var m=d.next;l=m;do{if((l.tag&t)===t){var b=l.inst,x=b.destroy;if(x!==void 0){b.destroy=void 0,d=n;var I=a,q=x;try{q()}catch(X){lt(d,I,X)}}}l=l.next}while(l!==m)}}catch(X){lt(n,n.return,X)}}function Fg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Dp(n,a)}catch(l){lt(t,t.return,l)}}}function Gg(t,n,a){a.props=Ta(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){lt(t,n,l)}}function Ul(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){lt(t,n,d)}}function hs(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){lt(t,n,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){lt(t,n,d)}else a.current=null}function Qg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){lt(t,t.return,d)}}function _d(t,n,a){try{var l=t.stateNode;Xx(l,t.type,a,n),l[At]=n}catch(d){lt(t,t.return,d)}}function Yg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ti(t.type)||t.tag===4}function bd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Yg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ti(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ed(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Qc));else if(l!==4&&(l===27&&Ti(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Ed(t,n,a),t=t.sibling;t!==null;)Ed(t,n,a),t=t.sibling}function Oc(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Ti(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Oc(t,n,a),t=t.sibling;t!==null;)Oc(t,n,a),t=t.sibling}function $g(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);Yt(n,l,a),n[Dt]=t,n[At]=a}catch(m){lt(t,t.return,m)}}var Fs=!1,bt=!1,xd=!1,Kg=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function Cx(t,n){if(t=t.containerInfo,Qd=Wc,t=rp(t),bh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var b=0,x=-1,I=-1,q=0,X=0,te=t,F=null;t:for(;;){for(var G;te!==a||d!==0&&te.nodeType!==3||(x=b+d),te!==m||l!==0&&te.nodeType!==3||(I=b+l),te.nodeType===3&&(b+=te.nodeValue.length),(G=te.firstChild)!==null;)F=te,te=G;for(;;){if(te===t)break t;if(F===a&&++q===d&&(x=b),F===m&&++X===l&&(I=b),(G=te.nextSibling)!==null)break;te=F,F=te.parentNode}te=G}a=x===-1||I===-1?null:{start:x,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Yd={focusedElem:t,selectionRange:a},Wc=!1,Bt=n;Bt!==null;)if(n=Bt,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Bt=t;else for(;Bt!==null;){switch(n=Bt,m=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=n,d=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Ne=Ta(a.type,d,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ne,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){lt(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Xd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Xd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Bt=t;break}Bt=n.return}}function Xg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:gi(t,a),l&4&&Pl(5,a);break;case 1:if(gi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(b){lt(a,a.return,b)}else{var d=Ta(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(d,n,t.__reactInternalSnapshotBeforeUpdate)}catch(b){lt(a,a.return,b)}}l&64&&Fg(a),l&512&&Ul(a,a.return);break;case 3:if(gi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Dp(t,n)}catch(b){lt(a,a.return,b)}}break;case 27:n===null&&l&4&&$g(a);case 26:case 5:gi(t,a),n===null&&l&4&&Qg(a),l&512&&Ul(a,a.return);break;case 12:gi(t,a);break;case 13:gi(t,a),l&4&&Wg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Ux.bind(null,a),sT(t,a))));break;case 22:if(l=a.memoizedState!==null||Fs,!l){n=n!==null&&n.memoizedState!==null||bt,d=Fs;var m=bt;Fs=l,(bt=n)&&!m?vi(t,a,(a.subtreeFlags&8772)!==0):gi(t,a),Fs=d,bt=m}break;case 30:break;default:gi(t,a)}}function Zg(t){var n=t.alternate;n!==null&&(t.alternate=null,Zg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ii(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var dt=null,dn=!1;function Gs(t,n,a){for(a=a.child;a!==null;)Jg(t,n,a),a=a.sibling}function Jg(t,n,a){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(pt,a)}catch{}switch(a.tag){case 26:bt||hs(a,n),Gs(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:bt||hs(a,n);var l=dt,d=dn;Ti(a.type)&&(dt=a.stateNode,dn=!1),Gs(t,n,a),$l(a.stateNode),dt=l,dn=d;break;case 5:bt||hs(a,n);case 6:if(l=dt,d=dn,dt=null,Gs(t,n,a),dt=l,dn=d,dt!==null)if(dn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(a.stateNode)}catch(m){lt(a,n,m)}else try{dt.removeChild(a.stateNode)}catch(m){lt(a,n,m)}break;case 18:dt!==null&&(dn?(t=dt,Bv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),no(t)):Bv(dt,a.stateNode));break;case 4:l=dt,d=dn,dt=a.stateNode.containerInfo,dn=!0,Gs(t,n,a),dt=l,dn=d;break;case 0:case 11:case 14:case 15:bt||pi(2,a,n),bt||pi(4,a,n),Gs(t,n,a);break;case 1:bt||(hs(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Gg(a,n,l)),Gs(t,n,a);break;case 21:Gs(t,n,a);break;case 22:bt=(l=bt)||a.memoizedState!==null,Gs(t,n,a),bt=l;break;default:Gs(t,n,a)}}function Wg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{no(t)}catch(a){lt(n,n.return,a)}}function Dx(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Kg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Kg),n;default:throw Error(r(435,t.tag))}}function Td(t,n){var a=Dx(t);n.forEach(function(l){var d=Bx.bind(null,t,l);a.has(l)||(a.add(l),l.then(d,d))})}function Tn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],m=t,b=n,x=b;e:for(;x!==null;){switch(x.tag){case 27:if(Ti(x.type)){dt=x.stateNode,dn=!1;break e}break;case 5:dt=x.stateNode,dn=!1;break e;case 3:case 4:dt=x.stateNode.containerInfo,dn=!0;break e}x=x.return}if(dt===null)throw Error(r(160));Jg(m,b,d),dt=null,dn=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)ev(n,t),n=n.sibling}var Kn=null;function ev(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Tn(n,t),An(t),l&4&&(pi(3,t,t.return),Pl(3,t),pi(5,t,t.return));break;case 1:Tn(n,t),An(t),l&512&&(bt||a===null||hs(a,a.return)),l&64&&Fs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=Kn;if(Tn(n,t),An(t),l&512&&(bt||a===null||hs(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Ji]||m[Dt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(l),d.head.insertBefore(m,d.querySelector("head > title"))),Yt(m,l,a),m[Dt]=t,yt(m),l=m;break e;case"link":var b=$v("link","href",d).get(l+(a.href||""));if(b){for(var x=0;x<b.length;x++)if(m=b[x],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(x,1);break t}}m=d.createElement(l),Yt(m,l,a),d.head.appendChild(m);break;case"meta":if(b=$v("meta","content",d).get(l+(a.content||""))){for(x=0;x<b.length;x++)if(m=b[x],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(x,1);break t}}m=d.createElement(l),Yt(m,l,a),d.head.appendChild(m);break;default:throw Error(r(468,l))}m[Dt]=t,yt(m),l=m}t.stateNode=l}else Kv(d,t.type,t.stateNode);else t.stateNode=Yv(d,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?Kv(d,t.type,t.stateNode):Yv(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&_d(t,t.memoizedProps,a.memoizedProps)}break;case 27:Tn(n,t),An(t),l&512&&(bt||a===null||hs(a,a.return)),a!==null&&l&4&&_d(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Tn(n,t),An(t),l&512&&(bt||a===null||hs(a,a.return)),t.flags&32){d=t.stateNode;try{Mn(d,"")}catch(G){lt(t,t.return,G)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,_d(t,d,a!==null?a.memoizedProps:d)),l&1024&&(xd=!0);break;case 6:if(Tn(n,t),An(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(G){lt(t,t.return,G)}}break;case 3:if(Xc=null,d=Kn,Kn=$c(n.containerInfo),Tn(n,t),Kn=d,An(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{no(n.containerInfo)}catch(G){lt(t,t.return,G)}xd&&(xd=!1,tv(t));break;case 4:l=Kn,Kn=$c(t.stateNode.containerInfo),Tn(n,t),An(t),Kn=l;break;case 12:Tn(n,t),An(t);break;case 13:Tn(n,t),An(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Rd=Dn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Td(t,l)));break;case 22:d=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,q=Fs,X=bt;if(Fs=q||d,bt=X||I,Tn(n,t),bt=X,Fs=q,An(t),l&8192)e:for(n=t.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(a===null||I||Fs||bt||Aa(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){I=a=n;try{if(m=I.stateNode,d)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{x=I.stateNode;var te=I.memoizedProps.style,F=te!=null&&te.hasOwnProperty("display")?te.display:null;x.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(G){lt(I,I.return,G)}}}else if(n.tag===6){if(a===null){I=n;try{I.stateNode.nodeValue=d?"":I.memoizedProps}catch(G){lt(I,I.return,G)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Td(t,a))));break;case 19:Tn(n,t),An(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Td(t,l)));break;case 30:break;case 21:break;default:Tn(n,t),An(t)}}function An(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Yg(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var d=a.stateNode,m=bd(t);Oc(t,m,d);break;case 5:var b=a.stateNode;a.flags&32&&(Mn(b,""),a.flags&=-33);var x=bd(t);Oc(t,x,b);break;case 3:case 4:var I=a.stateNode.containerInfo,q=bd(t);Ed(t,q,I);break;default:throw Error(r(161))}}catch(X){lt(t,t.return,X)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function tv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;tv(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function gi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Xg(t,n.alternate,n),n=n.sibling}function Aa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:pi(4,n,n.return),Aa(n);break;case 1:hs(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Gg(n,n.return,a),Aa(n);break;case 27:$l(n.stateNode);case 26:case 5:hs(n,n.return),Aa(n);break;case 22:n.memoizedState===null&&Aa(n);break;case 30:Aa(n);break;default:Aa(n)}t=t.sibling}}function vi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,d=t,m=n,b=m.flags;switch(m.tag){case 0:case 11:case 15:vi(d,m,a),Pl(4,m);break;case 1:if(vi(d,m,a),l=m,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(q){lt(l,l.return,q)}if(l=m,d=l.updateQueue,d!==null){var x=l.stateNode;try{var I=d.shared.hiddenCallbacks;if(I!==null)for(d.shared.hiddenCallbacks=null,d=0;d<I.length;d++)Cp(I[d],x)}catch(q){lt(l,l.return,q)}}a&&b&64&&Fg(m),Ul(m,m.return);break;case 27:$g(m);case 26:case 5:vi(d,m,a),a&&l===null&&b&4&&Qg(m),Ul(m,m.return);break;case 12:vi(d,m,a);break;case 13:vi(d,m,a),a&&b&4&&Wg(d,m);break;case 22:m.memoizedState===null&&vi(d,m,a),Ul(m,m.return);break;case 30:break;default:vi(d,m,a)}n=n.sibling}}function Ad(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Al(a))}function Nd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Al(t))}function ds(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)nv(t,n,a,l),n=n.sibling}function nv(t,n,a,l){var d=n.flags;switch(n.tag){case 0:case 11:case 15:ds(t,n,a,l),d&2048&&Pl(9,n);break;case 1:ds(t,n,a,l);break;case 3:ds(t,n,a,l),d&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Al(t)));break;case 12:if(d&2048){ds(t,n,a,l),t=n.stateNode;try{var m=n.memoizedProps,b=m.id,x=m.onPostCommit;typeof x=="function"&&x(b,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){lt(n,n.return,I)}}else ds(t,n,a,l);break;case 13:ds(t,n,a,l);break;case 23:break;case 22:m=n.stateNode,b=n.alternate,n.memoizedState!==null?m._visibility&2?ds(t,n,a,l):Bl(t,n):m._visibility&2?ds(t,n,a,l):(m._visibility|=2,_r(t,n,a,l,(n.subtreeFlags&10256)!==0)),d&2048&&Ad(b,n);break;case 24:ds(t,n,a,l),d&2048&&Nd(n.alternate,n);break;default:ds(t,n,a,l)}}function _r(t,n,a,l,d){for(d=d&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var m=t,b=n,x=a,I=l,q=b.flags;switch(b.tag){case 0:case 11:case 15:_r(m,b,x,I,d),Pl(8,b);break;case 23:break;case 22:var X=b.stateNode;b.memoizedState!==null?X._visibility&2?_r(m,b,x,I,d):Bl(m,b):(X._visibility|=2,_r(m,b,x,I,d)),d&&q&2048&&Ad(b.alternate,b);break;case 24:_r(m,b,x,I,d),d&&q&2048&&Nd(b.alternate,b);break;default:_r(m,b,x,I,d)}n=n.sibling}}function Bl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,d=l.flags;switch(l.tag){case 22:Bl(a,l),d&2048&&Ad(l.alternate,l);break;case 24:Bl(a,l),d&2048&&Nd(l.alternate,l);break;default:Bl(a,l)}n=n.sibling}}var zl=8192;function br(t){if(t.subtreeFlags&zl)for(t=t.child;t!==null;)sv(t),t=t.sibling}function sv(t){switch(t.tag){case 26:br(t),t.flags&zl&&t.memoizedState!==null&&gT(Kn,t.memoizedState,t.memoizedProps);break;case 5:br(t);break;case 3:case 4:var n=Kn;Kn=$c(t.stateNode.containerInfo),br(t),Kn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=zl,zl=16777216,br(t),zl=n):br(t));break;default:br(t)}}function iv(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ql(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Bt=l,rv(l,t)}iv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)av(t),t=t.sibling}function av(t){switch(t.tag){case 0:case 11:case 15:ql(t),t.flags&2048&&pi(9,t,t.return);break;case 3:ql(t);break;case 12:ql(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,kc(t)):ql(t);break;default:ql(t)}}function kc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Bt=l,rv(l,t)}iv(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:pi(8,n,n.return),kc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,kc(n));break;default:kc(n)}t=t.sibling}}function rv(t,n){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:pi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Al(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Bt=l;else e:for(a=t;Bt!==null;){l=Bt;var d=l.sibling,m=l.return;if(Zg(l),l===a){Bt=null;break e}if(d!==null){d.return=m,Bt=d;break e}Bt=m}}}var Ix={getCacheForType:function(t){var n=Jt(Vt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},Mx=typeof WeakMap=="function"?WeakMap:Map,tt=0,ct=null,ke=null,Fe=0,nt=0,Nn=null,yi=!1,Er=!1,Sd=!1,Qs=0,vt=0,_i=0,Na=0,wd=0,qn=0,xr=0,Hl=null,fn=null,jd=!1,Rd=0,Lc=1/0,Pc=null,bi=null,Qt=0,Ei=null,Tr=null,Ar=0,Cd=0,Dd=null,lv=null,Fl=0,Id=null;function Sn(){if((tt&2)!==0&&Fe!==0)return Fe&-Fe;if(Y.T!==null){var t=hr;return t!==0?t:Ud()}return ni()}function ov(){qn===0&&(qn=(Fe&536870912)===0||Xe?Wr():536870912);var t=zn.current;return t!==null&&(t.flags|=32),qn}function wn(t,n,a){(t===ct&&(nt===2||nt===9)||t.cancelPendingCommit!==null)&&(Nr(t,0),xi(t,Fe,qn,!1)),As(t,a),((tt&2)===0||t!==ct)&&(t===ct&&((tt&2)===0&&(Na|=a),vt===4&&xi(t,Fe,qn,!1)),fs(t))}function cv(t,n,a){if((tt&6)!==0)throw Error(r(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Zi(t,n),d=l?kx(t,n):Od(t,n,!0),m=l;do{if(d===0){Er&&!l&&xi(t,n,0,!1);break}else{if(a=t.current.alternate,m&&!Vx(a)){d=Od(t,n,!1),m=!1;continue}if(d===2){if(m=n,t.errorRecoveryDisabledLanes&m)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;e:{var x=t;d=Hl;var I=x.current.memoizedState.isDehydrated;if(I&&(Nr(x,b).flags|=256),b=Od(x,b,!1),b!==2){if(Sd&&!I){x.errorRecoveryDisabledLanes|=m,Na|=m,d=4;break e}m=fn,fn=d,m!==null&&(fn===null?fn=m:fn.push.apply(fn,m))}d=b}if(m=!1,d!==2)continue}}if(d===1){Nr(t,0),xi(t,n,0,!0);break}e:{switch(l=t,m=d,m){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:xi(l,n,qn,!yi);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(d=Rd+300-Dn(),10<d)){if(xi(l,n,qn,!yi),qa(l,0,!0)!==0)break e;l.timeoutHandle=Pv(uv.bind(null,l,a,fn,Pc,jd,n,qn,Na,xr,yi,m,2,-0,0),d);break e}uv(l,a,fn,Pc,jd,n,qn,Na,xr,yi,m,0,-0,0)}}break}while(!0);fs(t)}function uv(t,n,a,l,d,m,b,x,I,q,X,te,F,G){if(t.timeoutHandle=-1,te=n.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(Zl={stylesheets:null,count:0,unsuspend:pT},sv(n),te=vT(),te!==null)){t.cancelPendingCommit=te(vv.bind(null,t,n,m,a,l,d,b,x,I,X,1,F,G)),xi(t,m,b,!q);return}vv(t,n,m,a,l,d,b,x,I)}function Vx(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],m=d.getSnapshot;d=d.value;try{if(!En(m(),d))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function xi(t,n,a,l){n&=~wd,n&=~Na,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var d=n;0<d;){var m=31-Zt(d),b=1<<m;l[m]=-1,d&=~b}a!==0&&Jn(t,a,n)}function Uc(){return(tt&6)===0?(Gl(0),!1):!0}function Md(){if(ke!==null){if(nt===0)var t=ke.return;else t=ke,Ps=_a=null,Xh(t),vr=null,Ol=0,t=ke;for(;t!==null;)Hg(t.alternate,t),t=t.return;ke=null}}function Nr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Jx(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Md(),ct=t,ke=a=Os(t.current,null),Fe=n,nt=0,Nn=null,yi=!1,Er=Zi(t,n),Sd=!1,xr=qn=wd=Na=_i=vt=0,fn=Hl=null,jd=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var d=31-Zt(l),m=1<<d;n|=t[d],l&=~m}return Qs=n,lc(),a}function hv(t,n){Ie=null,Y.H=Sc,n===Sl||n===gc?(n=jp(),nt=3):n===Np?(n=jp(),nt=4):nt=n===Rg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Nn=n,ke===null&&(vt=1,Dc(t,Ln(n,t.current)))}function dv(){var t=Y.H;return Y.H=Sc,t===null?Sc:t}function fv(){var t=Y.A;return Y.A=Ix,t}function Vd(){vt=4,yi||(Fe&4194048)!==Fe&&zn.current!==null||(Er=!0),(_i&134217727)===0&&(Na&134217727)===0||ct===null||xi(ct,Fe,qn,!1)}function Od(t,n,a){var l=tt;tt|=2;var d=dv(),m=fv();(ct!==t||Fe!==n)&&(Pc=null,Nr(t,n)),n=!1;var b=vt;e:do try{if(nt!==0&&ke!==null){var x=ke,I=Nn;switch(nt){case 8:Md(),b=6;break e;case 3:case 2:case 9:case 6:zn.current===null&&(n=!0);var q=nt;if(nt=0,Nn=null,Sr(t,x,I,q),a&&Er){b=0;break e}break;default:q=nt,nt=0,Nn=null,Sr(t,x,I,q)}}Ox(),b=vt;break}catch(X){hv(t,X)}while(!0);return n&&t.shellSuspendCounter++,Ps=_a=null,tt=l,Y.H=d,Y.A=m,ke===null&&(ct=null,Fe=0,lc()),b}function Ox(){for(;ke!==null;)mv(ke)}function kx(t,n){var a=tt;tt|=2;var l=dv(),d=fv();ct!==t||Fe!==n?(Pc=null,Lc=Dn()+500,Nr(t,n)):Er=Zi(t,n);e:do try{if(nt!==0&&ke!==null){n=ke;var m=Nn;t:switch(nt){case 1:nt=0,Nn=null,Sr(t,n,m,1);break;case 2:case 9:if(Sp(m)){nt=0,Nn=null,pv(n);break}n=function(){nt!==2&&nt!==9||ct!==t||(nt=7),fs(t)},m.then(n,n);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:Sp(m)?(nt=0,Nn=null,pv(n)):(nt=0,Nn=null,Sr(t,n,m,7));break;case 5:var b=null;switch(ke.tag){case 26:b=ke.memoizedState;case 5:case 27:var x=ke;if(!b||Xv(b)){nt=0,Nn=null;var I=x.sibling;if(I!==null)ke=I;else{var q=x.return;q!==null?(ke=q,Bc(q)):ke=null}break t}}nt=0,Nn=null,Sr(t,n,m,5);break;case 6:nt=0,Nn=null,Sr(t,n,m,6);break;case 8:Md(),vt=6;break e;default:throw Error(r(462))}}Lx();break}catch(X){hv(t,X)}while(!0);return Ps=_a=null,Y.H=l,Y.A=d,tt=a,ke!==null?0:(ct=null,Fe=0,lc(),vt)}function Lx(){for(;ke!==null&&!Kr();)mv(ke)}function mv(t){var n=zg(t.alternate,t,Qs);t.memoizedProps=t.pendingProps,n===null?Bc(t):ke=n}function pv(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Og(a,n,n.pendingProps,n.type,void 0,Fe);break;case 11:n=Og(a,n,n.pendingProps,n.type.render,n.ref,Fe);break;case 5:Xh(n);default:Hg(a,n),n=ke=gp(n,Qs),n=zg(a,n,Qs)}t.memoizedProps=t.pendingProps,n===null?Bc(t):ke=n}function Sr(t,n,a,l){Ps=_a=null,Xh(n),vr=null,Ol=0;var d=n.return;try{if(Sx(t,d,n,a,Fe)){vt=1,Dc(t,Ln(a,t.current)),ke=null;return}}catch(m){if(d!==null)throw ke=d,m;vt=1,Dc(t,Ln(a,t.current)),ke=null;return}n.flags&32768?(Xe||l===1?t=!0:Er||(Fe&536870912)!==0?t=!1:(yi=t=!0,(l===2||l===9||l===3||l===6)&&(l=zn.current,l!==null&&l.tag===13&&(l.flags|=16384))),gv(n,t)):Bc(n)}function Bc(t){var n=t;do{if((n.flags&32768)!==0){gv(n,yi);return}t=n.return;var a=jx(n.alternate,n,Qs);if(a!==null){ke=a;return}if(n=n.sibling,n!==null){ke=n;return}ke=n=t}while(n!==null);vt===0&&(vt=5)}function gv(t,n){do{var a=Rx(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);vt=6,ke=null}function vv(t,n,a,l,d,m,b,x,I){t.cancelPendingCommit=null;do zc();while(Qt!==0);if((tt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(m=n.lanes|n.childLanes,m|=Nh,tl(t,a,m,b,x,I),t===ct&&(ke=ct=null,Fe=0),Tr=n,Ei=t,Ar=a,Cd=m,Dd=d,lv=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,zx(Yi,function(){return xv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,d=ce.p,ce.p=2,b=tt,tt|=4;try{Cx(t,n,a)}finally{tt=b,ce.p=d,Y.T=l}}Qt=1,yv(),_v(),bv()}}function yv(){if(Qt===1){Qt=0;var t=Ei,n=Tr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=ce.p;ce.p=2;var d=tt;tt|=4;try{ev(n,t);var m=Yd,b=rp(t.containerInfo),x=m.focusedElem,I=m.selectionRange;if(b!==x&&x&&x.ownerDocument&&ap(x.ownerDocument.documentElement,x)){if(I!==null&&bh(x)){var q=I.start,X=I.end;if(X===void 0&&(X=q),"selectionStart"in x)x.selectionStart=q,x.selectionEnd=Math.min(X,x.value.length);else{var te=x.ownerDocument||document,F=te&&te.defaultView||window;if(F.getSelection){var G=F.getSelection(),Ne=x.textContent.length,Ee=Math.min(I.start,Ne),rt=I.end===void 0?Ee:Math.min(I.end,Ne);!G.extend&&Ee>rt&&(b=rt,rt=Ee,Ee=b);var P=ip(x,Ee),O=ip(x,rt);if(P&&O&&(G.rangeCount!==1||G.anchorNode!==P.node||G.anchorOffset!==P.offset||G.focusNode!==O.node||G.focusOffset!==O.offset)){var z=te.createRange();z.setStart(P.node,P.offset),G.removeAllRanges(),Ee>rt?(G.addRange(z),G.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),G.addRange(z))}}}}for(te=[],G=x;G=G.parentNode;)G.nodeType===1&&te.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<te.length;x++){var W=te[x];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Wc=!!Qd,Yd=Qd=null}finally{tt=d,ce.p=l,Y.T=a}}t.current=n,Qt=2}}function _v(){if(Qt===2){Qt=0;var t=Ei,n=Tr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=ce.p;ce.p=2;var d=tt;tt|=4;try{Xg(t,n.alternate,n)}finally{tt=d,ce.p=l,Y.T=a}}Qt=3}}function bv(){if(Qt===4||Qt===3){Qt=0,ko();var t=Ei,n=Tr,a=Ar,l=lv;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Qt=5:(Qt=0,Tr=Ei=null,Ev(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(bi=null),Ha(a),n=n.stateNode,et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(pt,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Y.T,d=ce.p,ce.p=2,Y.T=null;try{for(var m=t.onRecoverableError,b=0;b<l.length;b++){var x=l[b];m(x.value,{componentStack:x.stack})}}finally{Y.T=n,ce.p=d}}(Ar&3)!==0&&zc(),fs(t),d=t.pendingLanes,(a&4194090)!==0&&(d&42)!==0?t===Id?Fl++:(Fl=0,Id=t):Fl=0,Gl(0)}}function Ev(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Al(n)))}function zc(t){return yv(),_v(),bv(),xv()}function xv(){if(Qt!==5)return!1;var t=Ei,n=Cd;Cd=0;var a=Ha(Ar),l=Y.T,d=ce.p;try{ce.p=32>a?32:a,Y.T=null,a=Dd,Dd=null;var m=Ei,b=Ar;if(Qt=0,Tr=Ei=null,Ar=0,(tt&6)!==0)throw Error(r(331));var x=tt;if(tt|=4,av(m.current),nv(m,m.current,b,a),tt=x,Gl(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(pt,m)}catch{}return!0}finally{ce.p=d,Y.T=l,Ev(t,n)}}function Tv(t,n,a){n=Ln(a,n),n=ud(t.stateNode,n,2),t=hi(t,n,2),t!==null&&(As(t,2),fs(t))}function lt(t,n,a){if(t.tag===3)Tv(t,t,a);else for(;n!==null;){if(n.tag===3){Tv(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(bi===null||!bi.has(l))){t=Ln(a,t),a=wg(2),l=hi(n,a,2),l!==null&&(jg(a,l,n,t),As(l,2),fs(l));break}}n=n.return}}function kd(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Mx;var d=new Set;l.set(n,d)}else d=l.get(n),d===void 0&&(d=new Set,l.set(n,d));d.has(a)||(Sd=!0,d.add(a),t=Px.bind(null,t,n,a),n.then(t,t))}function Px(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ct===t&&(Fe&a)===a&&(vt===4||vt===3&&(Fe&62914560)===Fe&&300>Dn()-Rd?(tt&2)===0&&Nr(t,0):wd|=a,xr===Fe&&(xr=0)),fs(t)}function Av(t,n){n===0&&(n=el()),t=lr(t,n),t!==null&&(As(t,n),fs(t))}function Ux(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Av(t,a)}function Bx(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Av(t,a)}function zx(t,n){return Gi(t,n)}var qc=null,wr=null,Ld=!1,Hc=!1,Pd=!1,Sa=0;function fs(t){t!==wr&&t.next===null&&(wr===null?qc=wr=t:wr=wr.next=t),Hc=!0,Ld||(Ld=!0,Hx())}function Gl(t,n){if(!Pd&&Hc){Pd=!0;do for(var a=!1,l=qc;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var m=0;else{var b=l.suspendedLanes,x=l.pingedLanes;m=(1<<31-Zt(42|t)+1)-1,m&=d&~(b&~x),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,jv(l,m))}else m=Fe,m=qa(l,l===ct?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Zi(l,m)||(a=!0,jv(l,m));l=l.next}while(a);Pd=!1}}function qx(){Nv()}function Nv(){Hc=Ld=!1;var t=0;Sa!==0&&(Zx()&&(t=Sa),Sa=0);for(var n=Dn(),a=null,l=qc;l!==null;){var d=l.next,m=Sv(l,n);m===0?(l.next=null,a===null?qc=d:a.next=d,d===null&&(wr=a)):(a=l,(t!==0||(m&3)!==0)&&(Hc=!0)),l=d}Gl(t)}function Sv(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var b=31-Zt(m),x=1<<b,I=d[b];I===-1?((x&a)===0||(x&l)!==0)&&(d[b]=Jr(x,n)):I<=n&&(t.expiredLanes|=x),m&=~x}if(n=ct,a=Fe,a=qa(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(nt===2||nt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Qi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Zi(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Qi(l),Ha(a)){case 2:case 8:a=Ba;break;case 32:a=Yi;break;case 268435456:a=za;break;default:a=Yi}return l=wv.bind(null,t),a=Gi(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Qi(l),t.callbackPriority=2,t.callbackNode=null,2}function wv(t,n){if(Qt!==0&&Qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(zc()&&t.callbackNode!==a)return null;var l=Fe;return l=qa(t,t===ct?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(cv(t,l,n),Sv(t,Dn()),t.callbackNode!=null&&t.callbackNode===a?wv.bind(null,t):null)}function jv(t,n){if(zc())return null;cv(t,n,!0)}function Hx(){Wx(function(){(tt&6)!==0?Gi(Xr,qx):Nv()})}function Ud(){return Sa===0&&(Sa=Wr()),Sa}function Rv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ka(""+t)}function Cv(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function Fx(t,n,a,l,d){if(n==="submit"&&a&&a.stateNode===d){var m=Rv((d[At]||null).action),b=l.submitter;b&&(n=(n=b[At]||null)?Rv(n.formAction):b.getAttribute("formAction"),n!==null&&(m=n,b=null));var x=new Xa("action","action",null,l,d);t.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Sa!==0){var I=b?Cv(d,b):new FormData(d);ad(a,{pending:!0,data:I,method:d.method,action:m},null,I)}}else typeof m=="function"&&(x.preventDefault(),I=b?Cv(d,b):new FormData(d),ad(a,{pending:!0,data:I,method:d.method,action:m},m,I))},currentTarget:d}]})}}for(var Bd=0;Bd<Ah.length;Bd++){var zd=Ah[Bd],Gx=zd.toLowerCase(),Qx=zd[0].toUpperCase()+zd.slice(1);$n(Gx,"on"+Qx)}$n(cp,"onAnimationEnd"),$n(up,"onAnimationIteration"),$n(hp,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(cx,"onTransitionRun"),$n(ux,"onTransitionStart"),$n(hx,"onTransitionCancel"),$n(dp,"onTransitionEnd"),Ss("onMouseEnter",["mouseout","mouseover"]),Ss("onMouseLeave",["mouseout","mouseover"]),Ss("onPointerEnter",["pointerout","pointerover"]),Ss("onPointerLeave",["pointerout","pointerover"]),Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ql));function Dv(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var m=void 0;if(n)for(var b=l.length-1;0<=b;b--){var x=l[b],I=x.instance,q=x.currentTarget;if(x=x.listener,I!==m&&d.isPropagationStopped())break e;m=x,d.currentTarget=q;try{m(d)}catch(X){Cc(X)}d.currentTarget=null,m=I}else for(b=0;b<l.length;b++){if(x=l[b],I=x.instance,q=x.currentTarget,x=x.listener,I!==m&&d.isPropagationStopped())break e;m=x,d.currentTarget=q;try{m(d)}catch(X){Cc(X)}d.currentTarget=null,m=I}}}}function Le(t,n){var a=n[sl];a===void 0&&(a=n[sl]=new Set);var l=t+"__bubble";a.has(l)||(Iv(n,t,2,!1),a.add(l))}function qd(t,n,a){var l=0;n&&(l|=4),Iv(a,t,l,n)}var Fc="_reactListening"+Math.random().toString(36).slice(2);function Hd(t){if(!t[Fc]){t[Fc]=!0,il.forEach(function(a){a!=="selectionchange"&&(Yx.has(a)||qd(a,!1,t),qd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Fc]||(n[Fc]=!0,qd("selectionchange",!1,n))}}function Iv(t,n,a,l){switch(ny(n)){case 2:var d=bT;break;case 8:d=ET;break;default:d=sf}a=d.bind(null,n,a,t),d=void 0,!On||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(n,a,{capture:!0,passive:d}):t.addEventListener(n,a,!0):d!==void 0?t.addEventListener(n,a,{passive:d}):t.addEventListener(n,a,!1)}function Fd(t,n,a,l,d){var m=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var x=l.stateNode.containerInfo;if(x===d)break;if(b===4)for(b=l.return;b!==null;){var I=b.tag;if((I===3||I===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;x!==null;){if(b=Ns(x),b===null)return;if(I=b.tag,I===5||I===6||I===26||I===27){l=m=b;continue e}x=x.parentNode}}l=l.return}Qo(function(){var q=m,X=Vn(a),te=[];e:{var F=fp.get(t);if(F!==void 0){var G=Xa,Ne=t;switch(t){case"keypress":if(is(a)===0)break e;case"keydown":case"keyup":G=nr;break;case"focusin":Ne="focus",G=Wa;break;case"focusout":Ne="blur",G=Wa;break;case"beforeblur":case"afterblur":G=Wa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=kn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=gh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=ec;break;case cp:case up:case hp:G=er;break;case dp:G=nc;break;case"scroll":case"scrollend":G=Yo;break;case"wheel":G=sr;break;case"copy":case"cut":case"paste":G=tr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=gl;break;case"toggle":case"beforetoggle":G=ic}var Ee=(n&4)!==0,rt=!Ee&&(t==="scroll"||t==="scrollend"),P=Ee?F!==null?F+"Capture":null:F;Ee=[];for(var O=q,z;O!==null;){var W=O;if(z=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||z===null||P===null||(W=aa(O,P),W!=null&&Ee.push(Yl(O,W,z))),rt)break;O=O.return}0<Ee.length&&(F=new G(F,Ne,null,a,X),te.push({event:F,listeners:Ee}))}}if((n&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",F&&a!==Rs&&(Ne=a.relatedTarget||a.fromElement)&&(Ns(Ne)||Ne[In]))break e;if((G||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,G?(Ne=a.relatedTarget||a.toElement,G=q,Ne=Ne?Ns(Ne):null,Ne!==null&&(rt=h(Ne),Ee=Ne.tag,Ne!==rt||Ee!==5&&Ee!==27&&Ee!==6)&&(Ne=null)):(G=null,Ne=q),G!==Ne)){if(Ee=kn,W="onMouseLeave",P="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=gl,W="onPointerLeave",P="onPointerEnter",O="pointer"),rt=G==null?F:es(G),z=Ne==null?F:es(Ne),F=new Ee(W,O+"leave",G,a,X),F.target=rt,F.relatedTarget=z,W=null,Ns(X)===q&&(Ee=new Ee(P,O+"enter",Ne,a,X),Ee.target=z,Ee.relatedTarget=rt,W=Ee),rt=W,G&&Ne)t:{for(Ee=G,P=Ne,O=0,z=Ee;z;z=jr(z))O++;for(z=0,W=P;W;W=jr(W))z++;for(;0<O-z;)Ee=jr(Ee),O--;for(;0<z-O;)P=jr(P),z--;for(;O--;){if(Ee===P||P!==null&&Ee===P.alternate)break t;Ee=jr(Ee),P=jr(P)}Ee=null}else Ee=null;G!==null&&Mv(te,F,G,Ee,!1),Ne!==null&&rt!==null&&Mv(te,rt,Ne,Ee,!0)}}e:{if(F=q?es(q):window,G=F.nodeName&&F.nodeName.toLowerCase(),G==="select"||G==="input"&&F.type==="file")var pe=Jm;else if(Mt(F))if(Wm)pe=rx;else{pe=ix;var Oe=sx}else G=F.nodeName,!G||G.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&cl(q.elementType)&&(pe=Jm):pe=ax;if(pe&&(pe=pe(t,q))){Vs(te,pe,a,X);break e}Oe&&Oe(t,F,q),t==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&ri(F,"number",F.value)}switch(Oe=q?es(q):window,t){case"focusin":(Mt(Oe)||Oe.contentEditable==="true")&&(ir=Oe,Eh=q,_l=null);break;case"focusout":_l=Eh=ir=null;break;case"mousedown":xh=!0;break;case"contextmenu":case"mouseup":case"dragend":xh=!1,lp(te,a,X);break;case"selectionchange":if(ox)break;case"keydown":case"keyup":lp(te,a,X)}var ye;if(ls)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else qe?Q(t,a)&&(xe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(_&&a.locale!=="ko"&&(qe||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&qe&&(ye=hl()):(ss=X,li="value"in ss?ss.value:ss.textContent,qe=!0)),Oe=Gc(q,xe),0<Oe.length&&(xe=new ml(xe,t,null,a,X),te.push({event:xe,listeners:Oe}),ye?xe.data=ye:(ye=oe(a),ye!==null&&(xe.data=ye)))),(ye=g?It(t,a):He(t,a))&&(xe=Gc(q,"onBeforeInput"),0<xe.length&&(Oe=new ml("onBeforeInput","beforeinput",null,a,X),te.push({event:Oe,listeners:xe}),Oe.data=ye)),Fx(te,t,q,a,X)}Dv(te,n)})}function Yl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Gc(t,n){for(var a=n+"Capture",l=[];t!==null;){var d=t,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=aa(t,a),d!=null&&l.unshift(Yl(t,d,m)),d=aa(t,n),d!=null&&l.push(Yl(t,d,m))),t.tag===3)return l;t=t.return}return[]}function jr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Mv(t,n,a,l,d){for(var m=n._reactName,b=[];a!==null&&a!==l;){var x=a,I=x.alternate,q=x.stateNode;if(x=x.tag,I!==null&&I===l)break;x!==5&&x!==26&&x!==27||q===null||(I=q,d?(q=aa(a,m),q!=null&&b.unshift(Yl(a,q,I))):d||(q=aa(a,m),q!=null&&b.push(Yl(a,q,I)))),a=a.return}b.length!==0&&t.push({event:n,listeners:b})}var $x=/\r\n?/g,Kx=/\u0000|\uFFFD/g;function Vv(t){return(typeof t=="string"?t:""+t).replace($x,`
`).replace(Kx,"")}function Ov(t,n){return n=Vv(n),Vv(t)===n}function Qc(){}function at(t,n,a,l,d,m){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Mn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Mn(t,""+l);break;case"className":ts(t,"class",l);break;case"tabIndex":ts(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ts(t,a,l);break;case"style":ol(t,l,m);break;case"data":if(n!=="object"){ts(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ka(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(n!=="input"&&at(t,n,"name",d.name,d,null),at(t,n,"formEncType",d.formEncType,d,null),at(t,n,"formMethod",d.formMethod,d,null),at(t,n,"formTarget",d.formTarget,d,null)):(at(t,n,"encType",d.encType,d,null),at(t,n,"method",d.method,d,null),at(t,n,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ka(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Qc);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ka(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Le("beforetoggle",t),Le("toggle",t),ai(t,"popover",l);break;case"xlinkActuate":Ht(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ht(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ht(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ht(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ht(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ht(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ai(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mh.get(a)||a,ai(t,a,l))}}function Gd(t,n,a,l,d,m){switch(a){case"style":ol(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Mn(t,l):(typeof l=="number"||typeof l=="bigint")&&Mn(t,""+l);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Qc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),n=a.slice(2,d?a.length-7:void 0),m=t[At]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(n,m,d),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ai(t,a,l)}}}function Yt(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var l=!1,d=!1,m;for(m in a)if(a.hasOwnProperty(m)){var b=a[m];if(b!=null)switch(m){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:at(t,n,m,b,a,null)}}d&&at(t,n,"srcSet",a.srcSet,a,null),l&&at(t,n,"src",a.src,a,null);return;case"input":Le("invalid",t);var x=m=b=d=null,I=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":d=X;break;case"type":b=X;break;case"checked":I=X;break;case"defaultChecked":q=X;break;case"value":m=X;break;case"defaultValue":x=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,n));break;default:at(t,n,l,X,a,null)}}na(t,m,x,I,q,b,d,!1),$a(t);return;case"select":Le("invalid",t),l=b=m=null;for(d in a)if(a.hasOwnProperty(d)&&(x=a[d],x!=null))switch(d){case"value":m=x;break;case"defaultValue":b=x;break;case"multiple":l=x;default:at(t,n,d,x,a,null)}n=m,a=b,t.multiple=!!l,n!=null?js(t,!!l,n,!1):a!=null&&js(t,!!l,a,!0);return;case"textarea":Le("invalid",t),m=d=l=null;for(b in a)if(a.hasOwnProperty(b)&&(x=a[b],x!=null))switch(b){case"value":l=x;break;case"defaultValue":d=x;break;case"children":m=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:at(t,n,b,x,a,null)}sa(t,l,d,m),$a(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:at(t,n,I,l,a,null)}return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(l=0;l<Ql.length;l++)Le(Ql[l],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:at(t,n,q,l,a,null)}return;default:if(cl(n)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Gd(t,n,X,l,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null&&at(t,n,x,l,a,null))}function Xx(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,b=null,x=null,I=null,q=null,X=null;for(G in a){var te=a[G];if(a.hasOwnProperty(G)&&te!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":I=te;default:l.hasOwnProperty(G)||at(t,n,G,null,l,te)}}for(var F in l){var G=l[F];if(te=a[F],l.hasOwnProperty(F)&&(G!=null||te!=null))switch(F){case"type":m=G;break;case"name":d=G;break;case"checked":q=G;break;case"defaultChecked":X=G;break;case"value":b=G;break;case"defaultValue":x=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:G!==te&&at(t,n,F,G,l,te)}}bn(t,b,x,I,q,X,m,d);return;case"select":G=b=x=F=null;for(m in a)if(I=a[m],a.hasOwnProperty(m)&&I!=null)switch(m){case"value":break;case"multiple":G=I;default:l.hasOwnProperty(m)||at(t,n,m,null,l,I)}for(d in l)if(m=l[d],I=a[d],l.hasOwnProperty(d)&&(m!=null||I!=null))switch(d){case"value":F=m;break;case"defaultValue":x=m;break;case"multiple":b=m;default:m!==I&&at(t,n,d,m,l,I)}n=x,a=b,l=G,F!=null?js(t,!!a,F,!1):!!l!=!!a&&(n!=null?js(t,!!a,n,!0):js(t,!!a,a?[]:"",!1));return;case"textarea":G=F=null;for(x in a)if(d=a[x],a.hasOwnProperty(x)&&d!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:at(t,n,x,null,l,d)}for(b in l)if(d=l[b],m=a[b],l.hasOwnProperty(b)&&(d!=null||m!=null))switch(b){case"value":F=d;break;case"defaultValue":G=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==m&&at(t,n,b,d,l,m)}st(t,F,G);return;case"option":for(var Ne in a)if(F=a[Ne],a.hasOwnProperty(Ne)&&F!=null&&!l.hasOwnProperty(Ne))switch(Ne){case"selected":t.selected=!1;break;default:at(t,n,Ne,null,l,F)}for(I in l)if(F=l[I],G=a[I],l.hasOwnProperty(I)&&F!==G&&(F!=null||G!=null))switch(I){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:at(t,n,I,F,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)F=a[Ee],a.hasOwnProperty(Ee)&&F!=null&&!l.hasOwnProperty(Ee)&&at(t,n,Ee,null,l,F);for(q in l)if(F=l[q],G=a[q],l.hasOwnProperty(q)&&F!==G&&(F!=null||G!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:at(t,n,q,F,l,G)}return;default:if(cl(n)){for(var rt in a)F=a[rt],a.hasOwnProperty(rt)&&F!==void 0&&!l.hasOwnProperty(rt)&&Gd(t,n,rt,void 0,l,F);for(X in l)F=l[X],G=a[X],!l.hasOwnProperty(X)||F===G||F===void 0&&G===void 0||Gd(t,n,X,F,l,G);return}}for(var P in a)F=a[P],a.hasOwnProperty(P)&&F!=null&&!l.hasOwnProperty(P)&&at(t,n,P,null,l,F);for(te in l)F=l[te],G=a[te],!l.hasOwnProperty(te)||F===G||F==null&&G==null||at(t,n,te,F,l,G)}var Qd=null,Yd=null;function Yc(t){return t.nodeType===9?t:t.ownerDocument}function kv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lv(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function $d(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Kd=null;function Zx(){var t=window.event;return t&&t.type==="popstate"?t===Kd?!1:(Kd=t,!0):(Kd=null,!1)}var Pv=typeof setTimeout=="function"?setTimeout:void 0,Jx=typeof clearTimeout=="function"?clearTimeout:void 0,Uv=typeof Promise=="function"?Promise:void 0,Wx=typeof queueMicrotask=="function"?queueMicrotask:typeof Uv<"u"?function(t){return Uv.resolve(null).then(t).catch(eT)}:Pv;function eT(t){setTimeout(function(){throw t})}function Ti(t){return t==="head"}function Bv(t,n){var a=n,l=0,d=0;do{var m=a.nextSibling;if(t.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var b=t.ownerDocument;if(a&1&&$l(b.documentElement),a&2&&$l(b.body),a&4)for(a=b.head,$l(a),b=a.firstChild;b;){var x=b.nextSibling,I=b.nodeName;b[Ji]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=x}}if(d===0){t.removeChild(m),no(n);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);no(n)}function Xd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Xd(a),ii(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function tT(t,n,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ji])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Xn(t.nextSibling),t===null)break}return null}function nT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Xn(t.nextSibling),t===null))return null;return t}function Zd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function sT(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Xn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Jd=null;function zv(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function qv(t,n,a){switch(n=Yc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function $l(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ii(t)}var Hn=new Map,Hv=new Set;function $c(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ys=ce.d;ce.d={f:iT,r:aT,D:rT,C:lT,L:oT,m:cT,X:hT,S:uT,M:dT};function iT(){var t=Ys.f(),n=Uc();return t||n}function aT(t){var n=Wn(t);n!==null&&n.tag===5&&n.type==="form"?cg(n):Ys.r(t)}var Rr=typeof document>"u"?null:document;function Fv(t,n,a){var l=Rr;if(l&&typeof n=="string"&&n){var d=Nt(n);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),Hv.has(d)||(Hv.add(d),t={rel:t,crossOrigin:a,href:n},l.querySelector(d)===null&&(n=l.createElement("link"),Yt(n,"link",t),yt(n),l.head.appendChild(n)))}}function rT(t){Ys.D(t),Fv("dns-prefetch",t,null)}function lT(t,n){Ys.C(t,n),Fv("preconnect",t,n)}function oT(t,n,a){Ys.L(t,n,a);var l=Rr;if(l&&t&&n){var d='link[rel="preload"][as="'+Nt(n)+'"]';n==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+Nt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+Nt(a.imageSizes)+'"]')):d+='[href="'+Nt(t)+'"]';var m=d;switch(n){case"style":m=Cr(t);break;case"script":m=Dr(t)}Hn.has(m)||(t=E({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Hn.set(m,t),l.querySelector(d)!==null||n==="style"&&l.querySelector(Kl(m))||n==="script"&&l.querySelector(Xl(m))||(n=l.createElement("link"),Yt(n,"link",t),yt(n),l.head.appendChild(n)))}}function cT(t,n){Ys.m(t,n);var a=Rr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+Nt(l)+'"][href="'+Nt(t)+'"]',m=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Dr(t)}if(!Hn.has(m)&&(t=E({rel:"modulepreload",href:t},n),Hn.set(m,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Xl(m)))return}l=a.createElement("link"),Yt(l,"link",t),yt(l),a.head.appendChild(l)}}}function uT(t,n,a){Ys.S(t,n,a);var l=Rr;if(l&&t){var d=an(l).hoistableStyles,m=Cr(t);n=n||"default";var b=d.get(m);if(!b){var x={loading:0,preload:null};if(b=l.querySelector(Kl(m)))x.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Hn.get(m))&&Wd(t,a);var I=b=l.createElement("link");yt(I),Yt(I,"link",t),I._p=new Promise(function(q,X){I.onload=q,I.onerror=X}),I.addEventListener("load",function(){x.loading|=1}),I.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Kc(b,n,l)}b={type:"stylesheet",instance:b,count:1,state:x},d.set(m,b)}}}function hT(t,n){Ys.X(t,n);var a=Rr;if(a&&t){var l=an(a).hoistableScripts,d=Dr(t),m=l.get(d);m||(m=a.querySelector(Xl(d)),m||(t=E({src:t,async:!0},n),(n=Hn.get(d))&&ef(t,n),m=a.createElement("script"),yt(m),Yt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function dT(t,n){Ys.M(t,n);var a=Rr;if(a&&t){var l=an(a).hoistableScripts,d=Dr(t),m=l.get(d);m||(m=a.querySelector(Xl(d)),m||(t=E({src:t,async:!0,type:"module"},n),(n=Hn.get(d))&&ef(t,n),m=a.createElement("script"),yt(m),Yt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function Gv(t,n,a,l){var d=(d=me.current)?$c(d):null;if(!d)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Cr(a.href),a=an(d).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Cr(a.href);var m=an(d).hoistableStyles,b=m.get(t);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,b),(m=d.querySelector(Kl(t)))&&!m._p&&(b.instance=m,b.state.loading=5),Hn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(t,a),m||fT(d,t,a,b.state))),n&&l===null)throw Error(r(528,""));return b}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Dr(a),a=an(d).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Cr(t){return'href="'+Nt(t)+'"'}function Kl(t){return'link[rel="stylesheet"]['+t+"]"}function Qv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function fT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Yt(n,"link",a),yt(n),t.head.appendChild(n))}function Dr(t){return'[src="'+Nt(t)+'"]'}function Xl(t){return"script[async]"+t}function Yv(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Nt(a.href)+'"]');if(l)return n.instance=l,yt(l),l;var d=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),yt(l),Yt(l,"style",d),Kc(l,a.precedence,t),n.instance=l;case"stylesheet":d=Cr(a.href);var m=t.querySelector(Kl(d));if(m)return n.state.loading|=4,n.instance=m,yt(m),m;l=Qv(a),(d=Hn.get(d))&&Wd(l,d),m=(t.ownerDocument||t).createElement("link"),yt(m);var b=m;return b._p=new Promise(function(x,I){b.onload=x,b.onerror=I}),Yt(m,"link",l),n.state.loading|=4,Kc(m,a.precedence,t),n.instance=m;case"script":return m=Dr(a.src),(d=t.querySelector(Xl(m)))?(n.instance=d,yt(d),d):(l=a,(d=Hn.get(m))&&(l=E({},a),ef(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),yt(d),Yt(d,"link",l),t.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Kc(l,a.precedence,t));return n.instance}function Kc(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,m=d,b=0;b<l.length;b++){var x=l[b];if(x.dataset.precedence===n)m=x;else if(m!==d)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Wd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function ef(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Xc=null;function $v(t,n,a){if(Xc===null){var l=new Map,d=Xc=new Map;d.set(a,l)}else d=Xc,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var m=a[d];if(!(m[Ji]||m[Dt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(n)||"";b=t+b;var x=l.get(b);x?x.push(m):l.set(b,[m])}}return l}function Kv(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function mT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Xv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Zl=null;function pT(){}function gT(t,n,a){if(Zl===null)throw Error(r(475));var l=Zl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var d=Cr(a.href),m=t.querySelector(Kl(d));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Zc.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=m,yt(m);return}m=t.ownerDocument||t,a=Qv(a),(d=Hn.get(d))&&Wd(a,d),m=m.createElement("link"),yt(m);var b=m;b._p=new Promise(function(x,I){b.onload=x,b.onerror=I}),Yt(m,"link",a),n.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Zc.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function vT(){if(Zl===null)throw Error(r(475));var t=Zl;return t.stylesheets&&t.count===0&&tf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&tf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Zc(){if(this.count--,this.count===0){if(this.stylesheets)tf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Jc=null;function tf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Jc=new Map,n.forEach(yT,t),Jc=null,Zc.call(t))}function yT(t,n){if(!(n.state.loading&4)){var a=Jc.get(t);if(a)var l=a.get(null);else{a=new Map,Jc.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var b=d[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}d=n.instance,b=d.getAttribute("data-precedence"),m=a.get(b)||l,m===l&&a.set(null,d),a.set(b,d),this.count++,l=Zc.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),m?m.parentNode.insertBefore(d,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),n.state.loading|=4}}var Jl={$$typeof:k,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function _T(t,n,a,l,d,m,b,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ts(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ts(0),this.hiddenUpdates=Ts(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Zv(t,n,a,l,d,m,b,x,I,q,X,te){return t=new _T(t,n,a,b,x,I,q,te),n=1,m===!0&&(n|=24),m=xn(3,null,null,n),t.current=m,m.stateNode=t,n=kh(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:n},Bh(m),t}function Jv(t){return t?(t=or,t):or}function Wv(t,n,a,l,d,m){d=Jv(d),l.context===null?l.context=d:l.pendingContext=d,l=ui(n),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=hi(t,l,n),a!==null&&(wn(a,t,n),jl(a,t,n))}function ey(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function nf(t,n){ey(t,n),(t=t.alternate)&&ey(t,n)}function ty(t){if(t.tag===13){var n=lr(t,67108864);n!==null&&wn(n,t,67108864),nf(t,67108864)}}var Wc=!0;function bT(t,n,a,l){var d=Y.T;Y.T=null;var m=ce.p;try{ce.p=2,sf(t,n,a,l)}finally{ce.p=m,Y.T=d}}function ET(t,n,a,l){var d=Y.T;Y.T=null;var m=ce.p;try{ce.p=8,sf(t,n,a,l)}finally{ce.p=m,Y.T=d}}function sf(t,n,a,l){if(Wc){var d=af(l);if(d===null)Fd(t,n,l,eu,a),sy(t,l);else if(TT(d,t,n,a,l))l.stopPropagation();else if(sy(t,l),n&4&&-1<xT.indexOf(t)){for(;d!==null;){var m=Wn(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=Gn(m.pendingLanes);if(b!==0){var x=m;for(x.pendingLanes|=2,x.entangledLanes|=2;b;){var I=1<<31-Zt(b);x.entanglements[1]|=I,b&=~I}fs(m),(tt&6)===0&&(Lc=Dn()+500,Gl(0))}}break;case 13:x=lr(m,2),x!==null&&wn(x,m,2),Uc(),nf(m,2)}if(m=af(l),m===null&&Fd(t,n,l,eu,a),m===d)break;d=m}d!==null&&l.stopPropagation()}else Fd(t,n,l,null,a)}}function af(t){return t=Vn(t),rf(t)}var eu=null;function rf(t){if(eu=null,t=Ns(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=f(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return eu=t,null}function ny(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oh()){case Xr:return 2;case Ba:return 8;case Yi:case ch:return 32;case za:return 268435456;default:return 32}default:return 32}}var lf=!1,Ai=null,Ni=null,Si=null,Wl=new Map,eo=new Map,wi=[],xT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sy(t,n){switch(t){case"focusin":case"focusout":Ai=null;break;case"dragenter":case"dragleave":Ni=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":Wl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":eo.delete(n.pointerId)}}function to(t,n,a,l,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[d]},n!==null&&(n=Wn(n),n!==null&&ty(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),t)}function TT(t,n,a,l,d){switch(n){case"focusin":return Ai=to(Ai,t,n,a,l,d),!0;case"dragenter":return Ni=to(Ni,t,n,a,l,d),!0;case"mouseover":return Si=to(Si,t,n,a,l,d),!0;case"pointerover":var m=d.pointerId;return Wl.set(m,to(Wl.get(m)||null,t,n,a,l,d)),!0;case"gotpointercapture":return m=d.pointerId,eo.set(m,to(eo.get(m)||null,t,n,a,l,d)),!0}return!1}function iy(t){var n=Ns(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){t.blockedOn=n,Uo(t.priority,function(){if(a.tag===13){var l=Sn();l=ti(l);var d=lr(a,l);d!==null&&wn(d,a,l),nf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=af(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Rs=l,a.target.dispatchEvent(l),Rs=null}else return n=Wn(a),n!==null&&ty(n),t.blockedOn=a,!1;n.shift()}return!0}function ay(t,n,a){tu(t)&&a.delete(n)}function AT(){lf=!1,Ai!==null&&tu(Ai)&&(Ai=null),Ni!==null&&tu(Ni)&&(Ni=null),Si!==null&&tu(Si)&&(Si=null),Wl.forEach(ay),eo.forEach(ay)}function nu(t,n){t.blockedOn===n&&(t.blockedOn=null,lf||(lf=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,AT)))}var su=null;function ry(t){su!==t&&(su=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){su===t&&(su=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],d=t[n+2];if(typeof l!="function"){if(rf(l||a)===null)continue;break}var m=Wn(a);m!==null&&(t.splice(n,3),n-=3,ad(m,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function no(t){function n(I){return nu(I,t)}Ai!==null&&nu(Ai,t),Ni!==null&&nu(Ni,t),Si!==null&&nu(Si,t),Wl.forEach(n),eo.forEach(n);for(var a=0;a<wi.length;a++){var l=wi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<wi.length&&(a=wi[0],a.blockedOn===null);)iy(a),a.blockedOn===null&&wi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],m=a[l+1],b=d[At]||null;if(typeof m=="function")b||ry(a);else if(b){var x=null;if(m&&m.hasAttribute("formAction")){if(d=m,b=m[At]||null)x=b.formAction;else if(rf(d)!==null)continue}else x=b.action;typeof x=="function"?a[l+1]=x:(a.splice(l,3),l-=3),ry(a)}}}function of(t){this._internalRoot=t}iu.prototype.render=of.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=Sn();Wv(a,l,t,n,null,null)},iu.prototype.unmount=of.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Wv(t.current,2,null,t,null,null),Uc(),n[In]=null}};function iu(t){this._internalRoot=t}iu.prototype.unstable_scheduleHydration=function(t){if(t){var n=ni();t={blockedOn:null,target:t,priority:n};for(var a=0;a<wi.length&&n!==0&&n<wi[a].priority;a++);wi.splice(a,0,t),a===0&&iy(t)}};var ly=e.version;if(ly!=="19.1.1")throw Error(r(527,ly,"19.1.1"));ce.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var NT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{pt=au.inject(NT),et=au}catch{}}return io.createRoot=function(t,n){if(!c(t))throw Error(r(299));var a=!1,l="",d=Tg,m=Ag,b=Ng,x=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(x=n.unstable_transitionCallbacks)),n=Zv(t,1,!1,null,null,a,l,d,m,b,x,null),t[In]=n.current,Hd(t),new of(n)},io.hydrateRoot=function(t,n,a){if(!c(t))throw Error(r(299));var l=!1,d="",m=Tg,b=Ag,x=Ng,I=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),n=Zv(t,1,!0,n,a??null,l,d,m,b,x,I,q),n.context=Jv(null),a=n.current,l=Sn(),l=ti(l),d=ui(l),d.callback=null,hi(a,d,l),a=l,n.current.lanes=a,As(n,a),fs(n),t[In]=n.current,Hd(t),new iu(n)},io.version="19.1.1",io}var vy;function OT(){if(vy)return hf.exports;vy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),hf.exports=VT(),hf.exports}var kT=OT();const LT=()=>{};var yy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=function(i){const e=[];let s=0;for(let r=0;r<i.length;r++){let c=i.charCodeAt(r);c<128?e[s++]=c:c<2048?(e[s++]=c>>6|192,e[s++]=c&63|128):(c&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(c=65536+((c&1023)<<10)+(i.charCodeAt(++r)&1023),e[s++]=c>>18|240,e[s++]=c>>12&63|128,e[s++]=c>>6&63|128,e[s++]=c&63|128):(e[s++]=c>>12|224,e[s++]=c>>6&63|128,e[s++]=c&63|128)}return e},PT=function(i){const e=[];let s=0,r=0;for(;s<i.length;){const c=i[s++];if(c<128)e[r++]=String.fromCharCode(c);else if(c>191&&c<224){const h=i[s++];e[r++]=String.fromCharCode((c&31)<<6|h&63)}else if(c>239&&c<365){const h=i[s++],f=i[s++],p=i[s++],v=((c&7)<<18|(h&63)<<12|(f&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const h=i[s++],f=i[s++];e[r++]=String.fromCharCode((c&15)<<12|(h&63)<<6|f&63)}}return e.join("")},U_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let c=0;c<i.length;c+=3){const h=i[c],f=c+1<i.length,p=f?i[c+1]:0,v=c+2<i.length,y=v?i[c+2]:0,E=h>>2,C=(h&3)<<4|p>>4;let R=(p&15)<<2|y>>6,U=y&63;v||(U=64,f||(R=64)),r.push(s[E],s[C],s[R],s[U])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(P_(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):PT(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let c=0;c<i.length;){const h=s[i.charAt(c++)],p=c<i.length?s[i.charAt(c)]:0;++c;const y=c<i.length?s[i.charAt(c)]:64;++c;const C=c<i.length?s[i.charAt(c)]:64;if(++c,h==null||p==null||y==null||C==null)throw new UT;const R=h<<2|p>>4;if(r.push(R),y!==64){const U=p<<4&240|y>>2;if(r.push(U),C!==64){const L=y<<6&192|C;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class UT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BT=function(i){const e=P_(i);return U_.encodeByteArray(e,!0)},yu=function(i){return BT(i).replace(/\./g,"")},zT=function(i){try{return U_.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=()=>qT().__FIREBASE_DEFAULTS__,FT=()=>{if(typeof process>"u"||typeof yy>"u")return;const i=yy.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},GT=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&zT(i[1]);return e&&JSON.parse(e)},tm=()=>{try{return LT()||HT()||FT()||GT()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},QT=i=>tm()?.emulatorHosts?.[i],YT=i=>{const e=QT(i);if(!e)return;const s=e.lastIndexOf(":");if(s<=0||s+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(s+1),10);return e[0]==="["?[e.substring(1,s-1),r]:[e.substring(0,s),r]},B_=()=>tm()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function KT(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=e||"demo-project",c=i.iat||0,h=i.sub||i.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:c,exp:c+3600,auth_time:c,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...i};return[yu(JSON.stringify(s)),yu(JSON.stringify(f)),""].join(".")}const co={};function ZT(){const i={prod:[],emulator:[]};for(const e of Object.keys(co))co[e]?i.emulator.push(e):i.prod.push(e);return i}function JT(i){let e=document.getElementById(i),s=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),s=!0),{created:s,element:e}}let _y=!1;function WT(i,e){if(typeof window>"u"||typeof document>"u"||!nm(window.location.host)||co[i]===e||co[i]||_y)return;co[i]=e;function s(R){return`__firebase__banner__${R}`}const r="__firebase__banner",h=ZT().prod.length>0;function f(){const R=document.getElementById(r);R&&R.remove()}function p(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function v(R,U){R.setAttribute("width","24"),R.setAttribute("id",U),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{_y=!0,f()},R}function E(R,U){R.setAttribute("id",U),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function C(){const R=JT(r),U=s("text"),L=document.getElementById(U)||document.createElement("span"),Z=s("learnmore"),K=document.getElementById(Z)||document.createElement("a"),fe=s("preprendIcon"),ie=document.getElementById(fe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const k=R.element;p(k),E(K,Z);const ae=y();v(ie,fe),k.append(ie,L,K,ae),document.body.appendChild(k)}h?(L.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function t0(){const i=tm()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function n0(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function s0(){return!t0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z_(){try{return typeof indexedDB=="object"}catch{return!1}}function q_(){return new Promise((i,e)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(r);c.onsuccess=()=>{c.result.close(),s||self.indexedDB.deleteDatabase(r),i(!0)},c.onupgradeneeded=()=>{s=!1},c.onerror=()=>{e(c.error?.message||"")}}catch(s){e(s)}})}function i0(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="FirebaseError";class zi extends Error{constructor(e,s,r){super(s),this.code=e,this.customData=r,this.name=a0,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ku.prototype.create)}}class ku{constructor(e,s,r){this.service=e,this.serviceName=s,this.errors=r}create(e,...s){const r=s[0]||{},c=`${this.service}/${e}`,h=this.errors[e],f=h?r0(h,r):"Error",p=`${this.serviceName}: ${f} (${c}).`;return new zi(c,p,r)}}function r0(i,e){return i.replace(l0,(s,r)=>{const c=e[r];return c!=null?String(c):`<${r}?>`})}const l0=/\{\$([^}]+)}/g;function po(i,e){if(i===e)return!0;const s=Object.keys(i),r=Object.keys(e);for(const c of s){if(!r.includes(c))return!1;const h=i[c],f=e[c];if(by(h)&&by(f)){if(!po(h,f))return!1}else if(h!==f)return!1}for(const c of r)if(!s.includes(c))return!1;return!0}function by(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=1e3,c0=2,u0=14400*1e3,h0=.5;function Ey(i,e=o0,s=c0){const r=e*Math.pow(s,i),c=Math.round(h0*r*(Math.random()-.5)*2);return Math.min(u0,r+c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(i){return i&&i._delegate?i._delegate:i}class Xs{constructor(e,s,r){this.name=e,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const r=new $T;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:s});c&&r.resolve(c)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){const s=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(r)return null;throw c}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(m0(e))try{this.getOrInitializeService({instanceIdentifier:wa})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);try{const h=this.getOrInitializeService({instanceIdentifier:c});r.resolve(h)}catch{}}}}clearInstance(e=wa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wa){return this.instances.has(e)}getOptions(e=wa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[h,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);r===p&&f.resolve(c)}return c}onInit(e,s){const r=this.normalizeInstanceIdentifier(s),c=this.onInitCallbacks.get(r)??new Set;c.add(e),this.onInitCallbacks.set(r,c);const h=this.instances.get(r);return h&&e(h,r),()=>{c.delete(e)}}invokeOnInitCallbacks(e,s){const r=this.onInitCallbacks.get(s);if(r)for(const c of r)try{c(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:f0(e),options:s}),this.instances.set(e,r),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wa){return this.component?this.component.multipleInstances?e:wa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function f0(i){return i===wa?void 0:i}function m0(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new d0(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Qe||(Qe={}));const g0={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},v0=Qe.INFO,y0={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},_0=(i,e,...s)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),c=y0[e];if(c)console[c](`[${r}]  ${i.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sm{constructor(e){this.name=e,this._logLevel=v0,this._logHandler=_0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?g0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const b0=(i,e)=>e.some(s=>i instanceof s);let xy,Ty;function E0(){return xy||(xy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function x0(){return Ty||(Ty=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H_=new WeakMap,Rf=new WeakMap,F_=new WeakMap,pf=new WeakMap,im=new WeakMap;function T0(i){const e=new Promise((s,r)=>{const c=()=>{i.removeEventListener("success",h),i.removeEventListener("error",f)},h=()=>{s(Ci(i.result)),c()},f=()=>{r(i.error),c()};i.addEventListener("success",h),i.addEventListener("error",f)});return e.then(s=>{s instanceof IDBCursor&&H_.set(s,i)}).catch(()=>{}),im.set(e,i),e}function A0(i){if(Rf.has(i))return;const e=new Promise((s,r)=>{const c=()=>{i.removeEventListener("complete",h),i.removeEventListener("error",f),i.removeEventListener("abort",f)},h=()=>{s(),c()},f=()=>{r(i.error||new DOMException("AbortError","AbortError")),c()};i.addEventListener("complete",h),i.addEventListener("error",f),i.addEventListener("abort",f)});Rf.set(i,e)}let Cf={get(i,e,s){if(i instanceof IDBTransaction){if(e==="done")return Rf.get(i);if(e==="objectStoreNames")return i.objectStoreNames||F_.get(i);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Ci(i[e])},set(i,e,s){return i[e]=s,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function N0(i){Cf=i(Cf)}function S0(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const r=i.call(gf(this),e,...s);return F_.set(r,e.sort?e.sort():[e]),Ci(r)}:x0().includes(i)?function(...e){return i.apply(gf(this),e),Ci(H_.get(this))}:function(...e){return Ci(i.apply(gf(this),e))}}function w0(i){return typeof i=="function"?S0(i):(i instanceof IDBTransaction&&A0(i),b0(i,E0())?new Proxy(i,Cf):i)}function Ci(i){if(i instanceof IDBRequest)return T0(i);if(pf.has(i))return pf.get(i);const e=w0(i);return e!==i&&(pf.set(i,e),im.set(e,i)),e}const gf=i=>im.get(i);function G_(i,e,{blocked:s,upgrade:r,blocking:c,terminated:h}={}){const f=indexedDB.open(i,e),p=Ci(f);return r&&f.addEventListener("upgradeneeded",v=>{r(Ci(f.result),v.oldVersion,v.newVersion,Ci(f.transaction),v)}),s&&f.addEventListener("blocked",v=>s(v.oldVersion,v.newVersion,v)),p.then(v=>{h&&v.addEventListener("close",()=>h()),c&&v.addEventListener("versionchange",y=>c(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const j0=["get","getKey","getAll","getAllKeys","count"],R0=["put","add","delete","clear"],vf=new Map;function Ay(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(vf.get(e))return vf.get(e);const s=e.replace(/FromIndex$/,""),r=e!==s,c=R0.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(c||j0.includes(s)))return;const h=async function(f,...p){const v=this.transaction(f,c?"readwrite":"readonly");let y=v.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[s](...p),c&&v.done]))[0]};return vf.set(e,h),h}N0(i=>({...i,get:(e,s,r)=>Ay(e,s)||i.get(e,s,r),has:(e,s)=>!!Ay(e,s)||i.has(e,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(D0(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function D0(i){return i.getComponent()?.type==="VERSION"}const Df="@firebase/app",Ny="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new sm("@firebase/app"),I0="@firebase/app-compat",M0="@firebase/analytics-compat",V0="@firebase/analytics",O0="@firebase/app-check-compat",k0="@firebase/app-check",L0="@firebase/auth",P0="@firebase/auth-compat",U0="@firebase/database",B0="@firebase/data-connect",z0="@firebase/database-compat",q0="@firebase/functions",H0="@firebase/functions-compat",F0="@firebase/installations",G0="@firebase/installations-compat",Q0="@firebase/messaging",Y0="@firebase/messaging-compat",$0="@firebase/performance",K0="@firebase/performance-compat",X0="@firebase/remote-config",Z0="@firebase/remote-config-compat",J0="@firebase/storage",W0="@firebase/storage-compat",eA="@firebase/firestore",tA="@firebase/ai",nA="@firebase/firestore-compat",sA="firebase",iA="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If="[DEFAULT]",aA={[Df]:"fire-core",[I0]:"fire-core-compat",[V0]:"fire-analytics",[M0]:"fire-analytics-compat",[k0]:"fire-app-check",[O0]:"fire-app-check-compat",[L0]:"fire-auth",[P0]:"fire-auth-compat",[U0]:"fire-rtdb",[B0]:"fire-data-connect",[z0]:"fire-rtdb-compat",[q0]:"fire-fn",[H0]:"fire-fn-compat",[F0]:"fire-iid",[G0]:"fire-iid-compat",[Q0]:"fire-fcm",[Y0]:"fire-fcm-compat",[$0]:"fire-perf",[K0]:"fire-perf-compat",[X0]:"fire-rc",[Z0]:"fire-rc-compat",[J0]:"fire-gcs",[W0]:"fire-gcs-compat",[eA]:"fire-fst",[nA]:"fire-fst-compat",[tA]:"fire-vertex","fire-js":"fire-js",[sA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=new Map,rA=new Map,Mf=new Map;function Sy(i,e){try{i.container.addComponent(e)}catch(s){Zs.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,s)}}function Vi(i){const e=i.name;if(Mf.has(e))return Zs.debug(`There were multiple attempts to register component ${e}.`),!1;Mf.set(e,i);for(const s of _u.values())Sy(s,i);for(const s of rA.values())Sy(s,i);return!0}function So(i,e){const s=i.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),i.container.getProvider(e)}function lA(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Di=new ku("app","Firebase",oA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,s,r){this._isDeleted=!1,this._options={...e},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=iA;function Q_(i,e={}){let s=i;typeof e!="object"&&(e={name:e});const r={name:If,automaticDataCollectionEnabled:!0,...e},c=r.name;if(typeof c!="string"||!c)throw Di.create("bad-app-name",{appName:String(c)});if(s||(s=B_()),!s)throw Di.create("no-options");const h=_u.get(c);if(h){if(po(s,h.options)&&po(r,h.config))return h;throw Di.create("duplicate-app",{appName:c})}const f=new p0(c);for(const v of Mf.values())f.addComponent(v);const p=new cA(s,r,f);return _u.set(c,p),p}function Y_(i=If){const e=_u.get(i);if(!e&&i===If&&B_())return Q_();if(!e)throw Di.create("no-app",{appName:i});return e}function gs(i,e,s){let r=aA[i]??i;s&&(r+=`-${s}`);const c=r.match(/\s|\//),h=e.match(/\s|\//);if(c||h){const f=[`Unable to register library "${r}" with version "${e}":`];c&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),c&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zs.warn(f.join(" "));return}Vi(new Xs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="firebase-heartbeat-database",dA=1,go="firebase-heartbeat-store";let yf=null;function $_(){return yf||(yf=G_(hA,dA,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(go)}catch(s){console.warn(s)}}}}).catch(i=>{throw Di.create("idb-open",{originalErrorMessage:i.message})})),yf}async function fA(i){try{const s=(await $_()).transaction(go),r=await s.objectStore(go).get(K_(i));return await s.done,r}catch(e){if(e instanceof zi)Zs.warn(e.message);else{const s=Di.create("idb-get",{originalErrorMessage:e?.message});Zs.warn(s.message)}}}async function wy(i,e){try{const r=(await $_()).transaction(go,"readwrite");await r.objectStore(go).put(e,K_(i)),await r.done}catch(s){if(s instanceof zi)Zs.warn(s.message);else{const r=Di.create("idb-set",{originalErrorMessage:s?.message});Zs.warn(r.message)}}}function K_(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=1024,pA=30;class gA{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new yA(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=jy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(c=>c.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>pA){const c=_A(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Zs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=jy(),{heartbeatsToSend:s,unsentEntries:r}=vA(this._heartbeatsCache.heartbeats),c=yu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(e){return Zs.warn(e),""}}}function jy(){return new Date().toISOString().substring(0,10)}function vA(i,e=mA){const s=[];let r=i.slice();for(const c of i){const h=s.find(f=>f.agent===c.agent);if(h){if(h.dates.push(c.date),Ry(s)>e){h.dates.pop();break}}else if(s.push({agent:c.agent,dates:[c.date]}),Ry(s)>e){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class yA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return z_()?q_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await fA(this.app);return s?.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ry(i){return yu(JSON.stringify({version:2,heartbeats:i})).length}function _A(i){if(i.length===0)return-1;let e=0,s=i[0].date;for(let r=1;r<i.length;r++)i[r].date<s&&(s=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(i){Vi(new Xs("platform-logger",e=>new C0(e),"PRIVATE")),Vi(new Xs("heartbeat",e=>new gA(e),"PRIVATE")),gs(Df,Ny,i),gs(Df,Ny,"esm2020"),gs("fire-js","")}bA("");var EA="firebase",xA="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gs(EA,xA,"app");const X_="@firebase/installations",am="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=1e4,J_=`w:${am}`,W_="FIS_v2",TA="https://firebaseinstallations.googleapis.com/v1",AA=3600*1e3,NA="installations",SA="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ma=new ku(NA,SA,wA);function eb(i){return i instanceof zi&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb({projectId:i}){return`${TA}/projects/${i}/installations`}function nb(i){return{token:i.token,requestStatus:2,expiresIn:RA(i.expiresIn),creationTime:Date.now()}}async function sb(i,e){const r=(await e.json()).error;return Ma.create("request-failed",{requestName:i,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function ib({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function jA(i,{refreshToken:e}){const s=ib(i);return s.append("Authorization",CA(e)),s}async function ab(i){const e=await i();return e.status>=500&&e.status<600?i():e}function RA(i){return Number(i.replace("s","000"))}function CA(i){return`${W_} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DA({appConfig:i,heartbeatServiceProvider:e},{fid:s}){const r=tb(i),c=ib(i),h=e.getImmediate({optional:!0});if(h){const y=await h.getHeartbeatsHeader();y&&c.append("x-firebase-client",y)}const f={fid:s,authVersion:W_,appId:i.appId,sdkVersion:J_},p={method:"POST",headers:c,body:JSON.stringify(f)},v=await ab(()=>fetch(r,p));if(v.ok){const y=await v.json();return{fid:y.fid||s,registrationStatus:2,refreshToken:y.refreshToken,authToken:nb(y.authToken)}}else throw await sb("Create Installation",v)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=/^[cdef][\w-]{21}$/,Vf="";function VA(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const s=OA(i);return MA.test(s)?s:Vf}catch{return Vf}}function OA(i){return IA(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=new Map;function ob(i,e){const s=Lu(i);cb(s,e),kA(s,e)}function cb(i,e){const s=lb.get(i);if(s)for(const r of s)r(e)}function kA(i,e){const s=LA();s&&s.postMessage({key:i,fid:e}),PA()}let ja=null;function LA(){return!ja&&"BroadcastChannel"in self&&(ja=new BroadcastChannel("[Firebase] FID Change"),ja.onmessage=i=>{cb(i.data.key,i.data.fid)}),ja}function PA(){lb.size===0&&ja&&(ja.close(),ja=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="firebase-installations-database",BA=1,Va="firebase-installations-store";let _f=null;function rm(){return _f||(_f=G_(UA,BA,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(Va)}}})),_f}async function bu(i,e){const s=Lu(i),c=(await rm()).transaction(Va,"readwrite"),h=c.objectStore(Va),f=await h.get(s);return await h.put(e,s),await c.done,(!f||f.fid!==e.fid)&&ob(i,e.fid),e}async function ub(i){const e=Lu(i),r=(await rm()).transaction(Va,"readwrite");await r.objectStore(Va).delete(e),await r.done}async function Pu(i,e){const s=Lu(i),c=(await rm()).transaction(Va,"readwrite"),h=c.objectStore(Va),f=await h.get(s),p=e(f);return p===void 0?await h.delete(s):await h.put(p,s),await c.done,p&&(!f||f.fid!==p.fid)&&ob(i,p.fid),p}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lm(i){let e;const s=await Pu(i.appConfig,r=>{const c=zA(r),h=qA(i,c);return e=h.registrationPromise,h.installationEntry});return s.fid===Vf?{installationEntry:await e}:{installationEntry:s,registrationPromise:e}}function zA(i){const e=i||{fid:VA(),registrationStatus:0};return hb(e)}function qA(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const c=Promise.reject(Ma.create("app-offline"));return{installationEntry:e,registrationPromise:c}}const s={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=HA(i,s);return{installationEntry:s,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:FA(i)}:{installationEntry:e}}async function HA(i,e){try{const s=await DA(i,e);return bu(i.appConfig,s)}catch(s){throw eb(s)&&s.customData.serverCode===409?await ub(i.appConfig):await bu(i.appConfig,{fid:e.fid,registrationStatus:0}),s}}async function FA(i){let e=await Cy(i.appConfig);for(;e.registrationStatus===1;)await rb(100),e=await Cy(i.appConfig);if(e.registrationStatus===0){const{installationEntry:s,registrationPromise:r}=await lm(i);return r||s}return e}function Cy(i){return Pu(i,e=>{if(!e)throw Ma.create("installation-not-found");return hb(e)})}function hb(i){return GA(i)?{fid:i.fid,registrationStatus:0}:i}function GA(i){return i.registrationStatus===1&&i.registrationTime+Z_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QA({appConfig:i,heartbeatServiceProvider:e},s){const r=YA(i,s),c=jA(i,s),h=e.getImmediate({optional:!0});if(h){const y=await h.getHeartbeatsHeader();y&&c.append("x-firebase-client",y)}const f={installation:{sdkVersion:J_,appId:i.appId}},p={method:"POST",headers:c,body:JSON.stringify(f)},v=await ab(()=>fetch(r,p));if(v.ok){const y=await v.json();return nb(y)}else throw await sb("Generate Auth Token",v)}function YA(i,{fid:e}){return`${tb(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function om(i,e=!1){let s;const r=await Pu(i.appConfig,h=>{if(!db(h))throw Ma.create("not-registered");const f=h.authToken;if(!e&&XA(f))return h;if(f.requestStatus===1)return s=$A(i,e),h;{if(!navigator.onLine)throw Ma.create("app-offline");const p=JA(h);return s=KA(i,p),p}});return s?await s:r.authToken}async function $A(i,e){let s=await Dy(i.appConfig);for(;s.authToken.requestStatus===1;)await rb(100),s=await Dy(i.appConfig);const r=s.authToken;return r.requestStatus===0?om(i,e):r}function Dy(i){return Pu(i,e=>{if(!db(e))throw Ma.create("not-registered");const s=e.authToken;return WA(s)?{...e,authToken:{requestStatus:0}}:e})}async function KA(i,e){try{const s=await QA(i,e),r={...e,authToken:s};return await bu(i.appConfig,r),s}catch(s){if(eb(s)&&(s.customData.serverCode===401||s.customData.serverCode===404))await ub(i.appConfig);else{const r={...e,authToken:{requestStatus:0}};await bu(i.appConfig,r)}throw s}}function db(i){return i!==void 0&&i.registrationStatus===2}function XA(i){return i.requestStatus===2&&!ZA(i)}function ZA(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+AA}function JA(i){const e={requestStatus:1,requestTime:Date.now()};return{...i,authToken:e}}function WA(i){return i.requestStatus===1&&i.requestTime+Z_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(i){const e=i,{installationEntry:s,registrationPromise:r}=await lm(e);return r?r.catch(console.error):om(e).catch(console.error),s.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tN(i,e=!1){const s=i;return await nN(s),(await om(s,e)).token}async function nN(i){const{registrationPromise:e}=await lm(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(i){if(!i||!i.options)throw bf("App Configuration");if(!i.name)throw bf("App Name");const e=["projectId","apiKey","appId"];for(const s of e)if(!i.options[s])throw bf(s);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function bf(i){return Ma.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="installations",iN="installations-internal",aN=i=>{const e=i.getProvider("app").getImmediate(),s=sN(e),r=So(e,"heartbeat");return{app:e,appConfig:s,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},rN=i=>{const e=i.getProvider("app").getImmediate(),s=So(e,fb).getImmediate();return{getId:()=>eN(s),getToken:c=>tN(s,c)}};function lN(){Vi(new Xs(fb,aN,"PUBLIC")),Vi(new Xs(iN,rN,"PRIVATE"))}lN();gs(X_,am);gs(X_,am,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu="analytics",oN="firebase_id",cN="origin",uN=60*1e3,hN="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",cm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn=new sm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Rn=new ku("analytics","Analytics",dN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(i){if(!i.startsWith(cm)){const e=Rn.create("invalid-gtag-resource",{gtagURL:i});return gn.warn(e.message),""}return i}function mb(i){return Promise.all(i.map(e=>e.catch(s=>s)))}function mN(i,e){let s;return window.trustedTypes&&(s=window.trustedTypes.createPolicy(i,e)),s}function pN(i,e){const s=mN("firebase-js-sdk-policy",{createScriptURL:fN}),r=document.createElement("script"),c=`${cm}?l=${i}&id=${e}`;r.src=s?s?.createScriptURL(c):c,r.async=!0,document.head.appendChild(r)}function gN(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function vN(i,e,s,r,c,h){const f=r[c];try{if(f)await e[f];else{const v=(await mb(s)).find(y=>y.measurementId===c);v&&await e[v.appId]}}catch(p){gn.error(p)}i("config",c,h)}async function yN(i,e,s,r,c){try{let h=[];if(c&&c.send_to){let f=c.send_to;Array.isArray(f)||(f=[f]);const p=await mb(s);for(const v of f){const y=p.find(C=>C.measurementId===v),E=y&&e[y.appId];if(E)h.push(E);else{h=[];break}}}h.length===0&&(h=Object.values(e)),await Promise.all(h),i("event",r,c||{})}catch(h){gn.error(h)}}function _N(i,e,s,r){async function c(h,...f){try{if(h==="event"){const[p,v]=f;await yN(i,e,s,p,v)}else if(h==="config"){const[p,v]=f;await vN(i,e,s,r,p,v)}else if(h==="consent"){const[p,v]=f;i("consent",p,v)}else if(h==="get"){const[p,v,y]=f;i("get",p,v,y)}else if(h==="set"){const[p]=f;i("set",p)}else i(h,...f)}catch(p){gn.error(p)}}return c}function bN(i,e,s,r,c){let h=function(...f){window[r].push(arguments)};return window[c]&&typeof window[c]=="function"&&(h=window[c]),window[c]=_N(h,i,e,s),{gtagCore:h,wrappedGtag:window[c]}}function EN(i){const e=window.document.getElementsByTagName("script");for(const s of Object.values(e))if(s.src&&s.src.includes(cm)&&s.src.includes(i))return s;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=30,TN=1e3;class AN{constructor(e={},s=TN){this.throttleMetadata=e,this.intervalMillis=s}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,s){this.throttleMetadata[e]=s}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const pb=new AN;function NN(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function SN(i){const{appId:e,apiKey:s}=i,r={method:"GET",headers:NN(s)},c=hN.replace("{app-id}",e),h=await fetch(c,r);if(h.status!==200&&h.status!==304){let f="";try{const p=await h.json();p.error?.message&&(f=p.error.message)}catch{}throw Rn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:f})}return h.json()}async function wN(i,e=pb,s){const{appId:r,apiKey:c,measurementId:h}=i.options;if(!r)throw Rn.create("no-app-id");if(!c){if(h)return{measurementId:h,appId:r};throw Rn.create("no-api-key")}const f=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new CN;return setTimeout(async()=>{p.abort()},uN),gb({appId:r,apiKey:c,measurementId:h},f,p,e)}async function gb(i,{throttleEndTimeMillis:e,backoffCount:s},r,c=pb){const{appId:h,measurementId:f}=i;try{await jN(r,e)}catch(p){if(f)return gn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:h,measurementId:f};throw p}try{const p=await SN(i);return c.deleteThrottleMetadata(h),p}catch(p){const v=p;if(!RN(v)){if(c.deleteThrottleMetadata(h),f)return gn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:h,measurementId:f};throw p}const y=Number(v?.customData?.httpStatus)===503?Ey(s,c.intervalMillis,xN):Ey(s,c.intervalMillis),E={throttleEndTimeMillis:Date.now()+y,backoffCount:s+1};return c.setThrottleMetadata(h,E),gn.debug(`Calling attemptFetch again in ${y} millis`),gb(i,E,r,c)}}function jN(i,e){return new Promise((s,r)=>{const c=Math.max(e-Date.now(),0),h=setTimeout(s,c);i.addEventListener(()=>{clearTimeout(h),r(Rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function RN(i){if(!(i instanceof zi)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class CN{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function DN(i,e,s,r,c){if(c&&c.global){i("event",s,r);return}else{const h=await e,f={...r,send_to:h};i("event",s,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(){if(z_())try{await q_()}catch(i){return gn.warn(Rn.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return gn.warn(Rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function MN(i,e,s,r,c,h,f){const p=wN(i);p.then(R=>{s[R.measurementId]=R.appId,i.options.measurementId&&R.measurementId!==i.options.measurementId&&gn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${R.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(R=>gn.error(R)),e.push(p);const v=IN().then(R=>{if(R)return r.getId()}),[y,E]=await Promise.all([p,v]);EN(h)||pN(h,y.measurementId),c("js",new Date);const C=f?.config??{};return C[cN]="firebase",C.update=!0,E!=null&&(C[oN]=E),c("config",y.measurementId,C),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.app=e}_delete(){return delete uo[this.app.options.appId],Promise.resolve()}}let uo={},Iy=[];const My={};let Ef="dataLayer",ON="gtag",Vy,vb,Oy=!1;function kN(){const i=[];if(n0()&&i.push("This is a browser extension environment."),i0()||i.push("Cookies are not available."),i.length>0){const e=i.map((r,c)=>`(${c+1}) ${r}`).join(" "),s=Rn.create("invalid-analytics-context",{errorInfo:e});gn.warn(s.message)}}function LN(i,e,s){kN();const r=i.options.appId;if(!r)throw Rn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)gn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Rn.create("no-api-key");if(uo[r]!=null)throw Rn.create("already-exists",{id:r});if(!Oy){gN(Ef);const{wrappedGtag:h,gtagCore:f}=bN(uo,Iy,My,Ef,ON);vb=h,Vy=f,Oy=!0}return uo[r]=MN(i,Iy,My,e,Vy,Ef,s),new VN(i)}function PN(i=Y_()){i=un(i);const e=So(i,Eu);return e.isInitialized()?e.getImmediate():UN(i)}function UN(i,e={}){const s=So(i,Eu);if(s.isInitialized()){const c=s.getImmediate();if(po(e,s.getOptions()))return c;throw Rn.create("already-initialized")}return s.initialize({options:e})}function BN(i,e,s,r){i=un(i),DN(vb,uo[i.app.options.appId],e,s,r).catch(c=>gn.error(c))}const ky="@firebase/analytics",Ly="0.10.18";function zN(){Vi(new Xs(Eu,(e,{options:s})=>{const r=e.getProvider("app").getImmediate(),c=e.getProvider("installations-internal").getImmediate();return LN(r,c,s)},"PUBLIC")),Vi(new Xs("analytics-internal",i,"PRIVATE")),gs(ky,Ly),gs(ky,Ly,"esm2020");function i(e){try{const s=e.getProvider(Eu).getImmediate();return{logEvent:(r,c,h)=>BN(s,r,c,h)}}catch(s){throw Rn.create("interop-component-reg-failed",{reason:s})}}}zN();var Py=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ii,yb;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,A){function D(){}D.prototype=A.prototype,w.D=A.prototype,w.prototype=new D,w.prototype.constructor=w,w.C=function(j,S,V){for(var N=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)N[Me-2]=arguments[Me];return A.prototype[S].apply(j,N)}}function s(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,s),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function c(w,A,D){D||(D=0);var j=Array(16);if(typeof A=="string")for(var S=0;16>S;++S)j[S]=A.charCodeAt(D++)|A.charCodeAt(D++)<<8|A.charCodeAt(D++)<<16|A.charCodeAt(D++)<<24;else for(S=0;16>S;++S)j[S]=A[D++]|A[D++]<<8|A[D++]<<16|A[D++]<<24;A=w.g[0],D=w.g[1],S=w.g[2];var V=w.g[3],N=A+(V^D&(S^V))+j[0]+3614090360&4294967295;A=D+(N<<7&4294967295|N>>>25),N=V+(S^A&(D^S))+j[1]+3905402710&4294967295,V=A+(N<<12&4294967295|N>>>20),N=S+(D^V&(A^D))+j[2]+606105819&4294967295,S=V+(N<<17&4294967295|N>>>15),N=D+(A^S&(V^A))+j[3]+3250441966&4294967295,D=S+(N<<22&4294967295|N>>>10),N=A+(V^D&(S^V))+j[4]+4118548399&4294967295,A=D+(N<<7&4294967295|N>>>25),N=V+(S^A&(D^S))+j[5]+1200080426&4294967295,V=A+(N<<12&4294967295|N>>>20),N=S+(D^V&(A^D))+j[6]+2821735955&4294967295,S=V+(N<<17&4294967295|N>>>15),N=D+(A^S&(V^A))+j[7]+4249261313&4294967295,D=S+(N<<22&4294967295|N>>>10),N=A+(V^D&(S^V))+j[8]+1770035416&4294967295,A=D+(N<<7&4294967295|N>>>25),N=V+(S^A&(D^S))+j[9]+2336552879&4294967295,V=A+(N<<12&4294967295|N>>>20),N=S+(D^V&(A^D))+j[10]+4294925233&4294967295,S=V+(N<<17&4294967295|N>>>15),N=D+(A^S&(V^A))+j[11]+2304563134&4294967295,D=S+(N<<22&4294967295|N>>>10),N=A+(V^D&(S^V))+j[12]+1804603682&4294967295,A=D+(N<<7&4294967295|N>>>25),N=V+(S^A&(D^S))+j[13]+4254626195&4294967295,V=A+(N<<12&4294967295|N>>>20),N=S+(D^V&(A^D))+j[14]+2792965006&4294967295,S=V+(N<<17&4294967295|N>>>15),N=D+(A^S&(V^A))+j[15]+1236535329&4294967295,D=S+(N<<22&4294967295|N>>>10),N=A+(S^V&(D^S))+j[1]+4129170786&4294967295,A=D+(N<<5&4294967295|N>>>27),N=V+(D^S&(A^D))+j[6]+3225465664&4294967295,V=A+(N<<9&4294967295|N>>>23),N=S+(A^D&(V^A))+j[11]+643717713&4294967295,S=V+(N<<14&4294967295|N>>>18),N=D+(V^A&(S^V))+j[0]+3921069994&4294967295,D=S+(N<<20&4294967295|N>>>12),N=A+(S^V&(D^S))+j[5]+3593408605&4294967295,A=D+(N<<5&4294967295|N>>>27),N=V+(D^S&(A^D))+j[10]+38016083&4294967295,V=A+(N<<9&4294967295|N>>>23),N=S+(A^D&(V^A))+j[15]+3634488961&4294967295,S=V+(N<<14&4294967295|N>>>18),N=D+(V^A&(S^V))+j[4]+3889429448&4294967295,D=S+(N<<20&4294967295|N>>>12),N=A+(S^V&(D^S))+j[9]+568446438&4294967295,A=D+(N<<5&4294967295|N>>>27),N=V+(D^S&(A^D))+j[14]+3275163606&4294967295,V=A+(N<<9&4294967295|N>>>23),N=S+(A^D&(V^A))+j[3]+4107603335&4294967295,S=V+(N<<14&4294967295|N>>>18),N=D+(V^A&(S^V))+j[8]+1163531501&4294967295,D=S+(N<<20&4294967295|N>>>12),N=A+(S^V&(D^S))+j[13]+2850285829&4294967295,A=D+(N<<5&4294967295|N>>>27),N=V+(D^S&(A^D))+j[2]+4243563512&4294967295,V=A+(N<<9&4294967295|N>>>23),N=S+(A^D&(V^A))+j[7]+1735328473&4294967295,S=V+(N<<14&4294967295|N>>>18),N=D+(V^A&(S^V))+j[12]+2368359562&4294967295,D=S+(N<<20&4294967295|N>>>12),N=A+(D^S^V)+j[5]+4294588738&4294967295,A=D+(N<<4&4294967295|N>>>28),N=V+(A^D^S)+j[8]+2272392833&4294967295,V=A+(N<<11&4294967295|N>>>21),N=S+(V^A^D)+j[11]+1839030562&4294967295,S=V+(N<<16&4294967295|N>>>16),N=D+(S^V^A)+j[14]+4259657740&4294967295,D=S+(N<<23&4294967295|N>>>9),N=A+(D^S^V)+j[1]+2763975236&4294967295,A=D+(N<<4&4294967295|N>>>28),N=V+(A^D^S)+j[4]+1272893353&4294967295,V=A+(N<<11&4294967295|N>>>21),N=S+(V^A^D)+j[7]+4139469664&4294967295,S=V+(N<<16&4294967295|N>>>16),N=D+(S^V^A)+j[10]+3200236656&4294967295,D=S+(N<<23&4294967295|N>>>9),N=A+(D^S^V)+j[13]+681279174&4294967295,A=D+(N<<4&4294967295|N>>>28),N=V+(A^D^S)+j[0]+3936430074&4294967295,V=A+(N<<11&4294967295|N>>>21),N=S+(V^A^D)+j[3]+3572445317&4294967295,S=V+(N<<16&4294967295|N>>>16),N=D+(S^V^A)+j[6]+76029189&4294967295,D=S+(N<<23&4294967295|N>>>9),N=A+(D^S^V)+j[9]+3654602809&4294967295,A=D+(N<<4&4294967295|N>>>28),N=V+(A^D^S)+j[12]+3873151461&4294967295,V=A+(N<<11&4294967295|N>>>21),N=S+(V^A^D)+j[15]+530742520&4294967295,S=V+(N<<16&4294967295|N>>>16),N=D+(S^V^A)+j[2]+3299628645&4294967295,D=S+(N<<23&4294967295|N>>>9),N=A+(S^(D|~V))+j[0]+4096336452&4294967295,A=D+(N<<6&4294967295|N>>>26),N=V+(D^(A|~S))+j[7]+1126891415&4294967295,V=A+(N<<10&4294967295|N>>>22),N=S+(A^(V|~D))+j[14]+2878612391&4294967295,S=V+(N<<15&4294967295|N>>>17),N=D+(V^(S|~A))+j[5]+4237533241&4294967295,D=S+(N<<21&4294967295|N>>>11),N=A+(S^(D|~V))+j[12]+1700485571&4294967295,A=D+(N<<6&4294967295|N>>>26),N=V+(D^(A|~S))+j[3]+2399980690&4294967295,V=A+(N<<10&4294967295|N>>>22),N=S+(A^(V|~D))+j[10]+4293915773&4294967295,S=V+(N<<15&4294967295|N>>>17),N=D+(V^(S|~A))+j[1]+2240044497&4294967295,D=S+(N<<21&4294967295|N>>>11),N=A+(S^(D|~V))+j[8]+1873313359&4294967295,A=D+(N<<6&4294967295|N>>>26),N=V+(D^(A|~S))+j[15]+4264355552&4294967295,V=A+(N<<10&4294967295|N>>>22),N=S+(A^(V|~D))+j[6]+2734768916&4294967295,S=V+(N<<15&4294967295|N>>>17),N=D+(V^(S|~A))+j[13]+1309151649&4294967295,D=S+(N<<21&4294967295|N>>>11),N=A+(S^(D|~V))+j[4]+4149444226&4294967295,A=D+(N<<6&4294967295|N>>>26),N=V+(D^(A|~S))+j[11]+3174756917&4294967295,V=A+(N<<10&4294967295|N>>>22),N=S+(A^(V|~D))+j[2]+718787259&4294967295,S=V+(N<<15&4294967295|N>>>17),N=D+(V^(S|~A))+j[9]+3951481745&4294967295,w.g[0]=w.g[0]+A&4294967295,w.g[1]=w.g[1]+(S+(N<<21&4294967295|N>>>11))&4294967295,w.g[2]=w.g[2]+S&4294967295,w.g[3]=w.g[3]+V&4294967295}r.prototype.u=function(w,A){A===void 0&&(A=w.length);for(var D=A-this.blockSize,j=this.B,S=this.h,V=0;V<A;){if(S==0)for(;V<=D;)c(this,w,V),V+=this.blockSize;if(typeof w=="string"){for(;V<A;)if(j[S++]=w.charCodeAt(V++),S==this.blockSize){c(this,j),S=0;break}}else for(;V<A;)if(j[S++]=w[V++],S==this.blockSize){c(this,j),S=0;break}}this.h=S,this.o+=A},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var A=1;A<w.length-8;++A)w[A]=0;var D=8*this.o;for(A=w.length-8;A<w.length;++A)w[A]=D&255,D/=256;for(this.u(w),w=Array(16),A=D=0;4>A;++A)for(var j=0;32>j;j+=8)w[D++]=this.g[A]>>>j&255;return w};function h(w,A){var D=p;return Object.prototype.hasOwnProperty.call(D,w)?D[w]:D[w]=A(w)}function f(w,A){this.h=A;for(var D=[],j=!0,S=w.length-1;0<=S;S--){var V=w[S]|0;j&&V==A||(D[S]=V,j=!1)}this.g=D}var p={};function v(w){return-128<=w&&128>w?h(w,function(A){return new f([A|0],0>A?-1:0)}):new f([w|0],0>w?-1:0)}function y(w){if(isNaN(w)||!isFinite(w))return C;if(0>w)return K(y(-w));for(var A=[],D=1,j=0;w>=D;j++)A[j]=w/D|0,D*=4294967296;return new f(A,0)}function E(w,A){if(w.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(w.charAt(0)=="-")return K(E(w.substring(1),A));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=y(Math.pow(A,8)),j=C,S=0;S<w.length;S+=8){var V=Math.min(8,w.length-S),N=parseInt(w.substring(S,S+V),A);8>V?(V=y(Math.pow(A,V)),j=j.j(V).add(y(N))):(j=j.j(D),j=j.add(y(N)))}return j}var C=v(0),R=v(1),U=v(16777216);i=f.prototype,i.m=function(){if(Z(this))return-K(this).m();for(var w=0,A=1,D=0;D<this.g.length;D++){var j=this.i(D);w+=(0<=j?j:4294967296+j)*A,A*=4294967296}return w},i.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(L(this))return"0";if(Z(this))return"-"+K(this).toString(w);for(var A=y(Math.pow(w,6)),D=this,j="";;){var S=ae(D,A).g;D=fe(D,S.j(A));var V=((0<D.g.length?D.g[0]:D.h)>>>0).toString(w);if(D=S,L(D))return V+j;for(;6>V.length;)V="0"+V;j=V+j}},i.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function L(w){if(w.h!=0)return!1;for(var A=0;A<w.g.length;A++)if(w.g[A]!=0)return!1;return!0}function Z(w){return w.h==-1}i.l=function(w){return w=fe(this,w),Z(w)?-1:L(w)?0:1};function K(w){for(var A=w.g.length,D=[],j=0;j<A;j++)D[j]=~w.g[j];return new f(D,~w.h).add(R)}i.abs=function(){return Z(this)?K(this):this},i.add=function(w){for(var A=Math.max(this.g.length,w.g.length),D=[],j=0,S=0;S<=A;S++){var V=j+(this.i(S)&65535)+(w.i(S)&65535),N=(V>>>16)+(this.i(S)>>>16)+(w.i(S)>>>16);j=N>>>16,V&=65535,N&=65535,D[S]=N<<16|V}return new f(D,D[D.length-1]&-2147483648?-1:0)};function fe(w,A){return w.add(K(A))}i.j=function(w){if(L(this)||L(w))return C;if(Z(this))return Z(w)?K(this).j(K(w)):K(K(this).j(w));if(Z(w))return K(this.j(K(w)));if(0>this.l(U)&&0>w.l(U))return y(this.m()*w.m());for(var A=this.g.length+w.g.length,D=[],j=0;j<2*A;j++)D[j]=0;for(j=0;j<this.g.length;j++)for(var S=0;S<w.g.length;S++){var V=this.i(j)>>>16,N=this.i(j)&65535,Me=w.i(S)>>>16,$e=w.i(S)&65535;D[2*j+2*S]+=N*$e,ie(D,2*j+2*S),D[2*j+2*S+1]+=V*$e,ie(D,2*j+2*S+1),D[2*j+2*S+1]+=N*Me,ie(D,2*j+2*S+1),D[2*j+2*S+2]+=V*Me,ie(D,2*j+2*S+2)}for(j=0;j<A;j++)D[j]=D[2*j+1]<<16|D[2*j];for(j=A;j<2*A;j++)D[j]=0;return new f(D,0)};function ie(w,A){for(;(w[A]&65535)!=w[A];)w[A+1]+=w[A]>>>16,w[A]&=65535,A++}function k(w,A){this.g=w,this.h=A}function ae(w,A){if(L(A))throw Error("division by zero");if(L(w))return new k(C,C);if(Z(w))return A=ae(K(w),A),new k(K(A.g),K(A.h));if(Z(A))return A=ae(w,K(A)),new k(K(A.g),A.h);if(30<w.g.length){if(Z(w)||Z(A))throw Error("slowDivide_ only works with positive integers.");for(var D=R,j=A;0>=j.l(w);)D=J(D),j=J(j);var S=re(D,1),V=re(j,1);for(j=re(j,2),D=re(D,2);!L(j);){var N=V.add(j);0>=N.l(w)&&(S=S.add(D),V=N),j=re(j,1),D=re(D,1)}return A=fe(w,S.j(A)),new k(S,A)}for(S=C;0<=w.l(A);){for(D=Math.max(1,Math.floor(w.m()/A.m())),j=Math.ceil(Math.log(D)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),V=y(D),N=V.j(A);Z(N)||0<N.l(w);)D-=j,V=y(D),N=V.j(A);L(V)&&(V=R),S=S.add(V),w=fe(w,N)}return new k(S,w)}i.A=function(w){return ae(this,w).h},i.and=function(w){for(var A=Math.max(this.g.length,w.g.length),D=[],j=0;j<A;j++)D[j]=this.i(j)&w.i(j);return new f(D,this.h&w.h)},i.or=function(w){for(var A=Math.max(this.g.length,w.g.length),D=[],j=0;j<A;j++)D[j]=this.i(j)|w.i(j);return new f(D,this.h|w.h)},i.xor=function(w){for(var A=Math.max(this.g.length,w.g.length),D=[],j=0;j<A;j++)D[j]=this.i(j)^w.i(j);return new f(D,this.h^w.h)};function J(w){for(var A=w.g.length+1,D=[],j=0;j<A;j++)D[j]=w.i(j)<<1|w.i(j-1)>>>31;return new f(D,w.h)}function re(w,A){var D=A>>5;A%=32;for(var j=w.g.length-D,S=[],V=0;V<j;V++)S[V]=0<A?w.i(V+D)>>>A|w.i(V+D+1)<<32-A:w.i(V+D);return new f(S,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,yb=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Ii=f}).apply(typeof Py<"u"?Py:typeof self<"u"?self:typeof window<"u"?window:{});var ru=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _b,ao,bb,hu,Of,Eb,xb,Tb;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,_){return u==Array.prototype||u==Object.prototype||(u[g]=_.value),u};function s(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ru=="object"&&ru];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=s(this);function c(u,g){if(g)e:{var _=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var B=u[T];if(!(B in _))break e;_=_[B]}u=u[u.length-1],T=_[u],g=g(T),g!=T&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}function h(u,g){u instanceof String&&(u+="");var _=0,T=!1,B={next:function(){if(!T&&_<u.length){var Q=_++;return{value:g(Q,u[Q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}c("Array.prototype.values",function(u){return u||function(){return h(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function v(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function y(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function E(u,g,_){return u.call.apply(u.bind,arguments)}function C(u,g,_){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,T),u.apply(g,B)}}return function(){return u.apply(g,arguments)}}function R(u,g,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:C,R.apply(null,arguments)}function U(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function L(u,g){function _(){}_.prototype=g.prototype,u.aa=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(T,B,Q){for(var oe=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)oe[qe-2]=arguments[qe];return g.prototype[B].apply(T,oe)}}function Z(u){const g=u.length;if(0<g){const _=Array(g);for(let T=0;T<g;T++)_[T]=u[T];return _}return[]}function K(u,g){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(v(T)){const B=u.length||0,Q=T.length||0;u.length=B+Q;for(let oe=0;oe<Q;oe++)u[B+oe]=T[oe]}else u.push(T)}}class fe{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function ie(u){return/^[\s\xa0]*$/.test(u)}function k(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function ae(u){return ae[" "](u),u}ae[" "]=function(){};var J=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function re(u,g,_){for(const T in u)g.call(_,u[T],T,u)}function w(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function A(u){const g={};for(const _ in u)g[_]=u[_];return g}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(u,g){let _,T;for(let B=1;B<arguments.length;B++){T=arguments[B];for(_ in T)u[_]=T[_];for(let Q=0;Q<D.length;Q++)_=D[Q],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function S(u){var g=1;u=u.split(":");const _=[];for(;0<g&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function V(u){p.setTimeout(()=>{throw u},0)}function N(){var u=ze;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class Me{constructor(){this.h=this.g=null}add(g,_){const T=$e.get();T.set(g,_),this.h?this.h.next=T:this.g=T,this.h=T}}var $e=new fe(()=>new Y,u=>u.reset());class Y{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,ge=!1,ze=new Me,M=()=>{const u=p.Promise.resolve(void 0);ce=()=>{u.then(ee)}};var ee=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(_){V(_)}var g=$e;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}ge=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var be=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};p.addEventListener("test",_,g),p.removeEventListener("test",_,g)}catch{}return u})();function De(u,g){if(se.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(J){e:{try{ae(g.nodeName);var B=!0;break e}catch{}B=!1}B||(g=null)}}else _=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement);this.relatedTarget=g,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:me[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&De.aa.h.call(this)}}L(De,se);var me={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),H=0;function Re(u,g,_,T,B){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!T,this.ha=B,this.key=++H,this.da=this.fa=!1}function Ae(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Tt(u){this.src=u,this.g={},this.h=0}Tt.prototype.add=function(u,g,_,T,B){var Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);var oe=Gi(u,g,T,B);return-1<oe?(g=u[oe],_||(g.fa=!1)):(g=new Re(g,this.src,Q,!!T,B),g.fa=_,u.push(g)),g};function Fi(u,g){var _=g.type;if(_ in u.g){var T=u.g[_],B=Array.prototype.indexOf.call(T,g,void 0),Q;(Q=0<=B)&&Array.prototype.splice.call(T,B,1),Q&&(Ae(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Gi(u,g,_,T){for(var B=0;B<u.length;++B){var Q=u[B];if(!Q.da&&Q.listener==g&&Q.capture==!!_&&Q.ha==T)return B}return-1}var Qi="closure_lm_"+(1e6*Math.random()|0),Kr={};function ko(u,g,_,T,B){if(Array.isArray(g)){for(var Q=0;Q<g.length;Q++)ko(u,g[Q],_,T,B);return null}return _=Lo(_),u&&u[Ve]?u.K(g,_,y(T)?!!T.capture:!1,B):Dn(u,g,_,!1,T,B)}function Dn(u,g,_,T,B,Q){if(!g)throw Error("Invalid event type");var oe=y(B)?!!B.capture:!!B,qe=za(u);if(qe||(u[Qi]=qe=new Tt(u)),_=qe.add(g,_,T,oe,Q),_.proxy)return _;if(T=oh(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)be||(B=oe),B===void 0&&(B=!1),u.addEventListener(g.toString(),T,B);else if(u.attachEvent)u.attachEvent(Yi(g.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function oh(){function u(_){return g.call(u.src,u.listener,_)}const g=ch;return u}function Xr(u,g,_,T,B){if(Array.isArray(g))for(var Q=0;Q<g.length;Q++)Xr(u,g[Q],_,T,B);else T=y(T)?!!T.capture:!!T,_=Lo(_),u&&u[Ve]?(u=u.i,g=String(g).toString(),g in u.g&&(Q=u.g[g],_=Gi(Q,_,T,B),-1<_&&(Ae(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete u.g[g],u.h--)))):u&&(u=za(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Gi(g,_,T,B)),(_=-1<u?g[u]:null)&&Ba(_))}function Ba(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Ve])Fi(g.i,u);else{var _=u.type,T=u.proxy;g.removeEventListener?g.removeEventListener(_,T,u.capture):g.detachEvent?g.detachEvent(Yi(_),T):g.addListener&&g.removeListener&&g.removeListener(T),(_=za(g))?(Fi(_,u),_.h==0&&(_.src=null,g[Qi]=null)):Ae(u)}}}function Yi(u){return u in Kr?Kr[u]:Kr[u]="on"+u}function ch(u,g){if(u.da)u=!0;else{g=new De(g,this);var _=u.listener,T=u.ha||u.src;u.fa&&Ba(u),u=_.call(T,g)}return u}function za(u){return u=u[Qi],u instanceof Tt?u:null}var Zr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lo(u){return typeof u=="function"?u:(u[Zr]||(u[Zr]=function(g){return u.handleEvent(g)}),u[Zr])}function pt(){he.call(this),this.i=new Tt(this),this.M=this,this.F=null}L(pt,he),pt.prototype[Ve]=!0,pt.prototype.removeEventListener=function(u,g,_,T){Xr(this,u,g,_,T)};function et(u,g){var _,T=u.F;if(T)for(_=[];T;T=T.F)_.push(T);if(u=u.M,T=g.type||g,typeof g=="string")g=new se(g,u);else if(g instanceof se)g.target=g.target||u;else{var B=g;g=new se(T,u),j(g,B)}if(B=!0,_)for(var Q=_.length-1;0<=Q;Q--){var oe=g.g=_[Q];B=_n(oe,T,!0,g)&&B}if(oe=g.g=u,B=_n(oe,T,!0,g)&&B,B=_n(oe,T,!1,g)&&B,_)for(Q=0;Q<_.length;Q++)oe=g.g=_[Q],B=_n(oe,T,!1,g)&&B}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var _=u.g[g],T=0;T<_.length;T++)Ae(_[T]);delete u.g[g],u.h--}}this.F=null},pt.prototype.K=function(u,g,_,T){return this.i.add(String(u),g,!1,_,T)},pt.prototype.L=function(u,g,_,T){return this.i.add(String(u),g,!0,_,T)};function _n(u,g,_,T){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var B=!0,Q=0;Q<g.length;++Q){var oe=g[Q];if(oe&&!oe.da&&oe.capture==_){var qe=oe.listener,It=oe.ha||oe.src;oe.fa&&Fi(u.i,oe),B=qe.call(It,T)!==!1&&B}}return B&&!T.defaultPrevented}function Zt(u,g,_){if(typeof u=="function")_&&(u=R(u,_));else if(u&&typeof u.handleEvent=="function")u=R(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:p.setTimeout(u,g||0)}function Po(u){u.g=Zt(()=>{u.g=null,u.i&&(u.i=!1,Po(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class uh extends he{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Po(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $i(u){he.call(this),this.h=u,this.g={}}L($i,he);var Ki=[];function Xi(u){re(u.g,function(g,_){this.g.hasOwnProperty(_)&&Ba(g)},u),u.g={}}$i.prototype.N=function(){$i.aa.N.call(this),Xi(this)},$i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gn=p.JSON.stringify,qa=p.JSON.parse,Zi=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function Jr(){}Jr.prototype.h=null;function Wr(u){return u.h||(u.h=u.i())}function el(){}var Ts={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function As(){se.call(this,"d")}L(As,se);function tl(){se.call(this,"c")}L(tl,se);var Jn={},nl=null;function ti(){return nl=nl||new pt}Jn.La="serverreachability";function Ha(u){se.call(this,Jn.La,u)}L(Ha,se);function ni(u){const g=ti();et(g,new Ha(g))}Jn.STAT_EVENT="statevent";function Uo(u,g){se.call(this,Jn.STAT_EVENT,u),this.stat=g}L(Uo,se);function ht(u){const g=ti();et(g,new Uo(g,u))}Jn.Ma="timingevent";function Dt(u,g){se.call(this,Jn.Ma,u),this.size=g}L(Dt,se);function At(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},g)}function In(){this.g=!0}In.prototype.xa=function(){this.g=!1};function sl(u,g,_,T,B,Q){u.info(function(){if(u.g)if(Q)for(var oe="",qe=Q.split("&"),It=0;It<qe.length;It++){var He=qe[It].split("=");if(1<He.length){var Pt=He[0];He=He[1];var Mt=Pt.split("_");oe=2<=Mt.length&&Mt[1]=="type"?oe+(Pt+"="+He+"&"):oe+(Pt+"=redacted&")}}else oe=null;else oe=Q;return"XMLHTTP REQ ("+T+") [attempt "+B+"]: "+g+`
`+_+`
`+oe})}function hh(u,g,_,T,B,Q,oe){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+B+"]: "+g+`
`+_+`
`+Q+" "+oe})}function si(u,g,_,T){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Ji(u,_)+(T?" "+T:"")})}function Bo(u,g){u.info(function(){return"TIMEOUT: "+g})}In.prototype.info=function(){};function Ji(u,g){if(!u.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var T=_[u];if(!(2>T.length)){var B=T[1];if(Array.isArray(B)&&!(1>B.length)){var Q=B[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var oe=1;oe<B.length;oe++)B[oe]=""}}}}return Gn(_)}catch{return g}}var ii={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ns={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wn;function es(){}L(es,Jr),es.prototype.g=function(){return new XMLHttpRequest},es.prototype.i=function(){return{}},Wn=new es;function an(u,g,_,T){this.j=u,this.i=g,this.l=_,this.R=T||1,this.U=new $i(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yt}function yt(){this.i=null,this.g="",this.h=!1}var il={},Fa={};function Qn(u,g,_){u.L=1,u.v=sa(bn(g)),u.m=_,u.P=!0,Ss(u,null)}function Ss(u,g){u.F=Date.now(),Wi(u),u.A=bn(u.v);var _=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),ul(_.i,"t",T),u.C=0,_=u.j.J,u.h=new yt,u.g=nc(u.j,_?g:null,!u.m),0<u.O&&(u.M=new uh(R(u.Y,u,u.g),u.O)),g=u.U,_=u.g,T=u.ca;var B="readystatechange";Array.isArray(B)||(B&&(Ki[0]=B.toString()),B=Ki);for(var Q=0;Q<B.length;Q++){var oe=ko(_,B[Q],T||g.handleEvent,!1,g.h||g);if(!oe)break;g.g[oe.key]=oe}g=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),ni(),sl(u.i,u.u,u.A,u.l,u.R,u.m)}an.prototype.ca=function(u){u=u.target;const g=this.M;g&&kn(u)==3?g.j():this.Y(u)},an.prototype.Y=function(u){try{if(u==this.g)e:{const Mt=kn(this.g);var g=this.g.Ba();const Vs=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||$o(this.g)))){this.J||Mt!=4||g==7||(g==8||0>=Vs?ni(3):ni(2)),ai(this);var _=this.g.Z();this.X=_;t:if(zo(this)){var T=$o(this.g);u="";var B=T.length,Q=kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ht(this),ts(this);var oe="";break t}this.h.i=new p.TextDecoder}for(g=0;g<B;g++)this.h.h=!0,u+=this.h.i.decode(T[g],{stream:!(Q&&g==B-1)});T.length=0,this.h.g+=u,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=_==200,hh(this.i,this.u,this.A,this.l,this.R,Mt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,It=this.g;if((qe=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ie(qe)){var He=qe;break t}}He=null}if(_=He)si(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ea(this,_);else{this.o=!1,this.s=3,ht(12),Ht(this),ts(this);break e}}if(this.P){_=!0;let Ft;for(;!this.J&&this.C<oe.length;)if(Ft=qo(this,oe),Ft==Fa){Mt==4&&(this.s=4,ht(14),_=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==il){this.s=4,ht(15),si(this.i,this.l,oe,"[Invalid Chunk]"),_=!1;break}else si(this.i,this.l,Ft,null),ea(this,Ft);if(zo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||oe.length!=0||this.h.h||(this.s=1,ht(16),_=!1),this.o=this.o&&_,!_)si(this.i,this.l,oe,"[Invalid Chunked Response]"),Ht(this),ts(this);else if(0<oe.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),ha(Pt),Pt.M=!0,ht(11))}}else si(this.i,this.l,oe,null),ea(this,oe);Mt==4&&Ht(this),this.o&&!this.J&&(Mt==4?Wo(this.j,this):(this.o=!1,Wi(this)))}else gh(this.g),_==400&&0<oe.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),Ht(this),ts(this)}}}catch{}finally{}};function zo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function qo(u,g){var _=u.C,T=g.indexOf(`
`,_);return T==-1?Fa:(_=Number(g.substring(_,T)),isNaN(_)?il:(T+=1,T+_>g.length?Fa:(g=g.slice(T,T+_),u.C=T+_,g)))}an.prototype.cancel=function(){this.J=!0,Ht(this)};function Wi(u){u.S=Date.now()+u.I,Ho(u,u.I)}function Ho(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=At(R(u.ba,u),g)}function ai(u){u.B&&(p.clearTimeout(u.B),u.B=null)}an.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Bo(this.i,this.A),this.L!=2&&(ni(),ht(17)),Ht(this),this.s=2,ts(this)):Ho(this,this.S-u)};function ts(u){u.j.G==0||u.J||Wo(u.j,u)}function Ht(u){ai(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,Xi(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function ea(u,g){try{var _=u.j;if(_.G!=0&&(_.g==u||al(_.h,u))){if(!u.K&&al(_.h,u)&&_.G==3){try{var T=_.Da.g.parse(g)}catch{T=null}if(Array.isArray(T)&&T.length==3){var B=T;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)nr(_),er(_);else break e;pl(_),ht(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=At(R(_.Za,_),6e3));if(1>=Qa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ms(_,11)}else if((u.K||_.g==u)&&nr(_),!ie(g))for(B=_.Da.g.parse(g),g=0;g<B.length;g++){let He=B[g];if(_.T=He[0],He=He[1],_.G==2)if(He[0]=="c"){_.K=He[1],_.ia=He[2];const Pt=He[3];Pt!=null&&(_.la=Pt,_.j.info("VER="+_.la));const Mt=He[4];Mt!=null&&(_.Aa=Mt,_.j.info("SVER="+_.Aa));const Vs=He[5];Vs!=null&&typeof Vs=="number"&&0<Vs&&(T=1.5*Vs,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Ft=u.g;if(Ft){const os=Ft.g?Ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(os){var Q=T.h;Q.g||os.indexOf("spdy")==-1&&os.indexOf("quic")==-1&&os.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ya(Q,Q.h),Q.h=null))}if(T.D){const vl=Ft.g?Ft.g.getResponseHeader("X-HTTP-Session-Id"):null;vl&&(T.ya=vl,st(T.I,T.D,vl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var oe=u;if(T.qa=tc(T,T.J?T.ia:null,T.W),oe.K){rn(T.h,oe);var qe=oe,It=T.L;It&&(qe.I=It),qe.B&&(ai(qe),Wi(qe)),T.g=oe}else Zo(T);0<_.i.length&&tr(_)}else He[0]!="stop"&&He[0]!="close"||Ms(_,7);else _.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Ms(_,7):fl(_):He[0]!="noop"&&_.l&&_.l.ta(He),_.v=0)}}ni(4)}catch{}}var Fo=class{constructor(u,g){this.g=u,this.map=g}};function ws(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ga(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Qa(u){return u.h?1:u.g?u.g.size:0}function al(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Ya(u,g){u.g?u.g.add(g):u.h=g}function rn(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}ws.prototype.cancel=function(){if(this.i=rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function rl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.D);return g}return Z(u.i)}function dh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(v(u)){for(var g=[],_=u.length,T=0;T<_;T++)g.push(u[T]);return g}g=[],_=0;for(T in u)g[_++]=u[T];return g}function $a(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(v(u)||typeof u=="string"){var g=[];u=u.length;for(var _=0;_<u;_++)g.push(_);return g}g=[],_=0;for(const T in u)g[_++]=T;return g}}}function ll(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(v(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var _=$a(u),T=dh(u),B=T.length,Q=0;Q<B;Q++)g.call(void 0,T[Q],_&&_[Q],u)}var ta=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fh(u,g){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var T=u[_].indexOf("="),B=null;if(0<=T){var Q=u[_].substring(0,T);B=u[_].substring(T+1)}else Q=u[_];g(Q,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Nt(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Nt){this.h=u.h,na(this,u.j),this.o=u.o,this.g=u.g,ri(this,u.s),this.l=u.l;var g=u.i,_=new Rs;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),js(this,_),this.m=u.m}else u&&(g=String(u).match(ta))?(this.h=!1,na(this,g[1]||"",!0),this.o=Mn(g[2]||""),this.g=Mn(g[3]||"",!0),ri(this,g[4]),this.l=Mn(g[5]||"",!0),js(this,g[6]||"",!0),this.m=Mn(g[7]||"")):(this.h=!1,this.i=new Rs(null,this.h))}Nt.prototype.toString=function(){var u=[],g=this.j;g&&u.push(ia(g,ol,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(ia(g,ol,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ia(_,_.charAt(0)=="/"?mh:cl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ia(_,Ka)),u.join("")};function bn(u){return new Nt(u)}function na(u,g,_){u.j=_?Mn(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function ri(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function js(u,g,_){g instanceof Rs?(u.i=g,Qo(u.i,u.h)):(_||(g=ia(g,ph)),u.i=new Rs(g,u.h))}function st(u,g,_){u.i.set(g,_)}function sa(u){return st(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Mn(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ia(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,Go),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Go(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ol=/[#\/\?@]/g,cl=/[#\?:]/g,mh=/[#\?]/g,ph=/[#\?@]/g,Ka=/#/g;function Rs(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Vn(u){u.g||(u.g=new Map,u.h=0,u.i&&fh(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}i=Rs.prototype,i.add=function(u,g){Vn(this),this.i=null,u=ns(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function Cs(u,g){Vn(u),g=ns(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Ds(u,g){return Vn(u),g=ns(u,g),u.g.has(g)}i.forEach=function(u,g){Vn(this),this.g.forEach(function(_,T){_.forEach(function(B){u.call(g,B,T,this)},this)},this)},i.na=function(){Vn(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let T=0;T<g.length;T++){const B=u[T];for(let Q=0;Q<B.length;Q++)_.push(g[T])}return _},i.V=function(u){Vn(this);let g=[];if(typeof u=="string")Ds(this,u)&&(g=g.concat(this.g.get(ns(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)g=g.concat(u[_])}return g},i.set=function(u,g){return Vn(this),this.i=null,u=ns(this,u),Ds(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},i.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function ul(u,g,_){Cs(u,g),0<_.length&&(u.i=null,u.g.set(ns(u,g),Z(_)),u.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var T=g[_];const Q=encodeURIComponent(String(T)),oe=this.V(T);for(T=0;T<oe.length;T++){var B=Q;oe[T]!==""&&(B+="="+encodeURIComponent(String(oe[T]))),u.push(B)}}return this.i=u.join("&")};function ns(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Qo(u,g){g&&!u.j&&(Vn(u),u.i=null,u.g.forEach(function(_,T){var B=T.toLowerCase();T!=B&&(Cs(this,T),ul(this,B,_))},u)),u.j=g}function aa(u,g){const _=new In;if(p.Image){const T=new Image;T.onload=U(On,_,"TestLoadImage: loaded",!0,g,T),T.onerror=U(On,_,"TestLoadImage: error",!1,g,T),T.onabort=U(On,_,"TestLoadImage: abort",!1,g,T),T.ontimeout=U(On,_,"TestLoadImage: timeout",!1,g,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else g(!1)}function Yn(u,g){const _=new In,T=new AbortController,B=setTimeout(()=>{T.abort(),On(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:T.signal}).then(Q=>{clearTimeout(B),Q.ok?On(_,"TestPingServer: ok",!0,g):On(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(B),On(_,"TestPingServer: error",!1,g)})}function On(u,g,_,T,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),T(_)}catch{}}function ra(){this.g=new Zi}function ss(u,g,_){const T=_||"";try{ll(u,function(B,Q){let oe=B;y(B)&&(oe=Gn(B)),g.push(T+Q+"="+encodeURIComponent(oe))})}catch(B){throw g.push(T+"type="+encodeURIComponent("_badmap")),B}}function li(u){this.l=u.Ub||null,this.j=u.eb||!1}L(li,Jr),li.prototype.g=function(){return new Is(this.l,this.j)},li.prototype.i=(function(u){return function(){return u}})({});function Is(u,g){pt.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Is,pt),i=Is.prototype,i.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,as(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||p).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,is(this)),this.readyState=0},i.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,as(this)),this.g&&(this.readyState=3,as(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function hl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}i.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?is(this):as(this),this.readyState==3&&hl(this)}},i.Ra=function(u){this.g&&(this.response=this.responseText=u,is(this))},i.Qa=function(u){this.g&&(this.response=u,is(this))},i.ga=function(){this.g&&is(this)};function is(u){u.readyState=4,u.l=null,u.j=null,u.v=null,as(u)}i.setRequestHeader=function(u,g){this.u.append(u,g)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function as(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Is.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function dl(u){let g="";return re(u,function(_,T){g+=T,g+=":",g+=_,g+=`\r
`}),g}function Lt(u,g,_){e:{for(T in _){var T=!1;break e}T=!0}T||(_=dl(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):st(u,g,_))}function Je(u){pt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Je,pt);var Xa=/^https?$/i,la=["POST","PUT"];i=Je.prototype,i.Ha=function(u){this.J=u},i.ea=function(u,g,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wn.g(),this.v=this.o?Wr(this.o):Wr(Wn),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(Q){Yo(this,Q);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var B in T)_.set(B,T[B]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const Q of T.keys())_.set(Q,T.get(Q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),B=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(la,g,void 0))||T||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,oe]of _)this.g.setRequestHeader(Q,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{oa(this),this.u=!0,this.g.send(u),this.u=!1}catch(Q){Yo(this,Q)}};function Yo(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,Za(u),rs(u)}function Za(u){u.A||(u.A=!0,et(u,"complete"),et(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,et(this,"complete"),et(this,"abort"),rs(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rs(this,!0)),Je.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ja(this):this.bb())},i.bb=function(){Ja(this)};function Ja(u){if(u.h&&typeof f<"u"&&(!u.v[1]||kn(u)!=4||u.Z()!=2)){if(u.u&&kn(u)==4)Zt(u.Ea,0,u);else if(et(u,"readystatechange"),kn(u)==4){u.h=!1;try{const oe=u.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var T;if(T=oe===0){var B=String(u.D).match(ta)[1]||null;!B&&p.self&&p.self.location&&(B=p.self.location.protocol.slice(0,-1)),T=!Xa.test(B?B.toLowerCase():"")}_=T}if(_)et(u,"complete"),et(u,"success");else{u.m=6;try{var Q=2<kn(u)?u.g.statusText:""}catch{Q=""}u.l=Q+" ["+u.Z()+"]",Za(u)}}finally{rs(u)}}}}function rs(u,g){if(u.g){oa(u);const _=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||et(u,"ready");try{_.onreadystatechange=T}catch{}}}function oa(u){u.I&&(p.clearTimeout(u.I),u.I=null)}i.isActive=function(){return!!this.g};function kn(u){return u.g?u.g.readyState:0}i.Z=function(){try{return 2<kn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),qa(g)}};function $o(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function gh(u){const g={};u=(u.g&&2<=kn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(ie(u[T]))continue;var _=S(u[T]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=g[B]||[];g[B]=Q,Q.push(_)}w(g,function(T){return T.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ca(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function Wa(u){this.Aa=0,this.i=[],this.j=new In,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ca("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ca("baseRetryDelayMs",5e3,u),this.cb=ca("retryDelaySeedMs",1e4,u),this.Wa=ca("forwardChannelMaxRetries",2,u),this.wa=ca("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ws(u&&u.concurrentRequestLimit),this.Da=new ra,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Wa.prototype,i.la=8,i.G=1,i.connect=function(u,g,_,T){ht(0),this.W=u,this.H=g||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=tc(this,null,this.W),tr(this)};function fl(u){if(Ko(u),u.G==3){var g=u.U++,_=bn(u.I);if(st(_,"SID",u.K),st(_,"RID",g),st(_,"TYPE","terminate"),ua(u,_),g=new an(u,u.j,g),g.L=2,g.v=sa(bn(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=g.v,_=!0),_||(g.g=nc(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Wi(g)}ec(u)}function er(u){u.g&&(ha(u),u.g.cancel(),u.g=null)}function Ko(u){er(u),u.u&&(p.clearTimeout(u.u),u.u=null),nr(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function tr(u){if(!Ga(u.h)&&!u.s){u.s=!0;var g=u.Ga;ce||M(),ge||(ce(),ge=!0),ze.add(g,u),u.B=0}}function vh(u,g){return Qa(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=At(R(u.Ga,u,g),gl(u,u.B)),u.B++,!0)}i.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const B=new an(this,this.j,u);let Q=this.o;if(this.S&&(Q?(Q=A(Q),j(Q,this.S)):Q=this.S),this.m!==null||this.O||(B.H=Q,Q=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(g+=T,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Xo(this,B,g),_=bn(this.I),st(_,"RID",u),st(_,"CVER",22),this.D&&st(_,"X-HTTP-Session-Id",this.D),ua(this,_),Q&&(this.O?g="headers="+encodeURIComponent(String(dl(Q)))+"&"+g:this.m&&Lt(_,this.m,Q)),Ya(this.h,B),this.Ua&&st(_,"TYPE","init"),this.P?(st(_,"$req",g),st(_,"SID","null"),B.T=!0,Qn(B,_,null)):Qn(B,_,g),this.G=2}}else this.G==3&&(u?ml(this,u):this.i.length==0||Ga(this.h)||ml(this))};function ml(u,g){var _;g?_=g.l:_=u.U++;const T=bn(u.I);st(T,"SID",u.K),st(T,"RID",_),st(T,"AID",u.T),ua(u,T),u.m&&u.o&&Lt(T,u.m,u.o),_=new an(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),g&&(u.i=g.D.concat(u.i)),g=Xo(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ya(u.h,_),Qn(_,T,g)}function ua(u,g){u.H&&re(u.H,function(_,T){st(g,T,_)}),u.l&&ll({},function(_,T){st(g,T,_)})}function Xo(u,g,_){_=Math.min(u.i.length,_);var T=u.l?R(u.l.Na,u.l,u):null;e:{var B=u.i;let Q=-1;for(;;){const oe=["count="+_];Q==-1?0<_?(Q=B[0].g,oe.push("ofs="+Q)):Q=0:oe.push("ofs="+Q);let qe=!0;for(let It=0;It<_;It++){let He=B[It].g;const Pt=B[It].map;if(He-=Q,0>He)Q=Math.max(0,B[It].g-100),qe=!1;else try{ss(Pt,oe,"req"+He+"_")}catch{T&&T(Pt)}}if(qe){T=oe.join("&");break e}}}return u=u.i.splice(0,_),g.D=u,T}function Zo(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;ce||M(),ge||(ce(),ge=!0),ze.add(g,u),u.v=0}}function pl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=At(R(u.Fa,u),gl(u,u.v)),u.v++,!0)}i.Fa=function(){if(this.u=null,Jo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=At(R(this.ab,this),u)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),er(this),Jo(this))};function ha(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function Jo(u){u.g=new an(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=bn(u.qa);st(g,"RID","rpc"),st(g,"SID",u.K),st(g,"AID",u.T),st(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&st(g,"TO",u.ja),st(g,"TYPE","xmlhttp"),ua(u,g),u.m&&u.o&&Lt(g,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=sa(bn(g)),_.m=null,_.P=!0,Ss(_,u)}i.Za=function(){this.C!=null&&(this.C=null,er(this),pl(this),ht(19))};function nr(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function Wo(u,g){var _=null;if(u.g==g){nr(u),ha(u),u.g=null;var T=2}else if(al(u.h,g))_=g.D,rn(u.h,g),T=1;else return;if(u.G!=0){if(g.o)if(T==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var B=u.B;T=ti(),et(T,new Dt(T,_)),tr(u)}else Zo(u);else if(B=g.s,B==3||B==0&&0<g.X||!(T==1&&vh(u,g)||T==2&&pl(u)))switch(_&&0<_.length&&(g=u.h,g.i=g.i.concat(_)),B){case 1:Ms(u,5);break;case 4:Ms(u,10);break;case 3:Ms(u,6);break;default:Ms(u,2)}}}function gl(u,g){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*g}function Ms(u,g){if(u.j.info("Error code "+g),g==2){var _=R(u.fb,u),T=u.Xa;const B=!T;T=new Nt(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||na(T,"https"),sa(T),B?aa(T.toString(),_):Yn(T.toString(),_)}else ht(2);u.G=0,u.l&&u.l.sa(g),ec(u),Ko(u)}i.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function ec(u){if(u.G=0,u.ka=[],u.l){const g=rl(u.h);(g.length!=0||u.i.length!=0)&&(K(u.ka,g),K(u.ka,u.i),u.h.i.length=0,Z(u.i),u.i.length=0),u.l.ra()}}function tc(u,g,_){var T=_ instanceof Nt?bn(_):new Nt(_);if(T.g!="")g&&(T.g=g+"."+T.g),ri(T,T.s);else{var B=p.location;T=B.protocol,g=g?g+"."+B.hostname:B.hostname,B=+B.port;var Q=new Nt(null);T&&na(Q,T),g&&(Q.g=g),B&&ri(Q,B),_&&(Q.l=_),T=Q}return _=u.D,g=u.ya,_&&g&&st(T,_,g),st(T,"VER",u.la),ua(u,T),T}function nc(u,g,_){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Je(new li({eb:_})):new Je(u.pa),g.Ha(u.J),g}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function sc(){}i=sc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function sr(){}sr.prototype.g=function(u,g){return new ln(u,g)};function ln(u,g){pt.call(this),this.g=new Wa(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!ie(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!ie(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new ls(this)}L(ln,pt),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){fl(this.g)},ln.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Gn(u),u=_);g.i.push(new Fo(g.Ya++,u)),g.G==3&&tr(g)},ln.prototype.N=function(){this.g.l=null,delete this.j,fl(this.g),delete this.g,ln.aa.N.call(this)};function ic(u){As.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const _ in g){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}L(ic,As);function ac(){tl.call(this),this.status=1}L(ac,tl);function ls(u){this.g=u}L(ls,sc),ls.prototype.ua=function(){et(this.g,"a")},ls.prototype.ta=function(u){et(this.g,new ic(u))},ls.prototype.sa=function(u){et(this.g,new ac)},ls.prototype.ra=function(){et(this.g,"b")},sr.prototype.createWebChannel=sr.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,Tb=function(){return new sr},xb=function(){return ti()},Eb=Jn,Of={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ii.NO_ERROR=0,ii.TIMEOUT=8,ii.HTTP_ERROR=6,hu=ii,Ns.COMPLETE="complete",bb=Ns,el.EventType=Ts,Ts.OPEN="a",Ts.CLOSE="b",Ts.ERROR="c",Ts.MESSAGE="d",pt.prototype.listen=pt.prototype.K,ao=el,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,_b=Je}).apply(typeof ru<"u"?ru:typeof self<"u"?self:typeof window<"u"?window:{});const Uy="@firebase/firestore",By="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gr="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=new sm("@firebase/firestore");function Ir(){return Oa.logLevel}function de(i,...e){if(Oa.logLevel<=Qe.DEBUG){const s=e.map(um);Oa.debug(`Firestore (${Gr}): ${i}`,...s)}}function Js(i,...e){if(Oa.logLevel<=Qe.ERROR){const s=e.map(um);Oa.error(`Firestore (${Gr}): ${i}`,...s)}}function Pr(i,...e){if(Oa.logLevel<=Qe.WARN){const s=e.map(um);Oa.warn(`Firestore (${Gr}): ${i}`,...s)}}function um(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(s){return JSON.stringify(s)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(i,e,s){let r="Unexpected state";typeof e=="string"?r=e:s=e,Ab(i,r,s)}function Ab(i,e,s){let r=`FIRESTORE (${Gr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(s!==void 0)try{r+=" CONTEXT: "+JSON.stringify(s)}catch{r+=" CONTEXT: "+s}throw Js(r),new Error(r)}function We(i,e,s,r){let c="Unexpected state";typeof s=="string"?c=s:r=s,i||Ab(e,c,r)}function je(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends zi{constructor(e,s){super(e,s),this.code=e,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(){this.promise=new Promise(((e,s)=>{this.resolve=e,this.reject=s}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,s){e.enqueueRetryable((()=>s(tn.UNAUTHENTICATED)))}shutdown(){}}class HN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,s){this.changeListener=s,e.enqueueRetryable((()=>s(this.token.user)))}shutdown(){this.changeListener=null}}class FN{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,s){We(this.o===void 0,42304);let r=this.i;const c=v=>this.i!==r?(r=this.i,s(v)):Promise.resolve();let h=new Ks;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ks,e.enqueueRetryable((()=>c(this.currentUser)))};const f=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await c(this.currentUser)}))},p=v=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ks)}}),0),f()}getToken(){const e=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string",31837,{l:r}),new Nb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class GN{constructor(e,s,r){this.P=e,this.T=s,this.I=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QN{constructor(e,s,r){this.P=e,this.T=s,this.I=r}getToken(){return Promise.resolve(new GN(this.P,this.T,this.I))}start(e,s){e.enqueueRetryable((()=>s(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class zy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YN{constructor(e,s){this.V=s,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,lA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,s){We(this.o===void 0,3512);const r=h=>{h.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const f=h.token!==this.m;return this.m=h.token,de("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?s(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const c=h=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>c(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?c(h):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new zy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((s=>s?(We(typeof s.token=="string",44558,{tokenResult:s}),this.m=s.token,new zy(s.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(s);else for(let r=0;r<i;r++)s[r]=Math.floor(256*Math.random());return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const c=$N(40);for(let h=0;h<c.length;++h)r.length<20&&c[h]<s&&(r+=e.charAt(c[h]%62))}return r}}function Ue(i,e){return i<e?-1:i>e?1:0}function kf(i,e){const s=Math.min(i.length,e.length);for(let r=0;r<s;r++){const c=i.charAt(r),h=e.charAt(r);if(c!==h)return xf(c)===xf(h)?Ue(c,h):xf(c)?1:-1}return Ue(i.length,e.length)}const KN=55296,XN=57343;function xf(i){const e=i.charCodeAt(0);return e>=KN&&e<=XN}function Ur(i,e,s){return i.length===e.length&&i.every(((r,c)=>s(r,e[c])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="__name__";class ms{constructor(e,s,r){s===void 0?s=0:s>e.length&&Te(637,{offset:s,range:e.length}),r===void 0?r=e.length-s:r>e.length-s&&Te(1746,{length:r,range:e.length-s}),this.segments=e,this.offset=s,this.len=r}get length(){return this.len}isEqual(e){return ms.comparator(this,e)===0}child(e){const s=this.segments.slice(this.offset,this.limit());return e instanceof ms?e.forEach((r=>{s.push(r)})):s.push(e),this.construct(s)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}forEach(e){for(let s=this.offset,r=this.limit();s<r;s++)e(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,s){const r=Math.min(e.length,s.length);for(let c=0;c<r;c++){const h=ms.compareSegments(e.get(c),s.get(c));if(h!==0)return h}return Ue(e.length,s.length)}static compareSegments(e,s){const r=ms.isNumericId(e),c=ms.isNumericId(s);return r&&!c?-1:!r&&c?1:r&&c?ms.extractNumericId(e).compare(ms.extractNumericId(s)):kf(e,s)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ii.fromString(e.substring(4,e.length-2))}}class ot extends ms{construct(e,s,r){return new ot(e,s,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const s=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);s.push(...r.split("/").filter((c=>c.length>0)))}return new ot(s)}static emptyPath(){return new ot([])}}const ZN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends ms{construct(e,s,r){return new Kt(e,s,r)}static isValidIdentifier(e){return ZN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qy}static keyField(){return new Kt([qy])}static fromServerFormat(e){const s=[];let r="",c=0;const h=()=>{if(r.length===0)throw new ue($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(r),r=""};let f=!1;for(;c<e.length;){const p=e[c];if(p==="\\"){if(c+1===e.length)throw new ue($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[c+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ue($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,c+=2}else p==="`"?(f=!f,c++):p!=="."||f?(r+=p,c++):(h(),c++)}if(h(),f)throw new ue($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(s)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ot.fromString(e))}static fromName(e){return new _e(ot.fromString(e).popFirst(5))}static empty(){return new _e(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,s){return ot.comparator(e.path,s.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ot(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(i,e,s){if(!s)throw new ue($.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function JN(i,e,s,r){if(e===!0&&r===!0)throw new ue($.INVALID_ARGUMENT,`${i} and ${s} cannot be used together.`)}function Hy(i){if(!_e.isDocumentKey(i))throw new ue($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Fy(i){if(_e.isDocumentKey(i))throw new ue($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function wb(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Uu(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te(12329,{type:typeof i})}function Cn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ue($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=Uu(i);throw new ue($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${s}`)}}return i}function WN(i,e){if(e<=0)throw new ue($.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(i,e){const s={typeString:i};return e&&(s.value=e),s}function wo(i,e){if(!wb(i))throw new ue($.INVALID_ARGUMENT,"JSON must be an object");let s;for(const r in e)if(e[r]){const c=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){s=`JSON missing required field: '${r}'`;break}const f=i[r];if(c&&typeof f!==c){s=`JSON field '${r}' must be a ${c}.`;break}if(h!==void 0&&f!==h.value){s=`Expected '${r}' field to equal '${h.value}'`;break}}if(s)throw new ue($.INVALID_ARGUMENT,s);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy=-62135596800,Qy=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const s=Math.floor(e/1e3),r=Math.floor((e-1e3*s)*Qy);return new ut(s,r)}constructor(e,s){if(this.seconds=e,this.nanoseconds=s,s<0)throw new ue($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new ue($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(e<Gy)throw new ue($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qy}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wo(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Gy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:Ct("string",ut._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new ut(0,0))}static max(){return new we(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=-1;function eS(i,e){const s=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,c=we.fromTimestamp(r===1e9?new ut(s+1,0):new ut(s,r));return new Oi(c,_e.empty(),e)}function tS(i){return new Oi(i.readTime,i.key,vo)}class Oi{constructor(e,s,r){this.readTime=e,this.documentKey=s,this.largestBatchId=r}static min(){return new Oi(we.min(),_e.empty(),vo)}static max(){return new Oi(we.max(),_e.empty(),vo)}}function nS(i,e){let s=i.readTime.compareTo(e.readTime);return s!==0?s:(s=_e.comparator(i.documentKey,e.documentKey),s!==0?s:Ue(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qr(i){if(i.code!==$.FAILED_PRECONDITION||i.message!==sS)throw i;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)}),(s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)}))}catch(e){return this.next(void 0,e)}next(e,s){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(e,this.result):new ne(((r,c)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,c)},this.catchCallback=h=>{this.wrapFailure(s,h).next(r,c)}}))}toPromise(){return new Promise(((e,s)=>{this.next(e,s)}))}wrapUserFunction(e){try{const s=e();return s instanceof ne?s:ne.resolve(s)}catch(s){return ne.reject(s)}}wrapSuccess(e,s){return e?this.wrapUserFunction((()=>e(s))):ne.resolve(s)}wrapFailure(e,s){return e?this.wrapUserFunction((()=>e(s))):ne.reject(s)}static resolve(e){return new ne(((s,r)=>{s(e)}))}static reject(e){return new ne(((s,r)=>{r(e)}))}static waitFor(e){return new ne(((s,r)=>{let c=0,h=0,f=!1;e.forEach((p=>{++c,p.next((()=>{++h,f&&h===c&&s()}),(v=>r(v)))})),f=!0,h===c&&s()}))}static or(e){let s=ne.resolve(!1);for(const r of e)s=s.next((c=>c?ne.resolve(c):r()));return s}static forEach(e,s){const r=[];return e.forEach(((c,h)=>{r.push(s.call(this,c,h))})),this.waitFor(r)}static mapArray(e,s){return new ne(((r,c)=>{const h=e.length,f=new Array(h);let p=0;for(let v=0;v<h;v++){const y=v;s(e[y]).next((E=>{f[y]=E,++p,p===h&&r(f)}),(E=>c(E)))}}))}static doWhile(e,s){return new ne(((r,c)=>{const h=()=>{e()===!0?s().next((()=>{h()}),c):r()};h()}))}}function aS(i){const e=i.match(/Android ([\d.]+)/i),s=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(s)}function Yr(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,s){this.previousValue=e,s&&(s.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>s.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Bu.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm=-1;function zu(i){return i==null}function xu(i){return i===0&&1/i==-1/0}function rS(i){return typeof i=="number"&&Number.isInteger(i)&&!xu(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="";function lS(i){let e="";for(let s=0;s<i.length;s++)e.length>0&&(e=Yy(e)),e=oS(i.get(s),e);return Yy(e)}function oS(i,e){let s=e;const r=i.length;for(let c=0;c<r;c++){const h=i.charAt(c);switch(h){case"\0":s+="";break;case jb:s+="";break;default:s+=h}}return s}function Yy(i){return i+jb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(i){let e=0;for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&e++;return e}function qi(i,e){for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&e(s,i[s])}function Rb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,s){this.comparator=e,this.root=s||$t.EMPTY}insert(e,s){return new mt(this.comparator,this.root.insert(e,s,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return s.value;r<0?s=s.left:r>0&&(s=s.right)}return null}indexOf(e){let s=0,r=this.root;for(;!r.isEmpty();){const c=this.comparator(e,r.key);if(c===0)return s+r.left.size;c<0?r=r.left:(s+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((s,r)=>(e(s,r),!1)))}toString(){const e=[];return this.inorderTraversal(((s,r)=>(e.push(`${s}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lu(this.root,e,this.comparator,!1)}getReverseIterator(){return new lu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lu(this.root,e,this.comparator,!0)}}class lu{constructor(e,s,r,c){this.isReverse=c,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=s?r(e.key,s):1,s&&c&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const s={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,s,r,c,h){this.key=e,this.value=s,this.color=r??$t.RED,this.left=c??$t.EMPTY,this.right=h??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,s,r,c,h){return new $t(e??this.key,s??this.value,r??this.color,c??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,r){let c=this;const h=r(e,c.key);return c=h<0?c.copy(null,null,null,c.left.insert(e,s,r),null):h===0?c.copy(null,s,null,null,null):c.copy(null,null,null,null,c.right.insert(e,s,r)),c.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,s){let r,c=this;if(s(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,s),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),s(e,c.key)===0){if(c.right.isEmpty())return $t.EMPTY;r=c.right.min(),c=c.copy(r.key,r.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,s))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,s,r,c,h){return this}insert(e,s,r){return new $t(e,s)}remove(e,s){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((s,r)=>(e(s),!1)))}forEachInRange(e,s){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const c=r.getNext();if(this.comparator(c.key,e[1])>=0)return;s(c.key)}}forEachWhile(e,s){let r;for(r=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const s=this.data.getIteratorFrom(e);return s.hasNext()?s.getNext().key:null}getIterator(){return new Ky(this.data.getIterator())}getIteratorFrom(e){return new Ky(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let s=this;return s.size<e.size&&(s=e,e=this),e.forEach((r=>{s=s.add(r)})),s}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const s=this.data.getIterator(),r=e.data.getIterator();for(;s.hasNext();){const c=s.getNext().key,h=r.getNext().key;if(this.comparator(c,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((s=>{e.push(s)})),e}toString(){const e=[];return this.forEach((s=>e.push(s))),"SortedSet("+e.toString()+")"}copy(e){const s=new kt(this.comparator);return s.data=e,s}}class Ky{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new jn([])}unionWith(e){let s=new kt(Kt.comparator);for(const r of this.fields)s=s.add(r);for(const r of e)s=s.add(r);return new jn(s.toArray())}covers(e){for(const s of this.fields)if(s.isPrefixOf(e))return!0;return!1}isEqual(e){return Ur(this.fields,e.fields,((s,r)=>s.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const s=(function(c){try{return atob(c)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Cb("Invalid base64 string: "+h):h}})(e);return new Xt(s)}static fromUint8Array(e){const s=(function(c){let h="";for(let f=0;f<c.length;++f)h+=String.fromCharCode(c[f]);return h})(e);return new Xt(s)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(s){return btoa(s)})(this.binaryString)}toUint8Array(){return(function(s){const r=new Uint8Array(s.length);for(let c=0;c<s.length;c++)r[c]=s.charCodeAt(c);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const cS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ki(i){if(We(!!i,39018),typeof i=="string"){let e=0;const s=cS.exec(i);if(We(!!s,46558,{timestamp:i}),s[1]){let c=s[1];c=(c+"000000000").substr(0,9),e=Number(c)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(i.seconds),nanos:Et(i.nanos)}}function Et(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Li(i){return typeof i=="string"?Xt.fromBase64String(i):Xt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="server_timestamp",Ib="__type__",Mb="__previous_value__",Vb="__local_write_time__";function qu(i){return(i?.mapValue?.fields||{})[Ib]?.stringValue===Db}function Hu(i){const e=i.mapValue.fields[Mb];return qu(e)?Hu(e):e}function yo(i){const e=ki(i.mapValue.fields[Vb].timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,s,r,c,h,f,p,v,y,E){this.databaseId=e,this.appId=s,this.persistenceKey=r,this.host=c,this.ssl=h,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=E}}const Tu="(default)";class _o{constructor(e,s){this.projectId=e,this.database=s||Tu}static empty(){return new _o("","")}get isDefaultDatabase(){return this.database===Tu}isEqual(e){return e instanceof _o&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="__type__",hS="__max__",ou={mapValue:{}},kb="__vector__",Au="value";function Pi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?qu(i)?4:fS(i)?9007199254740991:dS(i)?10:11:Te(28295,{value:i})}function Es(i,e){if(i===e)return!0;const s=Pi(i);if(s!==Pi(e))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return yo(i).isEqual(yo(e));case 3:return(function(c,h){if(typeof c.timestampValue=="string"&&typeof h.timestampValue=="string"&&c.timestampValue.length===h.timestampValue.length)return c.timestampValue===h.timestampValue;const f=ki(c.timestampValue),p=ki(h.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(c,h){return Li(c.bytesValue).isEqual(Li(h.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(c,h){return Et(c.geoPointValue.latitude)===Et(h.geoPointValue.latitude)&&Et(c.geoPointValue.longitude)===Et(h.geoPointValue.longitude)})(i,e);case 2:return(function(c,h){if("integerValue"in c&&"integerValue"in h)return Et(c.integerValue)===Et(h.integerValue);if("doubleValue"in c&&"doubleValue"in h){const f=Et(c.doubleValue),p=Et(h.doubleValue);return f===p?xu(f)===xu(p):isNaN(f)&&isNaN(p)}return!1})(i,e);case 9:return Ur(i.arrayValue.values||[],e.arrayValue.values||[],Es);case 10:case 11:return(function(c,h){const f=c.mapValue.fields||{},p=h.mapValue.fields||{};if($y(f)!==$y(p))return!1;for(const v in f)if(f.hasOwnProperty(v)&&(p[v]===void 0||!Es(f[v],p[v])))return!1;return!0})(i,e);default:return Te(52216,{left:i})}}function bo(i,e){return(i.values||[]).find((s=>Es(s,e)))!==void 0}function Br(i,e){if(i===e)return 0;const s=Pi(i),r=Pi(e);if(s!==r)return Ue(s,r);switch(s){case 0:case 9007199254740991:return 0;case 1:return Ue(i.booleanValue,e.booleanValue);case 2:return(function(h,f){const p=Et(h.integerValue||h.doubleValue),v=Et(f.integerValue||f.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(i,e);case 3:return Xy(i.timestampValue,e.timestampValue);case 4:return Xy(yo(i),yo(e));case 5:return kf(i.stringValue,e.stringValue);case 6:return(function(h,f){const p=Li(h),v=Li(f);return p.compareTo(v)})(i.bytesValue,e.bytesValue);case 7:return(function(h,f){const p=h.split("/"),v=f.split("/");for(let y=0;y<p.length&&y<v.length;y++){const E=Ue(p[y],v[y]);if(E!==0)return E}return Ue(p.length,v.length)})(i.referenceValue,e.referenceValue);case 8:return(function(h,f){const p=Ue(Et(h.latitude),Et(f.latitude));return p!==0?p:Ue(Et(h.longitude),Et(f.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return Zy(i.arrayValue,e.arrayValue);case 10:return(function(h,f){const p=h.fields||{},v=f.fields||{},y=p[Au]?.arrayValue,E=v[Au]?.arrayValue,C=Ue(y?.values?.length||0,E?.values?.length||0);return C!==0?C:Zy(y,E)})(i.mapValue,e.mapValue);case 11:return(function(h,f){if(h===ou.mapValue&&f===ou.mapValue)return 0;if(h===ou.mapValue)return 1;if(f===ou.mapValue)return-1;const p=h.fields||{},v=Object.keys(p),y=f.fields||{},E=Object.keys(y);v.sort(),E.sort();for(let C=0;C<v.length&&C<E.length;++C){const R=kf(v[C],E[C]);if(R!==0)return R;const U=Br(p[v[C]],y[E[C]]);if(U!==0)return U}return Ue(v.length,E.length)})(i.mapValue,e.mapValue);default:throw Te(23264,{he:s})}}function Xy(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ue(i,e);const s=ki(i),r=ki(e),c=Ue(s.seconds,r.seconds);return c!==0?c:Ue(s.nanos,r.nanos)}function Zy(i,e){const s=i.values||[],r=e.values||[];for(let c=0;c<s.length&&c<r.length;++c){const h=Br(s[c],r[c]);if(h)return h}return Ue(s.length,r.length)}function zr(i){return Lf(i)}function Lf(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(s){const r=ki(s);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(s){return Li(s).toBase64()})(i.bytesValue):"referenceValue"in i?(function(s){return _e.fromName(s).toString()})(i.referenceValue):"geoPointValue"in i?(function(s){return`geo(${s.latitude},${s.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(s){let r="[",c=!0;for(const h of s.values||[])c?c=!1:r+=",",r+=Lf(h);return r+"]"})(i.arrayValue):"mapValue"in i?(function(s){const r=Object.keys(s.fields||{}).sort();let c="{",h=!0;for(const f of r)h?h=!1:c+=",",c+=`${f}:${Lf(s.fields[f])}`;return c+"}"})(i.mapValue):Te(61005,{value:i})}function du(i){switch(Pi(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hu(i);return e?16+du(e):16;case 5:return 2*i.stringValue.length;case 6:return Li(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((c,h)=>c+du(h)),0)})(i.arrayValue);case 10:case 11:return(function(r){let c=0;return qi(r.fields,((h,f)=>{c+=h.length+du(f)})),c})(i.mapValue);default:throw Te(13486,{value:i})}}function Nu(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Pf(i){return!!i&&"integerValue"in i}function fm(i){return!!i&&"arrayValue"in i}function Jy(i){return!!i&&"nullValue"in i}function Wy(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function fu(i){return!!i&&"mapValue"in i}function dS(i){return(i?.mapValue?.fields||{})[Ob]?.stringValue===kb}function ho(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return qi(i.mapValue.fields,((s,r)=>e.mapValue.fields[s]=ho(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let s=0;s<(i.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=ho(i.arrayValue.values[s]);return e}return{...i}}function fS(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===hS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let s=this.value;for(let r=0;r<e.length-1;++r)if(s=(s.mapValue.fields||{})[e.get(r)],!fu(s))return null;return s=(s.mapValue.fields||{})[e.lastSegment()],s||null}}set(e,s){this.getFieldsMap(e.popLast())[e.lastSegment()]=ho(s)}setAll(e){let s=Kt.emptyPath(),r={},c=[];e.forEach(((f,p)=>{if(!s.isImmediateParentOf(p)){const v=this.getFieldsMap(s);this.applyChanges(v,r,c),r={},c=[],s=p.popLast()}f?r[p.lastSegment()]=ho(f):c.push(p.lastSegment())}));const h=this.getFieldsMap(s);this.applyChanges(h,r,c)}delete(e){const s=this.field(e.popLast());fu(s)&&s.mapValue.fields&&delete s.mapValue.fields[e.lastSegment()]}isEqual(e){return Es(this.value,e.value)}getFieldsMap(e){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let r=0;r<e.length;++r){let c=s.mapValue.fields[e.get(r)];fu(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},s.mapValue.fields[e.get(r)]=c),s=c}return s.mapValue.fields}applyChanges(e,s,r){qi(s,((c,h)=>e[c]=h));for(const c of r)delete e[c]}clone(){return new pn(ho(this.value))}}function Lb(i){const e=[];return qi(i.fields,((s,r)=>{const c=new Kt([s]);if(fu(r)){const h=Lb(r.mapValue).fields;if(h.length===0)e.push(c);else for(const f of h)e.push(c.child(f))}else e.push(c)})),new jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,s,r,c,h,f,p){this.key=e,this.documentType=s,this.version=r,this.readTime=c,this.createTime=h,this.data=f,this.documentState=p}static newInvalidDocument(e){return new nn(e,0,we.min(),we.min(),we.min(),pn.empty(),0)}static newFoundDocument(e,s,r,c){return new nn(e,1,s,we.min(),r,c,0)}static newNoDocument(e,s){return new nn(e,2,s,we.min(),we.min(),pn.empty(),0)}static newUnknownDocument(e,s){return new nn(e,3,s,we.min(),we.min(),pn.empty(),2)}convertToFoundDocument(e,s){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,s){this.position=e,this.inclusive=s}}function e_(i,e,s){let r=0;for(let c=0;c<i.position.length;c++){const h=e[c],f=i.position[c];if(h.field.isKeyField()?r=_e.comparator(_e.fromName(f.referenceValue),s.key):r=Br(f,s.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function t_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let s=0;s<i.position.length;s++)if(!Es(i.position[s],e.position[s]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,s="asc"){this.field=e,this.dir=s}}function mS(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{}class Rt extends Pb{constructor(e,s,r){super(),this.field=e,this.op=s,this.value=r}static create(e,s,r){return e.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(e,s,r):new gS(e,s,r):s==="array-contains"?new _S(e,r):s==="in"?new bS(e,r):s==="not-in"?new ES(e,r):s==="array-contains-any"?new xS(e,r):new Rt(e,s,r)}static createKeyFieldInFilter(e,s,r){return s==="in"?new vS(e,r):new yS(e,r)}matches(e){const s=e.data.field(this.field);return this.op==="!="?s!==null&&s.nullValue===void 0&&this.matchesComparison(Br(s,this.value)):s!==null&&Pi(this.value)===Pi(s)&&this.matchesComparison(Br(s,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends Pb{constructor(e,s){super(),this.filters=e,this.op=s,this.Pe=null}static create(e,s){return new Zn(e,s)}matches(e){return Ub(this)?this.filters.find((s=>!s.matches(e)))===void 0:this.filters.find((s=>s.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,s)=>e.concat(s.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ub(i){return i.op==="and"}function Bb(i){return pS(i)&&Ub(i)}function pS(i){for(const e of i.filters)if(e instanceof Zn)return!1;return!0}function Uf(i){if(i instanceof Rt)return i.field.canonicalString()+i.op.toString()+zr(i.value);if(Bb(i))return i.filters.map((e=>Uf(e))).join(",");{const e=i.filters.map((s=>Uf(s))).join(",");return`${i.op}(${e})`}}function zb(i,e){return i instanceof Rt?(function(r,c){return c instanceof Rt&&r.op===c.op&&r.field.isEqual(c.field)&&Es(r.value,c.value)})(i,e):i instanceof Zn?(function(r,c){return c instanceof Zn&&r.op===c.op&&r.filters.length===c.filters.length?r.filters.reduce(((h,f,p)=>h&&zb(f,c.filters[p])),!0):!1})(i,e):void Te(19439)}function qb(i){return i instanceof Rt?(function(s){return`${s.field.canonicalString()} ${s.op} ${zr(s.value)}`})(i):i instanceof Zn?(function(s){return s.op.toString()+" {"+s.getFilters().map(qb).join(" ,")+"}"})(i):"Filter"}class gS extends Rt{constructor(e,s,r){super(e,s,r),this.key=_e.fromName(r.referenceValue)}matches(e){const s=_e.comparator(e.key,this.key);return this.matchesComparison(s)}}class vS extends Rt{constructor(e,s){super(e,"in",s),this.keys=Hb("in",s)}matches(e){return this.keys.some((s=>s.isEqual(e.key)))}}class yS extends Rt{constructor(e,s){super(e,"not-in",s),this.keys=Hb("not-in",s)}matches(e){return!this.keys.some((s=>s.isEqual(e.key)))}}function Hb(i,e){return(e.arrayValue?.values||[]).map((s=>_e.fromName(s.referenceValue)))}class _S extends Rt{constructor(e,s){super(e,"array-contains",s)}matches(e){const s=e.data.field(this.field);return fm(s)&&bo(s.arrayValue,this.value)}}class bS extends Rt{constructor(e,s){super(e,"in",s)}matches(e){const s=e.data.field(this.field);return s!==null&&bo(this.value.arrayValue,s)}}class ES extends Rt{constructor(e,s){super(e,"not-in",s)}matches(e){if(bo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=e.data.field(this.field);return s!==null&&s.nullValue===void 0&&!bo(this.value.arrayValue,s)}}class xS extends Rt{constructor(e,s){super(e,"array-contains-any",s)}matches(e){const s=e.data.field(this.field);return!(!fm(s)||!s.arrayValue.values)&&s.arrayValue.values.some((r=>bo(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,s=null,r=[],c=[],h=null,f=null,p=null){this.path=e,this.collectionGroup=s,this.orderBy=r,this.filters=c,this.limit=h,this.startAt=f,this.endAt=p,this.Te=null}}function n_(i,e=null,s=[],r=[],c=null,h=null,f=null){return new TS(i,e,s,r,c,h,f)}function mm(i){const e=je(i);if(e.Te===null){let s=e.path.canonicalString();e.collectionGroup!==null&&(s+="|cg:"+e.collectionGroup),s+="|f:",s+=e.filters.map((r=>Uf(r))).join(","),s+="|ob:",s+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),zu(e.limit)||(s+="|l:",s+=e.limit),e.startAt&&(s+="|lb:",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((r=>zr(r))).join(",")),e.endAt&&(s+="|ub:",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((r=>zr(r))).join(",")),e.Te=s}return e.Te}function pm(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<i.orderBy.length;s++)if(!mS(i.orderBy[s],e.orderBy[s]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let s=0;s<i.filters.length;s++)if(!zb(i.filters[s],e.filters[s]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!t_(i.startAt,e.startAt)&&t_(i.endAt,e.endAt)}function Bf(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,s=null,r=[],c=[],h=null,f="F",p=null,v=null){this.path=e,this.collectionGroup=s,this.explicitOrderBy=r,this.filters=c,this.limit=h,this.limitType=f,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function AS(i,e,s,r,c,h,f,p){return new La(i,e,s,r,c,h,f,p)}function Fu(i){return new La(i)}function s_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function gm(i){return i.collectionGroup!==null}function kr(i){const e=je(i);if(e.Ie===null){e.Ie=[];const s=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),s.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new kt(Kt.comparator);return f.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((h=>{s.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new Eo(h,r))})),s.has(Kt.keyField().canonicalString())||e.Ie.push(new Eo(Kt.keyField(),r))}return e.Ie}function vs(i){const e=je(i);return e.Ee||(e.Ee=NS(e,kr(i))),e.Ee}function NS(i,e){if(i.limitType==="F")return n_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((c=>{const h=c.dir==="desc"?"asc":"desc";return new Eo(c.field,h)}));const s=i.endAt?new qr(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new qr(i.startAt.position,i.startAt.inclusive):null;return n_(i.path,i.collectionGroup,e,i.filters,i.limit,s,r)}}function zf(i,e){const s=i.filters.concat([e]);return new La(i.path,i.collectionGroup,i.explicitOrderBy.slice(),s,i.limit,i.limitType,i.startAt,i.endAt)}function Su(i,e,s){return new La(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,s,i.startAt,i.endAt)}function Gu(i,e){return pm(vs(i),vs(e))&&i.limitType===e.limitType}function Fb(i){return`${mm(vs(i))}|lt:${i.limitType}`}function Mr(i){return`Query(target=${(function(s){let r=s.path.canonicalString();return s.collectionGroup!==null&&(r+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(r+=`, filters: [${s.filters.map((c=>qb(c))).join(", ")}]`),zu(s.limit)||(r+=", limit: "+s.limit),s.orderBy.length>0&&(r+=`, orderBy: [${s.orderBy.map((c=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(c))).join(", ")}]`),s.startAt&&(r+=", startAt: ",r+=s.startAt.inclusive?"b:":"a:",r+=s.startAt.position.map((c=>zr(c))).join(",")),s.endAt&&(r+=", endAt: ",r+=s.endAt.inclusive?"a:":"b:",r+=s.endAt.position.map((c=>zr(c))).join(",")),`Target(${r})`})(vs(i))}; limitType=${i.limitType})`}function Qu(i,e){return e.isFoundDocument()&&(function(r,c){const h=c.key.path;return r.collectionGroup!==null?c.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):_e.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(i,e)&&(function(r,c){for(const h of kr(r))if(!h.field.isKeyField()&&c.data.field(h.field)===null)return!1;return!0})(i,e)&&(function(r,c){for(const h of r.filters)if(!h.matches(c))return!1;return!0})(i,e)&&(function(r,c){return!(r.startAt&&!(function(f,p,v){const y=e_(f,p,v);return f.inclusive?y<=0:y<0})(r.startAt,kr(r),c)||r.endAt&&!(function(f,p,v){const y=e_(f,p,v);return f.inclusive?y>=0:y>0})(r.endAt,kr(r),c))})(i,e)}function SS(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Gb(i){return(e,s)=>{let r=!1;for(const c of kr(i)){const h=wS(c,e,s);if(h!==0)return h;r=r||c.field.isKeyField()}return 0}}function wS(i,e,s){const r=i.field.isKeyField()?_e.comparator(e.key,s.key):(function(h,f,p){const v=f.data.field(h),y=p.data.field(h);return v!==null&&y!==null?Br(v,y):Te(42886)})(i.field,e,s);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,s){this.mapKeyFn=e,this.equalsFn=s,this.inner={},this.innerSize=0}get(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r!==void 0){for(const[c,h]of r)if(this.equalsFn(c,e))return h}}has(e){return this.get(e)!==void 0}set(e,s){const r=this.mapKeyFn(e),c=this.inner[r];if(c===void 0)return this.inner[r]=[[e,s]],void this.innerSize++;for(let h=0;h<c.length;h++)if(this.equalsFn(c[h][0],e))return void(c[h]=[e,s]);c.push([e,s]),this.innerSize++}delete(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return!1;for(let c=0;c<r.length;c++)if(this.equalsFn(r[c][0],e))return r.length===1?delete this.inner[s]:r.splice(c,1),this.innerSize--,!0;return!1}forEach(e){qi(this.inner,((s,r)=>{for(const[c,h]of r)e(c,h)}))}isEmpty(){return Rb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=new mt(_e.comparator);function Ws(){return jS}const Qb=new mt(_e.comparator);function ro(...i){let e=Qb;for(const s of i)e=e.insert(s.key,s);return e}function Yb(i){let e=Qb;return i.forEach(((s,r)=>e=e.insert(s,r.overlayedDocument))),e}function Ra(){return fo()}function $b(){return fo()}function fo(){return new Pa((i=>i.toString()),((i,e)=>i.isEqual(e)))}const RS=new mt(_e.comparator),CS=new kt(_e.comparator);function Be(...i){let e=CS;for(const s of i)e=e.add(s);return e}const DS=new kt(Ue);function IS(){return DS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xu(e)?"-0":e}}function Kb(i){return{integerValue:""+i}}function MS(i,e){return rS(e)?Kb(e):vm(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(){this._=void 0}}function VS(i,e,s){return i instanceof xo?(function(c,h){const f={fields:{[Ib]:{stringValue:Db},[Vb]:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return h&&qu(h)&&(h=Hu(h)),h&&(f.fields[Mb]=h),{mapValue:f}})(s,e):i instanceof To?Zb(i,e):i instanceof Ao?Jb(i,e):(function(c,h){const f=Xb(c,h),p=i_(f)+i_(c.Ae);return Pf(f)&&Pf(c.Ae)?Kb(p):vm(c.serializer,p)})(i,e)}function OS(i,e,s){return i instanceof To?Zb(i,e):i instanceof Ao?Jb(i,e):s}function Xb(i,e){return i instanceof wu?(function(r){return Pf(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class xo extends Yu{}class To extends Yu{constructor(e){super(),this.elements=e}}function Zb(i,e){const s=Wb(e);for(const r of i.elements)s.some((c=>Es(c,r)))||s.push(r);return{arrayValue:{values:s}}}class Ao extends Yu{constructor(e){super(),this.elements=e}}function Jb(i,e){let s=Wb(e);for(const r of i.elements)s=s.filter((c=>!Es(c,r)));return{arrayValue:{values:s}}}class wu extends Yu{constructor(e,s){super(),this.serializer=e,this.Ae=s}}function i_(i){return Et(i.integerValue||i.doubleValue)}function Wb(i){return fm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,s){this.field=e,this.transform=s}}function LS(i,e){return i.field.isEqual(e.field)&&(function(r,c){return r instanceof To&&c instanceof To||r instanceof Ao&&c instanceof Ao?Ur(r.elements,c.elements,Es):r instanceof wu&&c instanceof wu?Es(r.Ae,c.Ae):r instanceof xo&&c instanceof xo})(i.transform,e.transform)}class PS{constructor(e,s){this.version=e,this.transformResults=s}}class vn{constructor(e,s){this.updateTime=e,this.exists=s}static none(){return new vn}static exists(e){return new vn(void 0,e)}static updateTime(e){return new vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mu(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class $u{}function eE(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Ku(i.key,vn.none()):new jo(i.key,i.data,vn.none());{const s=i.data,r=pn.empty();let c=new kt(Kt.comparator);for(let h of e.fields)if(!c.has(h)){let f=s.field(h);f===null&&h.length>1&&(h=h.popLast(),f=s.field(h)),f===null?r.delete(h):r.set(h,f),c=c.add(h)}return new Hi(i.key,r,new jn(c.toArray()),vn.none())}}function US(i,e,s){i instanceof jo?(function(c,h,f){const p=c.value.clone(),v=r_(c.fieldTransforms,h,f.transformResults);p.setAll(v),h.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(i,e,s):i instanceof Hi?(function(c,h,f){if(!mu(c.precondition,h))return void h.convertToUnknownDocument(f.version);const p=r_(c.fieldTransforms,h,f.transformResults),v=h.data;v.setAll(tE(c)),v.setAll(p),h.convertToFoundDocument(f.version,v).setHasCommittedMutations()})(i,e,s):(function(c,h,f){h.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,s)}function mo(i,e,s,r){return i instanceof jo?(function(h,f,p,v){if(!mu(h.precondition,f))return p;const y=h.value.clone(),E=l_(h.fieldTransforms,v,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(i,e,s,r):i instanceof Hi?(function(h,f,p,v){if(!mu(h.precondition,f))return p;const y=l_(h.fieldTransforms,v,f),E=f.data;return E.setAll(tE(h)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((C=>C.field)))})(i,e,s,r):(function(h,f,p){return mu(h.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(i,e,s)}function BS(i,e){let s=null;for(const r of i.fieldTransforms){const c=e.data.field(r.field),h=Xb(r.transform,c||null);h!=null&&(s===null&&(s=pn.empty()),s.set(r.field,h))}return s||null}function a_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,c){return r===void 0&&c===void 0||!(!r||!c)&&Ur(r,c,((h,f)=>LS(h,f)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class jo extends $u{constructor(e,s,r,c=[]){super(),this.key=e,this.value=s,this.precondition=r,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class Hi extends $u{constructor(e,s,r,c,h=[]){super(),this.key=e,this.data=s,this.fieldMask=r,this.precondition=c,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function tE(i){const e=new Map;return i.fieldMask.fields.forEach((s=>{if(!s.isEmpty()){const r=i.data.field(s);e.set(s,r)}})),e}function r_(i,e,s){const r=new Map;We(i.length===s.length,32656,{Re:s.length,Ve:i.length});for(let c=0;c<s.length;c++){const h=i[c],f=h.transform,p=e.data.field(h.field);r.set(h.field,OS(f,p,s[c]))}return r}function l_(i,e,s){const r=new Map;for(const c of i){const h=c.transform,f=s.data.field(c.field);r.set(c.field,VS(h,f,e))}return r}class Ku extends $u{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zS extends $u{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,s,r,c){this.batchId=e,this.localWriteTime=s,this.baseMutations=r,this.mutations=c}applyToRemoteDocument(e,s){const r=s.mutationResults;for(let c=0;c<this.mutations.length;c++){const h=this.mutations[c];h.key.isEqual(e.key)&&US(h,e,r[c])}}applyToLocalView(e,s){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(s=mo(r,e,s,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(s=mo(r,e,s,this.localWriteTime));return s}applyToLocalDocumentSet(e,s){const r=$b();return this.mutations.forEach((c=>{const h=e.get(c.key),f=h.overlayedDocument;let p=this.applyToLocalView(f,h.mutatedFields);p=s.has(c.key)?null:p;const v=eE(f,p);v!==null&&r.set(c.key,v),f.isValidDocument()||f.convertToNoDocument(we.min())})),r}keys(){return this.mutations.reduce(((e,s)=>e.add(s.key)),Be())}isEqual(e){return this.batchId===e.batchId&&Ur(this.mutations,e.mutations,((s,r)=>a_(s,r)))&&Ur(this.baseMutations,e.baseMutations,((s,r)=>a_(s,r)))}}class ym{constructor(e,s,r,c){this.batch=e,this.commitVersion=s,this.mutationResults=r,this.docVersions=c}static from(e,s,r){We(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let c=(function(){return RS})();const h=e.mutations;for(let f=0;f<h.length;f++)c=c.insert(h[f].key,r[f].version);return new ym(e,s,r,c)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,s){this.largestBatchId=e,this.mutation=s}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,s){this.count=e,this.unchangedNames=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,Ge;function GS(i){switch(i){case $.OK:return Te(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Te(15467,{code:i})}}function nE(i){if(i===void 0)return Js("GRPC error has no .code"),$.UNKNOWN;switch(i){case jt.OK:return $.OK;case jt.CANCELLED:return $.CANCELLED;case jt.UNKNOWN:return $.UNKNOWN;case jt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case jt.INTERNAL:return $.INTERNAL;case jt.UNAVAILABLE:return $.UNAVAILABLE;case jt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case jt.NOT_FOUND:return $.NOT_FOUND;case jt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case jt.ABORTED:return $.ABORTED;case jt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case jt.DATA_LOSS:return $.DATA_LOSS;default:return Te(39323,{code:i})}}(Ge=jt||(jt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=new Ii([4294967295,4294967295],0);function o_(i){const e=QS().encode(i),s=new yb;return s.update(e),new Uint8Array(s.digest())}function c_(i){const e=new DataView(i.buffer),s=e.getUint32(0,!0),r=e.getUint32(4,!0),c=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Ii([s,r],0),new Ii([c,h],0)]}class _m{constructor(e,s,r){if(this.bitmap=e,this.padding=s,this.hashCount=r,s<0||s>=8)throw new lo(`Invalid padding: ${s}`);if(r<0)throw new lo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new lo(`Invalid hash count: ${r}`);if(e.length===0&&s!==0)throw new lo(`Invalid padding when bitmap length is 0: ${s}`);this.ge=8*e.length-s,this.pe=Ii.fromNumber(this.ge)}ye(e,s,r){let c=e.add(s.multiply(Ii.fromNumber(r)));return c.compare(YS)===1&&(c=new Ii([c.getBits(0),c.getBits(1)],0)),c.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const s=o_(e),[r,c]=c_(s);for(let h=0;h<this.hashCount;h++){const f=this.ye(r,c,h);if(!this.we(f))return!1}return!0}static create(e,s,r){const c=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),f=new _m(h,c,s);return r.forEach((p=>f.insert(p))),f}insert(e){if(this.ge===0)return;const s=o_(e),[r,c]=c_(s);for(let h=0;h<this.hashCount;h++){const f=this.ye(r,c,h);this.Se(f)}}Se(e){const s=Math.floor(e/8),r=e%8;this.bitmap[s]|=1<<r}}class lo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,s,r,c,h){this.snapshotVersion=e,this.targetChanges=s,this.targetMismatches=r,this.documentUpdates=c,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,s,r){const c=new Map;return c.set(e,Ro.createSynthesizedTargetChangeForCurrentChange(e,s,r)),new Xu(we.min(),c,new mt(Ue),Ws(),Be())}}class Ro{constructor(e,s,r,c,h){this.resumeToken=e,this.current=s,this.addedDocuments=r,this.modifiedDocuments=c,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,s,r){return new Ro(r,s,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,s,r,c){this.be=e,this.removedTargetIds=s,this.key=r,this.De=c}}class sE{constructor(e,s){this.targetId=e,this.Ce=s}}class iE{constructor(e,s,r=Xt.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=s,this.resumeToken=r,this.cause=c}}class u_{constructor(){this.ve=0,this.Fe=h_(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),s=Be(),r=Be();return this.Fe.forEach(((c,h)=>{switch(h){case 0:e=e.add(c);break;case 2:s=s.add(c);break;case 1:r=r.add(c);break;default:Te(38017,{changeType:h})}})),new Ro(this.Me,this.xe,e,s,r)}qe(){this.Oe=!1,this.Fe=h_()}Qe(e,s){this.Oe=!0,this.Fe=this.Fe.insert(e,s)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $S{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ws(),this.Je=cu(),this.He=cu(),this.Ye=new mt(Ue)}Ze(e){for(const s of e.be)e.De&&e.De.isFoundDocument()?this.Xe(s,e.De):this.et(s,e.key,e.De);for(const s of e.removedTargetIds)this.et(s,e.key,e.De)}tt(e){this.forEachTarget(e,(s=>{const r=this.nt(s);switch(e.state){case 0:this.rt(s)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(s);break;case 3:this.rt(s)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(s)&&(this.it(s),r.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,s){e.targetIds.length>0?e.targetIds.forEach(s):this.ze.forEach(((r,c)=>{this.rt(c)&&s(c)}))}st(e){const s=e.targetId,r=e.Ce.count,c=this.ot(s);if(c){const h=c.target;if(Bf(h))if(r===0){const f=new _e(h.path);this.et(s,f,nn.newNoDocument(f,we.min()))}else We(r===1,20013,{expectedCount:r});else{const f=this._t(s);if(f!==r){const p=this.ut(e),v=p?this.ct(p,e,f):1;if(v!==0){this.it(s);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(s,y)}}}}}ut(e){const s=e.Ce.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:r="",padding:c=0},hashCount:h=0}=s;let f,p;try{f=Li(r).toUint8Array()}catch(v){if(v instanceof Cb)return Pr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new _m(f,c,h)}catch(v){return Pr(v instanceof lo?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(e,s,r){return s.Ce.count===r-this.Pt(e,s.targetId)?0:2}Pt(e,s){const r=this.Ge.getRemoteKeysForTarget(s);let c=0;return r.forEach((h=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.et(s,h,null),c++)})),c}Tt(e){const s=new Map;this.ze.forEach(((h,f)=>{const p=this.ot(f);if(p){if(h.current&&Bf(p.target)){const v=new _e(p.target.path);this.It(v).has(f)||this.Et(f,v)||this.et(f,v,nn.newNoDocument(v,e))}h.Be&&(s.set(f,h.ke()),h.qe())}}));let r=Be();this.He.forEach(((h,f)=>{let p=!0;f.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(h))})),this.je.forEach(((h,f)=>f.setReadTime(e)));const c=new Xu(e,s,this.Ye,this.je,r);return this.je=Ws(),this.Je=cu(),this.He=cu(),this.Ye=new mt(Ue),c}Xe(e,s){if(!this.rt(e))return;const r=this.Et(e,s.key)?2:0;this.nt(e).Qe(s.key,r),this.je=this.je.insert(s.key,s),this.Je=this.Je.insert(s.key,this.It(s.key).add(e)),this.He=this.He.insert(s.key,this.dt(s.key).add(e))}et(e,s,r){if(!this.rt(e))return;const c=this.nt(e);this.Et(e,s)?c.Qe(s,1):c.$e(s),this.He=this.He.insert(s,this.dt(s).delete(e)),this.He=this.He.insert(s,this.dt(s).add(e)),r&&(this.je=this.je.insert(s,r))}removeTarget(e){this.ze.delete(e)}_t(e){const s=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+s.addedDocuments.size-s.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let s=this.ze.get(e);return s||(s=new u_,this.ze.set(e,s)),s}dt(e){let s=this.He.get(e);return s||(s=new kt(Ue),this.He=this.He.insert(e,s)),s}It(e){let s=this.Je.get(e);return s||(s=new kt(Ue),this.Je=this.Je.insert(e,s)),s}rt(e){const s=this.ot(e)!==null;return s||de("WatchChangeAggregator","Detected inactive target",e),s}ot(e){const s=this.ze.get(e);return s&&s.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new u_),this.Ge.getRemoteKeysForTarget(e).forEach((s=>{this.et(e,s,null)}))}Et(e,s){return this.Ge.getRemoteKeysForTarget(e).has(s)}}function cu(){return new mt(_e.comparator)}function h_(){return new mt(_e.comparator)}const KS={asc:"ASCENDING",desc:"DESCENDING"},XS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZS={and:"AND",or:"OR"};class JS{constructor(e,s){this.databaseId=e,this.useProto3Json=s}}function qf(i,e){return i.useProto3Json||zu(e)?e:{value:e}}function ju(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aE(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function WS(i,e){return ju(i,e.toTimestamp())}function ys(i){return We(!!i,49232),we.fromTimestamp((function(s){const r=ki(s);return new ut(r.seconds,r.nanos)})(i))}function bm(i,e){return Hf(i,e).canonicalString()}function Hf(i,e){const s=(function(c){return new ot(["projects",c.projectId,"databases",c.database])})(i).child("documents");return e===void 0?s:s.child(e)}function rE(i){const e=ot.fromString(i);return We(hE(e),10190,{key:e.toString()}),e}function Ff(i,e){return bm(i.databaseId,e.path)}function Tf(i,e){const s=rE(e);if(s.get(1)!==i.databaseId.projectId)throw new ue($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+i.databaseId.projectId);if(s.get(3)!==i.databaseId.database)throw new ue($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+i.databaseId.database);return new _e(oE(s))}function lE(i,e){return bm(i.databaseId,e)}function ew(i){const e=rE(i);return e.length===4?ot.emptyPath():oE(e)}function Gf(i){return new ot(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function oE(i){return We(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function d_(i,e,s){return{name:Ff(i,e),fields:s.value.mapValue.fields}}function tw(i,e){let s;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),c=e.targetChange.targetIds||[],h=(function(y,E){return y.useProto3Json?(We(E===void 0||typeof E=="string",58123),Xt.fromBase64String(E||"")):(We(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xt.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&(function(y){const E=y.code===void 0?$.UNKNOWN:nE(y.code);return new ue(E,y.message||"")})(f);s=new iE(r,c,h,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const c=Tf(i,r.document.name),h=ys(r.document.updateTime),f=r.document.createTime?ys(r.document.createTime):we.min(),p=new pn({mapValue:{fields:r.document.fields}}),v=nn.newFoundDocument(c,h,f,p),y=r.targetIds||[],E=r.removedTargetIds||[];s=new pu(y,E,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const c=Tf(i,r.document),h=r.readTime?ys(r.readTime):we.min(),f=nn.newNoDocument(c,h),p=r.removedTargetIds||[];s=new pu([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const c=Tf(i,r.document),h=r.removedTargetIds||[];s=new pu([],h,c,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:c=0,unchangedNames:h}=r,f=new FS(c,h),p=r.targetId;s=new sE(p,f)}}return s}function nw(i,e){let s;if(e instanceof jo)s={update:d_(i,e.key,e.value)};else if(e instanceof Ku)s={delete:Ff(i,e.key)};else if(e instanceof Hi)s={update:d_(i,e.key,e.data),updateMask:hw(e.fieldMask)};else{if(!(e instanceof zS))return Te(16599,{Vt:e.type});s={verify:Ff(i,e.key)}}return e.fieldTransforms.length>0&&(s.updateTransforms=e.fieldTransforms.map((r=>(function(h,f){const p=f.transform;if(p instanceof xo)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof To)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ao)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof wu)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw Te(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(s.currentDocument=(function(c,h){return h.updateTime!==void 0?{updateTime:WS(c,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Te(27497)})(i,e.precondition)),s}function sw(i,e){return i&&i.length>0?(We(e!==void 0,14353),i.map((s=>(function(c,h){let f=c.updateTime?ys(c.updateTime):ys(h);return f.isEqual(we.min())&&(f=ys(h)),new PS(f,c.transformResults||[])})(s,e)))):[]}function iw(i,e){return{documents:[lE(i,e.path)]}}function aw(i,e){const s={structuredQuery:{}},r=e.path;let c;e.collectionGroup!==null?(c=r,s.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(c=r.popLast(),s.structuredQuery.from=[{collectionId:r.lastSegment()}]),s.parent=lE(i,c);const h=(function(y){if(y.length!==0)return uE(Zn.create(y,"and"))})(e.filters);h&&(s.structuredQuery.where=h);const f=(function(y){if(y.length!==0)return y.map((E=>(function(R){return{field:Vr(R.field),direction:ow(R.dir)}})(E)))})(e.orderBy);f&&(s.structuredQuery.orderBy=f);const p=qf(i,e.limit);return p!==null&&(s.structuredQuery.limit=p),e.startAt&&(s.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(s.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:s,parent:c}}function rw(i){let e=ew(i.parent);const s=i.structuredQuery,r=s.from?s.from.length:0;let c=null;if(r>0){We(r===1,65062);const E=s.from[0];E.allDescendants?c=E.collectionId:e=e.child(E.collectionId)}let h=[];s.where&&(h=(function(C){const R=cE(C);return R instanceof Zn&&Bb(R)?R.getFilters():[R]})(s.where));let f=[];s.orderBy&&(f=(function(C){return C.map((R=>(function(L){return new Eo(Or(L.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(R)))})(s.orderBy));let p=null;s.limit&&(p=(function(C){let R;return R=typeof C=="object"?C.value:C,zu(R)?null:R})(s.limit));let v=null;s.startAt&&(v=(function(C){const R=!!C.before,U=C.values||[];return new qr(U,R)})(s.startAt));let y=null;return s.endAt&&(y=(function(C){const R=!C.before,U=C.values||[];return new qr(U,R)})(s.endAt)),AS(e,c,f,h,p,"F",v,y)}function lw(i,e){const s=(function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:c})}})(e.purpose);return s==null?null:{"goog-listen-tags":s}}function cE(i){return i.unaryFilter!==void 0?(function(s){switch(s.unaryFilter.op){case"IS_NAN":const r=Or(s.unaryFilter.field);return Rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const c=Or(s.unaryFilter.field);return Rt.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Or(s.unaryFilter.field);return Rt.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Or(s.unaryFilter.field);return Rt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(i):i.fieldFilter!==void 0?(function(s){return Rt.create(Or(s.fieldFilter.field),(function(c){switch(c){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(s.fieldFilter.op),s.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(s){return Zn.create(s.compositeFilter.filters.map((r=>cE(r))),(function(c){switch(c){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(s.compositeFilter.op))})(i):Te(30097,{filter:i})}function ow(i){return KS[i]}function cw(i){return XS[i]}function uw(i){return ZS[i]}function Vr(i){return{fieldPath:i.canonicalString()}}function Or(i){return Kt.fromServerFormat(i.fieldPath)}function uE(i){return i instanceof Rt?(function(s){if(s.op==="=="){if(Wy(s.value))return{unaryFilter:{field:Vr(s.field),op:"IS_NAN"}};if(Jy(s.value))return{unaryFilter:{field:Vr(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(Wy(s.value))return{unaryFilter:{field:Vr(s.field),op:"IS_NOT_NAN"}};if(Jy(s.value))return{unaryFilter:{field:Vr(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vr(s.field),op:cw(s.op),value:s.value}}})(i):i instanceof Zn?(function(s){const r=s.getFilters().map((c=>uE(c)));return r.length===1?r[0]:{compositeFilter:{op:uw(s.op),filters:r}}})(i):Te(54877,{filter:i})}function hw(i){const e=[];return i.fields.forEach((s=>e.push(s.canonicalString()))),{fieldPaths:e}}function hE(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,s,r,c,h=we.min(),f=we.min(),p=Xt.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=s,this.purpose=r,this.sequenceNumber=c,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new Ri(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,s){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this.yt=e}}function fw(i){const e=rw({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Su(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(){this.Cn=new pw}addToCollectionParentIndex(e,s){return this.Cn.add(s),ne.resolve()}getCollectionParents(e,s){return ne.resolve(this.Cn.getEntries(s))}addFieldIndex(e,s){return ne.resolve()}deleteFieldIndex(e,s){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,s){return ne.resolve()}getDocumentsMatchingTarget(e,s){return ne.resolve(null)}getIndexType(e,s){return ne.resolve(0)}getFieldIndexes(e,s){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,s){return ne.resolve(Oi.min())}getMinOffsetFromCollectionGroup(e,s){return ne.resolve(Oi.min())}updateCollectionGroup(e,s,r){return ne.resolve()}updateIndexEntries(e,s){return ne.resolve()}}class pw{constructor(){this.index={}}add(e){const s=e.lastSegment(),r=e.popLast(),c=this.index[s]||new kt(ot.comparator),h=!c.has(r);return this.index[s]=c.add(r),h}has(e){const s=e.lastSegment(),r=e.popLast(),c=this.index[s];return c&&c.has(r)}getEntries(e){return(this.index[e]||new kt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dE=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,s,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(dE,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Hr(0)}static cr(){return new Hr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="LruGarbageCollector",gw=1048576;function p_([i,e],[s,r]){const c=Ue(i,s);return c===0?Ue(e,r):c}class vw{constructor(e){this.Ir=e,this.buffer=new kt(p_),this.Er=0}dr(){return++this.Er}Ar(e){const s=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(s);else{const r=this.buffer.last();p_(s,r)<0&&(this.buffer=this.buffer.delete(r).add(s))}}get maxValue(){return this.buffer.last()[0]}}class yw{constructor(e,s,r){this.garbageCollector=e,this.asyncQueue=s,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(m_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(s){Yr(s)?de(m_,"Ignoring IndexedDB error during garbage collection: ",s):await Qr(s)}await this.Vr(3e5)}))}}class _w{constructor(e,s){this.mr=e,this.params=s}calculateTargetCount(e,s){return this.mr.gr(e).next((r=>Math.floor(s/100*r)))}nthSequenceNumber(e,s){if(s===0)return ne.resolve(Bu.ce);const r=new vw(s);return this.mr.forEachTarget(e,(c=>r.Ar(c.sequenceNumber))).next((()=>this.mr.pr(e,(c=>r.Ar(c))))).next((()=>r.maxValue))}removeTargets(e,s,r){return this.mr.removeTargets(e,s,r)}removeOrphanedDocuments(e,s){return this.mr.removeOrphanedDocuments(e,s)}collect(e,s){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(f_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),f_):this.yr(e,s)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,s){let r,c,h,f,p,v,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((C=>(C>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),c=this.params.maximumSequenceNumbersToCollect):c=C,f=Date.now(),this.nthSequenceNumber(e,c)))).next((C=>(r=C,p=Date.now(),this.removeTargets(e,r,s)))).next((C=>(h=C,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((C=>(y=Date.now(),Ir()<=Qe.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${c} in `+(p-f)+`ms
	Removed ${h} targets in `+(v-p)+`ms
	Removed ${C} documents in `+(y-v)+`ms
Total Duration: ${y-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:h,documentsRemoved:C}))))}}function bw(i,e){return new _w(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.changes=new Pa((e=>e.toString()),((e,s)=>e.isEqual(s))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,s){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(s))}getEntry(e,s){this.assertNotApplied();const r=this.changes.get(s);return r!==void 0?ne.resolve(r):this.getFromCache(e,s)}getEntries(e,s){return this.getAllFromCache(e,s)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,s){this.overlayedDocument=e,this.mutatedFields=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,s,r,c){this.remoteDocumentCache=e,this.mutationQueue=s,this.documentOverlayCache=r,this.indexManager=c}getDocument(e,s){let r=null;return this.documentOverlayCache.getOverlay(e,s).next((c=>(r=c,this.remoteDocumentCache.getEntry(e,s)))).next((c=>(r!==null&&mo(r.mutation,c,jn.empty(),ut.now()),c)))}getDocuments(e,s){return this.remoteDocumentCache.getEntries(e,s).next((r=>this.getLocalViewOfDocuments(e,r,Be()).next((()=>r))))}getLocalViewOfDocuments(e,s,r=Be()){const c=Ra();return this.populateOverlays(e,c,s).next((()=>this.computeViews(e,s,c,r).next((h=>{let f=ro();return h.forEach(((p,v)=>{f=f.insert(p,v.overlayedDocument)})),f}))))}getOverlayedDocuments(e,s){const r=Ra();return this.populateOverlays(e,r,s).next((()=>this.computeViews(e,s,r,Be())))}populateOverlays(e,s,r){const c=[];return r.forEach((h=>{s.has(h)||c.push(h)})),this.documentOverlayCache.getOverlays(e,c).next((h=>{h.forEach(((f,p)=>{s.set(f,p)}))}))}computeViews(e,s,r,c){let h=Ws();const f=fo(),p=(function(){return fo()})();return s.forEach(((v,y)=>{const E=r.get(y.key);c.has(y.key)&&(E===void 0||E.mutation instanceof Hi)?h=h.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),mo(E.mutation,y,E.mutation.getFieldMask(),ut.now())):f.set(y.key,jn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((y,E)=>f.set(y,E))),s.forEach(((y,E)=>p.set(y,new xw(E,f.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,s){const r=fo();let c=new mt(((f,p)=>f-p)),h=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,s).next((f=>{for(const p of f)p.keys().forEach((v=>{const y=s.get(v);if(y===null)return;let E=r.get(v)||jn.empty();E=p.applyToLocalView(y,E),r.set(v,E);const C=(c.get(p.batchId)||Be()).add(v);c=c.insert(p.batchId,C)}))})).next((()=>{const f=[],p=c.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),y=v.key,E=v.value,C=$b();E.forEach((R=>{if(!h.has(R)){const U=eE(s.get(R),r.get(R));U!==null&&C.set(R,U),h=h.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,C))}return ne.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,s){return this.remoteDocumentCache.getEntries(e,s).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,s,r,c){return(function(f){return _e.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(s)?this.getDocumentsMatchingDocumentQuery(e,s.path):gm(s)?this.getDocumentsMatchingCollectionGroupQuery(e,s,r,c):this.getDocumentsMatchingCollectionQuery(e,s,r,c)}getNextDocuments(e,s,r,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,s,r,c).next((h=>{const f=c-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,s,r.largestBatchId,c-h.size):ne.resolve(Ra());let p=vo,v=h;return f.next((y=>ne.forEach(y,((E,C)=>(p<C.largestBatchId&&(p=C.largestBatchId),h.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next((R=>{v=v.insert(E,R)}))))).next((()=>this.populateOverlays(e,y,h))).next((()=>this.computeViews(e,v,y,Be()))).next((E=>({batchId:p,changes:Yb(E)})))))}))}getDocumentsMatchingDocumentQuery(e,s){return this.getDocument(e,new _e(s)).next((r=>{let c=ro();return r.isFoundDocument()&&(c=c.insert(r.key,r)),c}))}getDocumentsMatchingCollectionGroupQuery(e,s,r,c){const h=s.collectionGroup;let f=ro();return this.indexManager.getCollectionParents(e,h).next((p=>ne.forEach(p,(v=>{const y=(function(C,R){return new La(R,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)})(s,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,y,r,c).next((E=>{E.forEach(((C,R)=>{f=f.insert(C,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,s,r,c){let h;return this.documentOverlayCache.getOverlaysForCollection(e,s.path,r.largestBatchId).next((f=>(h=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,s,r,h,c)))).next((f=>{h.forEach(((v,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,nn.newInvalidDocument(E)))}));let p=ro();return f.forEach(((v,y)=>{const E=h.get(v);E!==void 0&&mo(E.mutation,y,jn.empty(),ut.now()),Qu(s,y)&&(p=p.insert(v,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,s){return ne.resolve(this.Lr.get(s))}saveBundleMetadata(e,s){return this.Lr.set(s.id,(function(c){return{id:c.id,version:c.version,createTime:ys(c.createTime)}})(s)),ne.resolve()}getNamedQuery(e,s){return ne.resolve(this.kr.get(s))}saveNamedQuery(e,s){return this.kr.set(s.name,(function(c){return{name:c.name,query:fw(c.bundledQuery),readTime:ys(c.readTime)}})(s)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(){this.overlays=new mt(_e.comparator),this.qr=new Map}getOverlay(e,s){return ne.resolve(this.overlays.get(s))}getOverlays(e,s){const r=Ra();return ne.forEach(s,(c=>this.getOverlay(e,c).next((h=>{h!==null&&r.set(c,h)})))).next((()=>r))}saveOverlays(e,s,r){return r.forEach(((c,h)=>{this.St(e,s,h)})),ne.resolve()}removeOverlaysForBatchId(e,s,r){const c=this.qr.get(r);return c!==void 0&&(c.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),ne.resolve()}getOverlaysForCollection(e,s,r){const c=Ra(),h=s.length+1,f=new _e(s.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const v=p.getNext().value,y=v.getKey();if(!s.isPrefixOf(y.path))break;y.path.length===h&&v.largestBatchId>r&&c.set(v.getKey(),v)}return ne.resolve(c)}getOverlaysForCollectionGroup(e,s,r,c){let h=new mt(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===s&&y.largestBatchId>r){let E=h.get(y.largestBatchId);E===null&&(E=Ra(),h=h.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=Ra(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,E)=>p.set(y,E))),!(p.size()>=c)););return ne.resolve(p)}St(e,s,r){const c=this.overlays.get(r.key);if(c!==null){const f=this.qr.get(c.largestBatchId).delete(r.key);this.qr.set(c.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new HS(s,r));let h=this.qr.get(s);h===void 0&&(h=Be(),this.qr.set(s,h)),this.qr.set(s,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,s){return this.sessionToken=s,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(){this.Qr=new kt(qt.$r),this.Ur=new kt(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,s){const r=new qt(e,s);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,s){e.forEach((r=>this.addReference(r,s)))}removeReference(e,s){this.Gr(new qt(e,s))}zr(e,s){e.forEach((r=>this.removeReference(r,s)))}jr(e){const s=new _e(new ot([])),r=new qt(s,e),c=new qt(s,e+1),h=[];return this.Ur.forEachInRange([r,c],(f=>{this.Gr(f),h.push(f.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const s=new _e(new ot([])),r=new qt(s,e),c=new qt(s,e+1);let h=Be();return this.Ur.forEachInRange([r,c],(f=>{h=h.add(f.key)})),h}containsKey(e){const s=new qt(e,0),r=this.Qr.firstAfterOrEqual(s);return r!==null&&e.isEqual(r.key)}}class qt{constructor(e,s){this.key=e,this.Yr=s}static $r(e,s){return _e.comparator(e.key,s.key)||Ue(e.Yr,s.Yr)}static Kr(e,s){return Ue(e.Yr,s.Yr)||_e.comparator(e.key,s.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,s){this.indexManager=e,this.referenceDelegate=s,this.mutationQueue=[],this.tr=1,this.Zr=new kt(qt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,s,r,c){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new qS(h,s,r,c);this.mutationQueue.push(f);for(const p of c)this.Zr=this.Zr.add(new qt(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,s){return ne.resolve(this.Xr(s))}getNextMutationBatchAfterBatchId(e,s){const r=s+1,c=this.ei(r),h=c<0?0:c;return ne.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?dm:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,s){const r=new qt(s,0),c=new qt(s,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,c],(f=>{const p=this.Xr(f.Yr);h.push(p)})),ne.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,s){let r=new kt(Ue);return s.forEach((c=>{const h=new qt(c,0),f=new qt(c,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,f],(p=>{r=r.add(p.Yr)}))})),ne.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,s){const r=s.path,c=r.length+1;let h=r;_e.isDocumentKey(h)||(h=h.child(""));const f=new qt(new _e(h),0);let p=new kt(Ue);return this.Zr.forEachWhile((v=>{const y=v.key.path;return!!r.isPrefixOf(y)&&(y.length===c&&(p=p.add(v.Yr)),!0)}),f),ne.resolve(this.ti(p))}ti(e){const s=[];return e.forEach((r=>{const c=this.Xr(r);c!==null&&s.push(c)})),s}removeMutationBatch(e,s){We(this.ni(s.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ne.forEach(s.mutations,(c=>{const h=new qt(c.key,s.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,s){const r=new qt(s,0),c=this.Zr.firstAfterOrEqual(r);return ne.resolve(s.isEqual(c&&c.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,s){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const s=this.ei(e);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e){this.ri=e,this.docs=(function(){return new mt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,s){const r=s.key,c=this.docs.get(r),h=c?c.size:0,f=this.ri(s);return this.docs=this.docs.insert(r,{document:s.mutableCopy(),size:f}),this.size+=f-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const s=this.docs.get(e);s&&(this.docs=this.docs.remove(e),this.size-=s.size)}getEntry(e,s){const r=this.docs.get(s);return ne.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(s))}getEntries(e,s){let r=Ws();return s.forEach((c=>{const h=this.docs.get(c);r=r.insert(c,h?h.document.mutableCopy():nn.newInvalidDocument(c))})),ne.resolve(r)}getDocumentsMatchingQuery(e,s,r,c){let h=Ws();const f=s.path,p=new _e(f.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:y,value:{document:E}}=v.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||nS(tS(E),r)<=0||(c.has(E.key)||Qu(s,E))&&(h=h.insert(E.key,E.mutableCopy()))}return ne.resolve(h)}getAllFromCollectionGroup(e,s,r,c){Te(9500)}ii(e,s){return ne.forEach(this.docs,(r=>s(r)))}newChangeBuffer(e){return new Rw(this)}getSize(e){return ne.resolve(this.size)}}class Rw extends Ew{constructor(e){super(),this.Nr=e}applyChanges(e){const s=[];return this.changes.forEach(((r,c)=>{c.isValidDocument()?s.push(this.Nr.addEntry(e,c)):this.Nr.removeEntry(r)})),ne.waitFor(s)}getFromCache(e,s){return this.Nr.getEntry(e,s)}getAllFromCache(e,s){return this.Nr.getEntries(e,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e){this.persistence=e,this.si=new Pa((s=>mm(s)),pm),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new Em,this.targetCount=0,this.ai=Hr.ur()}forEachTarget(e,s){return this.si.forEach(((r,c)=>s(c))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,s,r){return r&&(this.lastRemoteSnapshotVersion=r),s>this.oi&&(this.oi=s),ne.resolve()}Pr(e){this.si.set(e.target,e);const s=e.targetId;s>this.highestTargetId&&(this.ai=new Hr(s),this.highestTargetId=s),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,s){return this.Pr(s),this.targetCount+=1,ne.resolve()}updateTargetData(e,s){return this.Pr(s),ne.resolve()}removeTargetData(e,s){return this.si.delete(s.target),this._i.jr(s.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,s,r){let c=0;const h=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=s&&r.get(p.targetId)===null&&(this.si.delete(f),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),c++)})),ne.waitFor(h).next((()=>c))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,s){const r=this.si.get(s)||null;return ne.resolve(r)}addMatchingKeys(e,s,r){return this._i.Wr(s,r),ne.resolve()}removeMatchingKeys(e,s,r){this._i.zr(s,r);const c=this.persistence.referenceDelegate,h=[];return c&&s.forEach((f=>{h.push(c.markPotentiallyOrphaned(e,f))})),ne.waitFor(h)}removeMatchingKeysForTargetId(e,s){return this._i.jr(s),ne.resolve()}getMatchingKeysForTargetId(e,s){const r=this._i.Hr(s);return ne.resolve(r)}containsKey(e,s){return ne.resolve(this._i.containsKey(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,s){this.ui={},this.overlays={},this.ci=new Bu(0),this.li=!1,this.li=!0,this.hi=new Sw,this.referenceDelegate=e(this),this.Pi=new Cw(this),this.indexManager=new mw,this.remoteDocumentCache=(function(c){return new jw(c)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new dw(s),this.Ii=new Aw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let s=this.overlays[e.toKey()];return s||(s=new Nw,this.overlays[e.toKey()]=s),s}getMutationQueue(e,s){let r=this.ui[e.toKey()];return r||(r=new ww(s,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,s,r){de("MemoryPersistence","Starting transaction:",e);const c=new Dw(this.ci.next());return this.referenceDelegate.Ei(),r(c).next((h=>this.referenceDelegate.di(c).next((()=>h)))).toPromise().then((h=>(c.raiseOnCommittedEvent(),h)))}Ai(e,s){return ne.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,s))))}}class Dw extends iS{constructor(e){super(),this.currentSequenceNumber=e}}class xm{constructor(e){this.persistence=e,this.Ri=new Em,this.Vi=null}static mi(e){return new xm(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,s,r){return this.Ri.addReference(r,s),this.fi.delete(r.toString()),ne.resolve()}removeReference(e,s,r){return this.Ri.removeReference(r,s),this.fi.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,s){return this.fi.add(s.toString()),ne.resolve()}removeTarget(e,s){this.Ri.jr(s.targetId).forEach((c=>this.fi.add(c.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,s.targetId).next((c=>{c.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(e,s)))}Ei(){this.Vi=new Set}di(e){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(r=>{const c=_e.fromPath(r);return this.gi(e,c).next((h=>{h||s.removeEntry(c,we.min())}))})).next((()=>(this.Vi=null,s.apply(e))))}updateLimboDocument(e,s){return this.gi(e,s).next((r=>{r?this.fi.delete(s.toString()):this.fi.add(s.toString())}))}Ti(e){return 0}gi(e,s){return ne.or([()=>ne.resolve(this.Ri.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(e,s),()=>this.persistence.Ai(e,s)])}}class Ru{constructor(e,s){this.persistence=e,this.pi=new Pa((r=>lS(r.path)),((r,c)=>r.isEqual(c))),this.garbageCollector=bw(this,s)}static mi(e,s){return new Ru(e,s)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,s){return this.persistence.getTargetCache().forEachTarget(e,s)}gr(e){const s=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>s.next((c=>r+c))))}wr(e){let s=0;return this.pr(e,(r=>{s++})).next((()=>s))}pr(e,s){return ne.forEach(this.pi,((r,c)=>this.br(e,r,c).next((h=>h?ne.resolve():s(c)))))}removeTargets(e,s,r){return this.persistence.getTargetCache().removeTargets(e,s,r)}removeOrphanedDocuments(e,s){let r=0;const c=this.persistence.getRemoteDocumentCache(),h=c.newChangeBuffer();return c.ii(e,(f=>this.br(e,f,s).next((p=>{p||(r++,h.removeEntry(f,we.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeTarget(e,s){const r=s.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,s,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,s,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}Ti(e){let s=e.key.toString().length;return e.isFoundDocument()&&(s+=du(e.data.value)),s}br(e,s,r){return ne.or([()=>this.persistence.Ai(e,s),()=>this.persistence.getTargetCache().containsKey(e,s),()=>{const c=this.pi.get(s);return ne.resolve(c!==void 0&&c>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,s,r,c){this.targetId=e,this.fromCache=s,this.Es=r,this.ds=c}static As(e,s){let r=Be(),c=Be();for(const h of s.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:c=c.add(h.doc.key)}return new Tm(e,s.fromCache,r,c)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return s0()?8:aS(e0())>0?6:4})()}initialize(e,s){this.ps=e,this.indexManager=s,this.Rs=!0}getDocumentsMatchingQuery(e,s,r,c){const h={result:null};return this.ys(e,s).next((f=>{h.result=f})).next((()=>{if(!h.result)return this.ws(e,s,c,r).next((f=>{h.result=f}))})).next((()=>{if(h.result)return;const f=new Iw;return this.Ss(e,s,f).next((p=>{if(h.result=p,this.Vs)return this.bs(e,s,f,p.size)}))})).next((()=>h.result))}bs(e,s,r,c){return r.documentReadCount<this.fs?(Ir()<=Qe.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Mr(s),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(Ir()<=Qe.DEBUG&&de("QueryEngine","Query:",Mr(s),"scans",r.documentReadCount,"local documents and returns",c,"documents as results."),r.documentReadCount>this.gs*c?(Ir()<=Qe.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Mr(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vs(s))):ne.resolve())}ys(e,s){if(s_(s))return ne.resolve(null);let r=vs(s);return this.indexManager.getIndexType(e,r).next((c=>c===0?null:(s.limit!==null&&c===1&&(s=Su(s,null,"F"),r=vs(s)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const f=Be(...h);return this.ps.getDocuments(e,f).next((p=>this.indexManager.getMinOffset(e,r).next((v=>{const y=this.Ds(s,p);return this.Cs(s,y,f,v.readTime)?this.ys(e,Su(s,null,"F")):this.vs(e,y,s,v)}))))})))))}ws(e,s,r,c){return s_(s)||c.isEqual(we.min())?ne.resolve(null):this.ps.getDocuments(e,r).next((h=>{const f=this.Ds(s,h);return this.Cs(s,f,r,c)?ne.resolve(null):(Ir()<=Qe.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Mr(s)),this.vs(e,f,s,eS(c,vo)).next((p=>p)))}))}Ds(e,s){let r=new kt(Gb(e));return s.forEach(((c,h)=>{Qu(e,h)&&(r=r.add(h))})),r}Cs(e,s,r,c){if(e.limit===null)return!1;if(r.size!==s.size)return!0;const h=e.limitType==="F"?s.last():s.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(c)>0)}Ss(e,s,r){return Ir()<=Qe.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Mr(s)),this.ps.getDocumentsMatchingQuery(e,s,Oi.min(),r)}vs(e,s,r,c){return this.ps.getDocumentsMatchingQuery(e,r,c).next((h=>(s.forEach((f=>{h=h.insert(f.key,f)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="LocalStore",Vw=3e8;class Ow{constructor(e,s,r,c){this.persistence=e,this.Fs=s,this.serializer=c,this.Ms=new mt(Ue),this.xs=new Pa((h=>mm(h)),pm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(s=>e.collect(s,this.Ms)))}}function kw(i,e,s,r){return new Ow(i,e,s,r)}async function mE(i,e){const s=je(i);return await s.persistence.runTransaction("Handle user change","readonly",(r=>{let c;return s.mutationQueue.getAllMutationBatches(r).next((h=>(c=h,s.Bs(e),s.mutationQueue.getAllMutationBatches(r)))).next((h=>{const f=[],p=[];let v=Be();for(const y of c){f.push(y.batchId);for(const E of y.mutations)v=v.add(E.key)}for(const y of h){p.push(y.batchId);for(const E of y.mutations)v=v.add(E.key)}return s.localDocuments.getDocuments(r,v).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:p})))}))}))}function Lw(i,e){const s=je(i);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const c=e.batch.keys(),h=s.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,v,y,E){const C=y.batch,R=C.keys();let U=ne.resolve();return R.forEach((L=>{U=U.next((()=>E.getEntry(v,L))).next((Z=>{const K=y.docVersions.get(L);We(K!==null,48541),Z.version.compareTo(K)<0&&(C.applyToRemoteDocument(Z,y),Z.isValidDocument()&&(Z.setReadTime(y.commitVersion),E.addEntry(Z)))}))})),U.next((()=>p.mutationQueue.removeMutationBatch(v,C)))})(s,r,e,h).next((()=>h.apply(r))).next((()=>s.mutationQueue.performConsistencyCheck(r))).next((()=>s.documentOverlayCache.removeOverlaysForBatchId(r,c,e.batch.batchId))).next((()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let v=Be();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(v=v.add(p.batch.mutations[y].key));return v})(e)))).next((()=>s.localDocuments.getDocuments(r,c)))}))}function pE(i){const e=je(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(s=>e.Pi.getLastRemoteSnapshotVersion(s)))}function Pw(i,e){const s=je(i),r=e.snapshotVersion;let c=s.Ms;return s.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const f=s.Ns.newChangeBuffer({trackRemovals:!0});c=s.Ms;const p=[];e.targetChanges.forEach(((E,C)=>{const R=c.get(C);if(!R)return;p.push(s.Pi.removeMatchingKeys(h,E.removedDocuments,C).next((()=>s.Pi.addMatchingKeys(h,E.addedDocuments,C))));let U=R.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(C)!==null?U=U.withResumeToken(Xt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(E.resumeToken,r)),c=c.insert(C,U),(function(Z,K,fe){return Z.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=Vw?!0:fe.addedDocuments.size+fe.modifiedDocuments.size+fe.removedDocuments.size>0})(R,U,E)&&p.push(s.Pi.updateTargetData(h,U))}));let v=Ws(),y=Be();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(s.persistence.referenceDelegate.updateLimboDocument(h,E))})),p.push(Uw(h,f,e.documentUpdates).next((E=>{v=E.ks,y=E.qs}))),!r.isEqual(we.min())){const E=s.Pi.getLastRemoteSnapshotVersion(h).next((C=>s.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));p.push(E)}return ne.waitFor(p).next((()=>f.apply(h))).next((()=>s.localDocuments.getLocalViewOfDocuments(h,v,y))).next((()=>v))})).then((h=>(s.Ms=c,h)))}function Uw(i,e,s){let r=Be(),c=Be();return s.forEach((h=>r=r.add(h))),e.getEntries(i,r).next((h=>{let f=Ws();return s.forEach(((p,v)=>{const y=h.get(p);v.isFoundDocument()!==y.isFoundDocument()&&(c=c.add(p)),v.isNoDocument()&&v.version.isEqual(we.min())?(e.removeEntry(p,v.readTime),f=f.insert(p,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(v),f=f.insert(p,v)):de(Am,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",v.version)})),{ks:f,qs:c}}))}function Bw(i,e){const s=je(i);return s.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=dm),s.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function zw(i,e){const s=je(i);return s.persistence.runTransaction("Allocate target","readwrite",(r=>{let c;return s.Pi.getTargetData(r,e).next((h=>h?(c=h,ne.resolve(c)):s.Pi.allocateTargetId(r).next((f=>(c=new Ri(e,f,"TargetPurposeListen",r.currentSequenceNumber),s.Pi.addTargetData(r,c).next((()=>c)))))))})).then((r=>{const c=s.Ms.get(r.targetId);return(c===null||r.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(s.Ms=s.Ms.insert(r.targetId,r),s.xs.set(e,r.targetId)),r}))}async function Qf(i,e,s){const r=je(i),c=r.Ms.get(e),h=s?"readwrite":"readwrite-primary";try{s||await r.persistence.runTransaction("Release target",h,(f=>r.persistence.referenceDelegate.removeTarget(f,c)))}catch(f){if(!Yr(f))throw f;de(Am,`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ms=r.Ms.remove(e),r.xs.delete(c.target)}function g_(i,e,s){const r=je(i);let c=we.min(),h=Be();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(v,y,E){const C=je(v),R=C.xs.get(E);return R!==void 0?ne.resolve(C.Ms.get(R)):C.Pi.getTargetData(y,E)})(r,f,vs(e)).next((p=>{if(p)return c=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,p.targetId).next((v=>{h=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,e,s?c:we.min(),s?h:Be()))).next((p=>(qw(r,SS(e),p),{documents:p,Qs:h})))))}function qw(i,e,s){let r=i.Os.get(e)||we.min();s.forEach(((c,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),i.Os.set(e,r)}class v_{constructor(){this.activeTargetIds=IS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hw{constructor(){this.Mo=new v_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,s,r){}addLocalQueryTarget(e,s=!0){return s&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,s,r){this.xo[e]=s}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new v_,Promise.resolve()}handleUserChange(e,s,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="ConnectivityMonitor";class __{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(y_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(y_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uu=null;function Yf(){return uu===null?uu=(function(){return 268435456+Math.round(2147483648*Math.random())})():uu++,"0x"+uu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af="RestConnection",Gw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qw{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const s=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Uo=s+"://"+e.host,this.Ko=`projects/${r}/databases/${c}`,this.Wo=this.databaseId.database===Tu?`project_id=${r}`:`project_id=${r}&database_id=${c}`}Go(e,s,r,c,h){const f=Yf(),p=this.zo(e,s.toUriEncodedString());de(Af,`Sending RPC '${e}' ${f}:`,p,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,c,h);const{host:y}=new URL(p),E=nm(y);return this.Jo(e,p,v,r,E).then((C=>(de(Af,`Received RPC '${e}' ${f}: `,C),C)),(C=>{throw Pr(Af,`RPC '${e}' ${f} failed with error: `,C,"url: ",p,"request:",r),C}))}Ho(e,s,r,c,h,f){return this.Go(e,s,r,c,h)}jo(e,s,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Gr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((c,h)=>e[h]=c)),r&&r.headers.forEach(((c,h)=>e[h]=c))}zo(e,s){const r=Gw[e];return`${this.Uo}/v1/${s}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class $w extends Qw{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,s,r,c,h){const f=Yf();return new Promise(((p,v)=>{const y=new _b;y.setWithCredentials(!0),y.listenOnce(bb.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case hu.NO_ERROR:const C=y.getResponseJson();de(en,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(C)),p(C);break;case hu.TIMEOUT:de(en,`RPC '${e}' ${f} timed out`),v(new ue($.DEADLINE_EXCEEDED,"Request time out"));break;case hu.HTTP_ERROR:const R=y.getStatus();if(de(en,`RPC '${e}' ${f} failed with status:`,R,"response text:",y.getResponseText()),R>0){let U=y.getResponseJson();Array.isArray(U)&&(U=U[0]);const L=U?.error;if(L&&L.status&&L.message){const Z=(function(fe){const ie=fe.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ie)>=0?ie:$.UNKNOWN})(L.status);v(new ue(Z,L.message))}else v(new ue($.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new ue($.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{de(en,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(c);de(en,`RPC '${e}' ${f} sending request:`,c),y.send(s,"POST",E,r,15)}))}T_(e,s,r){const c=Yf(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Tb(),p=xb(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(v.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,s,r),v.encodeInitMessageHeaders=!0;const E=h.join("");de(en,`Creating RPC '${e}' stream ${c}: ${E}`,v);const C=f.createWebChannel(E,v);this.I_(C);let R=!1,U=!1;const L=new Yw({Yo:K=>{U?de(en,`Not sending because RPC '${e}' stream ${c} is closed:`,K):(R||(de(en,`Opening RPC '${e}' stream ${c} transport.`),C.open(),R=!0),de(en,`RPC '${e}' stream ${c} sending:`,K),C.send(K))},Zo:()=>C.close()}),Z=(K,fe,ie)=>{K.listen(fe,(k=>{try{ie(k)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return Z(C,ao.EventType.OPEN,(()=>{U||(de(en,`RPC '${e}' stream ${c} transport opened.`),L.o_())})),Z(C,ao.EventType.CLOSE,(()=>{U||(U=!0,de(en,`RPC '${e}' stream ${c} transport closed`),L.a_(),this.E_(C))})),Z(C,ao.EventType.ERROR,(K=>{U||(U=!0,Pr(en,`RPC '${e}' stream ${c} transport errored. Name:`,K.name,"Message:",K.message),L.a_(new ue($.UNAVAILABLE,"The operation could not be completed")))})),Z(C,ao.EventType.MESSAGE,(K=>{if(!U){const fe=K.data[0];We(!!fe,16349);const ie=fe,k=ie?.error||ie[0]?.error;if(k){de(en,`RPC '${e}' stream ${c} received error:`,k);const ae=k.status;let J=(function(A){const D=jt[A];if(D!==void 0)return nE(D)})(ae),re=k.message;J===void 0&&(J=$.INTERNAL,re="Unknown error status: "+ae+" with message "+k.message),U=!0,L.a_(new ue(J,re)),C.close()}else de(en,`RPC '${e}' stream ${c} received:`,fe),L.u_(fe)}})),Z(p,Eb.STAT_EVENT,(K=>{K.stat===Of.PROXY?de(en,`RPC '${e}' stream ${c} detected buffering proxy`):K.stat===Of.NOPROXY&&de(en,`RPC '${e}' stream ${c} detected no buffering proxy`)})),setTimeout((()=>{L.__()}),0),L}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((s=>s===e))}}function Nf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(i){return new JS(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,s,r=1e3,c=1.5,h=6e4){this.Mi=e,this.timerId=s,this.d_=r,this.A_=c,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const s=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),c=Math.max(0,s-r);c>0&&de("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.V_} ms, delay with jitter: ${s} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,c,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="PersistentStream";class vE{constructor(e,s,r,c,h,f,p,v){this.Mi=e,this.S_=r,this.b_=c,this.connection=h,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gE(e,s)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,s){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():s&&s.code===$.RESOURCE_EXHAUSTED?(Js(s.toString()),Js("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):s&&s.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(s)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),s=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,c])=>{this.D_===s&&this.G_(r,c)}),(r=>{e((()=>{const c=new ue($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(c)}))}))}G_(e,s){const r=this.W_(this.D_);this.stream=this.j_(e,s),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((c=>{r((()=>this.z_(c)))})),this.stream.onMessage((c=>{r((()=>++this.F_==1?this.J_(c):this.onNext(c)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(b_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return s=>{this.Mi.enqueueAndForget((()=>this.D_===e?s():(de(b_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Kw extends vE{constructor(e,s,r,c,h,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,r,c,f),this.serializer=h}j_(e,s){return this.connection.T_("Listen",e,s)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const s=tw(this.serializer,e),r=(function(h){if(!("targetChange"in h))return we.min();const f=h.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?ys(f.readTime):we.min()})(e);return this.listener.H_(s,r)}Y_(e){const s={};s.database=Gf(this.serializer),s.addTarget=(function(h,f){let p;const v=f.target;if(p=Bf(v)?{documents:iw(h,v)}:{query:aw(h,v).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=aE(h,f.resumeToken);const y=qf(h,f.expectedCount);y!==null&&(p.expectedCount=y)}else if(f.snapshotVersion.compareTo(we.min())>0){p.readTime=ju(h,f.snapshotVersion.toTimestamp());const y=qf(h,f.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=lw(this.serializer,e);r&&(s.labels=r),this.q_(s)}Z_(e){const s={};s.database=Gf(this.serializer),s.removeTarget=e,this.q_(s)}}class Xw extends vE{constructor(e,s,r,c,h,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,r,c,f),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,s){return this.connection.T_("Write",e,s)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const s=sw(e.writeResults,e.commitTime),r=ys(e.commitTime);return this.listener.na(r,s)}ra(){const e={};e.database=Gf(this.serializer),this.q_(e)}ea(e){const s={streamToken:this.lastStreamToken,writes:e.map((r=>nw(this.serializer,r)))};this.q_(s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{}class Jw extends Zw{constructor(e,s,r,c){super(),this.authCredentials=e,this.appCheckCredentials=s,this.connection=r,this.serializer=c,this.ia=!1}sa(){if(this.ia)throw new ue($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,s,r,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,f])=>this.connection.Go(e,Hf(s,r),c,h,f))).catch((h=>{throw h.name==="FirebaseError"?(h.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ue($.UNKNOWN,h.toString())}))}Ho(e,s,r,c,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(e,Hf(s,r),c,f,p,h))).catch((f=>{throw f.name==="FirebaseError"?(f.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ue($.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Ww{constructor(e,s){this.asyncQueue=e,this.onlineStateHandler=s,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const s=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Js(s),this.aa=!1):de("OnlineStateTracker",s)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="RemoteStore";class e1{constructor(e,s,r,c,h){this.localStore=e,this.datastore=s,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{Ua(this)&&(de(ka,"Restarting streams for network reachability change."),await(async function(v){const y=je(v);y.Ea.add(4),await Co(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Ju(y)})(this))}))})),this.Ra=new Ww(r,c)}}async function Ju(i){if(Ua(i))for(const e of i.da)await e(!0)}async function Co(i){for(const e of i.da)await e(!1)}function yE(i,e){const s=je(i);s.Ia.has(e.targetId)||(s.Ia.set(e.targetId,e),jm(s)?wm(s):$r(s).O_()&&Sm(s,e))}function Nm(i,e){const s=je(i),r=$r(s);s.Ia.delete(e),r.O_()&&_E(s,e),s.Ia.size===0&&(r.O_()?r.L_():Ua(s)&&s.Ra.set("Unknown"))}function Sm(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const s=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(s)}$r(i).Y_(e)}function _E(i,e){i.Va.Ue(e),$r(i).Z_(e)}function wm(i){i.Va=new $S({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),$r(i).start(),i.Ra.ua()}function jm(i){return Ua(i)&&!$r(i).x_()&&i.Ia.size>0}function Ua(i){return je(i).Ea.size===0}function bE(i){i.Va=void 0}async function t1(i){i.Ra.set("Online")}async function n1(i){i.Ia.forEach(((e,s)=>{Sm(i,e)}))}async function s1(i,e){bE(i),jm(i)?(i.Ra.ha(e),wm(i)):i.Ra.set("Unknown")}async function i1(i,e,s){if(i.Ra.set("Online"),e instanceof iE&&e.state===2&&e.cause)try{await(async function(c,h){const f=h.cause;for(const p of h.targetIds)c.Ia.has(p)&&(await c.remoteSyncer.rejectListen(p,f),c.Ia.delete(p),c.Va.removeTarget(p))})(i,e)}catch(r){de(ka,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cu(i,r)}else if(e instanceof pu?i.Va.Ze(e):e instanceof sE?i.Va.st(e):i.Va.tt(e),!s.isEqual(we.min()))try{const r=await pE(i.localStore);s.compareTo(r)>=0&&await(function(h,f){const p=h.Va.Tt(f);return p.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const E=h.Ia.get(y);E&&h.Ia.set(y,E.withResumeToken(v.resumeToken,f))}})),p.targetMismatches.forEach(((v,y)=>{const E=h.Ia.get(v);if(!E)return;h.Ia.set(v,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),_E(h,v);const C=new Ri(E.target,v,y,E.sequenceNumber);Sm(h,C)})),h.remoteSyncer.applyRemoteEvent(p)})(i,s)}catch(r){de(ka,"Failed to raise snapshot:",r),await Cu(i,r)}}async function Cu(i,e,s){if(!Yr(e))throw e;i.Ea.add(1),await Co(i),i.Ra.set("Offline"),s||(s=()=>pE(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{de(ka,"Retrying IndexedDB access"),await s(),i.Ea.delete(1),await Ju(i)}))}function EE(i,e){return e().catch((s=>Cu(i,s,e)))}async function Wu(i){const e=je(i),s=Ui(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:dm;for(;a1(e);)try{const c=await Bw(e.localStore,r);if(c===null){e.Ta.length===0&&s.L_();break}r=c.batchId,r1(e,c)}catch(c){await Cu(e,c)}xE(e)&&TE(e)}function a1(i){return Ua(i)&&i.Ta.length<10}function r1(i,e){i.Ta.push(e);const s=Ui(i);s.O_()&&s.X_&&s.ea(e.mutations)}function xE(i){return Ua(i)&&!Ui(i).x_()&&i.Ta.length>0}function TE(i){Ui(i).start()}async function l1(i){Ui(i).ra()}async function o1(i){const e=Ui(i);for(const s of i.Ta)e.ea(s.mutations)}async function c1(i,e,s){const r=i.Ta.shift(),c=ym.from(r,e,s);await EE(i,(()=>i.remoteSyncer.applySuccessfulWrite(c))),await Wu(i)}async function u1(i,e){e&&Ui(i).X_&&await(async function(r,c){if((function(f){return GS(f)&&f!==$.ABORTED})(c.code)){const h=r.Ta.shift();Ui(r).B_(),await EE(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,c))),await Wu(r)}})(i,e),xE(i)&&TE(i)}async function E_(i,e){const s=je(i);s.asyncQueue.verifyOperationInProgress(),de(ka,"RemoteStore received new credentials");const r=Ua(s);s.Ea.add(3),await Co(s),r&&s.Ra.set("Unknown"),await s.remoteSyncer.handleCredentialChange(e),s.Ea.delete(3),await Ju(s)}async function h1(i,e){const s=je(i);e?(s.Ea.delete(2),await Ju(s)):e||(s.Ea.add(2),await Co(s),s.Ra.set("Unknown"))}function $r(i){return i.ma||(i.ma=(function(s,r,c){const h=je(s);return h.sa(),new Kw(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,c)})(i.datastore,i.asyncQueue,{Xo:t1.bind(null,i),t_:n1.bind(null,i),r_:s1.bind(null,i),H_:i1.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),jm(i)?wm(i):i.Ra.set("Unknown")):(await i.ma.stop(),bE(i))}))),i.ma}function Ui(i){return i.fa||(i.fa=(function(s,r,c){const h=je(s);return h.sa(),new Xw(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,c)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:l1.bind(null,i),r_:u1.bind(null,i),ta:o1.bind(null,i),na:c1.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Wu(i)):(await i.fa.stop(),i.Ta.length>0&&(de(ka,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,s,r,c,h){this.asyncQueue=e,this.timerId=s,this.targetTimeMs=r,this.op=c,this.removalCallback=h,this.deferred=new Ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,s,r,c,h){const f=Date.now()+r,p=new Rm(e,s,f,c,h);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cm(i,e){if(Js("AsyncQueue",`${e}: ${i}`),Yr(i))return new ue($.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{static emptySet(e){return new Lr(e.comparator)}constructor(e){this.comparator=e?(s,r)=>e(s,r)||_e.comparator(s.key,r.key):(s,r)=>_e.comparator(s.key,r.key),this.keyedMap=ro(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const s=this.keyedMap.get(e);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((s,r)=>(e(s),!1)))}add(e){const s=this.delete(e.key);return s.copy(s.keyedMap.insert(e.key,e),s.sortedSet.insert(e,null))}delete(e){const s=this.get(e);return s?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(s)):this}isEqual(e){if(!(e instanceof Lr)||this.size!==e.size)return!1;const s=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;s.hasNext();){const c=s.getNext().key,h=r.getNext().key;if(!c.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((s=>{e.push(s.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,s){const r=new Lr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=s,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(){this.ga=new mt(_e.comparator)}track(e){const s=e.doc.key,r=this.ga.get(s);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(s,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(s,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(s,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(s):e.type===1&&r.type===2?this.ga=this.ga.insert(s,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(s,e)}ya(){const e=[];return this.ga.inorderTraversal(((s,r)=>{e.push(r)})),e}}class Fr{constructor(e,s,r,c,h,f,p,v,y){this.query=e,this.docs=s,this.oldDocs=r,this.docChanges=c,this.mutatedKeys=h,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(e,s,r,c,h){const f=[];return s.forEach((p=>{f.push({type:0,doc:p})})),new Fr(e,s,Lr.emptySet(s),f,r,c,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const s=this.docChanges,r=e.docChanges;if(s.length!==r.length)return!1;for(let c=0;c<s.length;c++)if(s[c].type!==r[c].type||!s[c].doc.isEqual(r[c].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class f1{constructor(){this.queries=T_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(s,r){const c=je(s),h=c.queries;c.queries=T_(),h.forEach(((f,p)=>{for(const v of p.Sa)v.onError(r)}))})(this,new ue($.ABORTED,"Firestore shutting down"))}}function T_(){return new Pa((i=>Fb(i)),Gu)}async function Dm(i,e){const s=je(i);let r=3;const c=e.query;let h=s.queries.get(c);h?!h.ba()&&e.Da()&&(r=2):(h=new d1,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await s.onListen(c,!0);break;case 1:h.wa=await s.onListen(c,!1);break;case 2:await s.onFirstRemoteStoreListen(c)}}catch(f){const p=Cm(f,`Initialization of query '${Mr(e.query)}' failed`);return void e.onError(p)}s.queries.set(c,h),h.Sa.push(e),e.va(s.onlineState),h.wa&&e.Fa(h.wa)&&Mm(s)}async function Im(i,e){const s=je(i),r=e.query;let c=3;const h=s.queries.get(r);if(h){const f=h.Sa.indexOf(e);f>=0&&(h.Sa.splice(f,1),h.Sa.length===0?c=e.Da()?0:1:!h.ba()&&e.Da()&&(c=2))}switch(c){case 0:return s.queries.delete(r),s.onUnlisten(r,!0);case 1:return s.queries.delete(r),s.onUnlisten(r,!1);case 2:return s.onLastRemoteStoreUnlisten(r);default:return}}function m1(i,e){const s=je(i);let r=!1;for(const c of e){const h=c.query,f=s.queries.get(h);if(f){for(const p of f.Sa)p.Fa(c)&&(r=!0);f.wa=c}}r&&Mm(s)}function p1(i,e,s){const r=je(i),c=r.queries.get(e);if(c)for(const h of c.Sa)h.onError(s);r.queries.delete(e)}function Mm(i){i.Ca.forEach((e=>{e.next()}))}var $f,A_;(A_=$f||($f={})).Ma="default",A_.Cache="cache";class Vm{constructor(e,s,r){this.query=e,this.xa=s,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const c of e.docChanges)c.type!==3&&r.push(c);e=new Fr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let s=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),s=!0):this.La(e,this.onlineState)&&(this.ka(e),s=!0),this.Na=e,s}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let s=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),s=!0),s}La(e,s){if(!e.fromCache||!this.Da())return!0;const r=s!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||s==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const s=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}ka(e){e=Fr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$f.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e){this.key=e}}class NE{constructor(e){this.key=e}}class g1{constructor(e,s){this.query=e,this.Ya=s,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=Gb(e),this.tu=new Lr(this.eu)}get nu(){return this.Ya}ru(e,s){const r=s?s.iu:new x_,c=s?s.tu:this.tu;let h=s?s.mutatedKeys:this.mutatedKeys,f=c,p=!1;const v=this.query.limitType==="F"&&c.size===this.query.limit?c.last():null,y=this.query.limitType==="L"&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal(((E,C)=>{const R=c.get(E),U=Qu(this.query,C)?C:null,L=!!R&&this.mutatedKeys.has(R.key),Z=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let K=!1;R&&U?R.data.isEqual(U.data)?L!==Z&&(r.track({type:3,doc:U}),K=!0):this.su(R,U)||(r.track({type:2,doc:U}),K=!0,(v&&this.eu(U,v)>0||y&&this.eu(U,y)<0)&&(p=!0)):!R&&U?(r.track({type:0,doc:U}),K=!0):R&&!U&&(r.track({type:1,doc:R}),K=!0,(v||y)&&(p=!0)),K&&(U?(f=f.add(U),h=Z?h.add(E):h.delete(E)):(f=f.delete(E),h=h.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),h=h.delete(E.key),r.track({type:1,doc:E})}return{tu:f,iu:r,Cs:p,mutatedKeys:h}}su(e,s){return e.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(e,s,r,c){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,C)=>(function(U,L){const Z=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:K})}};return Z(U)-Z(L)})(E.type,C.type)||this.eu(E.doc,C.doc))),this.ou(r),c=c??!1;const p=s&&!c?this._u():[],v=this.Xa.size===0&&this.current&&!c?1:0,y=v!==this.Za;return this.Za=v,f.length!==0||y?{snapshot:new Fr(this.query,e.tu,h,f,e.mutatedKeys,v===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new x_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((s=>this.Ya=this.Ya.add(s))),e.modifiedDocuments.forEach((s=>{})),e.removedDocuments.forEach((s=>this.Ya=this.Ya.delete(s))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const s=[];return e.forEach((r=>{this.Xa.has(r)||s.push(new NE(r))})),this.Xa.forEach((r=>{e.has(r)||s.push(new AE(r))})),s}cu(e){this.Ya=e.Qs,this.Xa=Be();const s=this.ru(e.documents);return this.applyChanges(s,!0)}lu(){return Fr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Om="SyncEngine";class v1{constructor(e,s,r){this.query=e,this.targetId=s,this.view=r}}class y1{constructor(e){this.key=e,this.hu=!1}}class _1{constructor(e,s,r,c,h,f){this.localStore=e,this.remoteStore=s,this.eventManager=r,this.sharedClientState=c,this.currentUser=h,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Pa((p=>Fb(p)),Gu),this.Iu=new Map,this.Eu=new Set,this.du=new mt(_e.comparator),this.Au=new Map,this.Ru=new Em,this.Vu={},this.mu=new Map,this.fu=Hr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function b1(i,e,s=!0){const r=DE(i);let c;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),c=h.view.lu()):c=await SE(r,e,s,!0),c}async function E1(i,e){const s=DE(i);await SE(s,e,!0,!1)}async function SE(i,e,s,r){const c=await zw(i.localStore,vs(e)),h=c.targetId,f=i.sharedClientState.addLocalQueryTarget(h,s);let p;return r&&(p=await x1(i,e,h,f==="current",c.resumeToken)),i.isPrimaryClient&&s&&yE(i.remoteStore,c),p}async function x1(i,e,s,r,c){i.pu=(C,R,U)=>(async function(Z,K,fe,ie){let k=K.view.ru(fe);k.Cs&&(k=await g_(Z.localStore,K.query,!1).then((({documents:w})=>K.view.ru(w,k))));const ae=ie&&ie.targetChanges.get(K.targetId),J=ie&&ie.targetMismatches.get(K.targetId)!=null,re=K.view.applyChanges(k,Z.isPrimaryClient,ae,J);return S_(Z,K.targetId,re.au),re.snapshot})(i,C,R,U);const h=await g_(i.localStore,e,!0),f=new g1(e,h.Qs),p=f.ru(h.documents),v=Ro.createSynthesizedTargetChangeForCurrentChange(s,r&&i.onlineState!=="Offline",c),y=f.applyChanges(p,i.isPrimaryClient,v);S_(i,s,y.au);const E=new v1(e,s,f);return i.Tu.set(e,E),i.Iu.has(s)?i.Iu.get(s).push(e):i.Iu.set(s,[e]),y.snapshot}async function T1(i,e,s){const r=je(i),c=r.Tu.get(e),h=r.Iu.get(c.targetId);if(h.length>1)return r.Iu.set(c.targetId,h.filter((f=>!Gu(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(c.targetId),r.sharedClientState.isActiveQueryTarget(c.targetId)||await Qf(r.localStore,c.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(c.targetId),s&&Nm(r.remoteStore,c.targetId),Kf(r,c.targetId)})).catch(Qr)):(Kf(r,c.targetId),await Qf(r.localStore,c.targetId,!0))}async function A1(i,e){const s=je(i),r=s.Tu.get(e),c=s.Iu.get(r.targetId);s.isPrimaryClient&&c.length===1&&(s.sharedClientState.removeLocalQueryTarget(r.targetId),Nm(s.remoteStore,r.targetId))}async function N1(i,e,s){const r=I1(i);try{const c=await(function(f,p){const v=je(f),y=ut.now(),E=p.reduce(((U,L)=>U.add(L.key)),Be());let C,R;return v.persistence.runTransaction("Locally write mutations","readwrite",(U=>{let L=Ws(),Z=Be();return v.Ns.getEntries(U,E).next((K=>{L=K,L.forEach(((fe,ie)=>{ie.isValidDocument()||(Z=Z.add(fe))}))})).next((()=>v.localDocuments.getOverlayedDocuments(U,L))).next((K=>{C=K;const fe=[];for(const ie of p){const k=BS(ie,C.get(ie.key).overlayedDocument);k!=null&&fe.push(new Hi(ie.key,k,Lb(k.value.mapValue),vn.exists(!0)))}return v.mutationQueue.addMutationBatch(U,y,fe,p)})).next((K=>{R=K;const fe=K.applyToLocalDocumentSet(C,Z);return v.documentOverlayCache.saveOverlays(U,K.batchId,fe)}))})).then((()=>({batchId:R.batchId,changes:Yb(C)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(c.batchId),(function(f,p,v){let y=f.Vu[f.currentUser.toKey()];y||(y=new mt(Ue)),y=y.insert(p,v),f.Vu[f.currentUser.toKey()]=y})(r,c.batchId,s),await Do(r,c.changes),await Wu(r.remoteStore)}catch(c){const h=Cm(c,"Failed to persist write");s.reject(h)}}async function wE(i,e){const s=je(i);try{const r=await Pw(s.localStore,e);e.targetChanges.forEach(((c,h)=>{const f=s.Au.get(h);f&&(We(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1,22616),c.addedDocuments.size>0?f.hu=!0:c.modifiedDocuments.size>0?We(f.hu,14607):c.removedDocuments.size>0&&(We(f.hu,42227),f.hu=!1))})),await Do(s,r,e)}catch(r){await Qr(r)}}function N_(i,e,s){const r=je(i);if(r.isPrimaryClient&&s===0||!r.isPrimaryClient&&s===1){const c=[];r.Tu.forEach(((h,f)=>{const p=f.view.va(e);p.snapshot&&c.push(p.snapshot)})),(function(f,p){const v=je(f);v.onlineState=p;let y=!1;v.queries.forEach(((E,C)=>{for(const R of C.Sa)R.va(p)&&(y=!0)})),y&&Mm(v)})(r.eventManager,e),c.length&&r.Pu.H_(c),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function S1(i,e,s){const r=je(i);r.sharedClientState.updateQueryState(e,"rejected",s);const c=r.Au.get(e),h=c&&c.key;if(h){let f=new mt(_e.comparator);f=f.insert(h,nn.newNoDocument(h,we.min()));const p=Be().add(h),v=new Xu(we.min(),new Map,new mt(Ue),f,p);await wE(r,v),r.du=r.du.remove(h),r.Au.delete(e),km(r)}else await Qf(r.localStore,e,!1).then((()=>Kf(r,e,s))).catch(Qr)}async function w1(i,e){const s=je(i),r=e.batch.batchId;try{const c=await Lw(s.localStore,e);RE(s,r,null),jE(s,r),s.sharedClientState.updateMutationState(r,"acknowledged"),await Do(s,c)}catch(c){await Qr(c)}}async function j1(i,e,s){const r=je(i);try{const c=await(function(f,p){const v=je(f);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return v.mutationQueue.lookupMutationBatch(y,p).next((C=>(We(C!==null,37113),E=C.keys(),v.mutationQueue.removeMutationBatch(y,C)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,E,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>v.localDocuments.getDocuments(y,E)))}))})(r.localStore,e);RE(r,e,s),jE(r,e),r.sharedClientState.updateMutationState(e,"rejected",s),await Do(r,c)}catch(c){await Qr(c)}}function jE(i,e){(i.mu.get(e)||[]).forEach((s=>{s.resolve()})),i.mu.delete(e)}function RE(i,e,s){const r=je(i);let c=r.Vu[r.currentUser.toKey()];if(c){const h=c.get(e);h&&(s?h.reject(s):h.resolve(),c=c.remove(e)),r.Vu[r.currentUser.toKey()]=c}}function Kf(i,e,s=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),s&&i.Pu.yu(r,s);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((r=>{i.Ru.containsKey(r)||CE(i,r)}))}function CE(i,e){i.Eu.delete(e.path.canonicalString());const s=i.du.get(e);s!==null&&(Nm(i.remoteStore,s),i.du=i.du.remove(e),i.Au.delete(s),km(i))}function S_(i,e,s){for(const r of s)r instanceof AE?(i.Ru.addReference(r.key,e),R1(i,r)):r instanceof NE?(de(Om,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||CE(i,r.key)):Te(19791,{wu:r})}function R1(i,e){const s=e.key,r=s.path.canonicalString();i.du.get(s)||i.Eu.has(r)||(de(Om,"New document in limbo: "+s),i.Eu.add(r),km(i))}function km(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const s=new _e(ot.fromString(e)),r=i.fu.next();i.Au.set(r,new y1(s)),i.du=i.du.insert(s,r),yE(i.remoteStore,new Ri(vs(Fu(s.path)),r,"TargetPurposeLimboResolution",Bu.ce))}}async function Do(i,e,s){const r=je(i),c=[],h=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,v)=>{f.push(r.pu(v,e,s).then((y=>{if((y||s)&&r.isPrimaryClient){const E=y?!y.fromCache:s?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,E?"current":"not-current")}if(y){c.push(y);const E=Tm.As(v.targetId,y);h.push(E)}})))})),await Promise.all(f),r.Pu.H_(c),await(async function(v,y){const E=je(v);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(C=>ne.forEach(y,(R=>ne.forEach(R.Es,(U=>E.persistence.referenceDelegate.addReference(C,R.targetId,U))).next((()=>ne.forEach(R.ds,(U=>E.persistence.referenceDelegate.removeReference(C,R.targetId,U)))))))))}catch(C){if(!Yr(C))throw C;de(Am,"Failed to update sequence numbers: "+C)}for(const C of y){const R=C.targetId;if(!C.fromCache){const U=E.Ms.get(R),L=U.snapshotVersion,Z=U.withLastLimboFreeSnapshotVersion(L);E.Ms=E.Ms.insert(R,Z)}}})(r.localStore,h))}async function C1(i,e){const s=je(i);if(!s.currentUser.isEqual(e)){de(Om,"User change. New user:",e.toKey());const r=await mE(s.localStore,e);s.currentUser=e,(function(h,f){h.mu.forEach((p=>{p.forEach((v=>{v.reject(new ue($.CANCELLED,f))}))})),h.mu.clear()})(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Do(s,r.Ls)}}function D1(i,e){const s=je(i),r=s.Au.get(e);if(r&&r.hu)return Be().add(r.key);{let c=Be();const h=s.Iu.get(e);if(!h)return c;for(const f of h){const p=s.Tu.get(f);c=c.unionWith(p.view.nu)}return c}}function DE(i){const e=je(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=wE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=D1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=S1.bind(null,e),e.Pu.H_=m1.bind(null,e.eventManager),e.Pu.yu=p1.bind(null,e.eventManager),e}function I1(i){const e=je(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=j1.bind(null,e),e}class Du{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zu(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,s){return null}Mu(e,s){return null}vu(e){return kw(this.persistence,new Mw,e.initialUser,this.serializer)}Cu(e){return new fE(xm.mi,this.serializer)}Du(e){return new Hw}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Du.provider={build:()=>new Du};class M1 extends Du{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,s){We(this.persistence.referenceDelegate instanceof Ru,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new yw(r,e.asyncQueue,s)}Cu(e){const s=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new fE((r=>Ru.mi(r,s)),this.serializer)}}class Xf{async initialize(e,s){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>N_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=C1.bind(null,this.syncEngine),await h1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new f1})()}createDatastore(e){const s=Zu(e.databaseInfo.databaseId),r=(function(h){return new $w(h)})(e.databaseInfo);return(function(h,f,p,v){return new Jw(h,f,p,v)})(e.authCredentials,e.appCheckCredentials,r,s)}createRemoteStore(e){return(function(r,c,h,f,p){return new e1(r,c,h,f,p)})(this.localStore,this.datastore,e.asyncQueue,(s=>N_(this.syncEngine,s,0)),(function(){return __.v()?new __:new Fw})())}createSyncEngine(e,s){return(function(c,h,f,p,v,y,E){const C=new _1(c,h,f,p,v,y);return E&&(C.gu=!0),C})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,s)}async terminate(){await(async function(s){const r=je(s);de(ka,"RemoteStore shutting down."),r.Ea.add(5),await Co(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Xf.provider={build:()=>new Xf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Js("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,s){setTimeout((()=>{this.muted||e(s)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="FirestoreClient";class V1{constructor(e,s,r,c,h){this.authCredentials=e,this.appCheckCredentials=s,this.asyncQueue=r,this.databaseInfo=c,this.user=tn.UNAUTHENTICATED,this.clientId=hm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async f=>{de(Bi,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(de(Bi,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(s){const r=Cm(s,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Sf(i,e){i.asyncQueue.verifyOperationInProgress(),de(Bi,"Initializing OfflineComponentProvider");const s=i.configuration;await e.initialize(s);let r=s.initialUser;i.setCredentialChangeListener((async c=>{r.isEqual(c)||(await mE(e.localStore,c),r=c)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function w_(i,e){i.asyncQueue.verifyOperationInProgress();const s=await O1(i);de(Bi,"Initializing OnlineComponentProvider"),await e.initialize(s,i.configuration),i.setCredentialChangeListener((r=>E_(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,c)=>E_(e.remoteStore,c))),i._onlineComponents=e}async function O1(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){de(Bi,"Using user provided OfflineComponentProvider");try{await Sf(i,i._uninitializedComponentsProvider._offline)}catch(e){const s=e;if(!(function(c){return c.name==="FirebaseError"?c.code===$.FAILED_PRECONDITION||c.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||c.code===22||c.code===20||c.code===11})(s))throw s;Pr("Error using user provided cache. Falling back to memory cache: "+s),await Sf(i,new Du)}}else de(Bi,"Using default OfflineComponentProvider"),await Sf(i,new M1(void 0));return i._offlineComponents}async function IE(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(de(Bi,"Using user provided OnlineComponentProvider"),await w_(i,i._uninitializedComponentsProvider._online)):(de(Bi,"Using default OnlineComponentProvider"),await w_(i,new Xf))),i._onlineComponents}function k1(i){return IE(i).then((e=>e.syncEngine))}async function Iu(i){const e=await IE(i),s=e.eventManager;return s.onListen=b1.bind(null,e.syncEngine),s.onUnlisten=T1.bind(null,e.syncEngine),s.onFirstRemoteStoreListen=E1.bind(null,e.syncEngine),s.onLastRemoteStoreUnlisten=A1.bind(null,e.syncEngine),s}function L1(i,e,s={}){const r=new Ks;return i.asyncQueue.enqueueAndForget((async()=>(function(h,f,p,v,y){const E=new Lm({next:R=>{E.Nu(),f.enqueueAndForget((()=>Im(h,C)));const U=R.docs.has(p);!U&&R.fromCache?y.reject(new ue($.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&R.fromCache&&v&&v.source==="server"?y.reject(new ue($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),C=new Vm(Fu(p.path),E,{includeMetadataChanges:!0,qa:!0});return Dm(h,C)})(await Iu(i),i.asyncQueue,e,s,r))),r.promise}function P1(i,e,s={}){const r=new Ks;return i.asyncQueue.enqueueAndForget((async()=>(function(h,f,p,v,y){const E=new Lm({next:R=>{E.Nu(),f.enqueueAndForget((()=>Im(h,C))),R.fromCache&&v.source==="server"?y.reject(new ue($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),C=new Vm(p,E,{includeMetadataChanges:!0,qa:!0});return Dm(h,C)})(await Iu(i),i.asyncQueue,e,s,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="firestore.googleapis.com",R_=!0;class C_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VE,this.ssl=R_}else this.host=e.host,this.ssl=e.ssl??R_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gw)throw new ue($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ME(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ue($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ue($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ue($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,c){return r.timeoutSeconds===c.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class eh{constructor(e,s,r,c){this._authCredentials=e,this._appCheckCredentials=s,this._databaseId=r,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new qN;switch(r.type){case"firstParty":return new QN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(s){const r=j_.get(s);r&&(de("ComponentProvider","Removing Datastore"),j_.delete(s),r.terminate())})(this),Promise.resolve()}}function U1(i,e,s,r={}){i=Cn(i,eh);const c=nm(e),h=i._getSettings(),f={...h,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${s}`;c&&(KT(`https://${p}`),WT("Firestore",!0)),h.host!==VE&&h.host!==p&&Pr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:p,ssl:c,emulatorOptions:r};if(!po(v,f)&&(i._setSettings(v),r.mockUserToken)){let y,E;if(typeof r.mockUserToken=="string")y=r.mockUserToken,E=tn.MOCK_USER;else{y=XT(r.mockUserToken,i._app?.options.projectId);const C=r.mockUserToken.sub||r.mockUserToken.user_id;if(!C)throw new ue($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new tn(C)}i._authCredentials=new HN(new Nb(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,s,r){this.converter=s,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xs(this.firestore,e,this._query)}}class xt{constructor(e,s,r){this.converter=s,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,s,r){if(wo(s,xt._jsonSchema))return new xt(e,r||null,new _e(ot.fromString(s.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:Ct("string",xt._jsonSchemaVersion),referencePath:Ct("string")};class Mi extends xs{constructor(e,s,r){super(e,s,Fu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new _e(e))}withConverter(e){return new Mi(this.firestore,e,this._path)}}function Se(i,e,...s){if(i=un(i),Sb("collection","path",e),i instanceof eh){const r=ot.fromString(e,...s);return Fy(r),new Mi(i,null,r)}{if(!(i instanceof xt||i instanceof Mi))throw new ue($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(ot.fromString(e,...s));return Fy(r),new Mi(i.firestore,null,r)}}function yn(i,e,...s){if(i=un(i),arguments.length===1&&(e=hm.newId()),Sb("doc","path",e),i instanceof eh){const r=ot.fromString(e,...s);return Hy(r),new xt(i,null,new _e(r))}{if(!(i instanceof xt||i instanceof Mi))throw new ue($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(ot.fromString(e,...s));return Hy(r),new xt(i.firestore,i instanceof Mi?i.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="AsyncQueue";class I_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gE(this,"async_queue_retry"),this._c=()=>{const r=Nf();r&&de(D_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const s=Nf();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const s=Nf();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const s=new Ks;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(s.resolve,s.reject),s.promise))).then((()=>s.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Yr(e))throw e;de(D_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const s=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Js("INTERNAL UNHANDLED ERROR: ",M_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=s,s}enqueueAfterDelay(e,s,r){this.uc(),this.oc.indexOf(e)>-1&&(s=0);const c=Rm.createAndSchedule(this,e,s,r,(h=>this.hc(h)));return this.tc.push(c),c}uc(){this.nc&&Te(47125,{Pc:M_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const s of this.tc)if(s.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((s,r)=>s.targetTimeMs-r.targetTimeMs));for(const s of this.tc)if(s.skipDelay(),e!=="all"&&s.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const s=this.tc.indexOf(e);this.tc.splice(s,1)}}function M_(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(i){return(function(s,r){if(typeof s!="object"||s===null)return!1;const c=s;for(const h of r)if(h in c&&typeof c[h]=="function")return!0;return!1})(i,["next","error","complete"])}class ei extends eh{constructor(e,s,r,c){super(e,s,r,c),this.type="firestore",this._queue=new I_,this._persistenceKey=c?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new I_(e),this._firestoreClient=void 0,await e}}}function B1(i,e){const s=typeof i=="object"?i:Y_(),r=typeof i=="string"?i:Tu,c=So(s,"firestore").getImmediate({identifier:r});if(!c._initialized){const h=YT("firestore");h&&U1(c,...h)}return c}function Io(i){if(i._terminated)throw new ue($.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||z1(i),i._firestoreClient}function z1(i){const e=i._freezeSettings(),s=(function(c,h,f,p){return new uS(c,h,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,ME(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new V1(i._authCredentials,i._appCheckCredentials,i._queue,s,i._componentsProvider&&(function(c){const h=c?._online.build();return{_offline:c?._offline.build(h),_online:h}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(Xt.fromBase64String(e))}catch(s){throw new ue($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(e){return new Fn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wo(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:Ct("string",Fn._jsonSchemaVersion),bytes:Ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(...e){for(let s=0;s<e.length;++s)if(e[s].length===0)throw new ue($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,s){if(!isFinite(e)||e<-90||e>90)throw new ue($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(s)||s<-180||s>180)throw new ue($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=e,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_s._jsonSchemaVersion}}static fromJSON(e){if(wo(e,_s._jsonSchema))return new _s(e.latitude,e.longitude)}}_s._jsonSchemaVersion="firestore/geoPoint/1.0",_s._jsonSchema={type:Ct("string",_s._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this._values=(e||[]).map((s=>s))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,c){if(r.length!==c.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==c[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:bs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wo(e,bs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((s=>typeof s=="number")))return new bs(e.vectorValues);throw new ue($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bs._jsonSchemaVersion="firestore/vectorValue/1.0",bs._jsonSchema={type:Ct("string",bs._jsonSchemaVersion),vectorValues:Ct("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=/^__.*__$/;class H1{constructor(e,s,r){this.data=e,this.fieldMask=s,this.fieldTransforms=r}toMutation(e,s){return this.fieldMask!==null?new Hi(e,this.data,this.fieldMask,s,this.fieldTransforms):new jo(e,this.data,s,this.fieldTransforms)}}class OE{constructor(e,s,r){this.data=e,this.fieldMask=s,this.fieldTransforms=r}toMutation(e,s){return new Hi(e,this.data,this.fieldMask,s,this.fieldTransforms)}}function kE(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:i})}}class Pm{constructor(e,s,r,c,h,f){this.settings=e,this.databaseId=s,this.serializer=r,this.ignoreUndefinedProperties=c,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Pm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const s=this.path?.child(e),r=this.Vc({path:s,fc:!1});return r.gc(e),r}yc(e){const s=this.path?.child(e),r=this.Vc({path:s,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Mu(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((s=>e.isPrefixOf(s)))!==void 0||this.fieldTransforms.find((s=>e.isPrefixOf(s.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(kE(this.Ac)&&q1.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class F1{constructor(e,s,r){this.databaseId=e,this.ignoreUndefinedProperties=s,this.serializer=r||Zu(e)}Cc(e,s,r,c=!1){return new Pm({Ac:e,methodName:s,Dc:r,path:Kt.emptyPath(),fc:!1,bc:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vo(i){const e=i._freezeSettings(),s=Zu(i._databaseId);return new F1(i._databaseId,!!e.ignoreUndefinedProperties,s)}function LE(i,e,s,r,c,h={}){const f=i.Cc(h.merge||h.mergeFields?2:0,e,s,c);Bm("Data must be an object, but it was:",f,r);const p=zE(r,f);let v,y;if(h.merge)v=new jn(f.fieldMask),y=f.fieldTransforms;else if(h.mergeFields){const E=[];for(const C of h.mergeFields){const R=Zf(e,C,s);if(!f.contains(R))throw new ue($.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);HE(E,R)||E.push(R)}v=new jn(E),y=f.fieldTransforms.filter((C=>v.covers(C.field)))}else v=null,y=f.fieldTransforms;return new H1(new pn(p),v,y)}class nh extends th{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nh}}class Um extends th{_toFieldTransform(e){return new kS(e.path,new xo)}isEqual(e){return e instanceof Um}}function PE(i,e,s,r){const c=i.Cc(1,e,s);Bm("Data must be an object, but it was:",c,r);const h=[],f=pn.empty();qi(r,((v,y)=>{const E=zm(e,v,s);y=un(y);const C=c.yc(E);if(y instanceof nh)h.push(E);else{const R=Oo(y,C);R!=null&&(h.push(E),f.set(E,R))}}));const p=new jn(h);return new OE(f,p,c.fieldTransforms)}function UE(i,e,s,r,c,h){const f=i.Cc(1,e,s),p=[Zf(e,r,s)],v=[c];if(h.length%2!=0)throw new ue($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<h.length;R+=2)p.push(Zf(e,h[R])),v.push(h[R+1]);const y=[],E=pn.empty();for(let R=p.length-1;R>=0;--R)if(!HE(y,p[R])){const U=p[R];let L=v[R];L=un(L);const Z=f.yc(U);if(L instanceof nh)y.push(U);else{const K=Oo(L,Z);K!=null&&(y.push(U),E.set(U,K))}}const C=new jn(y);return new OE(E,C,f.fieldTransforms)}function BE(i,e,s,r=!1){return Oo(s,i.Cc(r?4:3,e))}function Oo(i,e){if(qE(i=un(i)))return Bm("Unsupported field value:",e,i),zE(i,e);if(i instanceof th)return(function(r,c){if(!kE(c.Ac))throw c.Sc(`${r._methodName}() can only be used with update() and set()`);if(!c.path)throw c.Sc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(c);h&&c.fieldTransforms.push(h)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,c){const h=[];let f=0;for(const p of r){let v=Oo(p,c.wc(f));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),f++}return{arrayValue:{values:h}}})(i,e)}return(function(r,c){if((r=un(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return MS(c.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=ut.fromDate(r);return{timestampValue:ju(c.serializer,h)}}if(r instanceof ut){const h=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ju(c.serializer,h)}}if(r instanceof _s)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fn)return{bytesValue:aE(c.serializer,r._byteString)};if(r instanceof xt){const h=c.databaseId,f=r.firestore._databaseId;if(!f.isEqual(h))throw c.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:bm(r.firestore._databaseId||c.databaseId,r._key.path)}}if(r instanceof bs)return(function(f,p){return{mapValue:{fields:{[Ob]:{stringValue:kb},[Au]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return vm(p.serializer,y)}))}}}}}})(r,c);throw c.Sc(`Unsupported field value: ${Uu(r)}`)})(i,e)}function zE(i,e){const s={};return Rb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qi(i,((r,c)=>{const h=Oo(c,e.mc(r));h!=null&&(s[r]=h)})),{mapValue:{fields:s}}}function qE(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ut||i instanceof _s||i instanceof Fn||i instanceof xt||i instanceof th||i instanceof bs)}function Bm(i,e,s){if(!qE(s)||!wb(s)){const r=Uu(s);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function Zf(i,e,s){if((e=un(e))instanceof Mo)return e._internalPath;if(typeof e=="string")return zm(i,e);throw Mu("Field path arguments must be of type string or ",i,!1,void 0,s)}const G1=new RegExp("[~\\*/\\[\\]]");function zm(i,e,s){if(e.search(G1)>=0)throw Mu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,s);try{return new Mo(...e.split("."))._internalPath}catch{throw Mu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,s)}}function Mu(i,e,s,r,c){const h=r&&!r.isEmpty(),f=c!==void 0;let p=`Function ${e}() called with invalid data`;s&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(h||f)&&(v+=" (found",h&&(v+=` in field ${r}`),f&&(v+=` in document ${c}`),v+=")"),new ue($.INVALID_ARGUMENT,p+i+v)}function HE(i,e){return i.some((s=>s.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,s,r,c,h){this._firestore=e,this._userDataWriter=s,this._key=r,this._document=c,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Q1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const s=this._document.data.field(sh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s)}}}class Q1 extends qm{data(){return super.data()}}function sh(i,e){return typeof e=="string"?zm(i,e):e instanceof Mo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ue($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hm{}class ih extends Hm{}function Ye(i,e,...s){let r=[];e instanceof Hm&&r.push(e),r=r.concat(s),(function(h){const f=h.filter((v=>v instanceof Fm)).length,p=h.filter((v=>v instanceof ah)).length;if(f>1||f>0&&p>0)throw new ue($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const c of r)i=c._apply(i);return i}class ah extends ih{constructor(e,s,r){super(),this._field=e,this._op=s,this._value=r,this.type="where"}static _create(e,s,r){return new ah(e,s,r)}_apply(e){const s=this._parse(e);return GE(e._query,s),new xs(e.firestore,e.converter,zf(e._query,s))}_parse(e){const s=Vo(e.firestore);return(function(h,f,p,v,y,E,C){let R;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ue($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){k_(C,E);const L=[];for(const Z of C)L.push(O_(v,h,Z));R={arrayValue:{values:L}}}else R=O_(v,h,C)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||k_(C,E),R=BE(p,f,C,E==="in"||E==="not-in");return Rt.create(y,E,R)})(e._query,"where",s,e.firestore._databaseId,this._field,this._op,this._value)}}function Pe(i,e,s){const r=e,c=sh("where",i);return ah._create(c,r,s)}class Fm extends Hm{constructor(e,s){super(),this.type=e,this._queryConstraints=s}static _create(e,s){return new Fm(e,s)}_parse(e){const s=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return s.length===1?s[0]:Zn.create(s,this._getOperator())}_apply(e){const s=this._parse(e);return s.getFilters().length===0?e:((function(c,h){let f=c;const p=h.getFlattenedFilters();for(const v of p)GE(f,v),f=zf(f,v)})(e._query,s),new xs(e.firestore,e.converter,zf(e._query,s)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Gm extends ih{constructor(e,s){super(),this._field=e,this._direction=s,this.type="orderBy"}static _create(e,s){return new Gm(e,s)}_apply(e){const s=(function(c,h,f){if(c.startAt!==null)throw new ue($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(c.endAt!==null)throw new ue($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Eo(h,f)})(e._query,this._field,this._direction);return new xs(e.firestore,e.converter,(function(c,h){const f=c.explicitOrderBy.concat([h]);return new La(c.path,c.collectionGroup,f,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)})(e._query,s))}}function Vu(i,e="asc"){const s=e,r=sh("orderBy",i);return Gm._create(r,s)}class Qm extends ih{constructor(e,s,r){super(),this.type=e,this._limit=s,this._limitType=r}static _create(e,s,r){return new Qm(e,s,r)}_apply(e){return new xs(e.firestore,e.converter,Su(e._query,this._limit,this._limitType))}}function Y1(i){return WN("limit",i),Qm._create("limit",i,"F")}class Ym extends ih{constructor(e,s,r){super(),this.type=e,this._docOrFields=s,this._inclusive=r}static _create(e,s,r){return new Ym(e,s,r)}_apply(e){const s=K1(e,this.type,this._docOrFields,this._inclusive);return new xs(e.firestore,e.converter,(function(c,h){return new La(c.path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,h,c.endAt)})(e._query,s))}}function $1(...i){return Ym._create("startAfter",i,!1)}function K1(i,e,s,r){if(s[0]=un(s[0]),s[0]instanceof qm)return(function(h,f,p,v,y){if(!v)throw new ue($.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${p}().`);const E=[];for(const C of kr(h))if(C.field.isKeyField())E.push(Nu(f,v.key));else{const R=v.data.field(C.field);if(qu(R))throw new ue($.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(R===null){const U=C.field.canonicalString();throw new ue($.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${U}' (used as the orderBy) does not exist.`)}E.push(R)}return new qr(E,y)})(i._query,i.firestore._databaseId,e,s[0]._document,r);{const c=Vo(i.firestore);return(function(f,p,v,y,E,C){const R=f.explicitOrderBy;if(E.length>R.length)throw new ue($.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const U=[];for(let L=0;L<E.length;L++){const Z=E[L];if(R[L].field.isKeyField()){if(typeof Z!="string")throw new ue($.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof Z}`);if(!gm(f)&&Z.indexOf("/")!==-1)throw new ue($.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${Z}' contains a slash.`);const K=f.path.child(ot.fromString(Z));if(!_e.isDocumentKey(K))throw new ue($.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${K}' is not because it contains an odd number of segments.`);const fe=new _e(K);U.push(Nu(p,fe))}else{const K=BE(v,y,Z);U.push(K)}}return new qr(U,C)})(i._query,i.firestore._databaseId,c,e,s,r)}}function O_(i,e,s){if(typeof(s=un(s))=="string"){if(s==="")throw new ue($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gm(e)&&s.indexOf("/")!==-1)throw new ue($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${s}' contains a '/' character.`);const r=e.path.child(ot.fromString(s));if(!_e.isDocumentKey(r))throw new ue($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Nu(i,new _e(r))}if(s instanceof xt)return Nu(i,s._key);throw new ue($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uu(s)}.`)}function k_(i,e){if(!Array.isArray(i)||i.length===0)throw new ue($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GE(i,e){const s=(function(c,h){for(const f of c)for(const p of f.getFlattenedFilters())if(h.indexOf(p.op)>=0)return p.op;return null})(i.filters,(function(c){switch(c){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(s!==null)throw s===e.op?new ue($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${s.toString()}' filters.`)}class X1{convertValue(e,s="none"){switch(Pi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,s);case 5:return e.stringValue;case 6:return this.convertBytes(Li(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,s);case 11:return this.convertObject(e.mapValue,s);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,s){return this.convertObjectMap(e.fields,s)}convertObjectMap(e,s="none"){const r={};return qi(e,((c,h)=>{r[c]=this.convertValue(h,s)})),r}convertVectorValue(e){const s=e.fields?.[Au].arrayValue?.values?.map((r=>Et(r.doubleValue)));return new bs(s)}convertGeoPoint(e){return new _s(Et(e.latitude),Et(e.longitude))}convertArray(e,s){return(e.values||[]).map((r=>this.convertValue(r,s)))}convertServerTimestamp(e,s){switch(s){case"previous":const r=Hu(e);return r==null?null:this.convertValue(r,s);case"estimate":return this.convertTimestamp(yo(e));default:return null}}convertTimestamp(e){const s=ki(e);return new ut(s.seconds,s.nanos)}convertDocumentKey(e,s){const r=ot.fromString(e);We(hE(r),9688,{name:e});const c=new _o(r.get(1),r.get(3)),h=new _e(r.popFirst(5));return c.isEqual(s)||Js(`Document ${h} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(i,e,s){let r;return r=i?s&&(s.merge||s.mergeFields)?i.toFirestore(e,s):i.toFirestore(e):e,r}class oo{constructor(e,s){this.hasPendingWrites=e,this.fromCache=s}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Da extends qm{constructor(e,s,r,c,h,f){super(e,s,r,c,f),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const s=new gu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,s={}){if(this._document){const r=this._document.data.field(sh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,s.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,s={};return s.type=Da._jsonSchemaVersion,s.bundle="",s.bundleSource="DocumentSnapshot",s.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?s:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),s.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),s)}}Da._jsonSchemaVersion="firestore/documentSnapshot/1.0",Da._jsonSchema={type:Ct("string",Da._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class gu extends Da{data(e={}){return super.data(e)}}class Ia{constructor(e,s,r,c){this._firestore=e,this._userDataWriter=s,this._snapshot=c,this.metadata=new oo(c.hasPendingWrites,c.fromCache),this.query=r}get docs(){const e=[];return this.forEach((s=>e.push(s))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,s){this._snapshot.docs.forEach((r=>{e.call(s,new gu(this._firestore,this._userDataWriter,r.key,r,new oo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const s=!!e.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new ue($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=(function(c,h){if(c._snapshot.oldDocs.isEmpty()){let f=0;return c._snapshot.docChanges.map((p=>{const v=new gu(c._firestore,c._userDataWriter,p.doc.key,p.doc,new oo(c._snapshot.mutatedKeys.has(p.doc.key),c._snapshot.fromCache),c.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:f++}}))}{let f=c._snapshot.oldDocs;return c._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const v=new gu(c._firestore,c._userDataWriter,p.doc.key,p.doc,new oo(c._snapshot.mutatedKeys.has(p.doc.key),c._snapshot.fromCache),c.query.converter);let y=-1,E=-1;return p.type!==0&&(y=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),E=f.indexOf(p.doc.key)),{type:Z1(p.type),doc:v,oldIndex:y,newIndex:E}}))}})(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ia._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const s=[],r=[],c=[];return this.docs.forEach((h=>{h._document!==null&&(s.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),c.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Z1(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(i){i=Cn(i,xt);const e=Cn(i.firestore,ei);return L1(Io(e),i._key).then((s=>$E(e,i,s)))}Ia._jsonSchemaVersion="firestore/querySnapshot/1.0",Ia._jsonSchema={type:Ct("string",Ia._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class $m extends X1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,s)}}function Ze(i){i=Cn(i,xs);const e=Cn(i.firestore,ei),s=Io(e),r=new $m(e);return FE(i._query),P1(s,i._query).then((c=>new Ia(e,r,i,c)))}function Ou(i,e,s,...r){i=Cn(i,xt);const c=Cn(i.firestore,ei),h=Vo(c);let f;return f=typeof(e=un(e))=="string"||e instanceof Mo?UE(h,"updateDoc",i._key,e,s,r):PE(h,"updateDoc",i._key,e),lh(c,[f.toMutation(i._key,vn.exists(!0))])}function J1(i){return lh(Cn(i.firestore,ei),[new Ku(i._key,vn.none())])}function rh(i,e){const s=Cn(i.firestore,ei),r=yn(i),c=QE(i.converter,e);return lh(s,[LE(Vo(i.firestore),"addDoc",r._key,c,i.converter!==null,{}).toMutation(r._key,vn.exists(!1))]).then((()=>r))}function Km(i,...e){i=un(i);let s={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||V_(e[r])||(s=e[r++]);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(V_(e[r])){const v=e[r];e[r]=v.next?.bind(v),e[r+1]=v.error?.bind(v),e[r+2]=v.complete?.bind(v)}let h,f,p;if(i instanceof xt)f=Cn(i.firestore,ei),p=Fu(i._key.path),h={next:v=>{e[r]&&e[r]($E(f,i,v))},error:e[r+1],complete:e[r+2]};else{const v=Cn(i,xs);f=Cn(v.firestore,ei),p=v._query;const y=new $m(f);h={next:E=>{e[r]&&e[r](new Ia(f,y,v,E))},error:e[r+1],complete:e[r+2]},FE(i._query)}return(function(y,E,C,R){const U=new Lm(R),L=new Vm(E,U,C);return y.asyncQueue.enqueueAndForget((async()=>Dm(await Iu(y),L))),()=>{U.Nu(),y.asyncQueue.enqueueAndForget((async()=>Im(await Iu(y),L)))}})(Io(f),p,c,h)}function lh(i,e){return(function(r,c){const h=new Ks;return r.asyncQueue.enqueueAndForget((async()=>N1(await k1(r),c,h))),h.promise})(Io(i),e)}function $E(i,e,s){const r=s.docs.get(e._key),c=new $m(i);return new Da(i,c,e._key,r,new oo(s.hasPendingWrites,s.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,s){this._firestore=e,this._commitHandler=s,this._mutations=[],this._committed=!1,this._dataReader=Vo(e)}set(e,s,r){this._verifyNotCommitted();const c=wf(e,this._firestore),h=QE(c.converter,s,r),f=LE(this._dataReader,"WriteBatch.set",c._key,h,c.converter!==null,r);return this._mutations.push(f.toMutation(c._key,vn.none())),this}update(e,s,r,...c){this._verifyNotCommitted();const h=wf(e,this._firestore);let f;return f=typeof(s=un(s))=="string"||s instanceof Mo?UE(this._dataReader,"WriteBatch.update",h._key,s,r,c):PE(this._dataReader,"WriteBatch.update",h._key,s),this._mutations.push(f.toMutation(h._key,vn.exists(!0))),this}delete(e){this._verifyNotCommitted();const s=wf(e,this._firestore);return this._mutations=this._mutations.concat(new Ku(s._key,vn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ue($.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function wf(i,e){if((i=un(i)).firestore!==e)throw new ue($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function ps(){return new Um("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(i){return Io(i=Cn(i,ei)),new W1(i,(e=>lh(i,e)))}(function(e,s=!0){(function(c){Gr=c})(uA),Vi(new Xs("firestore",((r,{instanceIdentifier:c,options:h})=>{const f=r.getProvider("app").getImmediate(),p=new ei(new FN(r.getProvider("auth-internal")),new YN(f,r.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ue($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _o(y.options.projectId,E)})(f,c),f);return h={useFetchStreams:s,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),gs(Uy,By,e),gs(Uy,By,"esm2020")})();const vu={apiKey:"AIzaSyBfcUdX6thAZ-RBiDJCXOcjOq27Z3Cet4I",authDomain:"fir-mart-e9e21.firebaseapp.com",projectId:"fir-mart-e9e21",storageBucket:"fir-mart-e9e21.firebasestorage.app",messagingSenderId:"58204415374",appId:"1:58204415374:web:613ee6291af1a6b34330df",measurementId:"G-2CQ2G7TPPR"};console.log("🔥 Initializing Firebase with config:",{projectId:vu.projectId,authDomain:vu.authDomain,storageBucket:vu.storageBucket});const KE=Q_(vu),ej=PN(KE),ve=B1(KE);console.log("✅ Firebase initialized successfully");console.log("📊 Analytics:",ej?"Enabled":"Disabled");console.log("🗄️ Firestore:",ve?"Connected":"Not connected");const tj=({onLoginClick:i,isAuthenticated:e,currentUser:s,userType:r,onLogout:c})=>o.jsx("nav",{className:"navbar",children:o.jsxs("div",{className:"navbar-content",children:[o.jsxs("div",{className:"navbar-title",children:[o.jsx("h1",{children:e&&s?r==="hive"?`🏠 ${s.hiveName}`:`👥 ${s.hiveName}`:"Pivot"}),e&&s&&o.jsx("span",{className:"navbar-subtitle",children:r==="hive"?"Hive Dashboard":"Member Dashboard"})]}),o.jsx("div",{className:"navbar-actions",children:e&&s?o.jsxs("div",{className:"user-menu",children:[o.jsx("span",{className:"user-info",children:r==="hive"?`👨‍💼 ${s.creatorName}`:`👥 ${s.memberName}`}),o.jsx("button",{className:"logout-button",onClick:c,children:"🚪 Logout"})]}):o.jsx("button",{className:"login-button",onClick:i,children:"🔐 Join Community"})})]})}),nj={HIVES:"hives",MEMBERS:"members"},sj=async i=>{try{const e=new Date().toISOString(),s={...i,createdAt:e,updatedAt:e,status:"pending",isActive:!1,memberCount:0,applicationDate:e},r=await rh(Se(ve,nj.HIVES),s);return console.log("Hive data saved successfully with ID:",r.id),r.id}catch(e){throw console.error("Error saving hive data:",e),new Error(`Failed to save hive data: ${e.message}`)}},ij=i=>{const e={name:"Full Name",mobile:"Mobile Number",course:"Course",branch:"Branch",year:"Year of Study",codingLanguages:"Coding Languages",campusName:"Campus Name",campusLocation:"Campus Location",hiveName:"Hive Name",expectedAudience:"Expected Audience",facultyAdvisorName:"Faculty Advisor Name",facultyAdvisorContact:"Faculty Advisor Contact",leadershipExperience:"Leadership Experience",longTermVision:"Long-term Vision",termsAccepted:"Terms Acceptance"},s=[],r=[];for(const[c,h]of Object.entries(e)){const f=i[c];c==="codingLanguages"?(!f||!Array.isArray(f)||f.length===0)&&(s.push(`${h} is required`),r.push(c)):c==="termsAccepted"?f||(s.push("You must accept the terms and conditions"),r.push(c)):(!f||typeof f=="string"&&f.trim()==="")&&(s.push(`${h} is required`),r.push(c))}return{isValid:s.length===0,errors:s,missingFields:r}},sn={MEMBERS:"members",MEMBERS_APPROVED:"members_approved",MEMBERS_REJECTED:"members_rejected",MEMBER_CREDENTIALS:"member_credentials",HIVES_APPROVED:"hives_approved"},XE=async()=>{try{console.log("📋 Fetching approved hives for member registration...");const i=Ye(Se(ve,sn.HIVES_APPROVED),Vu("approvedAt","desc")),e=await Ze(i),s=[];return e.forEach(r=>{const c=r.data();s.push({id:r.id,hiveName:c.hiveName,campusName:c.campusName,campusLocation:c.campusLocation,creatorName:c.name,memberCount:c.memberCount||0,expectedAudience:c.expectedAudience})}),console.log(`✅ Found ${s.length} approved hives`),s}catch(i){throw console.error("💥 Error fetching approved hives:",i),new Error(`Failed to fetch approved hives: ${i.message}`)}},ZE=async i=>{try{console.log("💾 Saving member application for:",i.selectedHive?.hiveName);const e=new Date().toISOString(),s={...i,createdAt:e,updatedAt:e,status:"pending",isActive:!1,applicationDate:e,selectedHiveId:i.selectedHive?.id,selectedHiveName:i.selectedHive?.hiveName};delete s.selectedHive;const r=await rh(Se(ve,sn.MEMBERS),s);return console.log("✅ Member application saved successfully with ID:",r.id),r.id}catch(e){throw console.error("💥 Error saving member application:",e),new Error(`Failed to save member application: ${e.message}`)}},aj=async(i,e=20,s=null)=>{try{console.log("🔍 Fetching pending member applications for hive:",i);let r=Ye(Se(ve,sn.MEMBERS),Pe("selectedHiveId","==",i),Pe("status","==","pending"),Vu("createdAt","desc"));e&&(r=Ye(r,Y1(e))),s&&(r=Ye(r,$1(s)));const c=await Ze(r),h=[];let f=null;return c.forEach(p=>{h.push({id:p.id,...p.data()}),f=p}),console.log(`✅ Found ${h.length} pending member applications`),{applications:h,lastVisible:f,hasMore:c.size===e}}catch(r){throw console.error("💥 Error fetching pending member applications:",r),new Error(`Failed to fetch member applications: ${r.message}`)}},rj=async i=>{try{console.log("📊 Fetching member statistics for hive:",i);const e=Ye(Se(ve,sn.MEMBERS),Pe("selectedHiveId","==",i),Pe("status","==","pending")),s=await Ze(e),r=Ye(Se(ve,sn.MEMBERS_APPROVED),Pe("selectedHiveId","==",i)),c=await Ze(r),h=Ye(Se(ve,sn.MEMBERS_REJECTED),Pe("selectedHiveId","==",i)),f=await Ze(h),p=new Date;p.setDate(p.getDate()-7);let v=0;s.forEach(E=>{const C=E.data();new Date(C.createdAt)>p&&v++});const y={totalApplications:s.size+c.size+f.size,pending:s.size,approved:c.size,rejected:f.size,recentApplications:v};return console.log("✅ Member statistics fetched successfully:",y),y}catch(e){throw console.error("💥 Error fetching member statistics:",e),new Error(`Failed to fetch member statistics: ${e.message}`)}},JE=i=>{try{console.log("🔑 Generating member credentials for:",i.name);const e=i.name||"member",s=i.selectedHiveName||"community",r=e.toLowerCase().replace(/[^a-z0-9]/g,"").substring(0,10),c=s.toLowerCase().replace(/[^a-z0-9]/g,"").substring(0,8),h=Date.now().toString().slice(-4),f=`${r}.${c}.${h}@members.hivecommunity.com`,p=lj();return{email:f,password:p,generatedAt:new Date().toISOString()}}catch(e){throw console.error("💥 Error generating member credentials:",e),new Error(`Failed to generate member credentials: ${e.message}`)}},lj=()=>{const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%&*";let e="";e+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(Math.random()*26)],e+="abcdefghijklmnopqrstuvwxyz"[Math.floor(Math.random()*26)],e+="0123456789"[Math.floor(Math.random()*10)],e+="!@#$%&*"[Math.floor(Math.random()*7)];for(let s=4;s<10;s++)e+=i[Math.floor(Math.random()*i.length)];return e.split("").sort(()=>Math.random()-.5).join("")},WE=async(i,e,s="")=>{try{console.log("✅ Approving member application:",i);const r=Xm(ve),c=await Zm(i);if(!c)throw new Error("Member application not found");const h=JE(c),f={...c,status:"approved",isActive:!0,hiveLeaderNote:s,hiveLeaderActionDate:new Date().toISOString(),approvedAt:new Date().toISOString(),approvedBy:e,credentials:{email:h.email,generatedAt:h.generatedAt}},p=yn(Se(ve,sn.MEMBERS_APPROVED));r.set(p,f);const v=yn(Se(ve,sn.MEMBER_CREDENTIALS));r.set(v,{memberId:p.id,originalMemberId:i,memberName:c.name,email:h.email,password:h.password,generatedAt:h.generatedAt,hiveId:c.selectedHiveId,hiveName:c.selectedHiveName,isActive:!0});const y=yn(ve,sn.MEMBERS,i);return r.delete(y),await r.commit(),console.log("✅ Member application approved successfully"),{approvedMemberId:p.id,credentials:{email:h.email,password:h.password,generatedAt:h.generatedAt}}}catch(r){throw console.error("💥 Error approving member application:",r),new Error(`Failed to approve member application: ${r.message}`)}},ex=async(i,e,s="")=>{try{console.log("❌ Rejecting member application:",i);const r=Xm(ve),c=await Zm(i);if(!c)throw new Error("Member application not found");const h={...c,status:"rejected",isActive:!1,hiveLeaderNote:s,hiveLeaderActionDate:new Date().toISOString(),rejectedAt:new Date().toISOString(),rejectedBy:e},f=yn(Se(ve,sn.MEMBERS_REJECTED));r.set(f,h);const p=yn(ve,sn.MEMBERS,i);return r.delete(p),await r.commit(),console.log("❌ Member application rejected successfully"),f.id}catch(r){throw console.error("💥 Error rejecting member application:",r),new Error(`Failed to reject member application: ${r.message}`)}},Zm=async i=>{try{const e=yn(ve,sn.MEMBERS,i),s=await YE(e);return s.exists()?{id:s.id,...s.data()}:null}catch(e){throw console.error("💥 Error fetching member application:",e),new Error(`Failed to fetch member application: ${e.message}`)}},tx=async(i,e)=>{try{console.log("🔐 Attempting to authenticate member credentials:",{email:i});const s=Ye(Se(ve,sn.MEMBER_CREDENTIALS),Pe("email","==",i),Pe("isActive","==",!0)),r=await Ze(s);if(r.empty)return console.log("❌ No active member credentials found for email:",i),{success:!1,error:"Invalid credentials. Please check your email and password.",errorCode:"INVALID_CREDENTIALS"};let c=null;if(r.forEach(f=>{const p=f.data();p.password===e&&(c={id:f.id,...p})}),!c)return console.log("❌ Password mismatch for member email:",i),{success:!1,error:"Invalid credentials. Please check your email and password.",errorCode:"INVALID_CREDENTIALS"};console.log("✅ Member credentials validated successfully for:",c.memberName);let h=null;try{const f=Ye(Se(ve,sn.MEMBERS_APPROVED),Pe("credentials.email","==",i)),p=await Ze(f);p.empty||p.forEach(v=>{h={id:v.id,...v.data()}})}catch(f){console.log("⚠️ Could not fetch approved member data:",f.message)}return{success:!0,member:{id:c.memberId,originalMemberId:c.originalMemberId,memberName:c.memberName,email:c.email,generatedAt:c.generatedAt,isActive:c.isActive,hiveId:c.hiveId,hiveName:c.hiveName,approvedData:h},message:`Welcome to ${c.hiveName}, ${c.memberName}!`}}catch(s){return console.error("💥 Error during member authentication:",s),{success:!1,error:"Authentication service error. Please try again later.",errorCode:"SERVICE_ERROR"}}},nx=i=>{const e={name:"Full Name",email:"Email Address",mobile:"Mobile Number",course:"Course",branch:"Branch",year:"Year of Study",collegeName:"College/University Name",cgpa:"CGPA/Percentage",skills:"Technical Skills",interestedEvents:"Interested Events",selectedHive:"Selected Hive",heardAbout:"How did you hear about us",mainGoal:"Main Goal",termsAccepted:"Terms Acceptance"},s=[],r=[];for(const[c,h]of Object.entries(e)){const f=i[c];c==="skills"||c==="interestedEvents"?(!f||!Array.isArray(f)||f.length===0)&&(s.push(`${h} is required`),r.push(c)):c==="selectedHive"?(!f||!f.id)&&(s.push(`${h} is required`),r.push(c)):c==="termsAccepted"?f||(s.push("You must accept the terms and conditions"),r.push(c)):(!f||typeof f=="string"&&f.trim()==="")&&(s.push(`${h} is required`),r.push(c))}return{isValid:s.length===0,errors:s,missingFields:r}},oj=async(i,e)=>{try{return(await WE(i,e.selectedHiveId||e.selectedHive?.id,"")).credentials}catch(s){throw console.error("Error in approveMember wrapper:",s),s}},cj=async(i,e)=>{try{await ex(i,e.selectedHiveId||e.selectedHive?.id,"")}catch(s){throw console.error("Error in rejectMember wrapper:",s),s}},uj=async i=>{try{const e=Ye(Se(ve,sn.MEMBERS_APPROVED),Pe("selectedHiveName","==",i));return await Ze(e)}catch(e){throw console.error("Error fetching approved members:",e),e}},hj=async i=>{try{const e=Ye(Se(ve,sn.MEMBERS_REJECTED),Pe("selectedHiveName","==",i));return await Ze(e)}catch(e){throw console.error("Error fetching rejected members:",e),e}},Ca={getApprovedHivesForSelection:XE,saveMemberApplication:ZE,getPendingMemberApplications:aj,getMemberStats:rj,generateMemberCredentials:JE,approveMemberApplication:WE,rejectMemberApplication:ex,getMemberApplicationById:Zm,authenticateMemberCredentials:tx,validateMemberData:nx,approveMember:oj,rejectMember:cj,getApprovedMembers:uj,getRejectedMembers:hj},Jf={HIVE_CREDENTIALS:"hive_credentials",HIVES_APPROVED:"hives_approved",HIVES:"hives"},dj=async(i,e)=>{try{console.log("🔐 Attempting to authenticate hive credentials:",{email:i});const s=Ye(Se(ve,Jf.HIVE_CREDENTIALS),Pe("email","==",i),Pe("isActive","==",!0)),r=await Ze(s);if(r.empty)return console.log("❌ No active credentials found for email:",i),{success:!1,error:"Invalid credentials. Please check your email and password.",errorCode:"INVALID_CREDENTIALS"};let c=null;if(r.forEach(f=>{const p=f.data();p.password===e&&(c={id:f.id,...p})}),!c)return console.log("❌ Password mismatch for email:",i),{success:!1,error:"Invalid credentials. Please check your email and password.",errorCode:"INVALID_CREDENTIALS"};console.log("✅ Credentials validated successfully for:",c.hiveName);let h=null;try{const f=Ye(Se(ve,Jf.HIVES_APPROVED),Pe("credentials.email","==",i)),p=await Ze(f);p.empty||p.forEach(v=>{h={id:v.id,...v.data()}})}catch(f){console.log("⚠️ Could not fetch approved hive data:",f.message)}return{success:!0,hive:{id:c.hiveId,originalHiveId:c.originalHiveId,hiveName:c.hiveName,creatorName:c.creatorName,email:c.email,generatedAt:c.generatedAt,isActive:c.isActive,approvedData:h},message:`Welcome back to ${c.hiveName}!`}}catch(s){return console.error("💥 Error during authentication:",s),{success:!1,error:"Authentication service error. Please try again later.",errorCode:"SERVICE_ERROR"}}},fj=async(i,e)=>{try{console.log("🔐 Attempting authentication for:",{email:i});const s=await dj(i,e);if(s.success)return{...s,userType:"hive"};const r=await tx(i,e);return r.success?{...r,userType:"member"}:(console.log("❌ Authentication failed for both hive and member credentials"),{success:!1,error:"Invalid credentials. Please check your email and password.",errorCode:"INVALID_CREDENTIALS"})}catch(s){return console.error("💥 Error during authentication:",s),{success:!1,error:"Authentication service error. Please try again later.",errorCode:"SERVICE_ERROR"}}},mj=async(i,e)=>{try{console.log("🔍 Validating hive session:",{hiveId:i,email:e});const s=Ye(Se(ve,Jf.HIVE_CREDENTIALS),Pe("hiveId","==",i),Pe("email","==",e),Pe("isActive","==",!0));return(await Ze(s)).empty?(console.log("❌ Hive session invalid - credentials not found or deactivated"),{valid:!1,error:"Session expired or credentials deactivated.",errorCode:"SESSION_EXPIRED"}):(console.log("✅ Hive session is valid"),{valid:!0,message:"Session is active"})}catch(s){return console.error("💥 Error validating hive session:",s),{valid:!1,error:"Session validation error. Please sign in again.",errorCode:"VALIDATION_ERROR"}}},pj=i=>{try{const e={userType:"hive",hiveId:i.id,originalHiveId:i.originalHiveId,hiveName:i.hiveName,creatorName:i.creatorName,email:i.email,loginTime:new Date().toISOString()};localStorage.setItem("userSession",JSON.stringify(e)),console.log("💾 Hive session stored successfully")}catch(e){console.error("💥 Error storing hive session:",e)}},gj=i=>{try{const e={userType:"member",memberId:i.id,originalMemberId:i.originalMemberId,memberName:i.memberName,email:i.email,hiveId:i.hiveId,hiveName:i.hiveName,loginTime:new Date().toISOString()};localStorage.setItem("userSession",JSON.stringify(e)),console.log("💾 Member session stored successfully")}catch(e){console.error("💥 Error storing member session:",e)}},vj=()=>{try{const i=localStorage.getItem("userSession");if(i){const e=JSON.parse(i),s=e.userType==="hive"?e.hiveName:`${e.memberName} (${e.hiveName})`;return console.log(`📶 Retrieved stored ${e.userType} session:`,s),e}return null}catch(i){return console.error("💥 Error retrieving user session:",i),null}},Wf=()=>{try{localStorage.removeItem("userSession"),console.log("🗱️ User session cleared")}catch(i){console.error("💥 Error clearing user session:",i)}},yj=async()=>{try{const i=vj();if(!i)return{isAuthenticated:!1,user:null,userType:null};let e={valid:!0};return i.userType==="hive"&&(e=await mj(i.hiveId,i.email)),e.valid?{isAuthenticated:!0,user:i,userType:i.userType}:(Wf(),{isAuthenticated:!1,user:null,userType:null,error:e.error})}catch(i){return console.error("💥 Error checking auth status:",i),Wf(),{isAuthenticated:!1,user:null,userType:null,error:"Authentication check failed"}}},_j=({isOpen:i,onClose:e,onOptionSelect:s})=>{const[r,c]=le.useState("options"),[h,f]=le.useState(1),[p,v]=le.useState(""),[y,E]=le.useState(""),[C,R]=le.useState(!1),[U,L]=le.useState(""),[Z,K]=le.useState(""),[fe,ie]=le.useState([]),[k,ae]=le.useState(""),[J,re]=le.useState(!1),[w,A]=le.useState([]),[D,j]=le.useState(!1),[S,V]=le.useState({name:"",course:"",branch:"",year:"",mobile:"",codingLanguages:[],campusName:"",campusLocation:"",hiveName:"",expectedAudience:"",facultyAdvisorName:"",facultyAdvisorContact:"",linkedinProfile:"",githubProfile:"",leadershipExperience:"",achievements:"",longTermVision:"",termsAccepted:!1}),[N,Me]=le.useState({name:"",course:"",branch:"",year:"",mobile:"",email:"",cgpa:"",skills:[],collegeName:"",interestedEvents:[],priorProjects:"",eventParticipation:"",selectedHive:null,linkedinProfile:"",githubProfile:"",heardAbout:"",mainGoal:"",subscription:!1,termsAccepted:!1}),$e=()=>{c("hive-form"),f(1)},Y=async()=>{c("member-form"),f(1),w.length===0&&await ce()},ce=async()=>{j(!0);try{console.log("🏗️ Loading approved hives for member registration...");const H=await XE();A(H),console.log(`✅ Loaded ${H.length} approved hives`)}catch(H){console.error("💥 Error loading approved hives:",H),L("Failed to load available hives. Please try again.")}finally{j(!1)}},ge=()=>{c("login")},ze=()=>{c("options"),f(1),v(""),E("")},M=async H=>{H.preventDefault(),ae(""),re(!0);try{if(console.log("🔐 Attempting hive login:",{email:p}),!p||!y){ae("Please enter both email and password.");return}const Re=await fj(p,y);if(!Re.success){console.log("❌ Authentication failed:",Re.error),ae(Re.error);return}const Ae=Re.userType==="hive"?Re.hive:Re.member,Tt=Re.userType==="hive"?Ae.hiveName:`${Ae.memberName} (${Ae.hiveName})`;console.log("✅ Authentication successful:",Tt),Re.userType==="hive"?pj(Ae):gj(Ae),s&&s("login-success",{user:Ae,userType:Re.userType,message:Re.message}),v(""),E(""),ee()}catch(Re){console.error("💥 Login error:",Re),ae("Login failed. Please try again later.")}finally{re(!1)}},ee=()=>{c("options"),f(1),v(""),E(""),L(""),K(""),ie([]),ae(""),R(!1),re(!1),V({name:"",course:"",branch:"",year:"",mobile:"",codingLanguages:[],campusName:"",campusLocation:"",hiveName:"",expectedAudience:"",facultyAdvisorName:"",facultyAdvisorContact:"",linkedinProfile:"",githubProfile:"",leadershipExperience:"",achievements:"",longTermVision:"",termsAccepted:!1}),Me({name:"",course:"",branch:"",year:"",mobile:"",email:"",cgpa:"",skills:[],collegeName:"",interestedEvents:[],priorProjects:"",eventParticipation:"",selectedHive:null,linkedinProfile:"",githubProfile:"",heardAbout:"",mainGoal:"",subscription:!1,termsAccepted:!1}),e()},he=()=>{h<4&&f(h+1)},se=()=>{h>1?f(h-1):(c("options"),f(1))},be=async H=>{H.preventDefault(),L(""),K(""),ie([]);const Re=ij(S);if(!Re.isValid){ie(Re.errors),L("Please fill in all required fields.");return}R(!0);try{const Ae=await sj(S);console.log("Hive form submitted successfully:",{hiveId:Ae,data:S}),K("Your hive application has been submitted successfully! You will receive a confirmation email shortly."),s&&s("create-hive",{hiveId:Ae,...S}),setTimeout(()=>{ee()},2e3)}catch(Ae){console.error("Error submitting hive form:",Ae),L(`Failed to submit application: ${Ae.message}`)}finally{R(!1)}},De=async H=>{H.preventDefault(),L(""),K(""),ie([]);const Re=nx(N);if(!Re.isValid){ie(Re.errors),L("Please fill in all required fields and select a hive.");return}R(!0);try{const Ae=await ZE(N);console.log("Member application submitted successfully:",{memberId:Ae,hiveName:N.selectedHive?.hiveName}),K(`Your application to join ${N.selectedHive?.hiveName} has been submitted successfully! The hive leader will review your application.`),s&&s("register-member",{memberId:Ae,...N}),setTimeout(()=>{ee()},3e3)}catch(Ae){console.error("Error submitting member application:",Ae),L(`Failed to submit application: ${Ae.message}`)}finally{R(!1)}},me=(H,Re)=>{V(Ae=>({...Ae,[H]:Re}))},Ve=(H,Re)=>{Me(Ae=>({...Ae,[H]:Re}))};return i?o.jsx("div",{className:"popup-overlay",onClick:ee,children:o.jsx("div",{className:"popup-content",onClick:H=>H.stopPropagation(),children:r==="options"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"popup-header",children:[o.jsx("h2",{children:"Welcome to the Ecosystem"}),o.jsx("button",{className:"close-btn",onClick:ee,children:"×"})]}),o.jsxs("div",{className:"options-container",children:[o.jsx("p",{className:"welcome-text",children:"Choose your path to join our community"}),o.jsxs("div",{className:"option-cards",children:[o.jsxs("div",{className:"option-card hive-card",onClick:$e,children:[o.jsx("div",{className:"card-icon",children:"🏗️"}),o.jsx("h3",{children:"Create a New Hive"}),o.jsx("p",{children:"Start your own community and become a hive leader. Build, manage, and grow your network."}),o.jsxs("div",{className:"card-features",children:[o.jsx("span",{className:"feature",children:"• Full admin control"}),o.jsx("span",{className:"feature",children:"• Custom branding"}),o.jsx("span",{className:"feature",children:"• Member management"}),o.jsx("span",{className:"feature",children:"• Analytics dashboard"})]}),o.jsxs("button",{className:"option-btn create-btn",children:[o.jsx("span",{children:"Create Hive"}),o.jsx("div",{className:"btn-arrow",children:"→"})]})]}),o.jsxs("div",{className:"option-card member-card",onClick:Y,children:[o.jsx("div",{className:"card-icon",children:"👥"}),o.jsx("h3",{children:"Register as a Member"}),o.jsx("p",{children:"Join an existing hive and connect with like-minded individuals in established communities."}),o.jsxs("div",{className:"card-features",children:[o.jsx("span",{className:"feature",children:"• Browse hives"}),o.jsx("span",{className:"feature",children:"• Join discussions"}),o.jsx("span",{className:"feature",children:"• Network building"}),o.jsx("span",{className:"feature",children:"• Community events"})]}),o.jsxs("button",{className:"option-btn member-btn",children:[o.jsx("span",{children:"Join as Member"}),o.jsx("div",{className:"btn-arrow",children:"→"})]})]})]}),o.jsx("div",{className:"popup-footer",children:o.jsxs("p",{children:["Already have an account? ",o.jsx("button",{className:"link-btn",onClick:ge,children:"Sign In"})]})})]})]}):r==="login"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"popup-header",children:[o.jsxs("div",{className:"header-with-back",children:[o.jsx("button",{className:"back-btn",onClick:ze,children:"←"}),o.jsx("h2",{children:"Welcome Back"})]}),o.jsx("button",{className:"close-btn",onClick:ee,children:"×"})]}),o.jsxs("div",{className:"login-container",children:[o.jsx("p",{className:"login-welcome-text",children:"Sign in to access your hive dashboard"}),k&&o.jsxs("div",{className:"status-message error-message",children:[o.jsx("div",{className:"status-icon",children:"⚠️"}),o.jsxs("div",{className:"status-content",children:[o.jsx("h4",{children:"Login Failed"}),o.jsx("p",{children:k})]})]}),o.jsxs("form",{className:"login-form",onSubmit:M,children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"email",children:"Email Address"}),o.jsx("input",{type:"email",id:"email",value:p,onChange:H=>v(H.target.value),placeholder:"Enter your hive email address",disabled:J,required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"password",children:"Password"}),o.jsx("input",{type:"password",id:"password",value:y,onChange:H=>E(H.target.value),placeholder:"Enter your password",disabled:J,required:!0})]}),o.jsxs("div",{className:"form-options",children:[o.jsxs("label",{className:"checkbox-label",children:[o.jsx("input",{type:"checkbox",className:"remember-checkbox"}),o.jsx("span",{className:"checkbox-text",children:"Remember me"})]}),o.jsx("button",{type:"button",className:"forgot-link",children:"Forgot password?"})]}),o.jsx("div",{className:"form-actions",children:o.jsx("button",{type:"submit",className:"login-submit-btn",disabled:J,children:J?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"loading-spinner"}),"Signing In..."]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{children:"Sign In"}),o.jsx("div",{className:"btn-arrow",children:"→"})]})})}),o.jsx("div",{className:"login-footer",children:o.jsxs("p",{children:["Don't have an account? ",o.jsx("button",{type:"button",className:"link-btn",onClick:ze,children:"Choose your path"})]})})]})]})]}):r==="hive-form"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"popup-header",children:[o.jsxs("div",{className:"header-with-back",children:[o.jsx("button",{className:"back-btn",onClick:se,children:"←"}),o.jsx("h2",{children:"Create Your Hive"})]}),o.jsx("button",{className:"close-btn",onClick:ee,children:"×"})]}),o.jsxs("div",{className:"form-container",children:[o.jsxs("div",{className:"progress-bar",children:[o.jsx("div",{className:"progress-steps",children:[1,2,3,4].map(H=>o.jsxs("div",{className:`progress-step ${h>=H?"active":""}`,children:[o.jsx("span",{className:"step-number",children:H}),o.jsxs("span",{className:"step-label",children:[H===1&&"Personal Info",H===2&&"College Info",H===3&&"Hive Vision",H===4&&"Commitment"]})]},H))}),o.jsx("div",{className:"progress-line",style:{width:`${(h-1)/3*100}%`}})]}),o.jsxs("div",{className:"section-content",children:[h===1&&o.jsxs("div",{className:"form-section",children:[o.jsx("h3",{className:"section-title",children:"Personal Information"}),o.jsx("p",{className:"section-description",children:"Tell us about yourself to create your hive profile"}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"hive-name",children:"Full Name *"}),o.jsx("input",{type:"text",id:"hive-name",value:S.name,onChange:H=>me("name",H.target.value),placeholder:"Enter your full name",required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"hive-mobile",children:"Mobile Number *"}),o.jsx("input",{type:"tel",id:"hive-mobile",value:S.mobile,onChange:H=>me("mobile",H.target.value),placeholder:"Enter your mobile number",required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"hive-course",children:"Course *"}),o.jsxs("select",{id:"hive-course",value:S.course,onChange:H=>me("course",H.target.value),required:!0,children:[o.jsx("option",{value:"",children:"Select your course"}),o.jsx("option",{value:"B.Tech",children:"B.Tech"}),o.jsx("option",{value:"B.E",children:"B.E"}),o.jsx("option",{value:"MCA",children:"MCA"}),o.jsx("option",{value:"M.Tech",children:"M.Tech"}),o.jsx("option",{value:"BCA",children:"BCA"}),o.jsx("option",{value:"BSc Computer Science",children:"BSc Computer Science"}),o.jsx("option",{value:"Other",children:"Other"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"hive-branch",children:"Branch *"}),o.jsxs("select",{id:"hive-branch",value:S.branch,onChange:H=>me("branch",H.target.value),required:!0,children:[o.jsx("option",{value:"",children:"Select your branch"}),o.jsx("option",{value:"Computer Science Engineering",children:"Computer Science Engineering"}),o.jsx("option",{value:"Information Technology",children:"Information Technology"}),o.jsx("option",{value:"Electronics & Communication",children:"Electronics & Communication"}),o.jsx("option",{value:"Electrical Engineering",children:"Electrical Engineering"}),o.jsx("option",{value:"Mechanical Engineering",children:"Mechanical Engineering"}),o.jsx("option",{value:"Civil Engineering",children:"Civil Engineering"}),o.jsx("option",{value:"Data Science",children:"Data Science"}),o.jsx("option",{value:"Artificial Intelligence",children:"Artificial Intelligence"}),o.jsx("option",{value:"Other",children:"Other"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"hive-year",children:"Year of Study *"}),o.jsxs("select",{id:"hive-year",value:S.year,onChange:H=>me("year",H.target.value),required:!0,children:[o.jsx("option",{value:"",children:"Select year"}),o.jsx("option",{value:"1st Year",children:"1st Year"}),o.jsx("option",{value:"2nd Year",children:"2nd Year"}),o.jsx("option",{value:"3rd Year",children:"3rd Year"}),o.jsx("option",{value:"4th Year",children:"4th Year"}),o.jsx("option",{value:"5th Year",children:"5th Year"}),o.jsx("option",{value:"Graduate",children:"Graduate"})]})]})]}),o.jsxs("div",{className:"form-group full-width",children:[o.jsx("label",{children:"Coding Languages You're Efficient In *"}),o.jsx("div",{className:"checkbox-grid",children:["JavaScript","Python","Java","C++","C","React","Node.js","PHP","Go","Rust","Swift","Kotlin"].map(H=>o.jsxs("label",{className:"checkbox-label",children:[o.jsx("input",{type:"checkbox",checked:S.codingLanguages.includes(H),onChange:Re=>{const Ae=[...S.codingLanguages];if(Re.target.checked)Ae.push(H);else{const Tt=Ae.indexOf(H);Tt>-1&&Ae.splice(Tt,1)}me("codingLanguages",Ae)}}),o.jsx("span",{className:"checkbox-text",children:H})]},H))})]})]}),h===2&&o.jsxs("div",{className:"form-section",children:[o.jsx("h3",{className:"section-title",children:"College Information"}),o.jsx("p",{className:"section-description",children:"Tell us about your college and campus"}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group full-width",children:[o.jsx("label",{htmlFor:"campus-name",children:"Name of the Campus *"}),o.jsx("input",{type:"text",id:"campus-name",value:S.campusName,onChange:H=>me("campusName",H.target.value),placeholder:"Enter your college/university name",required:!0})]}),o.jsxs("div",{className:"form-group full-width",children:[o.jsx("label",{htmlFor:"campus-location",children:"Location of the Campus *"}),o.jsx("input",{type:"text",id:"campus-location",value:S.campusLocation,onChange:H=>me("campusLocation",H.target.value),placeholder:"City, State, Country",required:!0})]})]}),o.jsxs("div",{className:"info-card",children:[o.jsx("div",{className:"info-icon",children:"🏫"}),o.jsxs("div",{className:"info-content",children:[o.jsx("h4",{children:"Why do we need this information?"}),o.jsx("p",{children:"Campus information helps us verify your eligibility and connect you with other hives in your region. This enables better collaboration and resource sharing."})]})]})]}),h===3&&o.jsxs("div",{className:"form-section",children:[o.jsx("h3",{className:"section-title",children:"Your Hive Vision"}),o.jsx("p",{className:"section-description",children:"Define your community and leadership approach"}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group full-width",children:[o.jsx("label",{htmlFor:"hive-name-field",children:"Name of Your Hive *"}),o.jsx("input",{type:"text",id:"hive-name-field",value:S.hiveName,onChange:H=>me("hiveName",H.target.value),placeholder:"Enter a unique name for your hive",required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"expected-audience",children:"Expected Audience Size *"}),o.jsxs("select",{id:"expected-audience",value:S.expectedAudience,onChange:H=>me("expectedAudience",H.target.value),required:!0,children:[o.jsx("option",{value:"",children:"Select range"}),o.jsx("option",{value:"1-10",children:"1-10 members"}),o.jsx("option",{value:"11-20",children:"11-20 members"}),o.jsx("option",{value:"21-30",children:"21-30 members"}),o.jsx("option",{value:"31-40",children:"31-40 members"}),o.jsx("option",{value:"41-50",children:"41-50 members"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"faculty-advisor",children:"Faculty Advisor Name *"}),o.jsx("input",{type:"text",id:"faculty-advisor",value:S.facultyAdvisorName,onChange:H=>me("facultyAdvisorName",H.target.value),placeholder:"Enter faculty advisor's name",required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"faculty-contact",children:"Faculty Advisor Contact *"}),o.jsx("input",{type:"tel",id:"faculty-contact",value:S.facultyAdvisorContact,onChange:H=>me("facultyAdvisorContact",H.target.value),placeholder:"Phone number or email",required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"linkedin-profile",children:"LinkedIn Profile"}),o.jsx("input",{type:"url",id:"linkedin-profile",value:S.linkedinProfile,onChange:H=>me("linkedinProfile",H.target.value),placeholder:"https://linkedin.com/in/your-profile"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"github-profile",children:"GitHub Profile"}),o.jsx("input",{type:"url",id:"github-profile",value:S.githubProfile,onChange:H=>me("githubProfile",H.target.value),placeholder:"https://github.com/your-username"})]})]}),o.jsxs("div",{className:"highlight-card",children:[o.jsx("div",{className:"highlight-icon",children:"🎨"}),o.jsxs("div",{className:"highlight-content",children:[o.jsx("h4",{children:"Pro Tip: Creating a Memorable Hive Name"}),o.jsx("p",{children:"Choose a name that reflects your community's values and goals. Consider combining tech terms with creative elements that represent your vision!"})]})]})]}),h===4&&o.jsxs("div",{className:"form-section",children:[o.jsx("h3",{className:"section-title",children:"Commitment & Support"}),o.jsx("p",{className:"section-description",children:"Share your experience and long-term vision"}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group full-width",children:[o.jsx("label",{htmlFor:"leadership-experience",children:"Leadership Experience *"}),o.jsx("textarea",{id:"leadership-experience",value:S.leadershipExperience,onChange:H=>me("leadershipExperience",H.target.value),placeholder:"Describe your leadership experience (clubs, projects, teams, etc.)",rows:4,required:!0})]}),o.jsxs("div",{className:"form-group full-width",children:[o.jsx("label",{htmlFor:"achievements",children:"Notable Achievements"}),o.jsx("textarea",{id:"achievements",value:S.achievements,onChange:H=>me("achievements",H.target.value),placeholder:"Share your academic, technical, or extracurricular achievements",rows:3})]}),o.jsxs("div",{className:"form-group full-width",children:[o.jsx("label",{htmlFor:"long-term-vision",children:"Long-term Vision for Your Hive *"}),o.jsx("textarea",{id:"long-term-vision",value:S.longTermVision,onChange:H=>me("longTermVision",H.target.value),placeholder:"Describe your goals and vision for the community you want to build",rows:4,required:!0})]})]}),o.jsxs("div",{className:"terms-section",children:[o.jsx("h4",{children:"Declaration & Terms"}),o.jsxs("div",{className:"declaration-card",children:[o.jsx("p",{children:o.jsx("strong",{children:"By creating a hive, I declare that:"})}),o.jsxs("ul",{children:[o.jsx("li",{children:"All information provided is accurate and truthful"}),o.jsx("li",{children:"I have the necessary permissions from my institution"}),o.jsx("li",{children:"I commit to actively managing and growing my hive community"}),o.jsx("li",{children:"I will maintain professional standards and follow community guidelines"}),o.jsx("li",{children:"I understand that hive leadership comes with responsibilities"})]})]}),o.jsxs("label",{className:"checkbox-label terms-checkbox",children:[o.jsx("input",{type:"checkbox",checked:S.termsAccepted,onChange:H=>me("termsAccepted",H.target.checked),required:!0}),o.jsx("span",{className:"checkbox-text",children:"I accept the terms and conditions and declare that all information provided is accurate *"})]})]})]})]}),U&&o.jsxs("div",{className:"status-message error-message",children:[o.jsx("div",{className:"status-icon",children:"⚠️"}),o.jsxs("div",{className:"status-content",children:[o.jsx("h4",{children:"Submission Error"}),o.jsx("p",{children:U}),fe.length>0&&o.jsx("ul",{children:fe.map((H,Re)=>o.jsx("li",{children:H},Re))})]})]}),Z&&o.jsxs("div",{className:"status-message success-message",children:[o.jsx("div",{className:"status-icon",children:"✅"}),o.jsxs("div",{className:"status-content",children:[o.jsx("h4",{children:"Application Submitted!"}),o.jsx("p",{children:Z})]})]}),o.jsxs("div",{className:"form-navigation",children:[h>1&&o.jsx("button",{type:"button",className:"nav-btn prev-btn",onClick:se,disabled:C,children:"Previous"}),h<4?o.jsx("button",{type:"button",className:"nav-btn next-btn",onClick:he,disabled:C,children:"Next"}):o.jsx("button",{type:"button",className:"nav-btn submit-btn",onClick:be,disabled:C,children:C?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"loading-spinner"}),"Submitting..."]}):"Create Hive"})]})]})]}):r==="member-form"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"popup-header",children:[o.jsxs("div",{className:"header-with-back",children:[o.jsx("button",{className:"back-btn",onClick:se,children:"←"}),o.jsx("h2",{children:"Join as Member"})]}),o.jsx("button",{className:"close-btn",onClick:ee,children:"×"})]}),o.jsxs("div",{className:"form-container",children:[o.jsxs("div",{className:"progress-bar",children:[o.jsx("div",{className:"progress-steps",children:[1,2,3,4].map(H=>o.jsxs("div",{className:`progress-step ${h>=H?"active":""}`,children:[o.jsx("span",{className:"step-number",children:H}),o.jsxs("span",{className:"step-label",children:[H===1&&"Personal Info",H===2&&"Academic Info",H===3&&"Interests",H===4&&"Goals"]})]},H))}),o.jsx("div",{className:"progress-line",style:{width:`${(h-1)/3*100}%`}})]}),o.jsxs("div",{className:"section-content",children:[h===1&&o.jsxs("div",{className:"form-section",children:[o.jsx("h3",{className:"section-title",children:"Personal Information"}),o.jsx("p",{className:"section-description",children:"Let's get to know you better to create your member profile"}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"member-name",children:"Full Name *"}),o.jsx("input",{type:"text",id:"member-name",value:N.name,onChange:H=>Ve("name",H.target.value),placeholder:"Enter your full name",required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"member-email",children:"Email Address *"}),o.jsx("input",{type:"email",id:"member-email",value:N.email,onChange:H=>Ve("email",H.target.value),placeholder:"Enter your email address",required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"member-mobile",children:"Mobile Number *"}),o.jsx("input",{type:"tel",id:"member-mobile",value:N.mobile,onChange:H=>Ve("mobile",H.target.value),placeholder:"Enter your mobile number",required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"member-course",children:"Course *"}),o.jsxs("select",{id:"member-course",value:N.course,onChange:H=>Ve("course",H.target.value),required:!0,children:[o.jsx("option",{value:"",children:"Select your course"}),o.jsx("option",{value:"B.Tech",children:"B.Tech"}),o.jsx("option",{value:"B.E",children:"B.E"}),o.jsx("option",{value:"MCA",children:"MCA"}),o.jsx("option",{value:"M.Tech",children:"M.Tech"}),o.jsx("option",{value:"BCA",children:"BCA"}),o.jsx("option",{value:"BSc Computer Science",children:"BSc Computer Science"}),o.jsx("option",{value:"MSc Computer Science",children:"MSc Computer Science"}),o.jsx("option",{value:"Diploma",children:"Diploma"}),o.jsx("option",{value:"Other",children:"Other"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"member-branch",children:"Branch *"}),o.jsxs("select",{id:"member-branch",value:N.branch,onChange:H=>Ve("branch",H.target.value),required:!0,children:[o.jsx("option",{value:"",children:"Select your branch"}),o.jsx("option",{value:"Computer Science Engineering",children:"Computer Science Engineering"}),o.jsx("option",{value:"Information Technology",children:"Information Technology"}),o.jsx("option",{value:"Electronics & Communication",children:"Electronics & Communication"}),o.jsx("option",{value:"Electrical Engineering",children:"Electrical Engineering"}),o.jsx("option",{value:"Mechanical Engineering",children:"Mechanical Engineering"}),o.jsx("option",{value:"Civil Engineering",children:"Civil Engineering"}),o.jsx("option",{value:"Data Science",children:"Data Science"}),o.jsx("option",{value:"Artificial Intelligence",children:"Artificial Intelligence"}),o.jsx("option",{value:"Cyber Security",children:"Cyber Security"}),o.jsx("option",{value:"Software Engineering",children:"Software Engineering"}),o.jsx("option",{value:"Other",children:"Other"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"member-year",children:"Year of Study *"}),o.jsxs("select",{id:"member-year",value:N.year,onChange:H=>Ve("year",H.target.value),required:!0,children:[o.jsx("option",{value:"",children:"Select year"}),o.jsx("option",{value:"1st Year",children:"1st Year"}),o.jsx("option",{value:"2nd Year",children:"2nd Year"}),o.jsx("option",{value:"3rd Year",children:"3rd Year"}),o.jsx("option",{value:"4th Year",children:"4th Year"}),o.jsx("option",{value:"5th Year",children:"5th Year"}),o.jsx("option",{value:"Graduate",children:"Graduate"}),o.jsx("option",{value:"Post Graduate",children:"Post Graduate"})]})]})]}),o.jsxs("div",{className:"info-card",children:[o.jsx("div",{className:"info-icon",children:"👤"}),o.jsxs("div",{className:"info-content",children:[o.jsx("h4",{children:"Building Your Profile"}),o.jsx("p",{children:"Your personal information helps us match you with the right hives and opportunities. We keep your data secure and use it only to enhance your community experience."})]})]})]}),h===2&&o.jsxs("div",{className:"form-section",children:[o.jsx("h3",{className:"section-title",children:"Academic Information"}),o.jsx("p",{className:"section-description",children:"Share your academic background and technical skills"}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group full-width",children:[o.jsx("label",{htmlFor:"college-name-member",children:"College/University Name *"}),o.jsx("input",{type:"text",id:"college-name-member",value:N.collegeName,onChange:H=>Ve("collegeName",H.target.value),placeholder:"Enter your college or university name",required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"member-cgpa-field",children:"CGPA/Percentage *"}),o.jsx("input",{type:"text",id:"member-cgpa-field",value:N.cgpa,onChange:H=>Ve("cgpa",H.target.value),placeholder:"e.g., 8.5 CGPA or 85%",required:!0})]})]}),o.jsxs("div",{className:"form-group full-width",children:[o.jsx("label",{children:"Technical Skills & Programming Languages *"}),o.jsx("div",{className:"checkbox-grid",children:["JavaScript","Python","Java","C++","C","React","Node.js","Angular","Vue.js","PHP","Go","Rust","Swift","Kotlin","Flutter","React Native","Django","Spring Boot","MySQL","MongoDB","PostgreSQL","AWS","Docker","Git"].map(H=>o.jsxs("label",{className:"checkbox-label",children:[o.jsx("input",{type:"checkbox",checked:N.skills.includes(H),onChange:Re=>{const Ae=[...N.skills];if(Re.target.checked)Ae.push(H);else{const Tt=Ae.indexOf(H);Tt>-1&&Ae.splice(Tt,1)}Ve("skills",Ae)}}),o.jsx("span",{className:"checkbox-text",children:H})]},H))})]}),o.jsxs("div",{className:"highlight-card",children:[o.jsx("div",{className:"highlight-icon",children:"📚"}),o.jsxs("div",{className:"highlight-content",children:[o.jsx("h4",{children:"Academic Excellence Matters"}),o.jsx("p",{children:"Your academic performance and technical skills help us understand your learning journey and match you with relevant opportunities and peers."})]})]})]}),h===3&&o.jsxs("div",{className:"form-section",children:[o.jsx("h3",{className:"section-title",children:"Your Interests"}),o.jsx("p",{className:"section-description",children:"Tell us about your interests and experience with tech events"}),o.jsxs("div",{className:"form-group full-width",children:[o.jsx("label",{children:"Which type of tech events interest you? *"}),o.jsx("div",{className:"checkbox-grid",children:["Hackathons","Technical Workshops","Coding Competitions","Seminars & Webinars","Project Showcases","Career Fairs","Startup Pitches","Open Source Contributions","Study Groups","Mentorship Programs"].map(H=>o.jsxs("label",{className:"checkbox-label",children:[o.jsx("input",{type:"checkbox",checked:N.interestedEvents.includes(H),onChange:Re=>{const Ae=[...N.interestedEvents];if(Re.target.checked)Ae.push(H);else{const Tt=Ae.indexOf(H);Tt>-1&&Ae.splice(Tt,1)}Ve("interestedEvents",Ae)}}),o.jsx("span",{className:"checkbox-text",children:H})]},H))})]}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group full-width",children:[o.jsx("label",{htmlFor:"prior-projects-member",children:"Prior Projects & Technical Work"}),o.jsx("textarea",{id:"prior-projects-member",value:N.priorProjects,onChange:H=>Ve("priorProjects",H.target.value),placeholder:"Describe your personal projects, internships, or technical work (GitHub links, live demos, etc.)",rows:4})]}),o.jsxs("div",{className:"form-group full-width",children:[o.jsx("label",{htmlFor:"event-participation-member",children:"Event Participation History"}),o.jsx("textarea",{id:"event-participation-member",value:N.eventParticipation,onChange:H=>Ve("eventParticipation",H.target.value),placeholder:"Share your experience with hackathons, competitions, workshops, or tech events you've attended",rows:3})]})]}),o.jsxs("div",{className:"info-card",children:[o.jsx("div",{className:"info-icon",children:"🎆"}),o.jsxs("div",{className:"info-content",children:[o.jsx("h4",{children:"Discover Your Tech Community"}),o.jsx("p",{children:"Your interests help us connect you with like-minded peers and relevant events. Whether you're a beginner or experienced, there's a place for everyone!"})]})]})]}),h===4&&o.jsxs("div",{className:"form-section",children:[o.jsx("h3",{className:"section-title",children:"Goals & Additional Information"}),o.jsx("p",{className:"section-description",children:"Help us understand your goals and how you found us"}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"member-linkedin-field",children:"LinkedIn Profile"}),o.jsx("input",{type:"url",id:"member-linkedin-field",value:N.linkedinProfile,onChange:H=>Ve("linkedinProfile",H.target.value),placeholder:"https://linkedin.com/in/your-profile"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"member-github-field",children:"GitHub Profile"}),o.jsx("input",{type:"url",id:"member-github-field",value:N.githubProfile,onChange:H=>Ve("githubProfile",H.target.value),placeholder:"https://github.com/your-username"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"heard-about-member",children:"How did you hear about us? *"}),o.jsxs("select",{id:"heard-about-member",value:N.heardAbout,onChange:H=>Ve("heardAbout",H.target.value),required:!0,children:[o.jsx("option",{value:"",children:"Select an option"}),o.jsx("option",{value:"College/University",children:"College/University"}),o.jsx("option",{value:"Friend/Peer",children:"Friend/Peer"}),o.jsx("option",{value:"Social Media",children:"Social Media"}),o.jsx("option",{value:"Tech Event/Workshop",children:"Tech Event/Workshop"}),o.jsx("option",{value:"Online Search",children:"Online Search"}),o.jsx("option",{value:"Faculty/Professor",children:"Faculty/Professor"}),o.jsx("option",{value:"Career Fair",children:"Career Fair"}),o.jsx("option",{value:"Other",children:"Other"})]})]})]}),o.jsxs("div",{className:"form-group full-width",children:[o.jsx("label",{htmlFor:"hive-selection",children:"Select a Hive to Join *"}),D?o.jsxs("div",{className:"hives-loading",children:[o.jsx("span",{className:"loading-spinner"}),"Loading available hives..."]}):o.jsxs("select",{id:"hive-selection",value:N.selectedHive?.id||"",onChange:H=>{const Re=w.find(Ae=>Ae.id===H.target.value);Ve("selectedHive",Re||null)},required:!0,children:[o.jsx("option",{value:"",children:"Choose a hive to join"}),w.map(H=>o.jsxs("option",{value:H.id,children:[H.hiveName," - ",H.campusName," (",H.memberCount||0,"/",H.expectedAudience," members)"]},H.id))]}),N.selectedHive&&o.jsxs("div",{className:"selected-hive-info",children:[o.jsxs("h4",{children:["🏠 ",N.selectedHive.hiveName]}),o.jsxs("div",{className:"hive-details",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Campus:"})," ",N.selectedHive.campusName]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Location:"})," ",N.selectedHive.campusLocation]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Leader:"})," ",N.selectedHive.creatorName]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Members:"})," ",N.selectedHive.memberCount||0," / ",N.selectedHive.expectedAudience]})]})]}),w.length===0&&!D&&o.jsx("div",{className:"no-hives-available",children:o.jsx("p",{children:"⚠️ No hives are currently accepting new members. Please check back later or contact support."})})]}),o.jsxs("div",{className:"form-group full-width",children:[o.jsx("label",{htmlFor:"main-goal-member",children:"What's your main goal for joining the community? *"}),o.jsx("textarea",{id:"main-goal-member",value:N.mainGoal,onChange:H=>Ve("mainGoal",H.target.value),placeholder:"Tell us what you hope to achieve (e.g., learning new skills, networking, career growth, contributing to projects)",rows:4,required:!0})]}),o.jsxs("div",{className:"subscription-section",children:[o.jsx("h4",{children:"Stay Connected"}),o.jsxs("div",{className:"subscription-card",children:[o.jsxs("div",{className:"subscription-content",children:[o.jsx("h5",{children:"📩 Newsletter Subscription"}),o.jsx("p",{children:"Get the latest updates on tech events, job opportunities, and community highlights delivered to your inbox."}),o.jsxs("ul",{children:[o.jsx("li",{children:"Weekly tech event notifications"}),o.jsx("li",{children:"Job and internship opportunities"}),o.jsx("li",{children:"Community achievements and success stories"}),o.jsx("li",{children:"Exclusive member-only content"})]})]}),o.jsxs("label",{className:"checkbox-label subscription-checkbox",children:[o.jsx("input",{type:"checkbox",checked:N.subscription,onChange:H=>Ve("subscription",H.target.checked)}),o.jsx("span",{className:"checkbox-text",children:"Yes, I want to subscribe to the newsletter and stay updated"})]})]})]}),o.jsxs("div",{className:"terms-section",children:[o.jsx("h4",{children:"Declaration & Terms"}),o.jsxs("div",{className:"declaration-card",children:[o.jsx("p",{children:o.jsx("strong",{children:"By registering as a member, I declare that:"})}),o.jsxs("ul",{children:[o.jsx("li",{children:"All information provided is accurate and truthful"}),o.jsx("li",{children:"I agree to follow community guidelines and code of conduct"}),o.jsx("li",{children:"I will actively participate and contribute positively to the community"}),o.jsx("li",{children:"I understand that membership privileges can be revoked for misconduct"}),o.jsx("li",{children:"I consent to the use of my information for community matching and communication"})]})]}),o.jsxs("label",{className:"checkbox-label terms-checkbox",children:[o.jsx("input",{type:"checkbox",checked:N.termsAccepted,onChange:H=>Ve("termsAccepted",H.target.checked),required:!0}),o.jsx("span",{className:"checkbox-text",children:"I accept the terms and conditions and declare that all information provided is accurate *"})]})]})]})]}),U&&o.jsxs("div",{className:"status-message error-message",children:[o.jsx("div",{className:"status-icon",children:"⚠️"}),o.jsxs("div",{className:"status-content",children:[o.jsx("h4",{children:"Registration Error"}),o.jsx("p",{children:U})]})]}),Z&&o.jsxs("div",{className:"status-message success-message",children:[o.jsx("div",{className:"status-icon",children:"✅"}),o.jsxs("div",{className:"status-content",children:[o.jsx("h4",{children:"Welcome to the Community!"}),o.jsx("p",{children:Z})]})]}),o.jsxs("div",{className:"form-navigation",children:[h>1&&o.jsx("button",{type:"button",className:"nav-btn prev-btn",onClick:se,disabled:C,children:"Previous"}),h<4?o.jsx("button",{type:"button",className:"nav-btn next-btn",onClick:he,disabled:C,children:"Next"}):o.jsx("button",{type:"button",className:"nav-btn submit-btn",onClick:De,disabled:C,children:C?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"loading-spinner"}),"Registering..."]}):"Register"})]})]})]}):null})}):null},bj=({application:i,onApprove:e,onReject:s,isProcessing:r})=>{const[c,h]=le.useState(!1),[f,p]=le.useState(!1),v=async()=>{h(!0);try{await e(i.id,i)}catch(U){console.error("Error approving member:",U)}finally{h(!1)}},y=async()=>{p(!0);try{await s(i.id,i)}catch(U){console.error("Error rejecting member:",U)}finally{p(!1)}},E=U=>U?(U.toDate?U.toDate():new Date(U)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",C=U=>U?U.split(" ").map(L=>L.charAt(0)).join("").toUpperCase().slice(0,2):"?",R=r||c||f;return o.jsxs("div",{className:"member-application-card",children:[o.jsxs("div",{className:"card-header",children:[o.jsx("div",{className:"member-avatar",children:C(i.name)}),o.jsxs("div",{className:"member-info",children:[o.jsx("h3",{className:"member-name",children:i.name||"Unknown Name"}),o.jsx("p",{className:"member-email",children:i.email}),o.jsx("div",{className:"application-meta",children:o.jsxs("span",{className:"application-date",children:["📅 Applied: ",E(i.createdAt)]})})]}),o.jsx("div",{className:"application-status",children:o.jsx("span",{className:"status-badge pending",children:"⏳ Pending"})})]}),o.jsxs("div",{className:"card-content",children:[o.jsxs("div",{className:"info-grid",children:[o.jsxs("div",{className:"info-item",children:[o.jsx("label",{children:"Selected Hive:"}),o.jsxs("span",{className:"info-value hive-name",children:["🏠 ",i.selectedHiveName]})]}),i.mobile&&o.jsxs("div",{className:"info-item",children:[o.jsx("label",{children:"Mobile Number:"}),o.jsxs("span",{className:"info-value",children:["📱 ",i.mobile]})]}),i.course&&o.jsxs("div",{className:"info-item",children:[o.jsx("label",{children:"Course:"}),o.jsxs("span",{className:"info-value",children:["📚 ",i.course]})]}),i.branch&&o.jsxs("div",{className:"info-item",children:[o.jsx("label",{children:"Branch:"}),o.jsxs("span",{className:"info-value",children:["🌱 ",i.branch]})]}),i.year&&o.jsxs("div",{className:"info-item",children:[o.jsx("label",{children:"Year:"}),o.jsxs("span",{className:"info-value",children:["🏅 ",i.year]})]}),i.cgpa&&o.jsxs("div",{className:"info-item",children:[o.jsx("label",{children:"CGPA:"}),o.jsxs("span",{className:"info-value",children:["📊 ",i.cgpa]})]})]}),i.mainGoal&&o.jsxs("div",{className:"motivation-section",children:[o.jsx("label",{children:"Main Goal:"}),o.jsxs("p",{className:"motivation-text",children:['"',i.mainGoal,'"']})]}),i.priorProjects&&o.jsxs("div",{className:"additional-info-section",children:[o.jsx("label",{children:"Prior Projects:"}),o.jsx("p",{className:"additional-info-text",children:i.priorProjects})]}),i.skills&&i.skills.length>0&&o.jsxs("div",{className:"additional-info-section",children:[o.jsx("label",{children:"Technical Skills:"}),o.jsx("p",{className:"additional-info-text",children:i.skills.join(", ")})]})]}),o.jsxs("div",{className:"card-actions",children:[o.jsx("button",{className:"reject-btn",onClick:y,disabled:R,children:f?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"spinner"}),"Rejecting..."]}):o.jsx(o.Fragment,{children:"❌ Reject"})}),o.jsx("button",{className:"approve-btn",onClick:v,disabled:R,children:c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"spinner"}),"Approving..."]}):o.jsx(o.Fragment,{children:"✅ Approve & Generate Credentials"})})]})]})},Ej=({credentials:i,memberData:e,onClose:s})=>{const[r,c]=le.useState(null),[h,f]=le.useState(!1),p=async(y,E)=>{try{await navigator.clipboard.writeText(y),c(E),setTimeout(()=>c(null),2e3)}catch(C){console.error("Failed to copy text: ",C)}},v=async()=>{const y=`
Member Login Credentials for ${e.fullName||e.name}
==========================================
Hive: ${e.selectedHive||e.selectedHiveName}
Email: ${i.email}
Password: ${i.password}
Generated: ${new Date(i.generatedAt).toLocaleString()}

Please share these credentials securely with the member.
The member can use these to access their dashboard.
    `.trim();try{await navigator.clipboard.writeText(y),c("all"),setTimeout(()=>c(null),2e3)}catch(E){console.error("Failed to copy credentials: ",E)}};return o.jsx("div",{className:"modal-overlay",children:o.jsxs("div",{className:"member-credentials-modal",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:"🎉 Member Approved Successfully!"}),o.jsx("button",{onClick:s,className:"close-btn",children:"✕"})]}),o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"success-message",children:[o.jsxs("div",{className:"member-info",children:[o.jsx("div",{className:"member-avatar",children:"👥"}),o.jsxs("div",{className:"member-details",children:[o.jsx("h3",{children:e.fullName||e.name}),o.jsxs("p",{className:"hive-name",children:["🏠 Approved to join ",e.selectedHive||e.selectedHiveName]})]})]}),o.jsx("p",{className:"instructions",children:"Member login credentials have been generated and stored securely. Please share these credentials with the new member:"})]}),o.jsxs("div",{className:"credentials-container",children:[o.jsxs("div",{className:"credential-field",children:[o.jsx("label",{children:"Email Address"}),o.jsxs("div",{className:"input-with-copy",children:[o.jsx("input",{type:"text",value:i.email,readOnly:!0,className:"credential-input"}),o.jsx("button",{onClick:()=>p(i.email,"email"),className:"copy-btn",title:"Copy email",children:r==="email"?"✓":"📋"})]})]}),o.jsxs("div",{className:"credential-field",children:[o.jsx("label",{children:"Password"}),o.jsxs("div",{className:"input-with-copy",children:[o.jsx("input",{type:h?"text":"password",value:i.password,readOnly:!0,className:"credential-input"}),o.jsxs("div",{className:"input-actions",children:[o.jsx("button",{onClick:()=>f(!h),className:"toggle-password-btn",title:h?"Hide password":"Show password",children:h?"🙈":"👁️"}),o.jsx("button",{onClick:()=>p(i.password,"password"),className:"copy-btn",title:"Copy password",children:r==="password"?"✓":"📋"})]})]})]}),o.jsxs("div",{className:"credential-field",children:[o.jsx("label",{children:"Generated"}),o.jsx("div",{className:"generated-date",children:new Date(i.generatedAt).toLocaleString()})]})]}),o.jsx("div",{className:"modal-actions",children:o.jsx("button",{onClick:v,className:"copy-all-btn",children:r==="all"?o.jsx(o.Fragment,{children:"✓ All Credentials Copied!"}):o.jsx(o.Fragment,{children:"📋 Copy All Credentials"})})}),o.jsxs("div",{className:"member-notice",children:[o.jsx("p",{children:o.jsx("strong",{children:"📧 Next Steps:"})}),o.jsxs("ul",{children:[o.jsxs("li",{children:["Share these credentials securely with ",e.fullName||e.name]}),o.jsx("li",{children:"The member can now log in using these credentials"}),o.jsx("li",{children:"Member will have access to the hive dashboard and activities"}),o.jsx("li",{children:"Credentials are stored securely in the database for reference"}),o.jsx("li",{children:"Consider sending a welcome message to introduce them to the hive"})]})]})]})]})})},xj=({hive:i})=>{const[e,s]=le.useState([]),[r,c]=le.useState(!0),[h,f]=le.useState(""),[p,v]=le.useState("name"),[y,E]=le.useState("");le.useEffect(()=>{if(!i?.hiveName)return;c(!0),E("");const L=Ye(Se(ve,"members_approved"),Pe("selectedHiveName","==",i.hiveName)),Z=Km(L,K=>{const fe=K.docs.map(ie=>({id:ie.id,...ie.data()}));s(fe),c(!1)},K=>{console.error("Error fetching approved members:",K),E("Failed to load approved members. Please try again."),c(!1)});return()=>Z()},[i?.hiveName]);const C=e.filter(L=>{if(!h)return!0;const Z=h.toLowerCase();return L.name?.toLowerCase().includes(Z)||L.email?.toLowerCase().includes(Z)||L.course?.toLowerCase().includes(Z)||L.branch?.toLowerCase().includes(Z)}).sort((L,Z)=>{switch(p){case"name":return(L.name||"").localeCompare(Z.name||"");case"date":return new Date(Z.approvedAt||0)-new Date(L.approvedAt||0);case"course":return(L.course||"").localeCompare(Z.course||"");case"year":return(L.year||"").localeCompare(Z.year||"");default:return 0}}),R=L=>L?L.split(" ").map(Z=>Z.charAt(0)).join("").toUpperCase().slice(0,2):"?",U=L=>L?new Date(L).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return r?o.jsxs("div",{className:"approved-members-list",children:[o.jsxs("div",{className:"approved-members-header",children:[o.jsx("h2",{children:"👥 Approved Members"}),o.jsxs("p",{children:["Active members in ",o.jsx("span",{className:"hive-highlight",children:i?.hiveName})]})]}),o.jsxs("div",{className:"loading-container",children:[o.jsx("div",{className:"loading-spinner"}),o.jsx("p",{children:"Loading approved members..."})]})]}):o.jsxs("div",{className:"approved-members-list",children:[o.jsxs("div",{className:"approved-members-header",children:[o.jsxs("div",{className:"header-content",children:[o.jsx("h2",{children:"👥 Approved Members"}),o.jsxs("p",{children:["Active members in ",o.jsx("span",{className:"hive-highlight",children:i?.hiveName})]})]}),o.jsxs("div",{className:"member-stats-summary",children:[o.jsxs("div",{className:"stat-item",children:[o.jsx("div",{className:"stat-number",children:e.length}),o.jsx("div",{className:"stat-label",children:"Active Members"})]}),o.jsxs("div",{className:"stat-item",children:[o.jsx("div",{className:"stat-number",children:C.length}),o.jsx("div",{className:"stat-label",children:"Displayed"})]})]})]}),o.jsxs("div",{className:"members-controls",children:[o.jsxs("div",{className:"search-container",children:[o.jsx("input",{type:"text",placeholder:"Search members by name, email, course, or branch...",value:h,onChange:L=>f(L.target.value),className:"search-input"}),o.jsx("span",{className:"search-icon",children:"🔍"})]}),o.jsxs("div",{className:"sort-container",children:[o.jsx("label",{children:"Sort by:"}),o.jsxs("select",{value:p,onChange:L=>v(L.target.value),className:"sort-select",children:[o.jsx("option",{value:"name",children:"Name"}),o.jsx("option",{value:"date",children:"Join Date"}),o.jsx("option",{value:"course",children:"Course"}),o.jsx("option",{value:"year",children:"Year"})]})]})]}),y&&o.jsxs("div",{className:"error-banner",children:[o.jsx("span",{className:"error-icon",children:"⚠️"}),y,o.jsx("button",{onClick:()=>E(""),className:"dismiss-btn","aria-label":"Dismiss error",children:"✕"})]}),o.jsxs("div",{className:"members-section",children:[o.jsxs("div",{className:"section-header",children:[o.jsxs("h3",{children:["Active Members",o.jsxs("span",{className:"count",children:["(",C.length,")"]})]}),h&&o.jsx("button",{onClick:()=>f(""),className:"clear-search-btn",children:"Clear search"})]}),C.length===0?o.jsxs("div",{className:"empty-state",children:[o.jsx("div",{className:"empty-icon",children:"👥"}),o.jsx("h3",{children:e.length===0?"No approved members yet":"No members match your search"}),o.jsx("p",{children:e.length===0?`No members have been approved for ${i?.hiveName} yet. Approved members will appear here.`:"Try adjusting your search term to see more members."}),h&&o.jsx("button",{onClick:()=>f(""),className:"secondary-btn",children:"Clear search"})]}):o.jsx("div",{className:"members-grid",children:C.map(L=>o.jsxs("div",{className:"member-card",children:[o.jsxs("div",{className:"member-header",children:[o.jsx("div",{className:"member-avatar",children:R(L.name)}),o.jsxs("div",{className:"member-basic-info",children:[o.jsx("h3",{className:"member-name",children:L.name}),o.jsx("p",{className:"member-email",children:L.email}),o.jsx("div",{className:"member-meta",children:o.jsxs("span",{className:"join-date",children:["📅 Joined: ",U(L.approvedAt)]})})]}),o.jsx("div",{className:"member-status",children:o.jsx("span",{className:"status-badge active",children:"✅ Active"})})]}),o.jsxs("div",{className:"member-details",children:[o.jsxs("div",{className:"details-grid",children:[L.course&&o.jsxs("div",{className:"detail-item",children:[o.jsx("label",{children:"Course:"}),o.jsxs("span",{children:["📚 ",L.course]})]}),L.branch&&o.jsxs("div",{className:"detail-item",children:[o.jsx("label",{children:"Branch:"}),o.jsxs("span",{children:["🌱 ",L.branch]})]}),L.year&&o.jsxs("div",{className:"detail-item",children:[o.jsx("label",{children:"Year:"}),o.jsxs("span",{children:["🏅 ",L.year]})]}),L.cgpa&&o.jsxs("div",{className:"detail-item",children:[o.jsx("label",{children:"CGPA:"}),o.jsxs("span",{children:["📊 ",L.cgpa]})]}),L.mobile&&o.jsxs("div",{className:"detail-item",children:[o.jsx("label",{children:"Mobile:"}),o.jsxs("span",{children:["📱 ",L.mobile]})]})]}),L.skills&&L.skills.length>0&&o.jsxs("div",{className:"skills-section",children:[o.jsx("label",{children:"Technical Skills:"}),o.jsx("div",{className:"skills-tags",children:L.skills.map((Z,K)=>o.jsx("span",{className:"skill-tag",children:Z},K))})]}),L.mainGoal&&o.jsxs("div",{className:"goal-section",children:[o.jsx("label",{children:"Main Goal:"}),o.jsxs("p",{className:"goal-text",children:['"',L.mainGoal,'"']})]})]})]},L.id))})]})]})},L_=({hive:i,mode:e="applications"})=>{const[s,r]=le.useState([]),[c,h]=le.useState(!0),[f,p]=le.useState(null),[v,y]=le.useState("all"),[E,C]=le.useState(""),[R,U]=le.useState(!1),[L,Z]=le.useState(null),[K,fe]=le.useState(null),[ie,k]=le.useState(""),[ae,J]=le.useState({total:0,pending:0,approved:0,rejected:0});if(le.useEffect(()=>{if(!i?.hiveName||e!=="applications")return;h(!0),k("");const S=Ye(Se(ve,"members"),Pe("selectedHiveName","==",i.hiveName));Ye(Se(ve,"members_approved"),Pe("selectedHiveName","==",i.hiveName)),Ye(Se(ve,"members_rejected"),Pe("selectedHiveName","==",i.hiveName));const V=Km(S,Me=>{const $e=Me.docs.map(Y=>({id:Y.id,...Y.data()}));$e.sort((Y,ce)=>{const ge=new Date(Y.createdAt||0);return new Date(ce.createdAt||0)-ge}),r($e),h(!1)},Me=>{console.error("Error fetching applications:",Me),k("Failed to load member applications. Please try again."),h(!1)});return(async()=>{try{const $e=(await Ca.getApprovedMembers(i.hiveName)).size,ce=(await Ca.getRejectedMembers(i.hiveName)).size;J(ge=>({...ge,approved:$e,rejected:ce}))}catch(Me){console.error("Error fetching stats:",Me)}})(),()=>V()},[i?.hiveName,e]),e==="members")return o.jsx(xj,{hive:i});le.useEffect(()=>{J(S=>({...S,pending:s.length,total:S.approved+S.rejected+s.length}))},[s,ae.approved,ae.rejected]);const re=s.filter(S=>{if(!(!E||S.name?.toLowerCase().includes(E.toLowerCase())||S.email?.toLowerCase().includes(E.toLowerCase())||S.course?.toLowerCase().includes(E.toLowerCase())||S.branch?.toLowerCase().includes(E.toLowerCase())))return!1;if(v==="all")return!0;const N=S.createdAt?new Date(S.createdAt):new Date,$e=Math.abs(new Date-N),Y=Math.ceil($e/(1e3*60*60*24));switch(v){case"recent":return Y<=3;case"thisWeek":return Y<=7;case"thisMonth":return Y<=30;default:return!0}}),w=async(S,V)=>{p(S);try{const N=await Ca.approveMember(S,V);Z(N),fe(V),U(!0),r(Me=>Me.filter($e=>$e.id!==S))}catch(N){console.error("Error approving member:",N),k("Failed to approve member. Please try again.")}finally{p(null)}},A=async(S,V)=>{p(S);try{await Ca.rejectMember(S,V),r(N=>N.filter(Me=>Me.id!==S))}catch(N){console.error("Error rejecting member:",N),k("Failed to reject member. Please try again.")}finally{p(null)}},D=()=>{U(!1),Z(null),fe(null)},j=S=>{switch(S){case"recent":return"Last 3 Days";case"thisWeek":return"This Week";case"thisMonth":return"This Month";default:return"All Applications"}};return c?o.jsxs("div",{className:"member-management",children:[o.jsxs("div",{className:"member-management-header",children:[o.jsx("h2",{children:"👥 Member Applications"}),o.jsxs("p",{children:["Managing applications for ",o.jsx("span",{className:"hive-highlight",children:i?.hiveName})]})]}),o.jsxs("div",{className:"loading-container",children:[o.jsx("div",{className:"loading-spinner"}),o.jsx("p",{children:"Loading member applications..."})]})]}):o.jsxs("div",{className:"member-management",children:[o.jsxs("div",{className:"member-management-header",children:[o.jsxs("div",{className:"header-content",children:[o.jsx("h2",{children:"👥 Member Applications"}),o.jsxs("p",{children:["Managing applications for ",o.jsx("span",{className:"hive-highlight",children:i?.hiveName})]})]}),o.jsxs("div",{className:"stats-grid",children:[o.jsxs("div",{className:"stat-card total",children:[o.jsx("div",{className:"stat-number",children:ae.total}),o.jsx("div",{className:"stat-label",children:"Total Applications"})]}),o.jsxs("div",{className:"stat-card pending",children:[o.jsx("div",{className:"stat-number",children:ae.pending}),o.jsx("div",{className:"stat-label",children:"Pending Review"})]}),o.jsxs("div",{className:"stat-card approved",children:[o.jsx("div",{className:"stat-number",children:ae.approved}),o.jsx("div",{className:"stat-label",children:"Approved"})]}),o.jsxs("div",{className:"stat-card rejected",children:[o.jsx("div",{className:"stat-number",children:ae.rejected}),o.jsx("div",{className:"stat-label",children:"Rejected"})]})]})]}),o.jsxs("div",{className:"management-controls",children:[o.jsxs("div",{className:"search-container",children:[o.jsx("input",{type:"text",placeholder:"Search by name, email, course, or branch...",value:E,onChange:S=>C(S.target.value),className:"search-input"}),o.jsx("span",{className:"search-icon",children:"🔍"})]}),o.jsxs("div",{className:"filter-container",children:[o.jsx("label",{children:"Filter by:"}),o.jsxs("select",{value:v,onChange:S=>y(S.target.value),className:"filter-select",children:[o.jsx("option",{value:"all",children:"All Applications"}),o.jsx("option",{value:"recent",children:"Last 3 Days"}),o.jsx("option",{value:"thisWeek",children:"This Week"}),o.jsx("option",{value:"thisMonth",children:"This Month"})]})]})]}),ie&&o.jsxs("div",{className:"error-banner",children:[o.jsx("span",{className:"error-icon",children:"⚠️"}),ie,o.jsx("button",{onClick:()=>k(""),className:"dismiss-btn","aria-label":"Dismiss error",children:"✕"})]}),o.jsxs("div",{className:"applications-section",children:[o.jsxs("div",{className:"section-header",children:[o.jsxs("h3",{children:[j(v),o.jsxs("span",{className:"count",children:["(",re.length,")"]})]}),E&&o.jsx("button",{onClick:()=>C(""),className:"clear-search-btn",children:"Clear search"})]}),re.length===0?o.jsxs("div",{className:"empty-state",children:[o.jsx("div",{className:"empty-icon",children:"📭"}),o.jsx("h3",{children:s.length===0?"No member applications yet":"No applications match your filters"}),o.jsx("p",{children:s.length===0?`No one has applied to join ${i?.hiveName} yet. Applications will appear here when submitted.`:"Try adjusting your search term or date filter to see more applications."}),E&&o.jsx("button",{onClick:()=>C(""),className:"secondary-btn",children:"Clear search"})]}):o.jsx("div",{className:"applications-grid",children:re.map(S=>o.jsx(bj,{application:S,onApprove:w,onReject:A,isProcessing:f===S.id},S.id))})]}),R&&L&&K&&o.jsx("div",{className:"modal-overlay",children:o.jsx(Ej,{credentials:L,memberData:K,onClose:D})})]})},Tj=({isOpen:i,onClose:e,onSubmit:s,hive:r})=>{const[c,h]=le.useState({eventName:"",eventType:"",eventDescription:"",timeline:"",campus:"",venue:"",duration:"",startDate:"",startTime:"",endDate:"",endTime:"",maxParticipants:"",registrationFees:"",numberOfVolunteers:"",prerequisites:"",estimatedBudget:"",budgetBreakdown:"",sponsorshipNeeded:!1,additionalNotes:""}),[f,p]=le.useState({}),[v,y]=le.useState(!1),E=U=>{const{name:L,value:Z,type:K,checked:fe}=U.target;h(ie=>({...ie,[L]:K==="checkbox"?fe:Z})),f[L]&&p(ie=>({...ie,[L]:""}))},C=()=>{const U={};return c.eventName.trim()||(U.eventName="Event name is required"),c.eventType||(U.eventType="Event type is required"),c.campus.trim()||(U.campus="Campus location is required"),c.startDate||(U.startDate="Start date is required"),c.startTime||(U.startTime="Start time is required"),c.duration||(U.duration="Duration is required"),(!c.maxParticipants||c.maxParticipants<=0)&&(U.maxParticipants="Valid number of participants is required"),(!c.estimatedBudget||c.estimatedBudget<0)&&(U.estimatedBudget="Valid budget estimate is required"),c.startDate&&c.endDate&&c.endDate<c.startDate&&(U.endDate="End date cannot be before start date"),c.startDate&&c.endDate&&c.startDate===c.endDate&&c.startTime&&c.endTime&&c.endTime<=c.startTime&&(U.endTime="End time must be after start time"),U},R=async U=>{U.preventDefault();const L=C();if(Object.keys(L).length>0){p(L);return}y(!0);try{const Z={...c,hiveName:r.hiveName,hiveId:r.id||r.hiveName,creatorName:r.creatorName,creatorEmail:r.email,status:"draft",approvalStatus:"pending",adminComments:"",approvedAt:null,approvedBy:null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await s(Z),e(),h({eventName:"",eventType:"",eventDescription:"",timeline:"",campus:"",venue:"",duration:"",startDate:"",startTime:"",endDate:"",endTime:"",maxParticipants:"",registrationFees:"",numberOfVolunteers:"",prerequisites:"",estimatedBudget:"",budgetBreakdown:"",sponsorshipNeeded:!1,additionalNotes:""}),p({})}catch(Z){console.error("Error creating event:",Z),alert("Failed to create event. Please try again.")}finally{y(!1)}};return i?o.jsx("div",{className:"event-modal-overlay",onClick:e,children:o.jsxs("div",{className:"event-modal",onClick:U=>U.stopPropagation(),children:[o.jsxs("div",{className:"event-modal-header",children:[o.jsx("h2",{children:"🎉 Create New Event"}),o.jsx("button",{className:"close-btn",onClick:e,children:"×"})]}),o.jsxs("form",{className:"event-form",onSubmit:R,children:[o.jsxs("div",{className:"form-section",children:[o.jsx("h3",{children:"📋 Event Information"}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"eventName",children:"Event Name *"}),o.jsx("input",{type:"text",id:"eventName",name:"eventName",value:c.eventName,onChange:E,placeholder:"Enter event name",className:f.eventName?"error":""}),f.eventName&&o.jsx("span",{className:"error-text",children:f.eventName})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"eventType",children:"Event Type *"}),o.jsxs("select",{id:"eventType",name:"eventType",value:c.eventType,onChange:E,className:f.eventType?"error":"",children:[o.jsx("option",{value:"",children:"Select event type"}),o.jsx("option",{value:"workshop",children:"Workshop"}),o.jsx("option",{value:"seminar",children:"Seminar"}),o.jsx("option",{value:"hackathon",children:"Hackathon"}),o.jsx("option",{value:"networking",children:"Networking Event"}),o.jsx("option",{value:"competition",children:"Competition"}),o.jsx("option",{value:"conference",children:"Conference"}),o.jsx("option",{value:"social",children:"Social Gathering"}),o.jsx("option",{value:"training",children:"Training Session"}),o.jsx("option",{value:"other",children:"Other"})]}),f.eventType&&o.jsx("span",{className:"error-text",children:f.eventType})]})]}),o.jsxs("div",{className:"form-group full-width",children:[o.jsx("label",{htmlFor:"eventDescription",children:"Event Description"}),o.jsx("textarea",{id:"eventDescription",name:"eventDescription",value:c.eventDescription,onChange:E,placeholder:"Describe your event, its objectives, and what participants can expect...",rows:"3"})]}),o.jsxs("div",{className:"form-group full-width",children:[o.jsx("label",{htmlFor:"timeline",children:"Event Timeline/Agenda"}),o.jsx("textarea",{id:"timeline",name:"timeline",value:c.timeline,onChange:E,placeholder:"Provide a detailed schedule or timeline for the event...",rows:"3"})]})]}),o.jsxs("div",{className:"form-section",children:[o.jsx("h3",{children:"📍 Venue & Schedule"}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"campus",children:"Campus/Location *"}),o.jsx("input",{type:"text",id:"campus",name:"campus",value:c.campus,onChange:E,placeholder:"Which campus or location?",className:f.campus?"error":""}),f.campus&&o.jsx("span",{className:"error-text",children:f.campus})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"venue",children:"Specific Venue"}),o.jsx("input",{type:"text",id:"venue",name:"venue",value:c.venue,onChange:E,placeholder:"Room/Hall/Building name"})]})]}),o.jsx("div",{className:"form-row",children:o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"duration",children:"Duration *"}),o.jsxs("select",{id:"duration",name:"duration",value:c.duration,onChange:E,className:f.duration?"error":"",children:[o.jsx("option",{value:"",children:"Select duration"}),o.jsx("option",{value:"1 hour",children:"1 hour"}),o.jsx("option",{value:"2 hours",children:"2 hours"}),o.jsx("option",{value:"3 hours",children:"3 hours"}),o.jsx("option",{value:"Half day (4 hours)",children:"Half day (4 hours)"}),o.jsx("option",{value:"Full day (8 hours)",children:"Full day (8 hours)"}),o.jsx("option",{value:"2 days",children:"2 days"}),o.jsx("option",{value:"3 days",children:"3 days"}),o.jsx("option",{value:"1 week",children:"1 week"}),o.jsx("option",{value:"Custom",children:"Custom"})]}),f.duration&&o.jsx("span",{className:"error-text",children:f.duration})]})}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"startDate",children:"Start Date *"}),o.jsx("input",{type:"date",id:"startDate",name:"startDate",value:c.startDate,onChange:E,min:new Date().toISOString().split("T")[0],className:f.startDate?"error":""}),f.startDate&&o.jsx("span",{className:"error-text",children:f.startDate})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"startTime",children:"Start Time *"}),o.jsx("input",{type:"time",id:"startTime",name:"startTime",value:c.startTime,onChange:E,className:f.startTime?"error":""}),f.startTime&&o.jsx("span",{className:"error-text",children:f.startTime})]})]}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"endDate",children:"End Date"}),o.jsx("input",{type:"date",id:"endDate",name:"endDate",value:c.endDate,onChange:E,min:c.startDate||new Date().toISOString().split("T")[0],className:f.endDate?"error":""}),f.endDate&&o.jsx("span",{className:"error-text",children:f.endDate})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"endTime",children:"End Time"}),o.jsx("input",{type:"time",id:"endTime",name:"endTime",value:c.endTime,onChange:E,className:f.endTime?"error":""}),f.endTime&&o.jsx("span",{className:"error-text",children:f.endTime})]})]})]}),o.jsxs("div",{className:"form-section",children:[o.jsx("h3",{children:"👥 Participation Details"}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"maxParticipants",children:"Maximum Participants *"}),o.jsx("input",{type:"number",id:"maxParticipants",name:"maxParticipants",value:c.maxParticipants,onChange:E,placeholder:"Enter maximum number",min:"1",className:f.maxParticipants?"error":""}),f.maxParticipants&&o.jsx("span",{className:"error-text",children:f.maxParticipants})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"registrationFees",children:"Registration Fees (₹)"}),o.jsx("input",{type:"number",id:"registrationFees",name:"registrationFees",value:c.registrationFees,onChange:E,placeholder:"Enter amount (0 for free)",min:"0",step:"0.01"})]})]}),o.jsx("div",{className:"form-row",children:o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"numberOfVolunteers",children:"Number of Volunteers Needed"}),o.jsx("input",{type:"number",id:"numberOfVolunteers",name:"numberOfVolunteers",value:c.numberOfVolunteers,onChange:E,placeholder:"Enter number needed",min:"0"})]})}),o.jsxs("div",{className:"form-group full-width",children:[o.jsx("label",{htmlFor:"prerequisites",children:"Prerequisites/Requirements"}),o.jsx("textarea",{id:"prerequisites",name:"prerequisites",value:c.prerequisites,onChange:E,placeholder:"Any specific skills, equipment, or requirements for participants...",rows:"2"})]})]}),o.jsxs("div",{className:"form-section",children:[o.jsx("h3",{children:"💰 Budget & Planning"}),o.jsx("div",{className:"form-row",children:o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"estimatedBudget",children:"Estimated Budget (₹) *"}),o.jsx("input",{type:"number",id:"estimatedBudget",name:"estimatedBudget",value:c.estimatedBudget,onChange:E,placeholder:"Total estimated cost",min:"0",step:"0.01",className:f.estimatedBudget?"error":""}),f.estimatedBudget&&o.jsx("span",{className:"error-text",children:f.estimatedBudget})]})}),o.jsxs("div",{className:"form-group full-width",children:[o.jsx("label",{htmlFor:"budgetBreakdown",children:"Budget Breakdown"}),o.jsx("textarea",{id:"budgetBreakdown",name:"budgetBreakdown",value:c.budgetBreakdown,onChange:E,placeholder:"Break down the budget: venue costs, refreshments, materials, speaker fees, etc.",rows:"3"})]}),o.jsx("div",{className:"form-group checkbox-group",children:o.jsxs("label",{className:"checkbox-label",children:[o.jsx("input",{type:"checkbox",name:"sponsorshipNeeded",checked:c.sponsorshipNeeded,onChange:E}),o.jsx("span",{className:"checkmark"}),"Sponsorship or external funding needed"]})}),o.jsxs("div",{className:"form-group full-width",children:[o.jsx("label",{htmlFor:"additionalNotes",children:"Additional Notes"}),o.jsx("textarea",{id:"additionalNotes",name:"additionalNotes",value:c.additionalNotes,onChange:E,placeholder:"Any additional information, special requirements, or notes...",rows:"2"})]})]}),o.jsxs("div",{className:"form-actions",children:[o.jsx("button",{type:"button",className:"cancel-btn",onClick:e,disabled:v,children:"Cancel"}),o.jsx("button",{type:"submit",className:"submit-btn",disabled:v,children:v?"Creating Event...":"Create Event"})]})]})]})}):null},No={async createEvent(i){try{console.log("🎉 Creating new event:",i.eventName);const e={...i,createdAt:ps(),updatedAt:ps(),status:i.status||"draft",registrationFees:i.registrationFees||0,numberOfVolunteers:i.numberOfVolunteers||0,sponsorshipNeeded:i.sponsorshipNeeded||!1},s=await rh(Se(ve,"events"),e);return console.log("✅ Event created successfully with ID:",s.id),{id:s.id,...e}}catch(e){throw console.error("💥 Error creating event:",e),new Error(`Failed to create event: ${e.message}`)}},async getAllEvents(){try{console.log("📋 Fetching all events...");const i=Ye(Se(ve,"events"),Vu("createdAt","desc")),s=(await Ze(i)).docs.map(r=>({id:r.id,...r.data()}));return console.log(`✅ Retrieved ${s.length} events`),s}catch(i){throw console.error("💥 Error fetching events:",i),new Error(`Failed to fetch events: ${i.message}`)}},async getEventsByHive(i){try{console.log("🏠 Fetching events for hive:",i);const e=Ye(Se(ve,"events"),Pe("hiveName","==",i)),c=(await Ze(e)).docs.map(h=>({id:h.id,...h.data()})).sort((h,f)=>{const p=h.createdAt?.toDate?.()||new Date(h.createdAt||0);return(f.createdAt?.toDate?.()||new Date(f.createdAt||0))-p});return console.log(`✅ Retrieved ${c.length} events for ${i}`),c}catch(e){throw console.error("💥 Error fetching hive events:",e),new Error(`Failed to fetch hive events: ${e.message}`)}},async getEventsByHiveSimple(i){try{console.log("🏠 Fetching events for hive (simple):",i);const c=(await Ze(Se(ve,"events"))).docs.map(h=>({id:h.id,...h.data()})).filter(h=>h.hiveName===i).sort((h,f)=>{const p=h.createdAt?.toDate?.()||new Date(h.createdAt||0);return(f.createdAt?.toDate?.()||new Date(f.createdAt||0))-p});return console.log(`✅ Retrieved ${c.length} events for ${i} (simple)`),c}catch(e){throw console.error("💥 Error fetching hive events (simple):",e),new Error(`Failed to fetch hive events (simple): ${e.message}`)}},async getEventsByStatus(i){try{console.log("📊 Fetching events with status:",i);const e=Ye(Se(ve,"events"),Pe("status","==",i)),c=(await Ze(e)).docs.map(h=>({id:h.id,...h.data()})).sort((h,f)=>{const p=h.createdAt?.toDate?.()||new Date(h.createdAt||0);return(f.createdAt?.toDate?.()||new Date(f.createdAt||0))-p});return console.log(`✅ Retrieved ${c.length} ${i} events`),c}catch(e){throw console.error("💥 Error fetching events by status:",e),new Error(`Failed to fetch events by status: ${e.message}`)}},async getUpcomingEvents(){try{console.log("🔮 Fetching upcoming events...");const i=new Date().toISOString().split("T")[0],e=Ye(Se(ve,"events"),Pe("startDate",">=",i),Vu("startDate","asc")),r=(await Ze(e)).docs.map(c=>({id:c.id,...c.data()}));return console.log(`✅ Retrieved ${r.length} upcoming events`),r}catch(i){throw console.error("💥 Error fetching upcoming events:",i),new Error(`Failed to fetch upcoming events: ${i.message}`)}},async updateEvent(i,e){try{console.log("✏️ Updating event:",i);const s=yn(ve,"events",i),r={...e,updatedAt:ps()};return await Ou(s,r),console.log("✅ Event updated successfully"),!0}catch(s){throw console.error("💥 Error updating event:",s),new Error(`Failed to update event: ${s.message}`)}},async deleteEvent(i){try{console.log("🗑️ Deleting event:",i);const e=yn(ve,"events",i);return await J1(e),console.log("✅ Event deleted successfully"),!0}catch(e){throw console.error("💥 Error deleting event:",e),new Error(`Failed to delete event: ${e.message}`)}},async updateEventStatus(i,e){try{console.log("🔄 Updating event status:",i,"to",e);const s=yn(ve,"events",i);return await Ou(s,{status:e,updatedAt:ps()}),console.log("✅ Event status updated successfully"),!0}catch(s){throw console.error("💥 Error updating event status:",s),new Error(`Failed to update event status: ${s.message}`)}},async getEventsForMember(i){try{console.log("👥 Fetching events for member of hive:",i);const c=(await Ze(Se(ve,"events"))).docs.map(h=>({id:h.id,...h.data()})).filter(h=>{const f=h.hiveName===i,p=!h.hiveName||h.hiveName==="admin"||h.organizerType==="admin";return f||p}).sort((h,f)=>{const p=h.createdAt?.toDate?.()||new Date(h.createdAt||0);return(f.createdAt?.toDate?.()||new Date(f.createdAt||0))-p});return console.log(`✅ Retrieved ${c.length} events for member (${i} hive + admin events)`),c}catch(e){throw console.error("💥 Error fetching member events:",e),new Error(`Failed to fetch member events: ${e.message}`)}},async getUpcomingEventsForMember(i){try{console.log("🔮 Fetching upcoming events for member of hive:",i);const e=new Date().toISOString().split("T")[0],c=(await this.getEventsForMember(i)).filter(h=>h.startDate>=e&&(h.status==="active"||h.status==="approved")).sort((h,f)=>{const p=new Date(h.startDate),v=new Date(f.startDate);return p-v});return console.log(`✅ Retrieved ${c.length} upcoming events for member`),c}catch(e){throw console.error("💥 Error fetching upcoming member events:",e),new Error(`Failed to fetch upcoming member events: ${e.message}`)}},async getEventStatistics(i=null){try{console.log("📊 Fetching event statistics...");let e;i?e=Ye(Se(ve,"events"),Pe("hiveName","==",i)):e=Se(ve,"events");const r=(await Ze(e)).docs.map(h=>({id:h.id,...h.data()})),c={total:r.length,draft:r.filter(h=>h.status==="draft").length,active:r.filter(h=>h.status==="active").length,completed:r.filter(h=>h.status==="completed").length,cancelled:r.filter(h=>h.status==="cancelled").length,upcoming:r.filter(h=>{const f=new Date().toISOString().split("T")[0];return h.startDate>=f}).length};return console.log("✅ Event statistics calculated:",c),c}catch(e){throw console.error("💥 Error fetching event statistics:",e),new Error(`Failed to fetch event statistics: ${e.message}`)}}},Aj=({hive:i,onCreateEvent:e})=>{const[s,r]=le.useState([]),[c,h]=le.useState(!0),[f,p]=le.useState(""),[v,y]=le.useState("all"),[E,C]=le.useState({total:0,draft:0,active:0,completed:0,cancelled:0,pending:0,approved:0,rejected:0});le.useEffect(()=>{if(!i?.hiveName){h(!1);return}console.log("📋 Setting up real-time listener for hive events:",i.hiveName),h(!0);const k=Ye(Se(ve,"events"),Pe("hiveName","==",i.hiveName)),ae=Km(k,J=>{try{const re=J.docs.map(A=>({id:A.id,...A.data(),approvalStatus:A.data().approvalStatus||"pending"}));console.log(`✅ Real-time update: ${re.length} events for ${i.hiveName}`),r(re);const w={total:re.length,draft:re.filter(A=>A.status==="draft").length,active:re.filter(A=>A.status==="active").length,completed:re.filter(A=>A.status==="completed").length,cancelled:re.filter(A=>A.status==="cancelled").length,pending:re.filter(A=>(A.approvalStatus||"pending")==="pending").length,approved:re.filter(A=>A.approvalStatus==="approved").length,rejected:re.filter(A=>A.approvalStatus==="rejected").length};C(w),console.log("📊 Event statistics updated:",w),p(""),h(!1)}catch(re){console.error("💥 Error processing events snapshot:",re),p("Failed to load events. Please try again."),h(!1)}},J=>{console.error("💥 Error with events listener:",J),p("Failed to load events. Please check your connection."),h(!1)});return()=>{console.log("🔌 Cleaning up events listener for:",i.hiveName),ae()}},[i?.hiveName]);const R=s.filter(k=>v==="all"?!0:k.status===v),U=async(k,ae)=>{try{console.log("🔄 Updating event status:",k,"to",ae),await No.updateEventStatus(k,ae),r(w=>w.map(A=>A.id===k?{...A,status:ae}:A));const J=s.map(w=>w.id===k?{...w,status:ae}:w),re={total:J.length,draft:J.filter(w=>w.status==="draft").length,active:J.filter(w=>w.status==="active").length,completed:J.filter(w=>w.status==="completed").length,cancelled:J.filter(w=>w.status==="cancelled").length,pending:J.filter(w=>w.approvalStatus==="pending").length,approved:J.filter(w=>w.approvalStatus==="approved").length,rejected:J.filter(w=>w.approvalStatus==="rejected").length};C(re)}catch(J){console.error("💥 Error updating event status:",J),alert("Failed to update event status. Please try again.")}},L=async(k,ae)=>{if(window.confirm(`Are you sure you want to delete "${ae}"? This action cannot be undone.`))try{console.log("🗑️ Deleting event:",k),await No.deleteEvent(k),r(w=>w.filter(A=>A.id!==k));const J=s.filter(w=>w.id!==k),re={total:J.length,draft:J.filter(w=>w.status==="draft").length,active:J.filter(w=>w.status==="active").length,completed:J.filter(w=>w.status==="completed").length,cancelled:J.filter(w=>w.status==="cancelled").length,pending:J.filter(w=>w.approvalStatus==="pending").length,approved:J.filter(w=>w.approvalStatus==="approved").length,rejected:J.filter(w=>w.approvalStatus==="rejected").length};C(re)}catch(J){console.error("💥 Error deleting event:",J),alert("Failed to delete event. Please try again.")}},Z=k=>{switch(k){case"draft":return"#94a3b8";case"active":return"#10b981";case"completed":return"#3b82f6";case"cancelled":return"#ef4444";default:return"#6b7280"}},K=k=>{switch(k){case"draft":return"📝";case"active":return"🔴";case"completed":return"✅";case"cancelled":return"❌";default:return"⚪"}},fe=k=>k?new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Not set",ie=k=>k?new Date(`2000-01-01T${k}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):"";return c?o.jsx("div",{className:"events-management",children:o.jsxs("div",{className:"loading-container",children:[o.jsx("div",{className:"loading-spinner"}),o.jsx("p",{children:"Loading events..."})]})}):(console.log("🔍 EventsManagement render - Hive:",i?.hiveName,"Events count:",s.length,"Loading:",c),o.jsxs("div",{className:"events-management",children:[o.jsxs("div",{className:"events-header",children:[o.jsxs("div",{className:"header-content",children:[o.jsx("h2",{children:"📅 Events Management"}),o.jsx("p",{children:"Manage your hive's events and activities"}),o.jsxs("small",{style:{color:"#94a3b8",fontSize:"0.8rem"},children:["Showing real-time events for: ",i?.hiveName||"No hive selected"]})]}),o.jsx("button",{className:"create-event-btn",onClick:e,children:"🎉 Create New Event"})]}),f&&o.jsxs("div",{className:"error-banner",children:[o.jsxs("span",{children:["⚠️ ",f]}),o.jsx("button",{className:"close-error",onClick:()=>p(""),children:"×"})]}),o.jsxs("div",{className:"event-stats-grid",children:[o.jsxs("div",{className:"stat-card total",children:[o.jsx("div",{className:"stat-number",children:E.total}),o.jsx("div",{className:"stat-label",children:"Total Events"})]}),o.jsxs("div",{className:"stat-card draft",children:[o.jsx("div",{className:"stat-number",children:E.draft}),o.jsx("div",{className:"stat-label",children:"Draft Events"})]}),o.jsxs("div",{className:"stat-card active",children:[o.jsx("div",{className:"stat-number",children:E.active}),o.jsx("div",{className:"stat-label",children:"Active Events"})]}),o.jsxs("div",{className:"stat-card completed",children:[o.jsx("div",{className:"stat-number",children:E.completed}),o.jsx("div",{className:"stat-label",children:"Completed"})]}),o.jsxs("div",{className:"stat-card cancelled",children:[o.jsx("div",{className:"stat-number",children:E.cancelled}),o.jsx("div",{className:"stat-label",children:"Cancelled"})]})]}),o.jsxs("div",{className:"approval-stats-grid",children:[o.jsxs("div",{className:"approval-stat-card pending",children:[o.jsx("div",{className:"stat-number",children:E.pending}),o.jsx("div",{className:"stat-label",children:"Pending Approval"})]}),o.jsxs("div",{className:"approval-stat-card approved",children:[o.jsx("div",{className:"stat-number",children:E.approved}),o.jsx("div",{className:"stat-label",children:"Approved by Admin"})]}),o.jsxs("div",{className:"approval-stat-card rejected",children:[o.jsx("div",{className:"stat-number",children:E.rejected}),o.jsx("div",{className:"stat-label",children:"Rejected by Admin"})]})]}),o.jsx("div",{className:"events-controls",children:o.jsxs("div",{className:"filter-container",children:[o.jsx("label",{htmlFor:"statusFilter",children:"Filter by Status:"}),o.jsxs("select",{id:"statusFilter",className:"filter-select",value:v,onChange:k=>y(k.target.value),children:[o.jsxs("option",{value:"all",children:["All Status (",E.total,")"]}),o.jsxs("option",{value:"draft",children:["Draft (",E.draft,")"]}),o.jsxs("option",{value:"active",children:["Active (",E.active,")"]}),o.jsxs("option",{value:"completed",children:["Completed (",E.completed,")"]}),o.jsxs("option",{value:"cancelled",children:["Cancelled (",E.cancelled,")"]})]})]})}),o.jsxs("div",{className:"events-section",children:[o.jsx("div",{className:"section-header",children:o.jsxs("h3",{children:["Events ",o.jsxs("span",{className:"count",children:["(",R.length,")"]})]})}),R.length===0?o.jsxs("div",{className:"empty-state",children:[o.jsx("div",{className:"empty-icon",children:"🎪"}),o.jsx("h3",{children:"No events found"}),o.jsx("p",{children:s.length===0?`No events found for ${i?.hiveName||"this hive"}. Click 'Create New Event' to get started!`:"No events match your current filter criteria."}),s.length===0&&o.jsx("div",{style:{marginTop:"16px",padding:"12px",background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.2)",borderRadius:"8px"},children:o.jsxs("small",{style:{color:"#93c5fd",fontSize:"0.8rem"},children:["📝 Debug: Listening for events in Firebase collection 'events' where hiveName = '",i?.hiveName,"'"]})}),s.length===0&&o.jsx("button",{className:"create-first-event-btn",onClick:e,children:"🎉 Create Your First Event"})]}):o.jsx("div",{className:"events-grid",children:R.map(k=>o.jsxs("div",{className:"event-card",children:[o.jsxs("div",{className:"event-header",children:[o.jsxs("div",{className:"event-title",children:[o.jsx("h4",{children:k.eventName}),o.jsx("div",{className:"event-type",children:k.eventType})]}),o.jsxs("div",{className:"event-status",children:[o.jsxs("span",{className:`status-badge ${k.status}`,style:{borderColor:Z(k.status)},children:[K(k.status)," ",k.status]}),o.jsxs("span",{className:`approval-badge ${k.approvalStatus||"pending"}`,children:[k.approvalStatus==="approved"&&"✅ Approved",k.approvalStatus==="rejected"&&"❌ Rejected",(!k.approvalStatus||k.approvalStatus==="pending")&&"⏳ Pending Approval"]})]})]}),o.jsxs("div",{className:"event-details",children:[o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"📍 Location:"}),o.jsx("span",{className:"detail-value",children:k.campus})]}),o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"📅 Date:"}),o.jsxs("span",{className:"detail-value",children:[fe(k.startDate),k.startTime&&` at ${ie(k.startTime)}`]})]}),o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"👥 Participants:"}),o.jsx("span",{className:"detail-value",children:k.maxParticipants||"Unlimited"})]}),o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"💰 Budget:"}),o.jsxs("span",{className:"detail-value",children:["₹",k.estimatedBudget||0]})]})]}),k.eventDescription&&o.jsx("div",{className:"event-description",children:o.jsx("p",{children:k.eventDescription})}),k.adminComments&&o.jsxs("div",{className:"admin-comments",children:[o.jsx("h5",{children:"Admin Comments:"}),o.jsx("p",{children:k.adminComments}),k.approvedAt&&o.jsxs("small",{children:["Updated: ",fe(k.approvedAt)," by ",k.approvedBy||"Admin"]})]}),o.jsxs("div",{className:"event-actions",children:[o.jsx("div",{className:"status-actions",children:o.jsxs("select",{value:k.status,onChange:ae=>U(k.id,ae.target.value),className:"status-select",children:[o.jsx("option",{value:"draft",children:"📝 Draft"}),o.jsx("option",{value:"active",children:"🔴 Active"}),o.jsx("option",{value:"completed",children:"✅ Completed"}),o.jsx("option",{value:"cancelled",children:"❌ Cancelled"})]})}),o.jsxs("div",{className:"action-buttons",children:[o.jsx("button",{className:"action-btn edit-btn",title:"Edit Event",children:"✏️ Edit"}),o.jsx("button",{className:"action-btn delete-btn",title:"Delete Event",onClick:()=>L(k.id,k.eventName),children:"🗑️ Delete"})]})]}),o.jsx("div",{className:"event-meta",children:o.jsxs("small",{children:["Created: ",fe(k.createdAt?.seconds?new Date(k.createdAt.seconds*1e3).toISOString().split("T")[0]:k.createdAt)]})})]},k.id))})]})]}))},cn={VOLUNTEERS:"volunteers",VOLUNTEER_APPLICATIONS:"volunteer_applications",VOLUNTEER_NOTIFICATIONS:"volunteer_notifications"},Nj=async()=>{try{console.log("🔍 Fetching active volunteer opportunities for members...");const i=Ye(Se(ve,cn.VOLUNTEERS),Pe("isActive","==",!0)),e=await Ze(i),s=[];for(const c of e.docs){const h=c.data(),f=Ye(Se(ve,cn.VOLUNTEER_APPLICATIONS),Pe("volunteerId","==",c.id),Pe("status","==","approved")),p=await Ze(f);let v=null;if(h.eventId)try{const y=await YE(yn(ve,"events",h.eventId));y.exists()&&(v=y.data())}catch(y){console.warn("⚠️ Could not fetch event details for opportunity:",y.message)}s.push({id:c.id,...h,event:v,currentApplications:p.size,spotsRemaining:(h.maxVolunteers||0)-p.size})}const r=s.sort((c,h)=>(h.createdAt?.seconds||0)-(c.createdAt?.seconds||0));return console.log(`✅ Retrieved and sorted ${r.length} active volunteer opportunities with event details`),r}catch(i){throw console.error("💥 Error fetching volunteer opportunities:",i),new Error(`Failed to fetch volunteer opportunities: ${i.message}`)}},Sj=async(i,e)=>{try{console.log("📝 Applying for volunteer opportunity:",i);const s=Ye(Se(ve,cn.VOLUNTEER_APPLICATIONS),Pe("volunteerId","==",i),Pe("memberEmail","==",e.memberEmail));if(!(await Ze(s)).empty)throw new Error("You have already applied for this volunteer opportunity");const c={volunteerId:i,memberEmail:e.memberEmail,memberName:e.memberName,hiveName:e.hiveName,phone:e.phone||"",skills:e.skills||[],experience:e.experience||"",availability:e.availability||"",motivation:e.motivation||"",status:"pending",appliedAt:ps(),updatedAt:ps()},h=await rh(Se(ve,cn.VOLUNTEER_APPLICATIONS),c);return console.log("✅ Volunteer application submitted:",h.id),h.id}catch(s){throw console.error("💥 Error applying for volunteer:",s),s}},wj=async i=>{try{console.log("📋 Fetching volunteer applications for member:",i);const e=Ye(Se(ve,cn.VOLUNTEER_APPLICATIONS),Pe("memberEmail","==",i)),s=await Ze(e),r=[];for(const h of s.docs){const f=h.data(),p=await Ze(Ye(Se(ve,cn.VOLUNTEERS),Pe("__name__","==",f.volunteerId)));let v=null;p.empty||(v=p.docs[0].data()),r.push({id:h.id,...f,opportunity:v})}const c=r.sort((h,f)=>(f.appliedAt?.seconds||0)-(h.appliedAt?.seconds||0));return console.log(`✅ Retrieved and sorted ${c.length} applications for member`),c}catch(e){throw console.error("💥 Error fetching member applications:",e),new Error(`Failed to fetch applications: ${e.message}`)}},jj=async i=>{try{console.log("🔔 Fetching volunteer notifications for member:",i);const e=Ye(Se(ve,cn.VOLUNTEER_NOTIFICATIONS),Pe("memberEmail","==",i)),s=await Ze(e),r=[];s.forEach(h=>{r.push({id:h.id,...h.data()})});const c=r.filter(h=>!h.isRead).sort((h,f)=>{const p=h.createdAt?.toDate?h.createdAt.toDate():new Date(0);return(f.createdAt?.toDate?f.createdAt.toDate():new Date(0))-p});return console.log(`✅ Retrieved ${c.length} unread notifications for member`),c}catch(e){return console.error("💥 Error fetching notifications:",e),[]}},Rj=async i=>{try{await Ou(yn(ve,cn.VOLUNTEER_NOTIFICATIONS,i),{isRead:!0,readAt:ps()}),console.log("✅ Notification marked as read:",i)}catch(e){console.error("💥 Error marking notification as read:",e)}},Cj=async i=>{try{console.log("🔔 Creating volunteer notifications for all members");const e=Ye(Se(ve,"members_approved")),s=await Ze(e),r=Xm(ve);let c=0;s.forEach(h=>{const f=h.data(),p={type:"volunteer_opportunity",title:"New Volunteer Opportunity Available! 🙋‍♀️",message:`A new volunteer opportunity "${i.title||"Volunteer Position"}" is now open for applications. Join us and make a difference!`,memberEmail:f.email||f.credentials?.email,memberName:f.name,opportunityId:i.id,opportunityTitle:i.title,isRead:!1,createdAt:ps()},v=yn(Se(ve,cn.VOLUNTEER_NOTIFICATIONS));r.set(v,p),c++}),await r.commit(),console.log(`✅ Created ${c} volunteer notifications`)}catch(e){console.error("💥 Error creating volunteer notifications:",e)}},Dj=async(i=null)=>{try{console.log("👨‍💼 Fetching volunteer applications for admin review");let e;i?e=Ye(Se(ve,cn.VOLUNTEER_APPLICATIONS),Pe("volunteerId","==",i)):e=Se(ve,cn.VOLUNTEER_APPLICATIONS);const s=await Ze(e),r=[];for(const h of s.docs){const f=h.data(),p=Ye(Se(ve,cn.VOLUNTEERS),Pe("__name__","==",f.volunteerId)),v=await Ze(p);let y=null;v.empty||(y=v.docs[0].data()),r.push({id:h.id,...f,opportunity:y})}const c=r.sort((h,f)=>(f.appliedAt?.seconds||0)-(h.appliedAt?.seconds||0));return console.log(`✅ Retrieved and sorted ${c.length} applications for admin`),c}catch(e){throw console.error("💥 Error fetching applications for admin:",e),new Error(`Failed to fetch applications: ${e.message}`)}},Ij=async(i,e,s="")=>{try{console.log("📝 Updating application status:",i,"to",e),await Ou(yn(ve,cn.VOLUNTEER_APPLICATIONS,i),{status:e,adminNote:s,reviewedAt:ps(),updatedAt:ps()}),console.log("✅ Application status updated successfully")}catch(r){throw console.error("💥 Error updating application status:",r),new Error(`Failed to update application status: ${r.message}`)}},Mj=async()=>{try{console.log("📊 Fetching volunteer statistics for admin");const[i,e]=await Promise.all([Ze(Se(ve,cn.VOLUNTEERS)),Ze(Se(ve,cn.VOLUNTEER_APPLICATIONS))]),s={totalOpportunities:i.size,activeOpportunities:0,totalApplications:e.size,pendingApplications:0,approvedApplications:0,rejectedApplications:0};return i.forEach(r=>{r.data().isActive&&s.activeOpportunities++}),e.forEach(r=>{switch(r.data().status){case"pending":s.pendingApplications++;break;case"approved":s.approvedApplications++;break;case"rejected":s.rejectedApplications++;break}}),console.log("✅ Volunteer statistics calculated:",s),s}catch(i){throw console.error("💥 Error fetching volunteer statistics:",i),new Error(`Failed to fetch volunteer statistics: ${i.message}`)}},$s={getActiveVolunteerOpportunities:Nj,applyForVolunteer:Sj,getMemberApplications:wj,getVolunteerNotifications:jj,markNotificationAsRead:Rj,createVolunteerNotifications:Cj,getVolunteerApplicationsForAdmin:Dj,updateApplicationStatus:Ij,getVolunteerStatsForAdmin:Mj},Vj=({currentUser:i,onBack:e})=>{const[s,r]=le.useState([]),[c,h]=le.useState([]),[f,p]=le.useState([]),[v,y]=le.useState(!0),[E,C]=le.useState(null),[R,U]=le.useState("opportunities"),[L,Z]=le.useState(null),[K,fe]=le.useState(!1),[ie,k]=le.useState({phone:"",skills:[],experience:"",availability:"",motivation:"",tshirtSize:""});le.useEffect(()=>{ae();const j=setInterval(()=>{$s.getVolunteerNotifications(i.email).then(S=>{p(S)}).catch(S=>{console.error("Error refreshing notifications:",S)})},3e4);return()=>clearInterval(j)},[i.email]);const ae=async()=>{try{y(!0);const[j,S,V]=await Promise.all([$s.getActiveVolunteerOpportunities(),$s.getMemberApplications(i.email),$s.getVolunteerNotifications(i.email)]);r(j),h(S),p(V)}catch(j){console.error("Error fetching volunteer data:",j),C("Failed to load volunteer opportunities. Please try again.")}finally{y(!1)}},J=j=>{Z(j),k({phone:"",skills:i.approvedData?.skills||[],experience:"",availability:"",motivation:"",tshirtSize:""}),fe(!0)},re=async j=>{j.preventDefault();try{const S={memberEmail:i.email,memberName:i.memberName,hiveName:i.hiveName,...ie};await $s.applyForVolunteer(L.id,S),alert(`Application submitted successfully! 🎉

Your volunteer application has been sent for review. You will be notified of the decision soon.`),fe(!1),Z(null);const[V,N]=await Promise.all([$s.getMemberApplications(i.email),$s.getVolunteerNotifications(i.email)]);h(V),p(N)}catch(S){console.error("Error submitting application:",S),alert(`Failed to submit application: ${S.message}`)}},w=async j=>{try{await $s.markNotificationAsRead(j),p(f.filter(S=>S.id!==j))}catch(S){console.error("Error marking notification as read:",S)}},A=j=>{const S=c.find(V=>V.volunteerId===j);return S?S.status:null},D=j=>!A(j.id)&&j.spotsRemaining>0;return v?o.jsxs("div",{className:"volunteer-opportunities-loading",children:[o.jsx("div",{className:"loading-spinner"}),o.jsx("p",{children:"Loading volunteer opportunities..."})]}):o.jsxs("div",{className:"volunteer-opportunities",children:[o.jsxs("div",{className:"volunteer-header",children:[o.jsx("button",{className:"back-button",onClick:e,children:"← Back to Dashboard"}),o.jsxs("div",{className:"header-content",children:[o.jsx("h2",{children:"🙋‍♀️ Volunteer Opportunities"}),o.jsx("p",{children:"Join us and make a difference in your community!"})]})]}),E&&o.jsxs("div",{className:"error-banner",children:[o.jsx("span",{className:"error-icon",children:"⚠️"}),o.jsx("span",{children:E}),o.jsx("button",{onClick:()=>C(null),children:"×"})]}),f.length>0&&o.jsxs("div",{className:"notifications-banner",children:[o.jsx("div",{className:"notifications-header",children:o.jsxs("h3",{children:["🔔 New Notifications (",f.length,")"]})}),o.jsxs("div",{className:"notifications-list",children:[f.slice(0,3).map(j=>o.jsxs("div",{className:"notification-item",children:[o.jsxs("div",{className:"notification-content",children:[o.jsx("h4",{children:j.title}),o.jsx("p",{children:j.message})]}),o.jsx("button",{className:"mark-read-btn",onClick:()=>w(j.id),children:"✓"})]},j.id)),f.length>3&&o.jsxs("div",{className:"more-notifications",children:["+",f.length-3," more notifications"]})]})]}),o.jsxs("div",{className:"volunteer-tabs",children:[o.jsxs("button",{className:`tab ${R==="opportunities"?"active":""}`,onClick:()=>U("opportunities"),children:["🎯 Available Opportunities (",s.length,")"]}),o.jsxs("button",{className:`tab ${R==="applications"?"active":""}`,onClick:()=>U("applications"),children:["📋 My Applications (",c.length,")"]})]}),o.jsxs("div",{className:"tab-content",children:[R==="opportunities"&&o.jsx("div",{className:"opportunities-grid",children:s.length===0?o.jsxs("div",{className:"empty-state",children:[o.jsx("div",{className:"empty-icon",children:"🙋‍♀️"}),o.jsx("h3",{children:"No volunteer opportunities available"}),o.jsx("p",{children:"Check back later for new opportunities to make a difference!"})]}):s.map(j=>{const S=A(j.id);return o.jsxs("div",{className:"opportunity-card",children:[o.jsxs("div",{className:"opportunity-header",children:[o.jsx("h3",{children:j.title||"Volunteer Opportunity"}),o.jsx("div",{className:"opportunity-meta",children:o.jsxs("span",{className:"spots-remaining",children:[j.spotsRemaining," spots remaining"]})})]}),j.event&&o.jsxs("div",{className:"event-info-section",children:[o.jsxs("div",{className:"event-title",children:["📅 ",j.event.eventName]}),j.event.startDate&&o.jsxs("div",{className:"event-date",children:[o.jsx("span",{className:"info-icon",children:"🗓️"}),o.jsx("span",{children:new Date(j.event.startDate).toLocaleDateString(void 0,{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),j.event.venue&&o.jsxs("div",{className:"event-venue",children:[o.jsx("span",{className:"info-icon",children:"📍"}),o.jsx("span",{children:j.event.venue})]})]}),o.jsxs("div",{className:"opportunity-details",children:[o.jsx("p",{className:"description",children:j.description||"Help us make a difference in the community!"}),o.jsxs("div",{className:"opportunity-info",children:[j.deadline&&o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"info-icon",children:"⏰"}),o.jsxs("span",{children:["Apply by: ",new Date(j.deadline).toLocaleDateString()]})]}),o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"info-icon",children:"👥"}),o.jsxs("span",{children:[j.currentApplications,"/",j.maxVolunteers," volunteers"]})]}),j.requirements&&o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"info-icon",children:"📋"}),o.jsxs("span",{children:["Requirements: ",j.requirements]})]})]}),j.benefits&&o.jsxs("div",{className:"benefits",children:[o.jsx("h4",{children:"💫 What you'll gain:"}),o.jsx("p",{children:j.benefits})]})]}),o.jsx("div",{className:"opportunity-actions",children:S?o.jsxs("div",{className:`application-status ${S}`,children:[o.jsxs("span",{className:"status-icon",children:[S==="pending"&&"⏳",S==="approved"&&"✅",S==="rejected"&&"❌"]}),o.jsxs("span",{className:"status-text",children:[S==="pending"&&"Application Pending",S==="approved"&&"Application Approved",S==="rejected"&&"Application Rejected"]})]}):D(j)?o.jsx("button",{className:"apply-button",onClick:()=>J(j),children:"🙋‍♀️ Apply Now"}):o.jsxs("div",{className:"application-status full",children:[o.jsx("span",{className:"status-icon",children:"🚫"}),o.jsx("span",{className:"status-text",children:"No spots available"})]})})]},j.id)})}),R==="applications"&&o.jsx("div",{className:"applications-list",children:c.length===0?o.jsxs("div",{className:"empty-state",children:[o.jsx("div",{className:"empty-icon",children:"📋"}),o.jsx("h3",{children:"No applications yet"}),o.jsx("p",{children:"Apply for volunteer opportunities to see your applications here."})]}):c.map(j=>o.jsxs("div",{className:"application-card",children:[o.jsxs("div",{className:"application-header",children:[o.jsx("h3",{children:j.opportunity?.title||"Volunteer Position"}),o.jsxs("div",{className:`status-badge ${j.status}`,children:[j.status==="pending"&&"⏳ Pending Review",j.status==="approved"&&"✅ Approved",j.status==="rejected"&&"❌ Rejected"]})]}),o.jsxs("div",{className:"application-details",children:[o.jsxs("div",{className:"detail-item",children:[o.jsx("span",{className:"detail-label",children:"Applied:"}),o.jsx("span",{children:j.appliedAt?.seconds?new Date(j.appliedAt.seconds*1e3).toLocaleDateString():"Unknown"})]}),j.motivation&&o.jsxs("div",{className:"detail-item",children:[o.jsx("span",{className:"detail-label",children:"Motivation:"}),o.jsx("span",{children:j.motivation})]}),j.adminNote&&o.jsxs("div",{className:"admin-note",children:[o.jsx("span",{className:"note-label",children:"Admin Note:"}),o.jsx("span",{children:j.adminNote})]})]})]},j.id))})]}),K&&o.jsx("div",{className:"modal-overlay",onClick:()=>fe(!1),children:o.jsxs("div",{className:"modal-content",onClick:j=>j.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h3",{children:"Apply for Volunteer Position"}),o.jsx("button",{onClick:()=>fe(!1),children:"×"})]}),o.jsxs("div",{className:"modal-body",children:[o.jsxs("div",{className:"opportunity-summary",children:[o.jsx("h4",{children:L?.title||"Volunteer Opportunity"}),o.jsx("p",{children:L?.description})]}),o.jsxs("form",{onSubmit:re,className:"application-form",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Phone Number"}),o.jsx("input",{type:"tel",value:ie.phone,onChange:j=>k({...ie,phone:j.target.value}),placeholder:"Your contact number",required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Relevant Skills"}),o.jsx("textarea",{value:Array.isArray(ie.skills)?ie.skills.join(", "):ie.skills,onChange:j=>k({...ie,skills:j.target.value.split(",").map(S=>S.trim())}),placeholder:"List your relevant skills (comma separated)",rows:"3"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Previous Experience"}),o.jsx("textarea",{value:ie.experience,onChange:j=>k({...ie,experience:j.target.value}),placeholder:"Describe any relevant experience you have",rows:"3"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Availability"}),o.jsx("textarea",{value:ie.availability,onChange:j=>k({...ie,availability:j.target.value}),placeholder:"When are you available to volunteer?",rows:"2",required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Tshirt Size *"}),o.jsxs("select",{value:ie.tshirtSize,onChange:j=>k({...ie,tshirtSize:j.target.value}),required:!0,children:[o.jsx("option",{value:"",children:"Select your T-shirt size"}),o.jsx("option",{value:"XS",children:"XS"}),o.jsx("option",{value:"S",children:"S"}),o.jsx("option",{value:"M",children:"M"}),o.jsx("option",{value:"L",children:"L"}),o.jsx("option",{value:"XL",children:"XL"}),o.jsx("option",{value:"XXL",children:"XXL"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Why do you want to volunteer? *"}),o.jsx("textarea",{value:ie.motivation,onChange:j=>k({...ie,motivation:j.target.value}),placeholder:"Tell us why you're interested in this volunteer opportunity",rows:"4",required:!0})]}),o.jsxs("div",{className:"form-actions",children:[o.jsx("button",{type:"button",onClick:()=>fe(!1),children:"Cancel"}),o.jsx("button",{type:"submit",className:"submit-button",children:"Submit Application"})]})]})]})]})})]})},Oj=({currentUser:i,onViewChange:e})=>{const[s,r]=le.useState("dashboard"),[c,h]=le.useState(null),[f,p]=le.useState([]),[v,y]=le.useState([]),[E,C]=le.useState([]),[R,U]=le.useState([]),[L,Z]=le.useState(!0),[K,fe]=le.useState(null),[ie,k]=le.useState({totalHiveMates:0,upcomingEvents:0,totalEvents:0,volunteerNotifications:0});le.useEffect(()=>{const J=async()=>{try{Z(!0),console.log("📊 Fetching member dashboard data for:",i?.memberName);let re=[];try{re=await $s.getVolunteerNotifications(i.email)}catch(V){console.warn("⚠️ Could not fetch volunteer notifications:",V.message)}let w=[];try{(await Ca.getApprovedMembers(i.hiveName)).forEach(N=>{const Me=N.data();Me.email!==i.email&&w.push({id:N.id,...Me})})}catch(V){console.warn("⚠️ Could not fetch hive mates, continuing without members:",V.message)}let A=[];try{A=await No.getEventsForMember(i.hiveName)}catch(V){console.warn("⚠️ Primary member event fetch failed, trying fallback method:",V.message);try{A=await No.getEventsByHive(i.hiveName)}catch(N){console.warn("⚠️ All event fetch methods failed, continuing without events:",N.message)}}const D=new Date().toISOString().split("T")[0],j=A.filter(V=>V.startDate>=D&&(V.status==="active"||V.status==="approved")),S={name:i.hiveName,leader:i.approvedData?.createdBy||"Hive Leader",memberCount:w.length+1,description:i.approvedData?.description||"Tech community fostering growth and collaboration",campus:i.approvedData?.campusName||"Campus",location:i.approvedData?.campusLocation||"Location"};p(w),y(j.slice(0,5)),C(A),h(S),U(re),k({totalHiveMates:w.length,upcomingEvents:j.length,totalEvents:A.length,volunteerNotifications:re.length}),console.log("✅ Member dashboard data loaded successfully")}catch(re){console.error("💥 Error fetching some dashboard data:",re)}finally{Z(!1)}};i?.hiveName&&J()},[i]);const ae=J=>{r(J)};return L?o.jsxs("div",{className:"member-dashboard-loading",children:[o.jsx("div",{className:"loading-spinner"}),o.jsx("p",{children:"Loading your dashboard..."})]}):K?o.jsxs("div",{className:"member-dashboard-error",children:[o.jsxs("p",{children:["❌ ",K]}),o.jsx("button",{onClick:()=>window.location.reload(),className:"retry-button",children:"Retry"})]}):o.jsxs("div",{className:"member-dashboard",children:[s==="dashboard"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"member-header",children:[o.jsxs("h1",{children:["👥 Welcome back, ",i.memberName,"!"]}),o.jsxs("p",{className:"member-subtitle",children:["Member of ",i.hiveName]})]}),o.jsxs("div",{className:"member-stats",children:[o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-number",children:ie.totalHiveMates}),o.jsx("span",{className:"stat-label",children:"Hive Mates"})]}),o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-number",children:ie.upcomingEvents}),o.jsx("span",{className:"stat-label",children:"Upcoming Events"})]}),o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-number",children:ie.totalEvents}),o.jsx("span",{className:"stat-label",children:"Total Events"})]})]}),o.jsxs("div",{className:"dashboard-cards",children:[o.jsxs("div",{className:"dashboard-card",children:[o.jsx("h3",{children:"🏠 My Hive Details"}),o.jsxs("p",{children:["Learn more about ",c?.name," and connect with the community."]}),o.jsx("div",{className:"card-info",children:o.jsxs("small",{children:["🏢 ",c?.campus," • 👥 ",c?.memberCount," members"]})}),o.jsx("button",{className:"card-button",onClick:()=>ae("hive-details"),children:"View Hive Details"})]}),o.jsxs("div",{className:"dashboard-card",children:[o.jsx("h3",{children:"👥 Hive Mates"}),o.jsxs("p",{children:["Connect and collaborate with your ",ie.totalHiveMates," hive mates."]}),o.jsx("div",{className:"card-info",children:o.jsx("small",{children:"💬 Network • 🤝 Collaborate • 🚀 Grow together"})}),o.jsx("button",{className:"card-button",onClick:()=>ae("hive-mates"),children:"Meet Hive Mates"})]}),o.jsxs("div",{className:"dashboard-card",children:[o.jsx("h3",{children:"📅 Upcoming Events"}),o.jsxs("p",{children:["Don't miss out on ",ie.upcomingEvents," upcoming events from your hive and admin."]}),o.jsx("div",{className:"card-info",children:o.jsx("small",{children:"🎉 Hive Events • 🚀 Admin Events • 🏆 Competitions"})}),o.jsx("button",{className:"card-button",onClick:()=>ae("events"),children:"View All Events"})]}),o.jsxs("div",{className:"dashboard-card",children:[o.jsx("h3",{children:"🙋‍♀️ Volunteer Opportunities"}),o.jsx("p",{children:"Make a difference! Join volunteer opportunities and help your community."}),o.jsxs("div",{className:"card-info",children:[o.jsx("small",{children:"🎆 Community Service • 🚀 Skill Building • 🏆 Impact"}),ie.volunteerNotifications>0&&o.jsxs("div",{className:"notification-badge",children:["🔔 ",ie.volunteerNotifications," new opportunities!"]})]}),o.jsx("button",{className:"card-button",onClick:()=>ae("volunteer-opportunities"),children:"View Opportunities"})]}),o.jsxs("div",{className:"dashboard-card",children:[o.jsx("h3",{children:"⚙️ My Profile"}),o.jsx("p",{children:"Manage your profile settings and preferences."}),o.jsx("div",{className:"card-info",children:o.jsx("small",{children:"📝 Edit Info • 🔔 Notifications • 🎯 Skills"})}),o.jsx("button",{className:"card-button",onClick:()=>ae("profile"),children:"Edit Profile"})]})]}),o.jsxs("div",{className:"member-info",children:[o.jsxs("div",{className:"info-card",children:[o.jsx("h3",{children:"📋 Member Information"}),o.jsxs("div",{className:"member-details",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Name:"})," ",i.memberName]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Email:"})," ",i.email]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Hive:"})," ",i.hiveName]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Member Since:"})," ",new Date(i.generatedAt||Date.now()).toLocaleDateString()]})]})]}),o.jsxs("div",{className:"info-card",children:[o.jsx("h3",{children:"🚀 Quick Actions"}),o.jsxs("div",{className:"quick-actions",children:[o.jsx("button",{className:"action-btn primary",onClick:()=>ae("events"),children:"📅 Browse Events"}),o.jsx("button",{className:"action-btn secondary",onClick:()=>ae("hive-mates"),children:"👥 Find Teammates"}),o.jsx("button",{className:"action-btn tertiary",onClick:()=>ae("hive-details"),children:"🏠 Hive Info"})]})]})]}),v.length>0&&o.jsxs("div",{className:"recent-activity",children:[o.jsx("h3",{children:"🔥 Upcoming Events Preview"}),o.jsx("div",{className:"event-preview-list",children:v.slice(0,3).map(J=>o.jsxs("div",{className:"event-preview-item",children:[o.jsxs("div",{className:"event-date",children:[o.jsx("span",{className:"day",children:new Date(J.startDate).getDate()}),o.jsx("span",{className:"month",children:new Date(J.startDate).toLocaleDateString("en",{month:"short"})})]}),o.jsxs("div",{className:"event-info",children:[o.jsx("h4",{children:J.eventName}),o.jsxs("p",{children:[J.eventType," • ",J.mode]}),o.jsx("p",{className:"event-organizer",children:!J.hiveName||J.hiveName==="admin"||J.organizerType==="admin"?"🚀 Organized by Admin":`🏠 Organized by ${J.hiveName}`})]}),o.jsx("div",{className:"event-status",children:o.jsx("span",{className:`status ${J.status}`,children:J.status})})]},J.id))})]})]}),s==="hive-details"&&o.jsx(kj,{hiveDetails:c,onBack:()=>ae("dashboard"),currentUser:i}),s==="hive-mates"&&o.jsx(Lj,{hiveMates:f,onBack:()=>ae("dashboard"),currentUser:i}),s==="events"&&o.jsx(Pj,{upcomingEvents:v,allEvents:E,onBack:()=>ae("dashboard"),currentUser:i}),s==="profile"&&o.jsx(Uj,{onBack:()=>ae("dashboard"),currentUser:i}),s==="volunteer-opportunities"&&o.jsx(Vj,{onBack:()=>ae("dashboard"),currentUser:i})]})},kj=({hiveDetails:i,onBack:e,currentUser:s})=>o.jsxs("div",{className:"hive-details-view",children:[o.jsxs("div",{className:"view-header",children:[o.jsx("button",{className:"back-button",onClick:e,children:"← Back to Dashboard"}),o.jsxs("h2",{children:["🏠 ",i?.name," Details"]})]}),o.jsxs("div",{className:"hive-details-content",children:[o.jsxs("div",{className:"hive-info-card",children:[o.jsx("h3",{children:"🏢 Hive Information"}),o.jsxs("div",{className:"hive-info-grid",children:[o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"label",children:"Hive Name:"}),o.jsx("span",{className:"value",children:i?.name})]}),o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"label",children:"Campus:"}),o.jsx("span",{className:"value",children:i?.campus})]}),o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"label",children:"Location:"}),o.jsx("span",{className:"value",children:i?.location})]}),o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"label",children:"Total Members:"}),o.jsx("span",{className:"value",children:i?.memberCount})]}),o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"label",children:"Hive Leader:"}),o.jsx("span",{className:"value",children:i?.leader})]})]})]}),o.jsxs("div",{className:"hive-description-card",children:[o.jsx("h3",{children:"📝 About Our Hive"}),o.jsx("p",{children:i?.description})]}),o.jsxs("div",{className:"hive-contact-card",children:[o.jsx("h3",{children:"📞 Get in Touch"}),o.jsx("p",{children:"Connect with other members, participate in discussions, and grow together!"}),o.jsxs("div",{className:"contact-actions",children:[o.jsx("button",{className:"contact-btn",children:"💬 Join Discussion"}),o.jsx("button",{className:"contact-btn",children:"📧 Contact Leader"})]})]})]})]}),Lj=({hiveMates:i,onBack:e,currentUser:s})=>o.jsxs("div",{className:"hive-mates-view",children:[o.jsxs("div",{className:"view-header",children:[o.jsx("button",{className:"back-button",onClick:e,children:"← Back to Dashboard"}),o.jsxs("h2",{children:["👥 Your Hive Mates (",i.length,")"]})]}),o.jsx("div",{className:"hive-mates-content",children:i.length===0?o.jsxs("div",{className:"empty-state",children:[o.jsx("h3",{children:"🔍 No other members yet"}),o.jsx("p",{children:"You're one of the first members! More hive mates will join soon."})]}):o.jsx("div",{className:"members-grid",children:i.map(r=>o.jsxs("div",{className:"member-card",children:[o.jsx("div",{className:"member-avatar",children:r.name?.charAt(0)?.toUpperCase()||"👤"}),o.jsxs("div",{className:"member-info",children:[o.jsx("h4",{children:r.name}),o.jsxs("p",{className:"member-course",children:[r.course," - ",r.branch]}),o.jsxs("p",{className:"member-year",children:["Year ",r.year]}),o.jsx("p",{className:"member-college",children:r.collegeName}),r.skills&&r.skills.length>0&&o.jsxs("div",{className:"member-skills",children:[o.jsx("span",{className:"skills-label",children:"Skills:"}),o.jsxs("div",{className:"skills-tags",children:[r.skills.slice(0,3).map((c,h)=>o.jsx("span",{className:"skill-tag",children:c},h)),r.skills.length>3&&o.jsxs("span",{className:"skill-tag more",children:["+",r.skills.length-3]})]})]}),o.jsxs("div",{className:"member-actions",children:[o.jsx("button",{className:"connect-btn",children:"🤝 Connect"}),o.jsx("button",{className:"message-btn",children:"💬 Message"})]})]})]},r.id))})})]}),Pj=({upcomingEvents:i,allEvents:e,onBack:s,currentUser:r})=>{const[c,h]=le.useState("upcoming"),f=e.filter(p=>p.status==="completed");return e.filter(p=>p.status==="draft"),o.jsxs("div",{className:"events-view",children:[o.jsxs("div",{className:"view-header",children:[o.jsx("button",{className:"back-button",onClick:s,children:"← Back to Dashboard"}),o.jsxs("h2",{children:["📅 Events for ",r.hiveName," Members"]})]}),o.jsxs("div",{className:"events-tabs",children:[o.jsxs("button",{className:`tab ${c==="upcoming"?"active":""}`,onClick:()=>h("upcoming"),children:["🔮 Upcoming (",i.length,")"]}),o.jsxs("button",{className:`tab ${c==="all"?"active":""}`,onClick:()=>h("all"),children:["📋 All Events (",e.length,")"]}),o.jsxs("button",{className:`tab ${c==="completed"?"active":""}`,onClick:()=>h("completed"),children:["✅ Completed (",f.length,")"]})]}),o.jsxs("div",{className:"events-content",children:[c==="upcoming"&&o.jsx(jf,{events:i,emptyMessage:"No upcoming events scheduled."}),c==="all"&&o.jsx(jf,{events:e,emptyMessage:"No events found."}),c==="completed"&&o.jsx(jf,{events:f,emptyMessage:"No completed events yet."})]})]})},jf=({events:i,emptyMessage:e})=>o.jsx("div",{className:"events-list",children:i.length===0?o.jsxs("div",{className:"empty-state",children:[o.jsxs("h3",{children:["📅 ",e]}),o.jsx("p",{children:"Check back later for updates!"})]}):i.map(s=>o.jsxs("div",{className:"event-card",children:[o.jsxs("div",{className:"event-header",children:[o.jsx("h4",{children:s.eventName}),o.jsx("span",{className:`event-status ${s.status}`,children:s.status})]}),o.jsxs("div",{className:"event-details",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Type:"})," ",s.eventType]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Mode:"})," ",s.mode]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Date:"})," ",new Date(s.startDate).toLocaleDateString()," - ",new Date(s.endDate).toLocaleDateString()]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Venue:"})," ",s.venue]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Organized by:"})," ",!s.hiveName||s.hiveName==="admin"||s.organizerType==="admin"?"🚀 Admin":`🏠 ${s.hiveName}`]}),s.registrationFees>0&&o.jsxs("p",{children:[o.jsx("strong",{children:"Registration Fee:"})," ₹",s.registrationFees]})]}),s.eventDescription&&o.jsx("div",{className:"event-description",children:o.jsx("p",{children:s.eventDescription})}),o.jsxs("div",{className:"event-actions",children:[o.jsx("button",{className:"event-btn primary",children:"📋 View Details"}),s.status==="active"&&o.jsx("button",{className:"event-btn secondary",children:"✍️ Register"})]})]},s.id))}),Uj=({onBack:i,currentUser:e})=>o.jsxs("div",{className:"profile-view",children:[o.jsxs("div",{className:"view-header",children:[o.jsx("button",{className:"back-button",onClick:i,children:"← Back to Dashboard"}),o.jsx("h2",{children:"⚙️ My Profile"})]}),o.jsxs("div",{className:"profile-content",children:[o.jsxs("div",{className:"profile-section",children:[o.jsx("h3",{children:"👤 Personal Information"}),o.jsxs("div",{className:"profile-form",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Full Name"}),o.jsx("input",{type:"text",value:e.memberName,disabled:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Email"}),o.jsx("input",{type:"email",value:e.email,disabled:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Hive"}),o.jsx("input",{type:"text",value:e.hiveName,disabled:!0})]})]})]}),e.approvedData&&o.jsxs("div",{className:"profile-section",children:[o.jsx("h3",{children:"🎓 Academic Information"}),o.jsxs("div",{className:"profile-info-grid",children:[o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"label",children:"Course:"}),o.jsx("span",{className:"value",children:e.approvedData.course})]}),o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"label",children:"Branch:"}),o.jsx("span",{className:"value",children:e.approvedData.branch})]}),o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"label",children:"Year:"}),o.jsx("span",{className:"value",children:e.approvedData.year})]}),o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"label",children:"College:"}),o.jsx("span",{className:"value",children:e.approvedData.collegeName})]})]})]}),o.jsxs("div",{className:"profile-section",children:[o.jsx("h3",{children:"🔔 Preferences"}),o.jsx("p",{children:"Profile editing and preference management will be available soon!"}),o.jsx("button",{className:"profile-btn",disabled:!0,children:"Coming Soon"})]})]})]}),Bj=()=>o.jsx("section",{className:"about-section",children:o.jsx("div",{className:"about-container",children:o.jsxs("div",{className:"about-content",children:[o.jsx("h2",{className:"about-heading",children:"About Us"}),o.jsx("p",{className:"about-description",children:"We are a community-driven organization dedicated to empowering individuals through technology, education, and collaboration. Our mission is to create inclusive spaces where everyone can learn, grow, and contribute to meaningful projects that address real-world challenges."}),o.jsxs("div",{className:"about-features",children:[o.jsxs("div",{className:"feature-item",children:[o.jsx("div",{className:"feature-icon",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),o.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),o.jsx("h3",{children:"Our Mission"}),o.jsx("p",{children:"To connect talented individuals with opportunities to learn, collaborate, and innovate together."})]}),o.jsxs("div",{className:"feature-item",children:[o.jsx("div",{className:"feature-icon",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("polyline",{points:"12 6 12 12 16 14"})]})}),o.jsx("h3",{children:"Our Vision"}),o.jsx("p",{children:"To build a global network of communities that drive positive change through technology."})]}),o.jsxs("div",{className:"feature-item",children:[o.jsx("div",{className:"feature-icon",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),o.jsx("circle",{cx:"9",cy:"7",r:"4"}),o.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),o.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),o.jsx("h3",{children:"Our Values"}),o.jsx("p",{children:"Integrity, inclusivity, innovation, and community are at the core of everything we do."})]})]}),o.jsxs("div",{className:"about-stats",children:[o.jsxs("div",{className:"stat-item",children:[o.jsx("div",{className:"stat-number",children:"500+"}),o.jsx("div",{className:"stat-label",children:"Members"})]}),o.jsxs("div",{className:"stat-item",children:[o.jsx("div",{className:"stat-number",children:"100+"}),o.jsx("div",{className:"stat-label",children:"Events"})]}),o.jsxs("div",{className:"stat-item",children:[o.jsx("div",{className:"stat-number",children:"50+"}),o.jsx("div",{className:"stat-label",children:"Partners"})]}),o.jsxs("div",{className:"stat-item",children:[o.jsx("div",{className:"stat-number",children:"15+"}),o.jsx("div",{className:"stat-label",children:"Communities"})]})]})]})})}),zj=()=>o.jsx("section",{className:"vision-section",children:o.jsx("div",{className:"vision-container",children:o.jsxs("div",{className:"vision-content",children:[o.jsx("h2",{className:"vision-heading",children:"Vision & Core Values"}),o.jsx("p",{className:"vision-description",children:"Our vision is to build a global network of communities that drive positive change through technology and collaboration. We believe in creating inclusive spaces where everyone has the opportunity to learn, grow, and contribute."}),o.jsxs("div",{className:"vision-values",children:[o.jsxs("div",{className:"value-item",children:[o.jsx("div",{className:"value-icon",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),o.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),o.jsx("h3",{children:"Integrity"}),o.jsx("p",{children:"We uphold the highest standards of honesty, transparency, and ethical behavior in all our interactions."})]}),o.jsxs("div",{className:"value-item",children:[o.jsx("div",{className:"value-icon",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),o.jsx("circle",{cx:"9",cy:"7",r:"4"}),o.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),o.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),o.jsx("h3",{children:"Inclusivity"}),o.jsx("p",{children:"We celebrate diversity and create welcoming environments where everyone feels valued and respected."})]}),o.jsxs("div",{className:"value-item",children:[o.jsx("div",{className:"value-icon",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),o.jsx("path",{d:"M2 17l10 5 10-5"}),o.jsx("path",{d:"M2 12l10 5 10-5"})]})}),o.jsx("h3",{children:"Innovation"}),o.jsx("p",{children:"We foster creativity and encourage experimentation to find new and better ways to solve problems."})]}),o.jsxs("div",{className:"value-item",children:[o.jsx("div",{className:"value-icon",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),o.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),o.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),o.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]})}),o.jsx("h3",{children:"Community"}),o.jsx("p",{children:"We believe in the power of people coming together to support one another and achieve common goals."})]})]}),o.jsx("div",{className:"vision-impact",children:o.jsxs("div",{className:"impact-content",children:[o.jsx("h3",{className:"impact-heading",children:"Our Impact"}),o.jsx("p",{className:"impact-description",children:"Through our programs and initiatives, we've helped thousands of individuals develop new skills, connect with like-minded peers, and contribute to projects that make a difference in their communities. We're committed to continuing this work and expanding our reach to create even more opportunities for growth and collaboration."}),o.jsx("button",{className:"impact-btn",children:"Learn About Our Initiatives"})]})})]})})}),qj=()=>{const[i,e]=le.useState(!1),[s,r]=le.useState(null),[c,h]=le.useState("all"),[f,p]=le.useState(""),[v,y]=le.useState("upcoming"),E=[{id:1,title:"Tech Bootcamps",description:"Intensive hands-on learning sessions covering the latest technologies and frameworks.",image:"https://images.unsplash.com/photo-1531482615713-2afd69097998?w=400&h=250&fit=crop",duration:"2-4 weeks",level:"All Levels"},{id:2,title:"Hackathons",description:"48-hour coding competitions where teams solve real-world problems with innovative solutions.",image:"https://images.unsplash.com/photo-1504384308090-c894fdcc538d?w=400&h=250&fit=crop",duration:"48 hours",level:"Intermediate+"},{id:3,title:"Workshop Series",description:"Weekly workshops on emerging technologies, career development, and technical skills.",image:"https://images.unsplash.com/photo-1552664730-d307ca884978?w=400&h=250&fit=crop",duration:"2-3 hours",level:"Beginner"}],C=[{id:1,title:"Web Development Workshop",description:"Learn the fundamentals of modern web development with hands-on exercises and projects.",eventDate:new Date(Date.now()+864e5*5).toISOString(),startTime:"10:00 AM",endTime:"2:00 PM",location:"Tech Hub, Downtown",capacity:50,eventType:"Workshop",requestingHiveName:"Frontend Developers"},{id:2,title:"AI & Machine Learning Conference",description:"Explore the latest trends and applications in artificial intelligence and machine learning.",eventDate:new Date(Date.now()+864e5*15).toISOString(),startTime:"9:00 AM",endTime:"5:00 PM",location:"Innovation Center",capacity:100,eventType:"Conference",requestingHiveName:"AI Research Group"},{id:3,title:"Past Hackathon",description:"A 48-hour coding competition focused on solving environmental challenges.",eventDate:new Date(Date.now()-864e5*10).toISOString(),startTime:"9:00 AM",endTime:"9:00 AM",location:"Tech Campus",capacity:75,eventType:"Hackathon",requestingHiveName:"Green Tech Alliance"}],[R,U]=le.useState(C),[L,Z]=le.useState(C);le.useEffect(()=>{if(!R.length)return;let k=[...R];c!=="all"&&(k=k.filter(J=>J.eventType===c));const ae=new Date;if(v==="upcoming")k=k.filter(J=>new Date(J.eventDate)>=ae);else if(v==="past")k=k.filter(J=>new Date(J.eventDate)<ae);else if(v==="thisMonth"){const J=ae.getMonth(),re=ae.getFullYear();k=k.filter(w=>{const A=new Date(w.eventDate);return A.getMonth()===J&&A.getFullYear()===re})}if(f.trim()){const J=f.toLowerCase();k=k.filter(re=>re.title?.toLowerCase().includes(J)||re.description?.toLowerCase().includes(J)||re.location?.toLowerCase().includes(J)||re.requestingHiveName?.toLowerCase().includes(J))}v==="past"?k.sort((J,re)=>new Date(re.eventDate)-new Date(J.eventDate)):k.sort((J,re)=>new Date(J.eventDate)-new Date(re.eventDate)),Z(k)},[R,c,v,f]);const K=le.useMemo(()=>{if(!R.length)return[];const k=new Set;return R.forEach(ae=>{ae.eventType&&k.add(ae.eventType)}),Array.from(k)},[R]),fe=(k,ae)=>k&&ae?`${k} - ${ae}`:k||"Time TBD",ie=k=>{const ae=new Date(k),J=ae.getDate(),re=ae.toLocaleDateString("en-US",{month:"short"});return{day:J,month:re}};return o.jsx("section",{className:"programs-section",children:o.jsx("div",{className:"programs-container",children:o.jsxs("div",{className:"programs-content",children:[o.jsx("h2",{className:"programs-heading",children:"Programs & Events"}),o.jsx("p",{className:"programs-description",children:"Join our diverse range of programs designed to enhance your skills, expand your network, and accelerate your journey in technology and innovation."}),o.jsxs("div",{className:"events-filter",children:[o.jsxs("div",{className:"filter-row",children:[o.jsxs("div",{className:"filter-group",children:[o.jsx("label",{htmlFor:"eventTimeFrame",children:"Time Frame"}),o.jsxs("select",{id:"eventTimeFrame",value:v,onChange:k=>y(k.target.value),className:"filter-select",children:[o.jsx("option",{value:"upcoming",children:"Upcoming Events"}),o.jsx("option",{value:"thisMonth",children:"This Month"}),o.jsx("option",{value:"past",children:"Past Events"}),o.jsx("option",{value:"all",children:"All Events"})]})]}),o.jsxs("div",{className:"filter-group",children:[o.jsx("label",{htmlFor:"eventType",children:"Event Type"}),o.jsxs("select",{id:"eventType",value:c,onChange:k=>h(k.target.value),className:"filter-select",children:[o.jsx("option",{value:"all",children:"All Types"}),K.map(k=>o.jsx("option",{value:k,children:k},k))]})]}),o.jsxs("div",{className:"filter-group search-group",children:[o.jsx("label",{htmlFor:"eventSearch",children:"Search"}),o.jsx("input",{id:"eventSearch",type:"text",placeholder:"Search events...",value:f,onChange:k=>p(k.target.value),className:"filter-input"})]})]}),f||c!=="all"||v!=="upcoming"?o.jsxs("div",{className:"active-filters",children:[o.jsx("span",{children:"Active filters:"}),v!=="upcoming"&&o.jsx("span",{className:"filter-tag",children:v==="past"?"Past Events":v==="thisMonth"?"This Month":"All Dates"}),c!=="all"&&o.jsx("span",{className:"filter-tag",children:c}),f&&o.jsxs("span",{className:"filter-tag",children:['Search: "',f,'"']}),o.jsx("button",{className:"clear-filters",onClick:()=>{h("all"),y("upcoming"),p("")},children:"Clear All"})]}):null]}),o.jsx("div",{className:"programs-grid",children:E.map(k=>o.jsxs("div",{className:"program-card",children:[o.jsxs("div",{className:"program-image",children:[o.jsx("img",{src:k.image,alt:k.title}),o.jsx("div",{className:"program-overlay",children:o.jsx("span",{className:"program-level",children:k.level})})]}),o.jsxs("div",{className:"program-info",children:[o.jsx("h3",{children:k.title}),o.jsx("p",{children:k.description}),o.jsx("div",{className:"program-meta",children:o.jsxs("span",{className:"program-duration",children:["📅 ",k.duration]})}),o.jsx("button",{className:"program-btn",children:"Learn More"})]})]},k.id))}),o.jsxs("div",{className:"events-section",children:[o.jsxs("h3",{className:"events-heading",children:[v==="upcoming"?"Upcoming Events":v==="past"?"Past Events":v==="thisMonth"?"Events This Month":"All Events",L.length>0&&o.jsxs("span",{className:"event-count",children:["(",L.length,")"]})]}),i?o.jsx("div",{className:"events-loading",children:o.jsx("p",{children:"Loading events..."})}):s?o.jsx("div",{className:"events-error",children:o.jsxs("p",{children:["Error loading events: ",s]})}):R.length===0?o.jsx("div",{className:"events-empty",children:o.jsx("p",{children:"No events available at this time. Check back soon!"})}):L.length===0?o.jsx("div",{className:"events-empty",children:o.jsx("p",{children:"No events match your current filters. Try adjusting your search criteria."})}):o.jsx("div",{className:"events-list",children:L.map(k=>{const ae=ie(k.eventDate);return o.jsxs("div",{className:"event-item",children:[o.jsxs("div",{className:"event-date",children:[o.jsx("span",{className:"event-day",children:ae.day}),o.jsx("span",{className:"event-month",children:ae.month}),k.eventType&&o.jsx("span",{className:"event-type-badge",children:k.eventType})]}),o.jsxs("div",{className:"event-details",children:[o.jsx("h4",{children:k.title}),o.jsxs("div",{className:"event-info",children:[o.jsxs("span",{className:"event-time",children:["🕐 ",fe(k.startTime,k.endTime)]}),o.jsxs("span",{className:"event-location",children:["📍 ",k.location||"Location TBD"]}),o.jsxs("span",{className:"event-capacity",children:["👥 ",k.capacity?`${k.capacity} spots`:"Open registration"]}),v==="past"&&o.jsx("span",{className:"event-past-label",children:"Completed"})]}),k.description&&o.jsxs("p",{className:"event-description",children:[k.description.substring(0,150),"...",o.jsx("button",{className:"read-more-btn",children:"Read More"})]}),k.requestingHiveName&&o.jsx("div",{className:"event-organizer",children:o.jsxs("span",{children:["📋 Organized by: ",o.jsx("strong",{children:k.requestingHiveName})]})})]}),o.jsx("div",{className:"event-action",children:new Date(k.eventDate)>=new Date?o.jsx("button",{className:"event-register-btn",children:"Register"}):o.jsx("button",{className:"event-view-btn",children:"View Details"})})]},k.id)})})]})]})})})};function Hj(){const[i,e]=le.useState(!1),[s,r]=le.useState(!1),[c,h]=le.useState(null),[f,p]=le.useState(null),[v,y]=le.useState(!0),[E,C]=le.useState("dashboard"),[R,U]=le.useState(!1),[L,Z]=le.useState({total:0,pending:0,approved:0,rejected:0});le.useEffect(()=>{(async()=>{try{console.log("🔍 Checking existing authentication...");const w=await yj();if(w.isAuthenticated){const A=w.userType==="hive"?w.user.hiveName:`${w.user.memberName} (${w.user.hiveName})`;console.log(`✅ User already authenticated as ${w.userType}:`,A),r(!0),h(w.user),p(w.userType)}else console.log("❌ No existing authentication found")}catch(w){console.error("💥 Error checking auth status:",w)}finally{y(!1)}})()},[]),le.useEffect(()=>{(async()=>{if(s&&f==="hive"&&c?.hiveName)try{console.log("📊 Fetching member stats for hive:",c.hiveName);const w=Ye(Se(ve,"members"),Pe("selectedHiveName","==",c.hiveName)),D=(await Ze(w)).size,S=(await Ca.getApprovedMembers(c.hiveName)).size,N=(await Ca.getRejectedMembers(c.hiveName)).size,Me={pending:D,approved:S,rejected:N,total:D+S+N};Z(Me),console.log("✅ Member stats updated:",Me)}catch(w){console.error("💥 Error fetching member stats:",w)}})()},[s,f,c?.hiveName]);const K=()=>{e(!0)},fe=()=>{e(!1)},ie=()=>{console.log(`🚪 Logging out ${f} user`),Wf(),r(!1),h(null),p(null),C("dashboard"),console.log("✅ Logout successful")},k=re=>{C(re)},ae=async re=>{try{console.log("🎉 Creating event for hive:",c.hiveName),console.log("📋 Event data being submitted:",re);const w=await No.createEvent(re);console.log("✅ Event created successfully with ID:",w.id),alert(`Event request submitted successfully! 🎉

Your event has been sent to the admin for approval. You can view its status in the Events Management section.`)}catch(w){throw console.error("💥 Error creating event:",w),alert("Failed to create event. Please try again."),w}},J=(re,w=null)=>{switch(console.log("Selected option:",re,w),re){case"create-hive":console.log("🏗️ User submitted hive creation request"),alert("Hive application submitted successfully! You will receive a confirmation email shortly.");break;case"register-member":console.log("👥 User registered as member");const A=w?.selectedHive?.hiveName||"the selected hive";alert(`Application submitted successfully! Your application to join ${A} has been sent to the hive leader for review.`);break;case"login-success":const D=w.userType==="hive"?w.user.hiveName:`${w.user.memberName} (${w.user.hiveName})`;console.log(`✅ ${w.userType} login successful:`,D),r(!0),h(w.user),p(w.userType),e(!1),console.log(`🏠 Redirected to ${w.userType} dashboard for:`,D);return;default:console.log("Unknown option selected:",re)}e(!1)};return v?o.jsx("div",{className:"app loading-app",children:o.jsxs("div",{className:"loading-container",children:[o.jsx("div",{className:"loading-spinner"}),o.jsx("p",{children:"Loading..."})]})}):o.jsxs("div",{className:"app",children:[o.jsx(tj,{onLoginClick:K,isAuthenticated:s,currentUser:c,userType:f,onLogout:ie}),o.jsx("main",{className:"main-content",children:o.jsx("div",{className:"content-container",children:s&&c?f==="hive"?o.jsxs(o.Fragment,{children:[E==="dashboard"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"hive-header",children:[o.jsxs("h1",{children:["🏠 Welcome back to ",c.hiveName,"!"]}),o.jsxs("p",{className:"hive-subtitle",children:["Hello, ",c.creatorName," - Hive Leader"]})]}),o.jsxs("div",{className:"hive-dashboard",children:[o.jsxs("div",{className:"dashboard-cards",children:[o.jsxs("div",{className:"dashboard-card",children:[o.jsx("h3",{children:"📋 Member Status"}),o.jsxs("p",{children:["Total: ",L.total," • Pending: ",L.pending," • Approved: ",L.approved," • Rejected: ",L.rejected]}),o.jsx("button",{className:"card-button",onClick:()=>k("member-status"),children:"Review Applications"})]}),o.jsxs("div",{className:"dashboard-card",children:[o.jsx("h3",{children:"👥 Member Management"}),o.jsxs("p",{children:["View and monitor your approved hive members (",L.approved," active members)."]}),o.jsx("button",{className:"card-button",onClick:()=>k("member-management"),children:"View Members"})]}),o.jsxs("div",{className:"dashboard-card",children:[o.jsx("h3",{children:"📅 Events & Activities"}),o.jsx("p",{children:"Create and manage hive events and activities."}),o.jsx("button",{className:"card-button",onClick:()=>k("events-management"),children:"Manage Events"})]}),o.jsxs("div",{className:"dashboard-card",children:[o.jsx("h3",{children:"⚙️ Hive Settings"}),o.jsx("p",{children:"Customize your hive preferences and settings."}),o.jsx("button",{className:"card-button",children:"Edit Settings"})]})]}),o.jsxs("div",{className:"hive-info",children:[o.jsxs("div",{className:"info-card",children:[o.jsx("h3",{children:"🎆 Hive Information"}),o.jsxs("div",{className:"hive-details",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Hive Name:"})," ",c.hiveName]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Leader:"})," ",c.creatorName]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Contact:"})," ",c.email]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Login Time:"})," ",new Date(c.loginTime).toLocaleString()]})]})]}),o.jsxs("div",{className:"info-card",children:[o.jsx("h3",{children:"🚀 Quick Actions"}),o.jsxs("div",{className:"quick-actions",children:[o.jsx("button",{className:"action-btn primary",onClick:()=>U(!0),children:"Create Event"}),o.jsx("button",{className:"action-btn secondary",children:"Invite Members"}),o.jsx("button",{className:"action-btn tertiary",children:"View Reports"})]})]})]})]})]}),E==="member-status"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"view-header",children:o.jsx("button",{className:"back-button",onClick:()=>k("dashboard"),children:"← Back to Dashboard"})}),o.jsx(L_,{hive:c,mode:"applications"})]}),E==="member-management"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"view-header",children:o.jsx("button",{className:"back-button",onClick:()=>k("dashboard"),children:"← Back to Dashboard"})}),o.jsx(L_,{hive:c,mode:"members"})]}),E==="events-management"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"view-header",children:o.jsx("button",{className:"back-button",onClick:()=>k("dashboard"),children:"← Back to Dashboard"})}),o.jsx(Aj,{hive:c,onCreateEvent:()=>U(!0)})]})]}):o.jsx(Oj,{currentUser:c,onViewChange:k}):o.jsxs(o.Fragment,{children:[o.jsx("section",{className:"hero-section",children:o.jsxs("div",{className:"hero-content",children:[o.jsx("h1",{children:"Welcome to the Pivot"}),o.jsx("p",{children:"Connect, collaborate, and grow your tech community!"}),o.jsxs("div",{className:"hero-actions",children:[o.jsx("button",{onClick:K,className:"btn-primary",children:"Join Now"}),o.jsx("button",{onClick:()=>{document.getElementById("about").scrollIntoView({behavior:"smooth"})},className:"btn-secondary",children:"Learn More"})]})]})}),o.jsx("section",{id:"about",children:o.jsx(Bj,{})}),o.jsx("section",{id:"vision",children:o.jsx(zj,{})}),o.jsx("section",{id:"programs",children:o.jsx(qj,{})}),o.jsx("section",{className:"cta-section",children:o.jsxs("div",{className:"cta-content",children:[o.jsx("h2",{children:"Ready to Join Our Community?"}),o.jsx("p",{children:"Create an account or sign in to get started with your Pivot journey."}),o.jsx("button",{onClick:K,className:"btn-primary",children:"Get Started"})]})})]})})}),!s&&o.jsx(_j,{isOpen:i,onClose:fe,onOptionSelect:J}),s&&f==="hive"&&o.jsx(Tj,{isOpen:R,onClose:()=>U(!1),onSubmit:ae,hive:c})]})}kT.createRoot(document.getElementById("root")).render(o.jsx(le.StrictMode,{children:o.jsx(Hj,{})}));
