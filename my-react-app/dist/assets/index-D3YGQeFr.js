(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function s(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=s(o);fetch(o.href,h)}})();var cf={exports:{}},io={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function wA(){if(oy)return io;oy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(r,o,h){var f=null;if(h!==void 0&&(f=""+h),o.key!==void 0&&(f=""+o.key),"key"in o){h={};for(var p in o)p!=="key"&&(h[p]=o[p])}else h=o;return o=h.ref,{$$typeof:i,type:r,key:f,ref:o!==void 0?o:null,props:h}}return io.Fragment=e,io.jsx=s,io.jsxs=s,io}var cy;function jA(){return cy||(cy=1,cf.exports=wA()),cf.exports}var c=jA(),uf={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function RA(){if(uy)return Ce;uy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),R=Symbol.iterator;function C(V){return V===null||typeof V!="object"?null:(V=R&&V[R]||V["@@iterator"],typeof V=="function"?V:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,J={};function K(V,W,oe){this.props=V,this.context=W,this.refs=J,this.updater=oe||P}K.prototype.isReactComponent={},K.prototype.setState=function(V,W){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,W,"setState")},K.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function me(){}me.prototype=K.prototype;function ie(V,W,oe){this.props=V,this.context=W,this.refs=J,this.updater=oe||P}var Q=ie.prototype=new me;Q.constructor=ie,k(Q,K.prototype),Q.isPureReactComponent=!0;var he=Array.isArray,ne={H:null,A:null,T:null,S:null,V:null},ue=Object.prototype.hasOwnProperty;function w(V,W,oe,se,be,De){return oe=De.ref,{$$typeof:i,type:V,key:W,ref:oe!==void 0?oe:null,props:De}}function x(V,W){return w(V.type,W,void 0,void 0,void 0,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function j(V){var W={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(oe){return W[oe]})}var N=/\/+/g;function M(V,W){return typeof V=="object"&&V!==null&&V.key!=null?j(""+V.key):W.toString(36)}function S(){}function Ve(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(S,S):(V.status="pending",V.then(function(W){V.status==="pending"&&(V.status="fulfilled",V.value=W)},function(W){V.status==="pending"&&(V.status="rejected",V.reason=W)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function $e(V,W,oe,se,be){var De=typeof V;(De==="undefined"||De==="boolean")&&(V=null);var fe=!1;if(V===null)fe=!0;else switch(De){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(V.$$typeof){case i:case e:fe=!0;break;case E:return fe=V._init,$e(fe(V._payload),W,oe,se,be)}}if(fe)return be=be(V),fe=se===""?"."+M(V,0):se,he(be)?(oe="",fe!=null&&(oe=fe.replace(N,"$&/")+"/"),$e(be,W,oe,"",function(Re){return Re})):be!=null&&(D(be)&&(be=x(be,oe+(be.key==null||V&&V.key===be.key?"":(""+be.key).replace(N,"$&/")+"/")+fe)),W.push(be)),1;fe=0;var Me=se===""?".":se+":";if(he(V))for(var q=0;q<V.length;q++)se=V[q],De=Me+M(se,q),fe+=$e(se,W,oe,De,be);else if(q=C(V),typeof q=="function")for(V=q.call(V),q=0;!(se=V.next()).done;)se=se.value,De=Me+M(se,q++),fe+=$e(se,W,oe,De,be);else if(De==="object"){if(typeof V.then=="function")return $e(Ve(V),W,oe,se,be);throw W=String(V),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return fe}function Y(V,W,oe){if(V==null)return V;var se=[],be=0;return $e(V,se,"","",function(De){return W.call(oe,De,be++)}),se}function re(V){if(V._status===-1){var W=V._result;W=W(),W.then(function(oe){(V._status===0||V._status===-1)&&(V._status=1,V._result=oe)},function(oe){(V._status===0||V._status===-1)&&(V._status=2,V._result=oe)}),V._status===-1&&(V._status=0,V._result=W)}if(V._status===1)return V._result.default;throw V._result}var ve=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function ze(){}return Ce.Children={map:Y,forEach:function(V,W,oe){Y(V,function(){W.apply(this,arguments)},oe)},count:function(V){var W=0;return Y(V,function(){W++}),W},toArray:function(V){return Y(V,function(W){return W})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ce.Component=K,Ce.Fragment=s,Ce.Profiler=o,Ce.PureComponent=ie,Ce.StrictMode=r,Ce.Suspense=v,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(V){return ne.H.useMemoCache(V)}},Ce.cache=function(V){return function(){return V.apply(null,arguments)}},Ce.cloneElement=function(V,W,oe){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var se=k({},V.props),be=V.key,De=void 0;if(W!=null)for(fe in W.ref!==void 0&&(De=void 0),W.key!==void 0&&(be=""+W.key),W)!ue.call(W,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&W.ref===void 0||(se[fe]=W[fe]);var fe=arguments.length-2;if(fe===1)se.children=oe;else if(1<fe){for(var Me=Array(fe),q=0;q<fe;q++)Me[q]=arguments[q+2];se.children=Me}return w(V.type,be,void 0,void 0,De,se)},Ce.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},Ce.createElement=function(V,W,oe){var se,be={},De=null;if(W!=null)for(se in W.key!==void 0&&(De=""+W.key),W)ue.call(W,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(be[se]=W[se]);var fe=arguments.length-2;if(fe===1)be.children=oe;else if(1<fe){for(var Me=Array(fe),q=0;q<fe;q++)Me[q]=arguments[q+2];be.children=Me}if(V&&V.defaultProps)for(se in fe=V.defaultProps,fe)be[se]===void 0&&(be[se]=fe[se]);return w(V,De,void 0,void 0,null,be)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(V){return{$$typeof:p,render:V}},Ce.isValidElement=D,Ce.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:re}},Ce.memo=function(V,W){return{$$typeof:y,type:V,compare:W===void 0?null:W}},Ce.startTransition=function(V){var W=ne.T,oe={};ne.T=oe;try{var se=V(),be=ne.S;be!==null&&be(oe,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(ze,ve)}catch(De){ve(De)}finally{ne.T=W}},Ce.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},Ce.use=function(V){return ne.H.use(V)},Ce.useActionState=function(V,W,oe){return ne.H.useActionState(V,W,oe)},Ce.useCallback=function(V,W){return ne.H.useCallback(V,W)},Ce.useContext=function(V){return ne.H.useContext(V)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(V,W){return ne.H.useDeferredValue(V,W)},Ce.useEffect=function(V,W,oe){var se=ne.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(V,W)},Ce.useId=function(){return ne.H.useId()},Ce.useImperativeHandle=function(V,W,oe){return ne.H.useImperativeHandle(V,W,oe)},Ce.useInsertionEffect=function(V,W){return ne.H.useInsertionEffect(V,W)},Ce.useLayoutEffect=function(V,W){return ne.H.useLayoutEffect(V,W)},Ce.useMemo=function(V,W){return ne.H.useMemo(V,W)},Ce.useOptimistic=function(V,W){return ne.H.useOptimistic(V,W)},Ce.useReducer=function(V,W,oe){return ne.H.useReducer(V,W,oe)},Ce.useRef=function(V){return ne.H.useRef(V)},Ce.useState=function(V){return ne.H.useState(V)},Ce.useSyncExternalStore=function(V,W,oe){return ne.H.useSyncExternalStore(V,W,oe)},Ce.useTransition=function(){return ne.H.useTransition()},Ce.version="19.1.1",Ce}var hy;function em(){return hy||(hy=1,uf.exports=RA()),uf.exports}var ce=em(),hf={exports:{}},ao={},df={exports:{}},ff={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function CA(){return dy||(dy=1,(function(i){function e(Y,re){var ve=Y.length;Y.push(re);e:for(;0<ve;){var ze=ve-1>>>1,V=Y[ze];if(0<o(V,re))Y[ze]=re,Y[ve]=V,ve=ze;else break e}}function s(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var re=Y[0],ve=Y.pop();if(ve!==re){Y[0]=ve;e:for(var ze=0,V=Y.length,W=V>>>1;ze<W;){var oe=2*(ze+1)-1,se=Y[oe],be=oe+1,De=Y[be];if(0>o(se,ve))be<V&&0>o(De,se)?(Y[ze]=De,Y[be]=ve,ze=be):(Y[ze]=se,Y[oe]=ve,ze=oe);else if(be<V&&0>o(De,ve))Y[ze]=De,Y[be]=ve,ze=be;else break e}}return re}function o(Y,re){var ve=Y.sortIndex-re.sortIndex;return ve!==0?ve:Y.id-re.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;i.unstable_now=function(){return h.now()}}else{var f=Date,p=f.now();i.unstable_now=function(){return f.now()-p}}var v=[],y=[],E=1,R=null,C=3,P=!1,k=!1,J=!1,K=!1,me=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function he(Y){for(var re=s(y);re!==null;){if(re.callback===null)r(y);else if(re.startTime<=Y)r(y),re.sortIndex=re.expirationTime,e(v,re);else break;re=s(y)}}function ne(Y){if(J=!1,he(Y),!k)if(s(v)!==null)k=!0,ue||(ue=!0,M());else{var re=s(y);re!==null&&$e(ne,re.startTime-Y)}}var ue=!1,w=-1,x=5,D=-1;function j(){return K?!0:!(i.unstable_now()-D<x)}function N(){if(K=!1,ue){var Y=i.unstable_now();D=Y;var re=!0;try{e:{k=!1,J&&(J=!1,ie(w),w=-1),P=!0;var ve=C;try{t:{for(he(Y),R=s(v);R!==null&&!(R.expirationTime>Y&&j());){var ze=R.callback;if(typeof ze=="function"){R.callback=null,C=R.priorityLevel;var V=ze(R.expirationTime<=Y);if(Y=i.unstable_now(),typeof V=="function"){R.callback=V,he(Y),re=!0;break t}R===s(v)&&r(v),he(Y)}else r(v);R=s(v)}if(R!==null)re=!0;else{var W=s(y);W!==null&&$e(ne,W.startTime-Y),re=!1}}break e}finally{R=null,C=ve,P=!1}re=void 0}}finally{re?M():ue=!1}}}var M;if(typeof Q=="function")M=function(){Q(N)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,Ve=S.port2;S.port1.onmessage=N,M=function(){Ve.postMessage(null)}}else M=function(){me(N,0)};function $e(Y,re){w=me(function(){Y(i.unstable_now())},re)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return C},i.unstable_next=function(Y){switch(C){case 1:case 2:case 3:var re=3;break;default:re=C}var ve=C;C=re;try{return Y()}finally{C=ve}},i.unstable_requestPaint=function(){K=!0},i.unstable_runWithPriority=function(Y,re){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ve=C;C=Y;try{return re()}finally{C=ve}},i.unstable_scheduleCallback=function(Y,re,ve){var ze=i.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?ze+ve:ze):ve=ze,Y){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ve+V,Y={id:E++,callback:re,priorityLevel:Y,startTime:ve,expirationTime:V,sortIndex:-1},ve>ze?(Y.sortIndex=ve,e(y,Y),s(v)===null&&Y===s(y)&&(J?(ie(w),w=-1):J=!0,$e(ne,ve-ze))):(Y.sortIndex=V,e(v,Y),k||P||(k=!0,ue||(ue=!0,M()))),Y},i.unstable_shouldYield=j,i.unstable_wrapCallback=function(Y){var re=C;return function(){var ve=C;C=re;try{return Y.apply(this,arguments)}finally{C=ve}}}})(ff)),ff}var fy;function DA(){return fy||(fy=1,df.exports=CA()),df.exports}var mf={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my;function IA(){if(my)return Wt;my=1;var i=em();function e(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,y,E){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:R==null?null:""+R,children:v,containerInfo:y,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Wt.createPortal=function(v,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return h(v,y,null,E)},Wt.flushSync=function(v){var y=f.T,E=r.p;try{if(f.T=null,r.p=2,v)return v()}finally{f.T=y,r.p=E,r.d.f()}},Wt.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(v,y))},Wt.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},Wt.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var E=y.as,R=p(E,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?r.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:R,integrity:C,fetchPriority:P}):E==="script"&&r.d.X(v,{crossOrigin:R,integrity:C,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Wt.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);r.d.M(v,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(v)},Wt.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,R=p(E,y.crossOrigin);r.d.L(v,E,{crossOrigin:R,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Wt.preloadModule=function(v,y){if(typeof v=="string")if(y){var E=p(y.as,y.crossOrigin);r.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(v)},Wt.requestFormReset=function(v){r.d.r(v)},Wt.unstable_batchedUpdates=function(v,y){return v(y)},Wt.useFormState=function(v,y,E){return f.H.useFormState(v,y,E)},Wt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Wt.version="19.1.1",Wt}var py;function VA(){if(py)return mf.exports;py=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),mf.exports=IA(),mf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function MA(){if(gy)return ao;gy=1;var i=DA(),e=em(),s=VA();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(h(t)!==t)throw Error(r(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return p(d),t;if(m===l)return p(d),n;m=m.sibling}throw Error(r(188))}if(a.return!==l.return)a=d,l=m;else{for(var b=!1,T=d.child;T;){if(T===a){b=!0,a=d,l=m;break}if(T===l){b=!0,l=d,a=m;break}T=T.sibling}if(!b){for(T=m.child;T;){if(T===a){b=!0,a=m,l=d;break}if(T===l){b=!0,l=m,a=d;break}T=T.sibling}if(!b)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,R=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),me=Symbol.for("react.provider"),ie=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var S=Symbol.for("react.client.reference");function Ve(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===S?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case K:return"Profiler";case J:return"StrictMode";case ne:return"Suspense";case ue:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case Q:return(t.displayName||"Context")+".Provider";case ie:return(t._context.displayName||"Context")+".Consumer";case he:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case w:return n=t.displayName||null,n!==null?n:Ve(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return Ve(t(n))}catch{}}return null}var $e=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},ze=[],V=-1;function W(t){return{current:t}}function oe(t){0>V||(t.current=ze[V],ze[V]=null,V--)}function se(t,n){V++,ze[V]=t.current,t.current=n}var be=W(null),De=W(null),fe=W(null),Me=W(null);function q(t,n){switch(se(fe,n),se(De,t),se(be,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?kv(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=kv(n),t=Lv(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(be),se(be,t)}function Re(){oe(be),oe(De),oe(fe)}function Se(t){t.memoizedState!==null&&se(Me,t);var n=be.current,a=Lv(n,t.type);n!==a&&(se(De,t),se(be,a))}function At(t){De.current===t&&(oe(be),oe(De)),Me.current===t&&(oe(Me),Wl._currentValue=ve)}var Fi=Object.prototype.hasOwnProperty,Gi=i.unstable_scheduleCallback,Qi=i.unstable_cancelCallback,Xr=i.unstable_shouldYield,Lo=i.unstable_requestPaint,Dn=i.unstable_now,oh=i.unstable_getCurrentPriorityLevel,Zr=i.unstable_ImmediatePriority,Ba=i.unstable_UserBlockingPriority,Yi=i.unstable_NormalPriority,ch=i.unstable_LowPriority,za=i.unstable_IdlePriority,Jr=i.log,Po=i.unstable_setDisableYieldValue,pt=null,et=null;function _n(t){if(typeof Jr=="function"&&Po(t),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(pt,t)}catch{}}var Zt=Math.clz32?Math.clz32:$i,Uo=Math.log,uh=Math.LN2;function $i(t){return t>>>=0,t===0?32:31-(Uo(t)/uh|0)|0}var Ki=256,Xi=4194304;function Gn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function qa(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,m=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~m,l!==0?d=Gn(l):(b&=T,b!==0?d=Gn(b):a||(a=T&~t,a!==0&&(d=Gn(a))))):(T=l&~m,T!==0?d=Gn(T):b!==0?d=Gn(b):a||(a=l&~t,a!==0&&(d=Gn(a)))),d===0?0:n!==0&&n!==d&&(n&m)===0&&(m=d&-d,a=n&-n,m>=a||m===32&&(a&4194048)!==0)?n:d}function Zi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Wr(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function el(){var t=Ki;return Ki<<=1,(Ki&4194048)===0&&(Ki=256),t}function tl(){var t=Xi;return Xi<<=1,(Xi&62914560)===0&&(Xi=4194304),t}function As(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function xs(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function nl(t,n,a,l,d,m){var b=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,z=t.hiddenUpdates;for(a=b&~a;0<a;){var X=31-Zt(a),ee=1<<X;T[X]=0,I[X]=-1;var H=z[X];if(H!==null)for(z[X]=null,X=0;X<H.length;X++){var F=H[X];F!==null&&(F.lane&=-536870913)}a&=~ee}l!==0&&Jn(t,l,0),m!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=m&~(b&~n))}function Jn(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Zt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function sl(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Zt(a),d=1<<l;d&n|t[l]&n&&(t[l]|=n),a&=~d}}function ti(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ha(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ni(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:ny(t.type))}function Bo(t,n){var a=re.p;try{return re.p=t,n()}finally{re.p=a}}var ht=Math.random().toString(36).slice(2),Dt="__reactFiber$"+ht,xt="__reactProps$"+ht,In="__reactContainer$"+ht,il="__reactEvents$"+ht,hh="__reactListeners$"+ht,si="__reactHandles$"+ht,zo="__reactResources$"+ht,Ji="__reactMarker$"+ht;function ii(t){delete t[Dt],delete t[xt],delete t[il],delete t[hh],delete t[si]}function Ss(t){var n=t[Dt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[In]||a[Dt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=zv(t);t!==null;){if(a=t[Dt])return a;t=zv(t)}return n}t=a,a=t.parentNode}return null}function Wn(t){if(t=t[Dt]||t[In]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function es(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function an(t){var n=t[zo];return n||(n=t[zo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function yt(t){t[Ji]=!0}var al=new Set,Fa={};function Qn(t,n){Ns(t,n),Ns(t+"Capture",n)}function Ns(t,n){for(Fa[t]=n,t=0;t<n.length;t++)al.add(n[t])}var qo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ho={},Wi={};function Fo(t){return Fi.call(Wi,t)?!0:Fi.call(Ho,t)?!1:qo.test(t)?Wi[t]=!0:(Ho[t]=!0,!1)}function ai(t,n,a){if(Fo(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function ts(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ht(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var ea,Go;function ws(t){if(ea===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ea=n&&n[1]||"",Go=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ea+t+Go}var Ga=!1;function Qa(t,n){if(!t||Ga)return"";Ga=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(F){var H=F}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(F){H=F}t.call(ee.prototype)}}else{try{throw Error()}catch(F){H=F}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),b=m[0],T=m[1];if(b&&T){var I=b.split(`
`),z=T.split(`
`);for(d=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;d<z.length&&!z[d].includes("DetermineComponentFrameRoot");)d++;if(l===I.length||d===z.length)for(l=I.length-1,d=z.length-1;1<=l&&0<=d&&I[l]!==z[d];)d--;for(;1<=l&&0<=d;l--,d--)if(I[l]!==z[d]){if(l!==1||d!==1)do if(l--,d--,0>d||I[l]!==z[d]){var X=`
`+I[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=d);break}}}finally{Ga=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ws(a):""}function rl(t){switch(t.tag){case 26:case 27:case 5:return ws(t.type);case 16:return ws("Lazy");case 13:return ws("Suspense");case 19:return ws("SuspenseList");case 0:case 15:return Qa(t.type,!1);case 11:return Qa(t.type.render,!1);case 1:return Qa(t.type,!0);case 31:return ws("Activity");default:return""}}function Ya(t){try{var n="";do n+=rl(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function rn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ll(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function dh(t){var n=ll(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return d.call(this)},set:function(b){l=""+b,m.call(this,b)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function $a(t){t._valueTracker||(t._valueTracker=dh(t))}function ol(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=ll(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ta(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var fh=/[\n"\\]/g;function St(t){return t.replace(fh,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function bn(t,n,a,l,d,m,b,T){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),n!=null?b==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+rn(n)):t.value!==""+rn(n)&&(t.value=""+rn(n)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),n!=null?ri(t,b,rn(n)):a!=null?ri(t,b,rn(a)):l!=null&&t.removeAttribute("value"),d==null&&m!=null&&(t.defaultChecked=!!m),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+rn(T):t.removeAttribute("name")}function na(t,n,a,l,d,m,b,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||n!=null))return;a=a!=null?""+rn(a):"",n=n!=null?""+rn(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b)}function ri(t,n,a){n==="number"&&ta(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function js(t,n,a,l){if(t=t.options,n){n={};for(var d=0;d<a.length;d++)n["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=n.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+rn(a),n=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}n!==null||t[d].disabled||(n=t[d])}n!==null&&(n.selected=!0)}}function st(t,n,a){if(n!=null&&(n=""+rn(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+rn(a):""}function sa(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if($e(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=rn(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Vn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var ia=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qo(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||ia.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function cl(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in n)l=n[d],n.hasOwnProperty(d)&&a[d]!==l&&Qo(t,d,l)}else for(var m in n)n.hasOwnProperty(m)&&Qo(t,m,n[m])}function ul(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ph=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ka(t){return ph.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Rs=null;function Mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cs=null,Ds=null;function hl(t){var n=Wn(t);if(n&&(t=n.stateNode)){var a=t[xt]||null;e:switch(t=n.stateNode,n.type){case"input":if(bn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+St(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var d=l[xt]||null;if(!d)throw Error(r(90));bn(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&ol(l)}break e;case"textarea":st(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&js(t,!!a.multiple,n,!1)}}}var ns=!1;function Yo(t,n,a){if(ns)return t(n,a);ns=!0;try{var l=t(n);return l}finally{if(ns=!1,(Cs!==null||Ds!==null)&&(Bc(),Cs&&(n=Cs,t=Ds,Ds=Cs=null,hl(n),t)))for(n=0;n<t.length;n++)hl(t[n])}}function aa(t,n){var a=t.stateNode;if(a===null)return null;var l=a[xt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),On=!1;if(Yn)try{var ra={};Object.defineProperty(ra,"passive",{get:function(){On=!0}}),window.addEventListener("test",ra,ra),window.removeEventListener("test",ra,ra)}catch{On=!1}var ss=null,li=null,Is=null;function dl(){if(Is)return Is;var t,n=li,a=n.length,l,d="value"in ss?ss.value:ss.textContent,m=d.length;for(t=0;t<a&&n[t]===d[t];t++);var b=a-t;for(l=1;l<=b&&n[a-l]===d[m-l];l++);return Is=d.slice(t,1<l?1-l:void 0)}function is(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function as(){return!0}function fl(){return!1}function Lt(t){function n(a,l,d,m,b){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?as:fl,this.isPropagationStopped=fl,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),n}var Je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xa=Lt(Je),la=E({},Je,{view:0,detail:0}),$o=Lt(la),Za,Ja,rs,oa=E({},la,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ha,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==rs&&(rs&&t.type==="mousemove"?(Za=t.screenX-rs.screenX,Ja=t.screenY-rs.screenY):Ja=Za=0,rs=t),Za)},movementY:function(t){return"movementY"in t?t.movementY:Ja}}),kn=Lt(oa),Ko=E({},oa,{dataTransfer:0}),gh=Lt(Ko),ca=E({},la,{relatedTarget:0}),Wa=Lt(ca),ml=E({},Je,{animationName:0,elapsedTime:0,pseudoElement:0}),er=Lt(ml),Xo=E({},Je,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tr=Lt(Xo),vh=E({},Je,{data:0}),pl=Lt(vh),ua={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Jo[t])?!!n[t]:!1}function ha(){return gl}var Wo=E({},la,{key:function(t){if(t.key){var n=ua[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=is(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Zo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ha,charCode:function(t){return t.type==="keypress"?is(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?is(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nr=Lt(Wo),ec=E({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vl=Lt(ec),Vs=E({},la,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ha}),tc=Lt(Vs),nc=E({},Je,{propertyName:0,elapsedTime:0,pseudoElement:0}),sc=Lt(nc),ic=E({},oa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sr=Lt(ic),ln=E({},Je,{newState:0,oldState:0}),ac=Lt(ln),rc=[9,13,27,32],ls=Yn&&"CompositionEvent"in window,u=null;Yn&&"documentMode"in document&&(u=document.documentMode);var g=Yn&&"TextEvent"in window&&!u,_=Yn&&(!ls||u&&8<u&&11>=u),A=" ",U=!1;function G(t,n){switch(t){case"keyup":return rc.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qe=!1;function It(t,n){switch(t){case"compositionend":return ae(n);case"keypress":return n.which!==32?null:(U=!0,A);case"textInput":return t=n.data,t===A&&U?null:t;default:return null}}function He(t,n){if(qe)return t==="compositionend"||!ls&&G(t,n)?(t=dl(),Is=li=ss=null,qe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Pt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vt(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Pt[t.type]:n==="textarea"}function Ms(t,n,a,l){Cs?Ds?Ds.push(l):Ds=[l]:Cs=l,n=Qc(n,"onChange"),0<n.length&&(a=new Xa("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Ft=null,os=null;function yl(t){Dv(t,0)}function lc(t){var n=es(t);if(ol(n))return t}function Jm(t,n){if(t==="change")return n}var Wm=!1;if(Yn){var yh;if(Yn){var _h="oninput"in document;if(!_h){var ep=document.createElement("div");ep.setAttribute("oninput","return;"),_h=typeof ep.oninput=="function"}yh=_h}else yh=!1;Wm=yh&&(!document.documentMode||9<document.documentMode)}function tp(){Ft&&(Ft.detachEvent("onpropertychange",np),os=Ft=null)}function np(t){if(t.propertyName==="value"&&lc(os)){var n=[];Ms(n,os,t,Mn(t)),Yo(yl,n)}}function sT(t,n,a){t==="focusin"?(tp(),Ft=n,os=a,Ft.attachEvent("onpropertychange",np)):t==="focusout"&&tp()}function iT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lc(os)}function aT(t,n){if(t==="click")return lc(n)}function rT(t,n){if(t==="input"||t==="change")return lc(n)}function lT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var En=typeof Object.is=="function"?Object.is:lT;function _l(t,n){if(En(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!Fi.call(n,d)||!En(t[d],n[d]))return!1}return!0}function sp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ip(t,n){var a=sp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=sp(a)}}function ap(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?ap(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function rp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ta(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ta(t.document)}return n}function bh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var oT=Yn&&"documentMode"in document&&11>=document.documentMode,ir=null,Eh=null,bl=null,Th=!1;function lp(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Th||ir==null||ir!==ta(l)||(l=ir,"selectionStart"in l&&bh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),bl&&_l(bl,l)||(bl=l,l=Qc(Eh,"onSelect"),0<l.length&&(n=new Xa("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=ir)))}function da(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var ar={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},Ah={},op={};Yn&&(op=document.createElement("div").style,"AnimationEvent"in window||(delete ar.animationend.animation,delete ar.animationiteration.animation,delete ar.animationstart.animation),"TransitionEvent"in window||delete ar.transitionend.transition);function fa(t){if(Ah[t])return Ah[t];if(!ar[t])return t;var n=ar[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in op)return Ah[t]=n[a];return t}var cp=fa("animationend"),up=fa("animationiteration"),hp=fa("animationstart"),cT=fa("transitionrun"),uT=fa("transitionstart"),hT=fa("transitioncancel"),dp=fa("transitionend"),fp=new Map,xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xh.push("scrollEnd");function $n(t,n){fp.set(t,n),Qn(n,[t])}var mp=new WeakMap;function Ln(t,n){if(typeof t=="object"&&t!==null){var a=mp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Ya(n)},mp.set(t,n),n)}return{value:t,source:n,stack:Ya(n)}}var Pn=[],rr=0,Sh=0;function oc(){for(var t=rr,n=Sh=rr=0;n<t;){var a=Pn[n];Pn[n++]=null;var l=Pn[n];Pn[n++]=null;var d=Pn[n];Pn[n++]=null;var m=Pn[n];if(Pn[n++]=null,l!==null&&d!==null){var b=l.pending;b===null?d.next=d:(d.next=b.next,b.next=d),l.pending=d}m!==0&&pp(a,d,m)}}function cc(t,n,a,l){Pn[rr++]=t,Pn[rr++]=n,Pn[rr++]=a,Pn[rr++]=l,Sh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Nh(t,n,a,l){return cc(t,n,a,l),uc(t)}function lr(t,n){return cc(t,null,null,n),uc(t)}function pp(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(d=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,d&&n!==null&&(d=31-Zt(a),t=m.hiddenUpdates,l=t[d],l===null?t[d]=[n]:l.push(n),n.lane=a|536870912),m):null}function uc(t){if(50<Gl)throw Gl=0,Id=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var or={};function dT(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,n,a,l){return new dT(t,n,a,l)}function wh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Os(t,n){var a=t.alternate;return a===null?(a=Tn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function gp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function hc(t,n,a,l,d,m){var b=0;if(l=t,typeof t=="function")wh(t)&&(b=1);else if(typeof t=="string")b=mA(t,a,be.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case D:return t=Tn(31,a,n,d),t.elementType=D,t.lanes=m,t;case k:return ma(a.children,d,m,n);case J:b=8,d|=24;break;case K:return t=Tn(12,a,n,d|2),t.elementType=K,t.lanes=m,t;case ne:return t=Tn(13,a,n,d),t.elementType=ne,t.lanes=m,t;case ue:return t=Tn(19,a,n,d),t.elementType=ue,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case me:case Q:b=10;break e;case ie:b=9;break e;case he:b=11;break e;case w:b=14;break e;case x:b=16,l=null;break e}b=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=Tn(b,a,n,d),n.elementType=t,n.type=l,n.lanes=m,n}function ma(t,n,a,l){return t=Tn(7,t,l,n),t.lanes=a,t}function jh(t,n,a){return t=Tn(6,t,null,n),t.lanes=a,t}function Rh(t,n,a){return n=Tn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var cr=[],ur=0,dc=null,fc=0,Un=[],Bn=0,pa=null,ks=1,Ls="";function ga(t,n){cr[ur++]=fc,cr[ur++]=dc,dc=t,fc=n}function vp(t,n,a){Un[Bn++]=ks,Un[Bn++]=Ls,Un[Bn++]=pa,pa=t;var l=ks;t=Ls;var d=32-Zt(l)-1;l&=~(1<<d),a+=1;var m=32-Zt(n)+d;if(30<m){var b=d-d%5;m=(l&(1<<b)-1).toString(32),l>>=b,d-=b,ks=1<<32-Zt(n)+d|a<<d|l,Ls=m+t}else ks=1<<m|a<<d|l,Ls=t}function Ch(t){t.return!==null&&(ga(t,1),vp(t,1,0))}function Dh(t){for(;t===dc;)dc=cr[--ur],cr[ur]=null,fc=cr[--ur],cr[ur]=null;for(;t===pa;)pa=Un[--Bn],Un[Bn]=null,Ls=Un[--Bn],Un[Bn]=null,ks=Un[--Bn],Un[Bn]=null}var on=null,gt=null,Ze=!1,va=null,cs=!1,Ih=Error(r(519));function ya(t){var n=Error(r(418,""));throw Al(Ln(n,t)),Ih}function yp(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Dt]=t,n[xt]=l,a){case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":case"embed":Le("load",n);break;case"video":case"audio":for(a=0;a<Yl.length;a++)Le(Yl[a],n);break;case"source":Le("error",n);break;case"img":case"image":case"link":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"input":Le("invalid",n),na(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),$a(n);break;case"select":Le("invalid",n);break;case"textarea":Le("invalid",n),sa(n,l.value,l.defaultValue,l.children),$a(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Ov(n.textContent,a)?(l.popover!=null&&(Le("beforetoggle",n),Le("toggle",n)),l.onScroll!=null&&Le("scroll",n),l.onScrollEnd!=null&&Le("scrollend",n),l.onClick!=null&&(n.onclick=Yc),n=!0):n=!1,n||ya(t)}function _p(t){for(on=t.return;on;)switch(on.tag){case 5:case 13:cs=!1;return;case 27:case 3:cs=!0;return;default:on=on.return}}function El(t){if(t!==on)return!1;if(!Ze)return _p(t),Ze=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||$d(t.type,t.memoizedProps)),a=!a),a&&gt&&ya(t),_p(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){gt=Xn(t.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}gt=null}}else n===27?(n=gt,Ai(t.type)?(t=Jd,Jd=null,gt=t):gt=n):gt=on?Xn(t.stateNode.nextSibling):null;return!0}function Tl(){gt=on=null,Ze=!1}function bp(){var t=va;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),va=null),t}function Al(t){va===null?va=[t]:va.push(t)}var Vh=W(null),_a=null,Ps=null;function oi(t,n,a){se(Vh,n._currentValue),n._currentValue=a}function Us(t){t._currentValue=Vh.current,oe(Vh)}function Mh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Oh(t,n,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var m=d.dependencies;if(m!==null){var b=d.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=d;for(var I=0;I<n.length;I++)if(T.context===n[I]){m.lanes|=a,T=m.alternate,T!==null&&(T.lanes|=a),Mh(m.return,a,t),l||(b=null);break e}m=T.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(r(341));b.lanes|=a,m=b.alternate,m!==null&&(m.lanes|=a),Mh(b,a,t),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===t){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function xl(t,n,a,l){t=null;for(var d=n,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var T=d.type;En(d.pendingProps.value,b.value)||(t!==null?t.push(T):t=[T])}}else if(d===Me.current){if(b=d.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Wl):t=[Wl])}d=d.return}t!==null&&Oh(n,t,a,l),n.flags|=262144}function mc(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ba(t){_a=t,Ps=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Jt(t){return Ep(_a,t)}function pc(t,n){return _a===null&&ba(t),Ep(t,n)}function Ep(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ps===null){if(t===null)throw Error(r(308));Ps=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ps=Ps.next=n;return a}var fT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},mT=i.unstable_scheduleCallback,pT=i.unstable_NormalPriority,Mt={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kh(){return{controller:new fT,data:new Map,refCount:0}}function Sl(t){t.refCount--,t.refCount===0&&mT(pT,function(){t.controller.abort()})}var Nl=null,Lh=0,hr=0,dr=null;function gT(t,n){if(Nl===null){var a=Nl=[];Lh=0,hr=Ud(),dr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Lh++,n.then(Tp,Tp),n}function Tp(){if(--Lh===0&&Nl!==null){dr!==null&&(dr.status="fulfilled");var t=Nl;Nl=null,hr=0,dr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function vT(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var d=0;d<a.length;d++)(0,a[d])(n)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var Ap=Y.S;Y.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&gT(t,n),Ap!==null&&Ap(t,n)};var Ea=W(null);function Ph(){var t=Ea.current;return t!==null?t:ct.pooledCache}function gc(t,n){n===null?se(Ea,Ea.current):se(Ea,n.pool)}function xp(){var t=Ph();return t===null?null:{parent:Mt._currentValue,pool:t}}var wl=Error(r(460)),Sp=Error(r(474)),vc=Error(r(542)),Uh={then:function(){}};function Np(t){return t=t.status,t==="fulfilled"||t==="rejected"}function yc(){}function wp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(yc,yc),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Rp(t),t;default:if(typeof n.status=="string")n.then(yc,yc);else{if(t=ct,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=l}},function(l){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Rp(t),t}throw jl=n,wl}}var jl=null;function jp(){if(jl===null)throw Error(r(459));var t=jl;return jl=null,t}function Rp(t){if(t===wl||t===vc)throw Error(r(483))}var ci=!1;function Bh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ui(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function hi(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(tt&2)!==0){var d=l.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),l.pending=n,n=uc(t),pp(t,null,a),n}return cc(t,l,n,a),uc(t)}function Rl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,sl(t,a)}}function qh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?d=m=b:m=m.next=b,a=a.next}while(a!==null);m===null?d=m=n:m=m.next=n}else d=m=n;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Hh=!1;function Cl(){if(Hh){var t=dr;if(t!==null)throw t}}function Dl(t,n,a,l){Hh=!1;var d=t.updateQueue;ci=!1;var m=d.firstBaseUpdate,b=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var I=T,z=I.next;I.next=null,b===null?m=z:b.next=z,b=I;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==b&&(T===null?X.firstBaseUpdate=z:T.next=z,X.lastBaseUpdate=I))}if(m!==null){var ee=d.baseState;b=0,X=z=I=null,T=m;do{var H=T.lane&-536870913,F=H!==T.lane;if(F?(Fe&H)===H:(l&H)===H){H!==0&&H===hr&&(Hh=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ne=t,Ee=T;H=n;var rt=a;switch(Ee.tag){case 1:if(Ne=Ee.payload,typeof Ne=="function"){ee=Ne.call(rt,ee,H);break e}ee=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Ee.payload,H=typeof Ne=="function"?Ne.call(rt,ee,H):Ne,H==null)break e;ee=E({},ee,H);break e;case 2:ci=!0}}H=T.callback,H!==null&&(t.flags|=64,F&&(t.flags|=8192),F=d.callbacks,F===null?d.callbacks=[H]:F.push(H))}else F={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(z=X=F,I=ee):X=X.next=F,b|=H;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;F=T,T=F.next,F.next=null,d.lastBaseUpdate=F,d.shared.pending=null}}while(!0);X===null&&(I=ee),d.baseState=I,d.firstBaseUpdate=z,d.lastBaseUpdate=X,m===null&&(d.shared.lanes=0),_i|=b,t.lanes=b,t.memoizedState=ee}}function Cp(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Dp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Cp(a[t],n)}var fr=W(null),_c=W(0);function Ip(t,n){t=Qs,se(_c,t),se(fr,n),Qs=t|n.baseLanes}function Fh(){se(_c,Qs),se(fr,fr.current)}function Gh(){Qs=_c.current,oe(fr),oe(_c)}var di=0,Ie=null,it=null,Nt=null,bc=!1,mr=!1,Ta=!1,Ec=0,Il=0,pr=null,yT=0;function _t(){throw Error(r(321))}function Qh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!En(t[a],n[a]))return!1;return!0}function Yh(t,n,a,l,d,m){return di=m,Ie=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Y.H=t===null||t.memoizedState===null?pg:gg,Ta=!1,m=a(l,d),Ta=!1,mr&&(m=Mp(n,a,l,d)),Vp(t),m}function Vp(t){Y.H=wc;var n=it!==null&&it.next!==null;if(di=0,Nt=it=Ie=null,bc=!1,Il=0,pr=null,n)throw Error(r(300));t===null||Ut||(t=t.dependencies,t!==null&&mc(t)&&(Ut=!0))}function Mp(t,n,a,l){Ie=t;var d=0;do{if(mr&&(pr=null),Il=0,mr=!1,25<=d)throw Error(r(301));if(d+=1,Nt=it=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Y.H=ST,m=n(a,l)}while(mr);return m}function _T(){var t=Y.H,n=t.useState()[0];return n=typeof n.then=="function"?Vl(n):n,t=t.useState()[0],(it!==null?it.memoizedState:null)!==t&&(Ie.flags|=1024),n}function $h(){var t=Ec!==0;return Ec=0,t}function Kh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Xh(t){if(bc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}bc=!1}di=0,Nt=it=Ie=null,mr=!1,Il=Ec=0,pr=null}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Ie.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function wt(){if(it===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var n=Nt===null?Ie.memoizedState:Nt.next;if(n!==null)Nt=n,it=t;else{if(t===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Nt===null?Ie.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function Zh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vl(t){var n=Il;return Il+=1,pr===null&&(pr=[]),t=wp(pr,t,n),n=Ie,(Nt===null?n.memoizedState:Nt.next)===null&&(n=n.alternate,Y.H=n===null||n.memoizedState===null?pg:gg),t}function Tc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Vl(t);if(t.$$typeof===Q)return Jt(t)}throw Error(r(438,String(t)))}function Jh(t){var n=null,a=Ie.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Zh(),Ie.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=j;return n.index++,a}function Bs(t,n){return typeof n=="function"?n(t):n}function Ac(t){var n=wt();return Wh(n,it,t)}function Wh(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var d=t.baseQueue,m=l.pending;if(m!==null){if(d!==null){var b=d.next;d.next=m.next,m.next=b}n.baseQueue=d=m,l.pending=null}if(m=t.baseState,d===null)t.memoizedState=m;else{n=d.next;var T=b=null,I=null,z=n,X=!1;do{var ee=z.lane&-536870913;if(ee!==z.lane?(Fe&ee)===ee:(di&ee)===ee){var H=z.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),ee===hr&&(X=!0);else if((di&H)===H){z=z.next,H===hr&&(X=!0);continue}else ee={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=ee,b=m):I=I.next=ee,Ie.lanes|=H,_i|=H;ee=z.action,Ta&&a(m,ee),m=z.hasEagerState?z.eagerState:a(m,ee)}else H={lane:ee,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=H,b=m):I=I.next=H,Ie.lanes|=ee,_i|=ee;z=z.next}while(z!==null&&z!==n);if(I===null?b=m:I.next=T,!En(m,t.memoizedState)&&(Ut=!0,X&&(a=dr,a!==null)))throw a;t.memoizedState=m,t.baseState=b,t.baseQueue=I,l.lastRenderedState=m}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ed(t){var n=wt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,m=n.memoizedState;if(d!==null){a.pending=null;var b=d=d.next;do m=t(m,b.action),b=b.next;while(b!==d);En(m,n.memoizedState)||(Ut=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),a.lastRenderedState=m}return[m,l]}function Op(t,n,a){var l=Ie,d=wt(),m=Ze;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=n();var b=!En((it||d).memoizedState,a);b&&(d.memoizedState=a,Ut=!0),d=d.queue;var T=Pp.bind(null,l,d,t);if(Ml(2048,8,T,[t]),d.getSnapshot!==n||b||Nt!==null&&Nt.memoizedState.tag&1){if(l.flags|=2048,gr(9,xc(),Lp.bind(null,l,d,a,n),null),ct===null)throw Error(r(349));m||(di&124)!==0||kp(l,n,a)}return a}function kp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ie.updateQueue,n===null?(n=Zh(),Ie.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Lp(t,n,a,l){n.value=a,n.getSnapshot=l,Up(n)&&Bp(t)}function Pp(t,n,a){return a(function(){Up(n)&&Bp(t)})}function Up(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!En(t,a)}catch{return!0}}function Bp(t){var n=lr(t,2);n!==null&&wn(n,t,2)}function td(t){var n=hn();if(typeof t=="function"){var a=t;if(t=a(),Ta){_n(!0);try{a()}finally{_n(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:t},n}function zp(t,n,a,l){return t.baseState=a,Wh(t,it,typeof l=="function"?l:Bs)}function bT(t,n,a,l,d){if(Nc(t))throw Error(r(485));if(t=n.action,t!==null){var m={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};Y.T!==null?a(!0):m.isTransition=!1,l(m),a=n.pending,a===null?(m.next=n.pending=m,qp(n,m)):(m.next=a.next,n.pending=a.next=m)}}function qp(t,n){var a=n.action,l=n.payload,d=t.state;if(n.isTransition){var m=Y.T,b={};Y.T=b;try{var T=a(d,l),I=Y.S;I!==null&&I(b,T),Hp(t,n,T)}catch(z){nd(t,n,z)}finally{Y.T=m}}else try{m=a(d,l),Hp(t,n,m)}catch(z){nd(t,n,z)}}function Hp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Fp(t,n,l)},function(l){return nd(t,n,l)}):Fp(t,n,a)}function Fp(t,n,a){n.status="fulfilled",n.value=a,Gp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,qp(t,a)))}function nd(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Gp(n),n=n.next;while(n!==l)}t.action=null}function Gp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Qp(t,n){return n}function Yp(t,n){if(Ze){var a=ct.formState;if(a!==null){e:{var l=Ie;if(Ze){if(gt){t:{for(var d=gt,m=cs;d.nodeType!==8;){if(!m){d=null;break t}if(d=Xn(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){gt=Xn(d.nextSibling),l=d.data==="F!";break e}}ya(l)}l=!1}l&&(n=a[0])}}return a=hn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qp,lastRenderedState:n},a.queue=l,a=dg.bind(null,Ie,l),l.dispatch=a,l=td(!1),m=ld.bind(null,Ie,!1,l.queue),l=hn(),d={state:n,dispatch:null,action:t,pending:null},l.queue=d,a=bT.bind(null,Ie,d,m,a),d.dispatch=a,l.memoizedState=t,[n,a,!1]}function $p(t){var n=wt();return Kp(n,it,t)}function Kp(t,n,a){if(n=Wh(t,n,Qp)[0],t=Ac(Bs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Vl(n)}catch(b){throw b===wl?vc:b}else l=n;n=wt();var d=n.queue,m=d.dispatch;return a!==n.memoizedState&&(Ie.flags|=2048,gr(9,xc(),ET.bind(null,d,a),null)),[l,m,t]}function ET(t,n){t.action=n}function Xp(t){var n=wt(),a=it;if(a!==null)return Kp(n,a,t);wt(),n=n.memoizedState,a=wt();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function gr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Ie.updateQueue,n===null&&(n=Zh(),Ie.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function xc(){return{destroy:void 0,resource:void 0}}function Zp(){return wt().memoizedState}function Sc(t,n,a,l){var d=hn();l=l===void 0?null:l,Ie.flags|=t,d.memoizedState=gr(1|n,xc(),a,l)}function Ml(t,n,a,l){var d=wt();l=l===void 0?null:l;var m=d.memoizedState.inst;it!==null&&l!==null&&Qh(l,it.memoizedState.deps)?d.memoizedState=gr(n,m,a,l):(Ie.flags|=t,d.memoizedState=gr(1|n,m,a,l))}function Jp(t,n){Sc(8390656,8,t,n)}function Wp(t,n){Ml(2048,8,t,n)}function eg(t,n){return Ml(4,2,t,n)}function tg(t,n){return Ml(4,4,t,n)}function ng(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function sg(t,n,a){a=a!=null?a.concat([t]):null,Ml(4,4,ng.bind(null,n,t),a)}function sd(){}function ig(t,n){var a=wt();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Qh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function ag(t,n){var a=wt();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Qh(n,l[1]))return l[0];if(l=t(),Ta){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,n],l}function id(t,n,a){return a===void 0||(di&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=ov(),Ie.lanes|=t,_i|=t,a)}function rg(t,n,a,l){return En(a,n)?a:fr.current!==null?(t=id(t,a,l),En(t,n)||(Ut=!0),t):(di&42)===0?(Ut=!0,t.memoizedState=a):(t=ov(),Ie.lanes|=t,_i|=t,n)}function lg(t,n,a,l,d){var m=re.p;re.p=m!==0&&8>m?m:8;var b=Y.T,T={};Y.T=T,ld(t,!1,n,a);try{var I=d(),z=Y.S;if(z!==null&&z(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=vT(I,l);Ol(t,n,X,Nn(t))}else Ol(t,n,l,Nn(t))}catch(ee){Ol(t,n,{then:function(){},status:"rejected",reason:ee},Nn())}finally{re.p=m,Y.T=b}}function TT(){}function ad(t,n,a,l){if(t.tag!==5)throw Error(r(476));var d=og(t).queue;lg(t,d,n,ve,a===null?TT:function(){return cg(t),a(l)})}function og(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:ve},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function cg(t){var n=og(t).next.queue;Ol(t,n,{},Nn())}function rd(){return Jt(Wl)}function ug(){return wt().memoizedState}function hg(){return wt().memoizedState}function AT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Nn();t=ui(a);var l=hi(n,t,a);l!==null&&(wn(l,n,a),Rl(l,n,a)),n={cache:kh()},t.payload=n;return}n=n.return}}function xT(t,n,a){var l=Nn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Nc(t)?fg(n,a):(a=Nh(t,n,a,l),a!==null&&(wn(a,t,l),mg(a,n,l)))}function dg(t,n,a){var l=Nn();Ol(t,n,a,l)}function Ol(t,n,a,l){var d={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Nc(t))fg(n,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var b=n.lastRenderedState,T=m(b,a);if(d.hasEagerState=!0,d.eagerState=T,En(T,b))return cc(t,n,d,0),ct===null&&oc(),!1}catch{}finally{}if(a=Nh(t,n,d,l),a!==null)return wn(a,t,l),mg(a,n,l),!0}return!1}function ld(t,n,a,l){if(l={lane:2,revertLane:Ud(),action:l,hasEagerState:!1,eagerState:null,next:null},Nc(t)){if(n)throw Error(r(479))}else n=Nh(t,a,l,2),n!==null&&wn(n,t,2)}function Nc(t){var n=t.alternate;return t===Ie||n!==null&&n===Ie}function fg(t,n){mr=bc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function mg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,sl(t,a)}}var wc={readContext:Jt,use:Tc,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t},pg={readContext:Jt,use:Tc,useCallback:function(t,n){return hn().memoizedState=[t,n===void 0?null:n],t},useContext:Jt,useEffect:Jp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Sc(4194308,4,ng.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Sc(4194308,4,t,n)},useInsertionEffect:function(t,n){Sc(4,2,t,n)},useMemo:function(t,n){var a=hn();n=n===void 0?null:n;var l=t();if(Ta){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=hn();if(a!==void 0){var d=a(n);if(Ta){_n(!0);try{a(n)}finally{_n(!1)}}}else d=n;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=xT.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var n=hn();return t={current:t},n.memoizedState=t},useState:function(t){t=td(t);var n=t.queue,a=dg.bind(null,Ie,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:sd,useDeferredValue:function(t,n){var a=hn();return id(a,t,n)},useTransition:function(){var t=td(!1);return t=lg.bind(null,Ie,t.queue,!0,!1),hn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Ie,d=hn();if(Ze){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ct===null)throw Error(r(349));(Fe&124)!==0||kp(l,n,a)}d.memoizedState=a;var m={value:a,getSnapshot:n};return d.queue=m,Jp(Pp.bind(null,l,m,t),[t]),l.flags|=2048,gr(9,xc(),Lp.bind(null,l,m,a,n),null),a},useId:function(){var t=hn(),n=ct.identifierPrefix;if(Ze){var a=Ls,l=ks;a=(l&~(1<<32-Zt(l)-1)).toString(32)+a,n=""+n+"R"+a,a=Ec++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=yT++,n=""+n+"r"+a.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:rd,useFormState:Yp,useActionState:Yp,useOptimistic:function(t){var n=hn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=ld.bind(null,Ie,!0,a),a.dispatch=n,[t,n]},useMemoCache:Jh,useCacheRefresh:function(){return hn().memoizedState=AT.bind(null,Ie)}},gg={readContext:Jt,use:Tc,useCallback:ig,useContext:Jt,useEffect:Wp,useImperativeHandle:sg,useInsertionEffect:eg,useLayoutEffect:tg,useMemo:ag,useReducer:Ac,useRef:Zp,useState:function(){return Ac(Bs)},useDebugValue:sd,useDeferredValue:function(t,n){var a=wt();return rg(a,it.memoizedState,t,n)},useTransition:function(){var t=Ac(Bs)[0],n=wt().memoizedState;return[typeof t=="boolean"?t:Vl(t),n]},useSyncExternalStore:Op,useId:ug,useHostTransitionStatus:rd,useFormState:$p,useActionState:$p,useOptimistic:function(t,n){var a=wt();return zp(a,it,t,n)},useMemoCache:Jh,useCacheRefresh:hg},ST={readContext:Jt,use:Tc,useCallback:ig,useContext:Jt,useEffect:Wp,useImperativeHandle:sg,useInsertionEffect:eg,useLayoutEffect:tg,useMemo:ag,useReducer:ed,useRef:Zp,useState:function(){return ed(Bs)},useDebugValue:sd,useDeferredValue:function(t,n){var a=wt();return it===null?id(a,t,n):rg(a,it.memoizedState,t,n)},useTransition:function(){var t=ed(Bs)[0],n=wt().memoizedState;return[typeof t=="boolean"?t:Vl(t),n]},useSyncExternalStore:Op,useId:ug,useHostTransitionStatus:rd,useFormState:Xp,useActionState:Xp,useOptimistic:function(t,n){var a=wt();return it!==null?zp(a,it,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Jh,useCacheRefresh:hg},vr=null,kl=0;function jc(t){var n=kl;return kl+=1,vr===null&&(vr=[]),wp(vr,t,n)}function Ll(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Rc(t,n){throw n.$$typeof===R?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function vg(t){var n=t._init;return n(t._payload)}function yg(t){function n(L,O){if(t){var B=L.deletions;B===null?(L.deletions=[O],L.flags|=16):B.push(O)}}function a(L,O){if(!t)return null;for(;O!==null;)n(L,O),O=O.sibling;return null}function l(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function d(L,O){return L=Os(L,O),L.index=0,L.sibling=null,L}function m(L,O,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<O?(L.flags|=67108866,O):B):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function b(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,O,B,Z){return O===null||O.tag!==6?(O=jh(B,L.mode,Z),O.return=L,O):(O=d(O,B),O.return=L,O)}function I(L,O,B,Z){var pe=B.type;return pe===k?X(L,O,B.props.children,Z,B.key):O!==null&&(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===x&&vg(pe)===O.type)?(O=d(O,B.props),Ll(O,B),O.return=L,O):(O=hc(B.type,B.key,B.props,null,L.mode,Z),Ll(O,B),O.return=L,O)}function z(L,O,B,Z){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=Rh(B,L.mode,Z),O.return=L,O):(O=d(O,B.children||[]),O.return=L,O)}function X(L,O,B,Z,pe){return O===null||O.tag!==7?(O=ma(B,L.mode,Z,pe),O.return=L,O):(O=d(O,B),O.return=L,O)}function ee(L,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=jh(""+O,L.mode,B),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case C:return B=hc(O.type,O.key,O.props,null,L.mode,B),Ll(B,O),B.return=L,B;case P:return O=Rh(O,L.mode,B),O.return=L,O;case x:var Z=O._init;return O=Z(O._payload),ee(L,O,B)}if($e(O)||M(O))return O=ma(O,L.mode,B,null),O.return=L,O;if(typeof O.then=="function")return ee(L,jc(O),B);if(O.$$typeof===Q)return ee(L,pc(L,O),B);Rc(L,O)}return null}function H(L,O,B,Z){var pe=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return pe!==null?null:T(L,O,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case C:return B.key===pe?I(L,O,B,Z):null;case P:return B.key===pe?z(L,O,B,Z):null;case x:return pe=B._init,B=pe(B._payload),H(L,O,B,Z)}if($e(B)||M(B))return pe!==null?null:X(L,O,B,Z,null);if(typeof B.then=="function")return H(L,O,jc(B),Z);if(B.$$typeof===Q)return H(L,O,pc(L,B),Z);Rc(L,B)}return null}function F(L,O,B,Z,pe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(B)||null,T(O,L,""+Z,pe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case C:return L=L.get(Z.key===null?B:Z.key)||null,I(O,L,Z,pe);case P:return L=L.get(Z.key===null?B:Z.key)||null,z(O,L,Z,pe);case x:var Oe=Z._init;return Z=Oe(Z._payload),F(L,O,B,Z,pe)}if($e(Z)||M(Z))return L=L.get(B)||null,X(O,L,Z,pe,null);if(typeof Z.then=="function")return F(L,O,B,jc(Z),pe);if(Z.$$typeof===Q)return F(L,O,B,pc(O,Z),pe);Rc(O,Z)}return null}function Ne(L,O,B,Z){for(var pe=null,Oe=null,ye=O,Te=O=0,zt=null;ye!==null&&Te<B.length;Te++){ye.index>Te?(zt=ye,ye=null):zt=ye.sibling;var Ke=H(L,ye,B[Te],Z);if(Ke===null){ye===null&&(ye=zt);break}t&&ye&&Ke.alternate===null&&n(L,ye),O=m(Ke,O,Te),Oe===null?pe=Ke:Oe.sibling=Ke,Oe=Ke,ye=zt}if(Te===B.length)return a(L,ye),Ze&&ga(L,Te),pe;if(ye===null){for(;Te<B.length;Te++)ye=ee(L,B[Te],Z),ye!==null&&(O=m(ye,O,Te),Oe===null?pe=ye:Oe.sibling=ye,Oe=ye);return Ze&&ga(L,Te),pe}for(ye=l(ye);Te<B.length;Te++)zt=F(ye,L,Te,B[Te],Z),zt!==null&&(t&&zt.alternate!==null&&ye.delete(zt.key===null?Te:zt.key),O=m(zt,O,Te),Oe===null?pe=zt:Oe.sibling=zt,Oe=zt);return t&&ye.forEach(function(ji){return n(L,ji)}),Ze&&ga(L,Te),pe}function Ee(L,O,B,Z){if(B==null)throw Error(r(151));for(var pe=null,Oe=null,ye=O,Te=O=0,zt=null,Ke=B.next();ye!==null&&!Ke.done;Te++,Ke=B.next()){ye.index>Te?(zt=ye,ye=null):zt=ye.sibling;var ji=H(L,ye,Ke.value,Z);if(ji===null){ye===null&&(ye=zt);break}t&&ye&&ji.alternate===null&&n(L,ye),O=m(ji,O,Te),Oe===null?pe=ji:Oe.sibling=ji,Oe=ji,ye=zt}if(Ke.done)return a(L,ye),Ze&&ga(L,Te),pe;if(ye===null){for(;!Ke.done;Te++,Ke=B.next())Ke=ee(L,Ke.value,Z),Ke!==null&&(O=m(Ke,O,Te),Oe===null?pe=Ke:Oe.sibling=Ke,Oe=Ke);return Ze&&ga(L,Te),pe}for(ye=l(ye);!Ke.done;Te++,Ke=B.next())Ke=F(ye,L,Te,Ke.value,Z),Ke!==null&&(t&&Ke.alternate!==null&&ye.delete(Ke.key===null?Te:Ke.key),O=m(Ke,O,Te),Oe===null?pe=Ke:Oe.sibling=Ke,Oe=Ke);return t&&ye.forEach(function(NA){return n(L,NA)}),Ze&&ga(L,Te),pe}function rt(L,O,B,Z){if(typeof B=="object"&&B!==null&&B.type===k&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case C:e:{for(var pe=B.key;O!==null;){if(O.key===pe){if(pe=B.type,pe===k){if(O.tag===7){a(L,O.sibling),Z=d(O,B.props.children),Z.return=L,L=Z;break e}}else if(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===x&&vg(pe)===O.type){a(L,O.sibling),Z=d(O,B.props),Ll(Z,B),Z.return=L,L=Z;break e}a(L,O);break}else n(L,O);O=O.sibling}B.type===k?(Z=ma(B.props.children,L.mode,Z,B.key),Z.return=L,L=Z):(Z=hc(B.type,B.key,B.props,null,L.mode,Z),Ll(Z,B),Z.return=L,L=Z)}return b(L);case P:e:{for(pe=B.key;O!==null;){if(O.key===pe)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){a(L,O.sibling),Z=d(O,B.children||[]),Z.return=L,L=Z;break e}else{a(L,O);break}else n(L,O);O=O.sibling}Z=Rh(B,L.mode,Z),Z.return=L,L=Z}return b(L);case x:return pe=B._init,B=pe(B._payload),rt(L,O,B,Z)}if($e(B))return Ne(L,O,B,Z);if(M(B)){if(pe=M(B),typeof pe!="function")throw Error(r(150));return B=pe.call(B),Ee(L,O,B,Z)}if(typeof B.then=="function")return rt(L,O,jc(B),Z);if(B.$$typeof===Q)return rt(L,O,pc(L,B),Z);Rc(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(a(L,O.sibling),Z=d(O,B),Z.return=L,L=Z):(a(L,O),Z=jh(B,L.mode,Z),Z.return=L,L=Z),b(L)):a(L,O)}return function(L,O,B,Z){try{kl=0;var pe=rt(L,O,B,Z);return vr=null,pe}catch(ye){if(ye===wl||ye===vc)throw ye;var Oe=Tn(29,ye,null,L.mode);return Oe.lanes=Z,Oe.return=L,Oe}finally{}}}var yr=yg(!0),_g=yg(!1),zn=W(null),us=null;function fi(t){var n=t.alternate;se(Ot,Ot.current&1),se(zn,t),us===null&&(n===null||fr.current!==null||n.memoizedState!==null)&&(us=t)}function bg(t){if(t.tag===22){if(se(Ot,Ot.current),se(zn,t),us===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(us=t)}}else mi()}function mi(){se(Ot,Ot.current),se(zn,zn.current)}function zs(t){oe(zn),us===t&&(us=null),oe(Ot)}var Ot=W(0);function Cc(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Zd(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function od(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:E({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var cd={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=Nn(),d=ui(l);d.payload=n,a!=null&&(d.callback=a),n=hi(t,d,l),n!==null&&(wn(n,t,l),Rl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=Nn(),d=ui(l);d.tag=1,d.payload=n,a!=null&&(d.callback=a),n=hi(t,d,l),n!==null&&(wn(n,t,l),Rl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Nn(),l=ui(a);l.tag=2,n!=null&&(l.callback=n),n=hi(t,l,a),n!==null&&(wn(n,t,a),Rl(n,t,a))}};function Eg(t,n,a,l,d,m,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,b):n.prototype&&n.prototype.isPureReactComponent?!_l(a,l)||!_l(d,m):!0}function Tg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&cd.enqueueReplaceState(n,n.state,null)}function Aa(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=E({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}var Dc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ag(t){Dc(t)}function xg(t){console.error(t)}function Sg(t){Dc(t)}function Ic(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ng(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function ud(t,n,a){return a=ui(a),a.tag=3,a.payload={element:null},a.callback=function(){Ic(t,n)},a}function wg(t){return t=ui(t),t.tag=3,t}function jg(t,n,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var m=l.value;t.payload=function(){return d(m)},t.callback=function(){Ng(n,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){Ng(n,a,l),typeof d!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function NT(t,n,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&xl(n,a,d,!0),a=zn.current,a!==null){switch(a.tag){case 13:return us===null?Md():a.alternate===null&&vt===0&&(vt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===Uh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),kd(t,l,d)),!1;case 22:return a.flags|=65536,l===Uh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),kd(t,l,d)),!1}throw Error(r(435,a.tag))}return kd(t,l,d),Md(),!1}if(Ze)return n=zn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,l!==Ih&&(t=Error(r(422),{cause:l}),Al(Ln(t,a)))):(l!==Ih&&(n=Error(r(423),{cause:l}),Al(Ln(n,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=Ln(l,a),d=ud(t.stateNode,l,d),qh(t,d),vt!==4&&(vt=2)),!1;var m=Error(r(520),{cause:l});if(m=Ln(m,a),Fl===null?Fl=[m]:Fl.push(m),vt!==4&&(vt=2),n===null)return!0;l=Ln(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=ud(a.stateNode,l,t),qh(a,t),!1;case 1:if(n=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(bi===null||!bi.has(m))))return a.flags|=65536,d&=-d,a.lanes|=d,d=wg(d),jg(d,t,a,l),qh(a,d),!1}a=a.return}while(a!==null);return!1}var Rg=Error(r(461)),Ut=!1;function Gt(t,n,a,l){n.child=t===null?_g(n,null,a,l):yr(n,t.child,a,l)}function Cg(t,n,a,l,d){a=a.render;var m=n.ref;if("ref"in l){var b={};for(var T in l)T!=="ref"&&(b[T]=l[T])}else b=l;return ba(n),l=Yh(t,n,a,b,m,d),T=$h(),t!==null&&!Ut?(Kh(t,n,d),qs(t,n,d)):(Ze&&T&&Ch(n),n.flags|=1,Gt(t,n,l,d),n.child)}function Dg(t,n,a,l,d){if(t===null){var m=a.type;return typeof m=="function"&&!wh(m)&&m.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=m,Ig(t,n,m,l,d)):(t=hc(a.type,null,l,n,n.mode,d),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!yd(t,d)){var b=m.memoizedProps;if(a=a.compare,a=a!==null?a:_l,a(b,l)&&t.ref===n.ref)return qs(t,n,d)}return n.flags|=1,t=Os(m,l),t.ref=n.ref,t.return=n,n.child=t}function Ig(t,n,a,l,d){if(t!==null){var m=t.memoizedProps;if(_l(m,l)&&t.ref===n.ref)if(Ut=!1,n.pendingProps=l=m,yd(t,d))(t.flags&131072)!==0&&(Ut=!0);else return n.lanes=t.lanes,qs(t,n,d)}return hd(t,n,a,l,d)}function Vg(t,n,a){var l=n.pendingProps,d=l.children,m=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,t!==null){for(d=n.child=t.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;n.childLanes=m&~l}else n.childLanes=0,n.child=null;return Mg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&gc(n,m!==null?m.cachePool:null),m!==null?Ip(n,m):Fh(),bg(n);else return n.lanes=n.childLanes=536870912,Mg(t,n,m!==null?m.baseLanes|a:a,a)}else m!==null?(gc(n,m.cachePool),Ip(n,m),mi(),n.memoizedState=null):(t!==null&&gc(n,null),Fh(),mi());return Gt(t,n,d,a),n.child}function Mg(t,n,a,l){var d=Ph();return d=d===null?null:{parent:Mt._currentValue,pool:d},n.memoizedState={baseLanes:a,cachePool:d},t!==null&&gc(n,null),Fh(),bg(n),t!==null&&xl(t,n,l,!0),null}function Vc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function hd(t,n,a,l,d){return ba(n),a=Yh(t,n,a,l,void 0,d),l=$h(),t!==null&&!Ut?(Kh(t,n,d),qs(t,n,d)):(Ze&&l&&Ch(n),n.flags|=1,Gt(t,n,a,d),n.child)}function Og(t,n,a,l,d,m){return ba(n),n.updateQueue=null,a=Mp(n,l,a,d),Vp(t),l=$h(),t!==null&&!Ut?(Kh(t,n,m),qs(t,n,m)):(Ze&&l&&Ch(n),n.flags|=1,Gt(t,n,a,m),n.child)}function kg(t,n,a,l,d){if(ba(n),n.stateNode===null){var m=or,b=a.contextType;typeof b=="object"&&b!==null&&(m=Jt(b)),m=new a(l,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=cd,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=l,m.state=n.memoizedState,m.refs={},Bh(n),b=a.contextType,m.context=typeof b=="object"&&b!==null?Jt(b):or,m.state=n.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(od(n,a,b,l),m.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&cd.enqueueReplaceState(m,m.state,null),Dl(n,l,m,d),Cl(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){m=n.stateNode;var T=n.memoizedProps,I=Aa(a,T);m.props=I;var z=m.context,X=a.contextType;b=or,typeof X=="object"&&X!==null&&(b=Jt(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,X||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||z!==b)&&Tg(n,m,l,b),ci=!1;var H=n.memoizedState;m.state=H,Dl(n,l,m,d),Cl(),z=n.memoizedState,T||H!==z||ci?(typeof ee=="function"&&(od(n,a,ee,l),z=n.memoizedState),(I=ci||Eg(n,a,I,l,H,z,b))?(X||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),m.props=l,m.state=z,m.context=b,l=I):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{m=n.stateNode,zh(t,n),b=n.memoizedProps,X=Aa(a,b),m.props=X,ee=n.pendingProps,H=m.context,z=a.contextType,I=or,typeof z=="object"&&z!==null&&(I=Jt(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==ee||H!==I)&&Tg(n,m,l,I),ci=!1,H=n.memoizedState,m.state=H,Dl(n,l,m,d),Cl();var F=n.memoizedState;b!==ee||H!==F||ci||t!==null&&t.dependencies!==null&&mc(t.dependencies)?(typeof T=="function"&&(od(n,a,T,l),F=n.memoizedState),(X=ci||Eg(n,a,X,l,H,F,I)||t!==null&&t.dependencies!==null&&mc(t.dependencies))?(z||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,F,I),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,F,I)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),m.props=l,m.state=F,m.context=I,l=X):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),l=!1)}return m=l,Vc(t,n),l=(n.flags&128)!==0,m||l?(m=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&l?(n.child=yr(n,t.child,null,d),n.child=yr(n,null,a,d)):Gt(t,n,a,d),n.memoizedState=m.state,t=n.child):t=qs(t,n,d),t}function Lg(t,n,a,l){return Tl(),n.flags|=256,Gt(t,n,a,l),n.child}var dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fd(t){return{baseLanes:t,cachePool:xp()}}function md(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=qn),t}function Pg(t,n,a){var l=n.pendingProps,d=!1,m=(n.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:(Ot.current&2)!==0),b&&(d=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ze){if(d?fi(n):mi(),Ze){var T=gt,I;if(I=T){e:{for(I=T,T=cs;I.nodeType!==8;){if(!T){T=null;break e}if(I=Xn(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(n.memoizedState={dehydrated:T,treeContext:pa!==null?{id:ks,overflow:Ls}:null,retryLane:536870912,hydrationErrors:null},I=Tn(18,null,null,0),I.stateNode=T,I.return=n,n.child=I,on=n,gt=null,I=!0):I=!1}I||ya(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Zd(T)?n.lanes=32:n.lanes=536870912,null;zs(n)}return T=l.children,l=l.fallback,d?(mi(),d=n.mode,T=Mc({mode:"hidden",children:T},d),l=ma(l,d,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,d=n.child,d.memoizedState=fd(a),d.childLanes=md(t,b,a),n.memoizedState=dd,l):(fi(n),pd(n,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(m)n.flags&256?(fi(n),n.flags&=-257,n=gd(t,n,a)):n.memoizedState!==null?(mi(),n.child=t.child,n.flags|=128,n=null):(mi(),d=l.fallback,T=n.mode,l=Mc({mode:"visible",children:l.children},T),d=ma(d,T,a,null),d.flags|=2,l.return=n,d.return=n,l.sibling=d,n.child=l,yr(n,t.child,null,a),l=n.child,l.memoizedState=fd(a),l.childLanes=md(t,b,a),n.memoizedState=dd,n=d);else if(fi(n),Zd(T)){if(b=T.nextSibling&&T.nextSibling.dataset,b)var z=b.dgst;b=z,l=Error(r(419)),l.stack="",l.digest=b,Al({value:l,source:null,stack:null}),n=gd(t,n,a)}else if(Ut||xl(t,n,a,!1),b=(a&t.childLanes)!==0,Ut||b){if(b=ct,b!==null&&(l=a&-a,l=(l&42)!==0?1:ti(l),l=(l&(b.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,lr(t,l),wn(b,t,l),Rg;T.data==="$?"||Md(),n=gd(t,n,a)}else T.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,gt=Xn(T.nextSibling),on=n,Ze=!0,va=null,cs=!1,t!==null&&(Un[Bn++]=ks,Un[Bn++]=Ls,Un[Bn++]=pa,ks=t.id,Ls=t.overflow,pa=n),n=pd(n,l.children),n.flags|=4096);return n}return d?(mi(),d=l.fallback,T=n.mode,I=t.child,z=I.sibling,l=Os(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?d=Os(z,d):(d=ma(d,T,a,null),d.flags|=2),d.return=n,l.return=n,l.sibling=d,n.child=l,l=d,d=n.child,T=t.child.memoizedState,T===null?T=fd(a):(I=T.cachePool,I!==null?(z=Mt._currentValue,I=I.parent!==z?{parent:z,pool:z}:I):I=xp(),T={baseLanes:T.baseLanes|a,cachePool:I}),d.memoizedState=T,d.childLanes=md(t,b,a),n.memoizedState=dd,l):(fi(n),a=t.child,t=a.sibling,a=Os(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(b=n.deletions,b===null?(n.deletions=[t],n.flags|=16):b.push(t)),n.child=a,n.memoizedState=null,a)}function pd(t,n){return n=Mc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Mc(t,n){return t=Tn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function gd(t,n,a){return yr(n,t.child,null,a),t=pd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ug(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Mh(t.return,n,a)}function vd(t,n,a,l,d){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d}:(m.isBackwards=n,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=d)}function Bg(t,n,a){var l=n.pendingProps,d=l.revealOrder,m=l.tail;if(Gt(t,n,l.children,a),l=Ot.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ug(t,a,n);else if(t.tag===19)Ug(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(se(Ot,l),d){case"forwards":for(a=n.child,d=null;a!==null;)t=a.alternate,t!==null&&Cc(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=n.child,n.child=null):(d=a.sibling,a.sibling=null),vd(n,!1,d,a,m);break;case"backwards":for(a=null,d=n.child,n.child=null;d!==null;){if(t=d.alternate,t!==null&&Cc(t)===null){n.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}vd(n,!0,a,null,m);break;case"together":vd(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function qs(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),_i|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(xl(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Os(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Os(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function yd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&mc(t)))}function wT(t,n,a){switch(n.tag){case 3:q(n,n.stateNode.containerInfo),oi(n,Mt,t.memoizedState.cache),Tl();break;case 27:case 5:Se(n);break;case 4:q(n,n.stateNode.containerInfo);break;case 10:oi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(fi(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Pg(t,n,a):(fi(n),t=qs(t,n,a),t!==null?t.sibling:null);fi(n);break;case 19:var d=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(xl(t,n,a,!1),l=(a&n.childLanes)!==0),d){if(l)return Bg(t,n,a);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),se(Ot,Ot.current),l)break;return null;case 22:case 23:return n.lanes=0,Vg(t,n,a);case 24:oi(n,Mt,t.memoizedState.cache)}return qs(t,n,a)}function zg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ut=!0;else{if(!yd(t,a)&&(n.flags&128)===0)return Ut=!1,wT(t,n,a);Ut=(t.flags&131072)!==0}else Ut=!1,Ze&&(n.flags&1048576)!==0&&vp(n,fc,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,d=l._init;if(l=d(l._payload),n.type=l,typeof l=="function")wh(l)?(t=Aa(l,t),n.tag=1,n=kg(null,n,l,t,a)):(n.tag=0,n=hd(null,n,l,t,a));else{if(l!=null){if(d=l.$$typeof,d===he){n.tag=11,n=Cg(null,n,l,t,a);break e}else if(d===w){n.tag=14,n=Dg(null,n,l,t,a);break e}}throw n=Ve(l)||l,Error(r(306,n,""))}}return n;case 0:return hd(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,d=Aa(l,n.pendingProps),kg(t,n,l,d,a);case 3:e:{if(q(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var m=n.memoizedState;d=m.element,zh(t,n),Dl(n,l,null,a);var b=n.memoizedState;if(l=b.cache,oi(n,Mt,l),l!==m.cache&&Oh(n,[Mt],a,!0),Cl(),l=b.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=Lg(t,n,l,a);break e}else if(l!==d){d=Ln(Error(r(424)),n),Al(d),n=Lg(t,n,l,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(gt=Xn(t.firstChild),on=n,Ze=!0,va=null,cs=!0,a=_g(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Tl(),l===d){n=qs(t,n,a);break e}Gt(t,n,l,a)}n=n.child}return n;case 26:return Vc(t,n),t===null?(a=Gv(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ze||(a=n.type,t=n.pendingProps,l=$c(fe.current).createElement(a),l[Dt]=n,l[xt]=t,Yt(l,a,t),yt(l),n.stateNode=l):n.memoizedState=Gv(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Se(n),t===null&&Ze&&(l=n.stateNode=qv(n.type,n.pendingProps,fe.current),on=n,cs=!0,d=gt,Ai(n.type)?(Jd=d,gt=Xn(l.firstChild)):gt=d),Gt(t,n,n.pendingProps.children,a),Vc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ze&&((d=l=gt)&&(l=tA(l,n.type,n.pendingProps,cs),l!==null?(n.stateNode=l,on=n,gt=Xn(l.firstChild),cs=!1,d=!0):d=!1),d||ya(n)),Se(n),d=n.type,m=n.pendingProps,b=t!==null?t.memoizedProps:null,l=m.children,$d(d,m)?l=null:b!==null&&$d(d,b)&&(n.flags|=32),n.memoizedState!==null&&(d=Yh(t,n,_T,null,null,a),Wl._currentValue=d),Vc(t,n),Gt(t,n,l,a),n.child;case 6:return t===null&&Ze&&((t=a=gt)&&(a=nA(a,n.pendingProps,cs),a!==null?(n.stateNode=a,on=n,gt=null,t=!0):t=!1),t||ya(n)),null;case 13:return Pg(t,n,a);case 4:return q(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=yr(n,null,l,a):Gt(t,n,l,a),n.child;case 11:return Cg(t,n,n.type,n.pendingProps,a);case 7:return Gt(t,n,n.pendingProps,a),n.child;case 8:return Gt(t,n,n.pendingProps.children,a),n.child;case 12:return Gt(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,oi(n,n.type,l.value),Gt(t,n,l.children,a),n.child;case 9:return d=n.type._context,l=n.pendingProps.children,ba(n),d=Jt(d),l=l(d),n.flags|=1,Gt(t,n,l,a),n.child;case 14:return Dg(t,n,n.type,n.pendingProps,a);case 15:return Ig(t,n,n.type,n.pendingProps,a);case 19:return Bg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=Mc(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Os(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Vg(t,n,a);case 24:return ba(n),l=Jt(Mt),t===null?(d=Ph(),d===null&&(d=ct,m=kh(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=a),d=m),n.memoizedState={parent:l,cache:d},Bh(n),oi(n,Mt,d)):((t.lanes&a)!==0&&(zh(t,n),Dl(n,null,null,a),Cl()),d=t.memoizedState,m=n.memoizedState,d.parent!==l?(d={parent:l,cache:l},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),oi(n,Mt,l)):(l=m.cache,oi(n,Mt,l),l!==d.cache&&Oh(n,[Mt],a,!0))),Gt(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Hs(t){t.flags|=4}function qg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Xv(n)){if(n=zn.current,n!==null&&((Fe&4194048)===Fe?us!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||n!==us))throw jl=Uh,Sp;t.flags|=8192}}function Oc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?tl():536870912,t.lanes|=n,Tr|=n)}function Pl(t,n){if(!Ze)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ft(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function jT(t,n,a){var l=n.pendingProps;switch(Dh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(n),null;case 1:return ft(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Us(Mt),Re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(El(n)?Hs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,bp())),ft(n),null;case 26:return a=n.memoizedState,t===null?(Hs(n),a!==null?(ft(n),qg(n,a)):(ft(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Hs(n),ft(n),qg(n,a)):(ft(n),n.flags&=-16777217):(t.memoizedProps!==l&&Hs(n),ft(n),n.flags&=-16777217),null;case 27:At(n),a=fe.current;var d=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Hs(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ft(n),null}t=be.current,El(n)?yp(n):(t=qv(d,l,a),n.stateNode=t,Hs(n))}return ft(n),null;case 5:if(At(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Hs(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ft(n),null}if(t=be.current,El(n))yp(n);else{switch(d=$c(fe.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?d.createElement(a,{is:l.is}):d.createElement(a)}}t[Dt]=n,t[xt]=l;e:for(d=n.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}n.stateNode=t;e:switch(Yt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Hs(n)}}return ft(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Hs(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=fe.current,El(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,d=on,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[Dt]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ov(t.nodeValue,a)),t||ya(n)}else t=$c(t).createTextNode(l),t[Dt]=n,n.stateNode=t}return ft(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=El(n),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(r(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Dt]=n}else Tl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ft(n),d=!1}else d=bp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(zs(n),n):(zs(n),null)}if(zs(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Oc(n,n.updateQueue),ft(n),null;case 4:return Re(),t===null&&Hd(n.stateNode.containerInfo),ft(n),null;case 10:return Us(n.type),ft(n),null;case 19:if(oe(Ot),d=n.memoizedState,d===null)return ft(n),null;if(l=(n.flags&128)!==0,m=d.rendering,m===null)if(l)Pl(d,!1);else{if(vt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=Cc(t),m!==null){for(n.flags|=128,Pl(d,!1),t=m.updateQueue,n.updateQueue=t,Oc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)gp(a,t),a=a.sibling;return se(Ot,Ot.current&1|2),n.child}t=t.sibling}d.tail!==null&&Dn()>Pc&&(n.flags|=128,l=!0,Pl(d,!1),n.lanes=4194304)}else{if(!l)if(t=Cc(m),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Oc(n,t),Pl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!Ze)return ft(n),null}else 2*Dn()-d.renderingStartTime>Pc&&a!==536870912&&(n.flags|=128,l=!0,Pl(d,!1),n.lanes=4194304);d.isBackwards?(m.sibling=n.child,n.child=m):(t=d.last,t!==null?t.sibling=m:n.child=m,d.last=m)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=Dn(),n.sibling=null,t=Ot.current,se(Ot,l?t&1|2:t&1),n):(ft(n),null);case 22:case 23:return zs(n),Gh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ft(n),n.subtreeFlags&6&&(n.flags|=8192)):ft(n),a=n.updateQueue,a!==null&&Oc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&oe(Ea),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Us(Mt),ft(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function RT(t,n){switch(Dh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Us(Mt),Re(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return At(n),null;case 13:if(zs(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Tl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return oe(Ot),null;case 4:return Re(),null;case 10:return Us(n.type),null;case 22:case 23:return zs(n),Gh(),t!==null&&oe(Ea),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Us(Mt),null;case 25:return null;default:return null}}function Hg(t,n){switch(Dh(n),n.tag){case 3:Us(Mt),Re();break;case 26:case 27:case 5:At(n);break;case 4:Re();break;case 13:zs(n);break;case 19:oe(Ot);break;case 10:Us(n.type);break;case 22:case 23:zs(n),Gh(),t!==null&&oe(Ea);break;case 24:Us(Mt)}}function Ul(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var m=a.create,b=a.inst;l=m(),b.destroy=l}a=a.next}while(a!==d)}}catch(T){lt(n,n.return,T)}}function pi(t,n,a){try{var l=n.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var m=d.next;l=m;do{if((l.tag&t)===t){var b=l.inst,T=b.destroy;if(T!==void 0){b.destroy=void 0,d=n;var I=a,z=T;try{z()}catch(X){lt(d,I,X)}}}l=l.next}while(l!==m)}}catch(X){lt(n,n.return,X)}}function Fg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Dp(n,a)}catch(l){lt(t,t.return,l)}}}function Gg(t,n,a){a.props=Aa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){lt(t,n,l)}}function Bl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){lt(t,n,d)}}function hs(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){lt(t,n,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){lt(t,n,d)}else a.current=null}function Qg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){lt(t,t.return,d)}}function _d(t,n,a){try{var l=t.stateNode;XT(l,t.type,a,n),l[xt]=n}catch(d){lt(t,t.return,d)}}function Yg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ai(t.type)||t.tag===4}function bd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Yg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ai(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ed(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Yc));else if(l!==4&&(l===27&&Ai(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Ed(t,n,a),t=t.sibling;t!==null;)Ed(t,n,a),t=t.sibling}function kc(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Ai(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(kc(t,n,a),t=t.sibling;t!==null;)kc(t,n,a),t=t.sibling}function $g(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);Yt(n,l,a),n[Dt]=t,n[xt]=a}catch(m){lt(t,t.return,m)}}var Fs=!1,bt=!1,Td=!1,Kg=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function CT(t,n){if(t=t.containerInfo,Qd=eu,t=rp(t),bh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var b=0,T=-1,I=-1,z=0,X=0,ee=t,H=null;t:for(;;){for(var F;ee!==a||d!==0&&ee.nodeType!==3||(T=b+d),ee!==m||l!==0&&ee.nodeType!==3||(I=b+l),ee.nodeType===3&&(b+=ee.nodeValue.length),(F=ee.firstChild)!==null;)H=ee,ee=F;for(;;){if(ee===t)break t;if(H===a&&++z===d&&(T=b),H===m&&++X===l&&(I=b),(F=ee.nextSibling)!==null)break;ee=H,H=ee.parentNode}ee=F}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Yd={focusedElem:t,selectionRange:a},eu=!1,Bt=n;Bt!==null;)if(n=Bt,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Bt=t;else for(;Bt!==null;){switch(n=Bt,m=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=n,d=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Ne=Aa(a.type,d,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ne,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){lt(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Xd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Xd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Bt=t;break}Bt=n.return}}function Xg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:gi(t,a),l&4&&Ul(5,a);break;case 1:if(gi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(b){lt(a,a.return,b)}else{var d=Aa(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(d,n,t.__reactInternalSnapshotBeforeUpdate)}catch(b){lt(a,a.return,b)}}l&64&&Fg(a),l&512&&Bl(a,a.return);break;case 3:if(gi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Dp(t,n)}catch(b){lt(a,a.return,b)}}break;case 27:n===null&&l&4&&$g(a);case 26:case 5:gi(t,a),n===null&&l&4&&Qg(a),l&512&&Bl(a,a.return);break;case 12:gi(t,a);break;case 13:gi(t,a),l&4&&Wg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=UT.bind(null,a),sA(t,a))));break;case 22:if(l=a.memoizedState!==null||Fs,!l){n=n!==null&&n.memoizedState!==null||bt,d=Fs;var m=bt;Fs=l,(bt=n)&&!m?vi(t,a,(a.subtreeFlags&8772)!==0):gi(t,a),Fs=d,bt=m}break;case 30:break;default:gi(t,a)}}function Zg(t){var n=t.alternate;n!==null&&(t.alternate=null,Zg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ii(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var dt=null,dn=!1;function Gs(t,n,a){for(a=a.child;a!==null;)Jg(t,n,a),a=a.sibling}function Jg(t,n,a){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(pt,a)}catch{}switch(a.tag){case 26:bt||hs(a,n),Gs(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:bt||hs(a,n);var l=dt,d=dn;Ai(a.type)&&(dt=a.stateNode,dn=!1),Gs(t,n,a),Kl(a.stateNode),dt=l,dn=d;break;case 5:bt||hs(a,n);case 6:if(l=dt,d=dn,dt=null,Gs(t,n,a),dt=l,dn=d,dt!==null)if(dn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(a.stateNode)}catch(m){lt(a,n,m)}else try{dt.removeChild(a.stateNode)}catch(m){lt(a,n,m)}break;case 18:dt!==null&&(dn?(t=dt,Bv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),so(t)):Bv(dt,a.stateNode));break;case 4:l=dt,d=dn,dt=a.stateNode.containerInfo,dn=!0,Gs(t,n,a),dt=l,dn=d;break;case 0:case 11:case 14:case 15:bt||pi(2,a,n),bt||pi(4,a,n),Gs(t,n,a);break;case 1:bt||(hs(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Gg(a,n,l)),Gs(t,n,a);break;case 21:Gs(t,n,a);break;case 22:bt=(l=bt)||a.memoizedState!==null,Gs(t,n,a),bt=l;break;default:Gs(t,n,a)}}function Wg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{so(t)}catch(a){lt(n,n.return,a)}}function DT(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Kg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Kg),n;default:throw Error(r(435,t.tag))}}function Ad(t,n){var a=DT(t);n.forEach(function(l){var d=BT.bind(null,t,l);a.has(l)||(a.add(l),l.then(d,d))})}function An(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],m=t,b=n,T=b;e:for(;T!==null;){switch(T.tag){case 27:if(Ai(T.type)){dt=T.stateNode,dn=!1;break e}break;case 5:dt=T.stateNode,dn=!1;break e;case 3:case 4:dt=T.stateNode.containerInfo,dn=!0;break e}T=T.return}if(dt===null)throw Error(r(160));Jg(m,b,d),dt=null,dn=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)ev(n,t),n=n.sibling}var Kn=null;function ev(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:An(n,t),xn(t),l&4&&(pi(3,t,t.return),Ul(3,t),pi(5,t,t.return));break;case 1:An(n,t),xn(t),l&512&&(bt||a===null||hs(a,a.return)),l&64&&Fs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=Kn;if(An(n,t),xn(t),l&512&&(bt||a===null||hs(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Ji]||m[Dt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(l),d.head.insertBefore(m,d.querySelector("head > title"))),Yt(m,l,a),m[Dt]=t,yt(m),l=m;break e;case"link":var b=$v("link","href",d).get(l+(a.href||""));if(b){for(var T=0;T<b.length;T++)if(m=b[T],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(T,1);break t}}m=d.createElement(l),Yt(m,l,a),d.head.appendChild(m);break;case"meta":if(b=$v("meta","content",d).get(l+(a.content||""))){for(T=0;T<b.length;T++)if(m=b[T],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(T,1);break t}}m=d.createElement(l),Yt(m,l,a),d.head.appendChild(m);break;default:throw Error(r(468,l))}m[Dt]=t,yt(m),l=m}t.stateNode=l}else Kv(d,t.type,t.stateNode);else t.stateNode=Yv(d,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?Kv(d,t.type,t.stateNode):Yv(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&_d(t,t.memoizedProps,a.memoizedProps)}break;case 27:An(n,t),xn(t),l&512&&(bt||a===null||hs(a,a.return)),a!==null&&l&4&&_d(t,t.memoizedProps,a.memoizedProps);break;case 5:if(An(n,t),xn(t),l&512&&(bt||a===null||hs(a,a.return)),t.flags&32){d=t.stateNode;try{Vn(d,"")}catch(F){lt(t,t.return,F)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,_d(t,d,a!==null?a.memoizedProps:d)),l&1024&&(Td=!0);break;case 6:if(An(n,t),xn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(F){lt(t,t.return,F)}}break;case 3:if(Zc=null,d=Kn,Kn=Kc(n.containerInfo),An(n,t),Kn=d,xn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{so(n.containerInfo)}catch(F){lt(t,t.return,F)}Td&&(Td=!1,tv(t));break;case 4:l=Kn,Kn=Kc(t.stateNode.containerInfo),An(n,t),xn(t),Kn=l;break;case 12:An(n,t),xn(t);break;case 13:An(n,t),xn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Rd=Dn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ad(t,l)));break;case 22:d=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,z=Fs,X=bt;if(Fs=z||d,bt=X||I,An(n,t),bt=X,Fs=z,xn(t),l&8192)e:for(n=t.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(a===null||I||Fs||bt||xa(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){I=a=n;try{if(m=I.stateNode,d)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{T=I.stateNode;var ee=I.memoizedProps.style,H=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(F){lt(I,I.return,F)}}}else if(n.tag===6){if(a===null){I=n;try{I.stateNode.nodeValue=d?"":I.memoizedProps}catch(F){lt(I,I.return,F)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ad(t,a))));break;case 19:An(n,t),xn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ad(t,l)));break;case 30:break;case 21:break;default:An(n,t),xn(t)}}function xn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Yg(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var d=a.stateNode,m=bd(t);kc(t,m,d);break;case 5:var b=a.stateNode;a.flags&32&&(Vn(b,""),a.flags&=-33);var T=bd(t);kc(t,T,b);break;case 3:case 4:var I=a.stateNode.containerInfo,z=bd(t);Ed(t,z,I);break;default:throw Error(r(161))}}catch(X){lt(t,t.return,X)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function tv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;tv(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function gi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Xg(t,n.alternate,n),n=n.sibling}function xa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:pi(4,n,n.return),xa(n);break;case 1:hs(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Gg(n,n.return,a),xa(n);break;case 27:Kl(n.stateNode);case 26:case 5:hs(n,n.return),xa(n);break;case 22:n.memoizedState===null&&xa(n);break;case 30:xa(n);break;default:xa(n)}t=t.sibling}}function vi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,d=t,m=n,b=m.flags;switch(m.tag){case 0:case 11:case 15:vi(d,m,a),Ul(4,m);break;case 1:if(vi(d,m,a),l=m,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(z){lt(l,l.return,z)}if(l=m,d=l.updateQueue,d!==null){var T=l.stateNode;try{var I=d.shared.hiddenCallbacks;if(I!==null)for(d.shared.hiddenCallbacks=null,d=0;d<I.length;d++)Cp(I[d],T)}catch(z){lt(l,l.return,z)}}a&&b&64&&Fg(m),Bl(m,m.return);break;case 27:$g(m);case 26:case 5:vi(d,m,a),a&&l===null&&b&4&&Qg(m),Bl(m,m.return);break;case 12:vi(d,m,a);break;case 13:vi(d,m,a),a&&b&4&&Wg(d,m);break;case 22:m.memoizedState===null&&vi(d,m,a),Bl(m,m.return);break;case 30:break;default:vi(d,m,a)}n=n.sibling}}function xd(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Sl(a))}function Sd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Sl(t))}function ds(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)nv(t,n,a,l),n=n.sibling}function nv(t,n,a,l){var d=n.flags;switch(n.tag){case 0:case 11:case 15:ds(t,n,a,l),d&2048&&Ul(9,n);break;case 1:ds(t,n,a,l);break;case 3:ds(t,n,a,l),d&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Sl(t)));break;case 12:if(d&2048){ds(t,n,a,l),t=n.stateNode;try{var m=n.memoizedProps,b=m.id,T=m.onPostCommit;typeof T=="function"&&T(b,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){lt(n,n.return,I)}}else ds(t,n,a,l);break;case 13:ds(t,n,a,l);break;case 23:break;case 22:m=n.stateNode,b=n.alternate,n.memoizedState!==null?m._visibility&2?ds(t,n,a,l):zl(t,n):m._visibility&2?ds(t,n,a,l):(m._visibility|=2,_r(t,n,a,l,(n.subtreeFlags&10256)!==0)),d&2048&&xd(b,n);break;case 24:ds(t,n,a,l),d&2048&&Sd(n.alternate,n);break;default:ds(t,n,a,l)}}function _r(t,n,a,l,d){for(d=d&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var m=t,b=n,T=a,I=l,z=b.flags;switch(b.tag){case 0:case 11:case 15:_r(m,b,T,I,d),Ul(8,b);break;case 23:break;case 22:var X=b.stateNode;b.memoizedState!==null?X._visibility&2?_r(m,b,T,I,d):zl(m,b):(X._visibility|=2,_r(m,b,T,I,d)),d&&z&2048&&xd(b.alternate,b);break;case 24:_r(m,b,T,I,d),d&&z&2048&&Sd(b.alternate,b);break;default:_r(m,b,T,I,d)}n=n.sibling}}function zl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,d=l.flags;switch(l.tag){case 22:zl(a,l),d&2048&&xd(l.alternate,l);break;case 24:zl(a,l),d&2048&&Sd(l.alternate,l);break;default:zl(a,l)}n=n.sibling}}var ql=8192;function br(t){if(t.subtreeFlags&ql)for(t=t.child;t!==null;)sv(t),t=t.sibling}function sv(t){switch(t.tag){case 26:br(t),t.flags&ql&&t.memoizedState!==null&&gA(Kn,t.memoizedState,t.memoizedProps);break;case 5:br(t);break;case 3:case 4:var n=Kn;Kn=Kc(t.stateNode.containerInfo),br(t),Kn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=ql,ql=16777216,br(t),ql=n):br(t));break;default:br(t)}}function iv(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Hl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Bt=l,rv(l,t)}iv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)av(t),t=t.sibling}function av(t){switch(t.tag){case 0:case 11:case 15:Hl(t),t.flags&2048&&pi(9,t,t.return);break;case 3:Hl(t);break;case 12:Hl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Lc(t)):Hl(t);break;default:Hl(t)}}function Lc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Bt=l,rv(l,t)}iv(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:pi(8,n,n.return),Lc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Lc(n));break;default:Lc(n)}t=t.sibling}}function rv(t,n){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:pi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Bt=l;else e:for(a=t;Bt!==null;){l=Bt;var d=l.sibling,m=l.return;if(Zg(l),l===a){Bt=null;break e}if(d!==null){d.return=m,Bt=d;break e}Bt=m}}}var IT={getCacheForType:function(t){var n=Jt(Mt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},VT=typeof WeakMap=="function"?WeakMap:Map,tt=0,ct=null,ke=null,Fe=0,nt=0,Sn=null,yi=!1,Er=!1,Nd=!1,Qs=0,vt=0,_i=0,Sa=0,wd=0,qn=0,Tr=0,Fl=null,fn=null,jd=!1,Rd=0,Pc=1/0,Uc=null,bi=null,Qt=0,Ei=null,Ar=null,xr=0,Cd=0,Dd=null,lv=null,Gl=0,Id=null;function Nn(){if((tt&2)!==0&&Fe!==0)return Fe&-Fe;if(Y.T!==null){var t=hr;return t!==0?t:Ud()}return ni()}function ov(){qn===0&&(qn=(Fe&536870912)===0||Ze?el():536870912);var t=zn.current;return t!==null&&(t.flags|=32),qn}function wn(t,n,a){(t===ct&&(nt===2||nt===9)||t.cancelPendingCommit!==null)&&(Sr(t,0),Ti(t,Fe,qn,!1)),xs(t,a),((tt&2)===0||t!==ct)&&(t===ct&&((tt&2)===0&&(Sa|=a),vt===4&&Ti(t,Fe,qn,!1)),fs(t))}function cv(t,n,a){if((tt&6)!==0)throw Error(r(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Zi(t,n),d=l?kT(t,n):Od(t,n,!0),m=l;do{if(d===0){Er&&!l&&Ti(t,n,0,!1);break}else{if(a=t.current.alternate,m&&!MT(a)){d=Od(t,n,!1),m=!1;continue}if(d===2){if(m=n,t.errorRecoveryDisabledLanes&m)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;e:{var T=t;d=Fl;var I=T.current.memoizedState.isDehydrated;if(I&&(Sr(T,b).flags|=256),b=Od(T,b,!1),b!==2){if(Nd&&!I){T.errorRecoveryDisabledLanes|=m,Sa|=m,d=4;break e}m=fn,fn=d,m!==null&&(fn===null?fn=m:fn.push.apply(fn,m))}d=b}if(m=!1,d!==2)continue}}if(d===1){Sr(t,0),Ti(t,n,0,!0);break}e:{switch(l=t,m=d,m){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ti(l,n,qn,!yi);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(d=Rd+300-Dn(),10<d)){if(Ti(l,n,qn,!yi),qa(l,0,!0)!==0)break e;l.timeoutHandle=Pv(uv.bind(null,l,a,fn,Uc,jd,n,qn,Sa,Tr,yi,m,2,-0,0),d);break e}uv(l,a,fn,Uc,jd,n,qn,Sa,Tr,yi,m,0,-0,0)}}break}while(!0);fs(t)}function uv(t,n,a,l,d,m,b,T,I,z,X,ee,H,F){if(t.timeoutHandle=-1,ee=n.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(Jl={stylesheets:null,count:0,unsuspend:pA},sv(n),ee=vA(),ee!==null)){t.cancelPendingCommit=ee(vv.bind(null,t,n,m,a,l,d,b,T,I,X,1,H,F)),Ti(t,m,b,!z);return}vv(t,n,m,a,l,d,b,T,I)}function MT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],m=d.getSnapshot;d=d.value;try{if(!En(m(),d))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ti(t,n,a,l){n&=~wd,n&=~Sa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var d=n;0<d;){var m=31-Zt(d),b=1<<m;l[m]=-1,d&=~b}a!==0&&Jn(t,a,n)}function Bc(){return(tt&6)===0?(Ql(0),!1):!0}function Vd(){if(ke!==null){if(nt===0)var t=ke.return;else t=ke,Ps=_a=null,Xh(t),vr=null,kl=0,t=ke;for(;t!==null;)Hg(t.alternate,t),t=t.return;ke=null}}function Sr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,JT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Vd(),ct=t,ke=a=Os(t.current,null),Fe=n,nt=0,Sn=null,yi=!1,Er=Zi(t,n),Nd=!1,Tr=qn=wd=Sa=_i=vt=0,fn=Fl=null,jd=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var d=31-Zt(l),m=1<<d;n|=t[d],l&=~m}return Qs=n,oc(),a}function hv(t,n){Ie=null,Y.H=wc,n===wl||n===vc?(n=jp(),nt=3):n===Sp?(n=jp(),nt=4):nt=n===Rg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Sn=n,ke===null&&(vt=1,Ic(t,Ln(n,t.current)))}function dv(){var t=Y.H;return Y.H=wc,t===null?wc:t}function fv(){var t=Y.A;return Y.A=IT,t}function Md(){vt=4,yi||(Fe&4194048)!==Fe&&zn.current!==null||(Er=!0),(_i&134217727)===0&&(Sa&134217727)===0||ct===null||Ti(ct,Fe,qn,!1)}function Od(t,n,a){var l=tt;tt|=2;var d=dv(),m=fv();(ct!==t||Fe!==n)&&(Uc=null,Sr(t,n)),n=!1;var b=vt;e:do try{if(nt!==0&&ke!==null){var T=ke,I=Sn;switch(nt){case 8:Vd(),b=6;break e;case 3:case 2:case 9:case 6:zn.current===null&&(n=!0);var z=nt;if(nt=0,Sn=null,Nr(t,T,I,z),a&&Er){b=0;break e}break;default:z=nt,nt=0,Sn=null,Nr(t,T,I,z)}}OT(),b=vt;break}catch(X){hv(t,X)}while(!0);return n&&t.shellSuspendCounter++,Ps=_a=null,tt=l,Y.H=d,Y.A=m,ke===null&&(ct=null,Fe=0,oc()),b}function OT(){for(;ke!==null;)mv(ke)}function kT(t,n){var a=tt;tt|=2;var l=dv(),d=fv();ct!==t||Fe!==n?(Uc=null,Pc=Dn()+500,Sr(t,n)):Er=Zi(t,n);e:do try{if(nt!==0&&ke!==null){n=ke;var m=Sn;t:switch(nt){case 1:nt=0,Sn=null,Nr(t,n,m,1);break;case 2:case 9:if(Np(m)){nt=0,Sn=null,pv(n);break}n=function(){nt!==2&&nt!==9||ct!==t||(nt=7),fs(t)},m.then(n,n);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:Np(m)?(nt=0,Sn=null,pv(n)):(nt=0,Sn=null,Nr(t,n,m,7));break;case 5:var b=null;switch(ke.tag){case 26:b=ke.memoizedState;case 5:case 27:var T=ke;if(!b||Xv(b)){nt=0,Sn=null;var I=T.sibling;if(I!==null)ke=I;else{var z=T.return;z!==null?(ke=z,zc(z)):ke=null}break t}}nt=0,Sn=null,Nr(t,n,m,5);break;case 6:nt=0,Sn=null,Nr(t,n,m,6);break;case 8:Vd(),vt=6;break e;default:throw Error(r(462))}}LT();break}catch(X){hv(t,X)}while(!0);return Ps=_a=null,Y.H=l,Y.A=d,tt=a,ke!==null?0:(ct=null,Fe=0,oc(),vt)}function LT(){for(;ke!==null&&!Xr();)mv(ke)}function mv(t){var n=zg(t.alternate,t,Qs);t.memoizedProps=t.pendingProps,n===null?zc(t):ke=n}function pv(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Og(a,n,n.pendingProps,n.type,void 0,Fe);break;case 11:n=Og(a,n,n.pendingProps,n.type.render,n.ref,Fe);break;case 5:Xh(n);default:Hg(a,n),n=ke=gp(n,Qs),n=zg(a,n,Qs)}t.memoizedProps=t.pendingProps,n===null?zc(t):ke=n}function Nr(t,n,a,l){Ps=_a=null,Xh(n),vr=null,kl=0;var d=n.return;try{if(NT(t,d,n,a,Fe)){vt=1,Ic(t,Ln(a,t.current)),ke=null;return}}catch(m){if(d!==null)throw ke=d,m;vt=1,Ic(t,Ln(a,t.current)),ke=null;return}n.flags&32768?(Ze||l===1?t=!0:Er||(Fe&536870912)!==0?t=!1:(yi=t=!0,(l===2||l===9||l===3||l===6)&&(l=zn.current,l!==null&&l.tag===13&&(l.flags|=16384))),gv(n,t)):zc(n)}function zc(t){var n=t;do{if((n.flags&32768)!==0){gv(n,yi);return}t=n.return;var a=jT(n.alternate,n,Qs);if(a!==null){ke=a;return}if(n=n.sibling,n!==null){ke=n;return}ke=n=t}while(n!==null);vt===0&&(vt=5)}function gv(t,n){do{var a=RT(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);vt=6,ke=null}function vv(t,n,a,l,d,m,b,T,I){t.cancelPendingCommit=null;do qc();while(Qt!==0);if((tt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(m=n.lanes|n.childLanes,m|=Sh,nl(t,a,m,b,T,I),t===ct&&(ke=ct=null,Fe=0),Ar=n,Ei=t,xr=a,Cd=m,Dd=d,lv=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,zT(Yi,function(){return Tv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,d=re.p,re.p=2,b=tt,tt|=4;try{CT(t,n,a)}finally{tt=b,re.p=d,Y.T=l}}Qt=1,yv(),_v(),bv()}}function yv(){if(Qt===1){Qt=0;var t=Ei,n=Ar,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=re.p;re.p=2;var d=tt;tt|=4;try{ev(n,t);var m=Yd,b=rp(t.containerInfo),T=m.focusedElem,I=m.selectionRange;if(b!==T&&T&&T.ownerDocument&&ap(T.ownerDocument.documentElement,T)){if(I!==null&&bh(T)){var z=I.start,X=I.end;if(X===void 0&&(X=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(X,T.value.length);else{var ee=T.ownerDocument||document,H=ee&&ee.defaultView||window;if(H.getSelection){var F=H.getSelection(),Ne=T.textContent.length,Ee=Math.min(I.start,Ne),rt=I.end===void 0?Ee:Math.min(I.end,Ne);!F.extend&&Ee>rt&&(b=rt,rt=Ee,Ee=b);var L=ip(T,Ee),O=ip(T,rt);if(L&&O&&(F.rangeCount!==1||F.anchorNode!==L.node||F.anchorOffset!==L.offset||F.focusNode!==O.node||F.focusOffset!==O.offset)){var B=ee.createRange();B.setStart(L.node,L.offset),F.removeAllRanges(),Ee>rt?(F.addRange(B),F.extend(O.node,O.offset)):(B.setEnd(O.node,O.offset),F.addRange(B))}}}}for(ee=[],F=T;F=F.parentNode;)F.nodeType===1&&ee.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var Z=ee[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}eu=!!Qd,Yd=Qd=null}finally{tt=d,re.p=l,Y.T=a}}t.current=n,Qt=2}}function _v(){if(Qt===2){Qt=0;var t=Ei,n=Ar,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=re.p;re.p=2;var d=tt;tt|=4;try{Xg(t,n.alternate,n)}finally{tt=d,re.p=l,Y.T=a}}Qt=3}}function bv(){if(Qt===4||Qt===3){Qt=0,Lo();var t=Ei,n=Ar,a=xr,l=lv;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Qt=5:(Qt=0,Ar=Ei=null,Ev(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(bi=null),Ha(a),n=n.stateNode,et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(pt,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Y.T,d=re.p,re.p=2,Y.T=null;try{for(var m=t.onRecoverableError,b=0;b<l.length;b++){var T=l[b];m(T.value,{componentStack:T.stack})}}finally{Y.T=n,re.p=d}}(xr&3)!==0&&qc(),fs(t),d=t.pendingLanes,(a&4194090)!==0&&(d&42)!==0?t===Id?Gl++:(Gl=0,Id=t):Gl=0,Ql(0)}}function Ev(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Sl(n)))}function qc(t){return yv(),_v(),bv(),Tv()}function Tv(){if(Qt!==5)return!1;var t=Ei,n=Cd;Cd=0;var a=Ha(xr),l=Y.T,d=re.p;try{re.p=32>a?32:a,Y.T=null,a=Dd,Dd=null;var m=Ei,b=xr;if(Qt=0,Ar=Ei=null,xr=0,(tt&6)!==0)throw Error(r(331));var T=tt;if(tt|=4,av(m.current),nv(m,m.current,b,a),tt=T,Ql(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(pt,m)}catch{}return!0}finally{re.p=d,Y.T=l,Ev(t,n)}}function Av(t,n,a){n=Ln(a,n),n=ud(t.stateNode,n,2),t=hi(t,n,2),t!==null&&(xs(t,2),fs(t))}function lt(t,n,a){if(t.tag===3)Av(t,t,a);else for(;n!==null;){if(n.tag===3){Av(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(bi===null||!bi.has(l))){t=Ln(a,t),a=wg(2),l=hi(n,a,2),l!==null&&(jg(a,l,n,t),xs(l,2),fs(l));break}}n=n.return}}function kd(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new VT;var d=new Set;l.set(n,d)}else d=l.get(n),d===void 0&&(d=new Set,l.set(n,d));d.has(a)||(Nd=!0,d.add(a),t=PT.bind(null,t,n,a),n.then(t,t))}function PT(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ct===t&&(Fe&a)===a&&(vt===4||vt===3&&(Fe&62914560)===Fe&&300>Dn()-Rd?(tt&2)===0&&Sr(t,0):wd|=a,Tr===Fe&&(Tr=0)),fs(t)}function xv(t,n){n===0&&(n=tl()),t=lr(t,n),t!==null&&(xs(t,n),fs(t))}function UT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),xv(t,a)}function BT(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),xv(t,a)}function zT(t,n){return Gi(t,n)}var Hc=null,wr=null,Ld=!1,Fc=!1,Pd=!1,Na=0;function fs(t){t!==wr&&t.next===null&&(wr===null?Hc=wr=t:wr=wr.next=t),Fc=!0,Ld||(Ld=!0,HT())}function Ql(t,n){if(!Pd&&Fc){Pd=!0;do for(var a=!1,l=Hc;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var m=0;else{var b=l.suspendedLanes,T=l.pingedLanes;m=(1<<31-Zt(42|t)+1)-1,m&=d&~(b&~T),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,jv(l,m))}else m=Fe,m=qa(l,l===ct?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Zi(l,m)||(a=!0,jv(l,m));l=l.next}while(a);Pd=!1}}function qT(){Sv()}function Sv(){Fc=Ld=!1;var t=0;Na!==0&&(ZT()&&(t=Na),Na=0);for(var n=Dn(),a=null,l=Hc;l!==null;){var d=l.next,m=Nv(l,n);m===0?(l.next=null,a===null?Hc=d:a.next=d,d===null&&(wr=a)):(a=l,(t!==0||(m&3)!==0)&&(Fc=!0)),l=d}Ql(t)}function Nv(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var b=31-Zt(m),T=1<<b,I=d[b];I===-1?((T&a)===0||(T&l)!==0)&&(d[b]=Wr(T,n)):I<=n&&(t.expiredLanes|=T),m&=~T}if(n=ct,a=Fe,a=qa(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(nt===2||nt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Qi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Zi(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Qi(l),Ha(a)){case 2:case 8:a=Ba;break;case 32:a=Yi;break;case 268435456:a=za;break;default:a=Yi}return l=wv.bind(null,t),a=Gi(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Qi(l),t.callbackPriority=2,t.callbackNode=null,2}function wv(t,n){if(Qt!==0&&Qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(qc()&&t.callbackNode!==a)return null;var l=Fe;return l=qa(t,t===ct?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(cv(t,l,n),Nv(t,Dn()),t.callbackNode!=null&&t.callbackNode===a?wv.bind(null,t):null)}function jv(t,n){if(qc())return null;cv(t,n,!0)}function HT(){WT(function(){(tt&6)!==0?Gi(Zr,qT):Sv()})}function Ud(){return Na===0&&(Na=el()),Na}function Rv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ka(""+t)}function Cv(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function FT(t,n,a,l,d){if(n==="submit"&&a&&a.stateNode===d){var m=Rv((d[xt]||null).action),b=l.submitter;b&&(n=(n=b[xt]||null)?Rv(n.formAction):b.getAttribute("formAction"),n!==null&&(m=n,b=null));var T=new Xa("action","action",null,l,d);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Na!==0){var I=b?Cv(d,b):new FormData(d);ad(a,{pending:!0,data:I,method:d.method,action:m},null,I)}}else typeof m=="function"&&(T.preventDefault(),I=b?Cv(d,b):new FormData(d),ad(a,{pending:!0,data:I,method:d.method,action:m},m,I))},currentTarget:d}]})}}for(var Bd=0;Bd<xh.length;Bd++){var zd=xh[Bd],GT=zd.toLowerCase(),QT=zd[0].toUpperCase()+zd.slice(1);$n(GT,"on"+QT)}$n(cp,"onAnimationEnd"),$n(up,"onAnimationIteration"),$n(hp,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(cT,"onTransitionRun"),$n(uT,"onTransitionStart"),$n(hT,"onTransitionCancel"),$n(dp,"onTransitionEnd"),Ns("onMouseEnter",["mouseout","mouseover"]),Ns("onMouseLeave",["mouseout","mouseover"]),Ns("onPointerEnter",["pointerout","pointerover"]),Ns("onPointerLeave",["pointerout","pointerover"]),Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yl));function Dv(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var m=void 0;if(n)for(var b=l.length-1;0<=b;b--){var T=l[b],I=T.instance,z=T.currentTarget;if(T=T.listener,I!==m&&d.isPropagationStopped())break e;m=T,d.currentTarget=z;try{m(d)}catch(X){Dc(X)}d.currentTarget=null,m=I}else for(b=0;b<l.length;b++){if(T=l[b],I=T.instance,z=T.currentTarget,T=T.listener,I!==m&&d.isPropagationStopped())break e;m=T,d.currentTarget=z;try{m(d)}catch(X){Dc(X)}d.currentTarget=null,m=I}}}}function Le(t,n){var a=n[il];a===void 0&&(a=n[il]=new Set);var l=t+"__bubble";a.has(l)||(Iv(n,t,2,!1),a.add(l))}function qd(t,n,a){var l=0;n&&(l|=4),Iv(a,t,l,n)}var Gc="_reactListening"+Math.random().toString(36).slice(2);function Hd(t){if(!t[Gc]){t[Gc]=!0,al.forEach(function(a){a!=="selectionchange"&&(YT.has(a)||qd(a,!1,t),qd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Gc]||(n[Gc]=!0,qd("selectionchange",!1,n))}}function Iv(t,n,a,l){switch(ny(n)){case 2:var d=bA;break;case 8:d=EA;break;default:d=sf}a=d.bind(null,n,a,t),d=void 0,!On||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(n,a,{capture:!0,passive:d}):t.addEventListener(n,a,!0):d!==void 0?t.addEventListener(n,a,{passive:d}):t.addEventListener(n,a,!1)}function Fd(t,n,a,l,d){var m=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var T=l.stateNode.containerInfo;if(T===d)break;if(b===4)for(b=l.return;b!==null;){var I=b.tag;if((I===3||I===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;T!==null;){if(b=Ss(T),b===null)return;if(I=b.tag,I===5||I===6||I===26||I===27){l=m=b;continue e}T=T.parentNode}}l=l.return}Yo(function(){var z=m,X=Mn(a),ee=[];e:{var H=fp.get(t);if(H!==void 0){var F=Xa,Ne=t;switch(t){case"keypress":if(is(a)===0)break e;case"keydown":case"keyup":F=nr;break;case"focusin":Ne="focus",F=Wa;break;case"focusout":Ne="blur",F=Wa;break;case"beforeblur":case"afterblur":F=Wa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=kn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=gh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=tc;break;case cp:case up:case hp:F=er;break;case dp:F=sc;break;case"scroll":case"scrollend":F=$o;break;case"wheel":F=sr;break;case"copy":case"cut":case"paste":F=tr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=vl;break;case"toggle":case"beforetoggle":F=ac}var Ee=(n&4)!==0,rt=!Ee&&(t==="scroll"||t==="scrollend"),L=Ee?H!==null?H+"Capture":null:H;Ee=[];for(var O=z,B;O!==null;){var Z=O;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||L===null||(Z=aa(O,L),Z!=null&&Ee.push($l(O,Z,B))),rt)break;O=O.return}0<Ee.length&&(H=new F(H,Ne,null,a,X),ee.push({event:H,listeners:Ee}))}}if((n&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",H&&a!==Rs&&(Ne=a.relatedTarget||a.fromElement)&&(Ss(Ne)||Ne[In]))break e;if((F||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,F?(Ne=a.relatedTarget||a.toElement,F=z,Ne=Ne?Ss(Ne):null,Ne!==null&&(rt=h(Ne),Ee=Ne.tag,Ne!==rt||Ee!==5&&Ee!==27&&Ee!==6)&&(Ne=null)):(F=null,Ne=z),F!==Ne)){if(Ee=kn,Z="onMouseLeave",L="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=vl,Z="onPointerLeave",L="onPointerEnter",O="pointer"),rt=F==null?H:es(F),B=Ne==null?H:es(Ne),H=new Ee(Z,O+"leave",F,a,X),H.target=rt,H.relatedTarget=B,Z=null,Ss(X)===z&&(Ee=new Ee(L,O+"enter",Ne,a,X),Ee.target=B,Ee.relatedTarget=rt,Z=Ee),rt=Z,F&&Ne)t:{for(Ee=F,L=Ne,O=0,B=Ee;B;B=jr(B))O++;for(B=0,Z=L;Z;Z=jr(Z))B++;for(;0<O-B;)Ee=jr(Ee),O--;for(;0<B-O;)L=jr(L),B--;for(;O--;){if(Ee===L||L!==null&&Ee===L.alternate)break t;Ee=jr(Ee),L=jr(L)}Ee=null}else Ee=null;F!==null&&Vv(ee,H,F,Ee,!1),Ne!==null&&rt!==null&&Vv(ee,rt,Ne,Ee,!0)}}e:{if(H=z?es(z):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var pe=Jm;else if(Vt(H))if(Wm)pe=rT;else{pe=iT;var Oe=sT}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?z&&ul(z.elementType)&&(pe=Jm):pe=aT;if(pe&&(pe=pe(t,z))){Ms(ee,pe,a,X);break e}Oe&&Oe(t,H,z),t==="focusout"&&z&&H.type==="number"&&z.memoizedProps.value!=null&&ri(H,"number",H.value)}switch(Oe=z?es(z):window,t){case"focusin":(Vt(Oe)||Oe.contentEditable==="true")&&(ir=Oe,Eh=z,bl=null);break;case"focusout":bl=Eh=ir=null;break;case"mousedown":Th=!0;break;case"contextmenu":case"mouseup":case"dragend":Th=!1,lp(ee,a,X);break;case"selectionchange":if(oT)break;case"keydown":case"keyup":lp(ee,a,X)}var ye;if(ls)e:{switch(t){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else qe?G(t,a)&&(Te="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(_&&a.locale!=="ko"&&(qe||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&qe&&(ye=dl()):(ss=X,li="value"in ss?ss.value:ss.textContent,qe=!0)),Oe=Qc(z,Te),0<Oe.length&&(Te=new pl(Te,t,null,a,X),ee.push({event:Te,listeners:Oe}),ye?Te.data=ye:(ye=ae(a),ye!==null&&(Te.data=ye)))),(ye=g?It(t,a):He(t,a))&&(Te=Qc(z,"onBeforeInput"),0<Te.length&&(Oe=new pl("onBeforeInput","beforeinput",null,a,X),ee.push({event:Oe,listeners:Te}),Oe.data=ye)),FT(ee,t,z,a,X)}Dv(ee,n)})}function $l(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Qc(t,n){for(var a=n+"Capture",l=[];t!==null;){var d=t,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=aa(t,a),d!=null&&l.unshift($l(t,d,m)),d=aa(t,n),d!=null&&l.push($l(t,d,m))),t.tag===3)return l;t=t.return}return[]}function jr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Vv(t,n,a,l,d){for(var m=n._reactName,b=[];a!==null&&a!==l;){var T=a,I=T.alternate,z=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||z===null||(I=z,d?(z=aa(a,m),z!=null&&b.unshift($l(a,z,I))):d||(z=aa(a,m),z!=null&&b.push($l(a,z,I)))),a=a.return}b.length!==0&&t.push({event:n,listeners:b})}var $T=/\r\n?/g,KT=/\u0000|\uFFFD/g;function Mv(t){return(typeof t=="string"?t:""+t).replace($T,`
`).replace(KT,"")}function Ov(t,n){return n=Mv(n),Mv(t)===n}function Yc(){}function at(t,n,a,l,d,m){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Vn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Vn(t,""+l);break;case"className":ts(t,"class",l);break;case"tabIndex":ts(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ts(t,a,l);break;case"style":cl(t,l,m);break;case"data":if(n!=="object"){ts(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ka(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(n!=="input"&&at(t,n,"name",d.name,d,null),at(t,n,"formEncType",d.formEncType,d,null),at(t,n,"formMethod",d.formMethod,d,null),at(t,n,"formTarget",d.formTarget,d,null)):(at(t,n,"encType",d.encType,d,null),at(t,n,"method",d.method,d,null),at(t,n,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ka(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Yc);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ka(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Le("beforetoggle",t),Le("toggle",t),ai(t,"popover",l);break;case"xlinkActuate":Ht(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ht(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ht(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ht(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ht(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ht(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ai(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mh.get(a)||a,ai(t,a,l))}}function Gd(t,n,a,l,d,m){switch(a){case"style":cl(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Vn(t,l):(typeof l=="number"||typeof l=="bigint")&&Vn(t,""+l);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Yc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),n=a.slice(2,d?a.length-7:void 0),m=t[xt]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(n,m,d),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ai(t,a,l)}}}function Yt(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var l=!1,d=!1,m;for(m in a)if(a.hasOwnProperty(m)){var b=a[m];if(b!=null)switch(m){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:at(t,n,m,b,a,null)}}d&&at(t,n,"srcSet",a.srcSet,a,null),l&&at(t,n,"src",a.src,a,null);return;case"input":Le("invalid",t);var T=m=b=d=null,I=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":d=X;break;case"type":b=X;break;case"checked":I=X;break;case"defaultChecked":z=X;break;case"value":m=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,n));break;default:at(t,n,l,X,a,null)}}na(t,m,T,I,z,b,d,!1),$a(t);return;case"select":Le("invalid",t),l=b=m=null;for(d in a)if(a.hasOwnProperty(d)&&(T=a[d],T!=null))switch(d){case"value":m=T;break;case"defaultValue":b=T;break;case"multiple":l=T;default:at(t,n,d,T,a,null)}n=m,a=b,t.multiple=!!l,n!=null?js(t,!!l,n,!1):a!=null&&js(t,!!l,a,!0);return;case"textarea":Le("invalid",t),m=d=l=null;for(b in a)if(a.hasOwnProperty(b)&&(T=a[b],T!=null))switch(b){case"value":l=T;break;case"defaultValue":d=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:at(t,n,b,T,a,null)}sa(t,l,d,m),$a(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:at(t,n,I,l,a,null)}return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(l=0;l<Yl.length;l++)Le(Yl[l],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:at(t,n,z,l,a,null)}return;default:if(ul(n)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Gd(t,n,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&at(t,n,T,l,a,null))}function XT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,b=null,T=null,I=null,z=null,X=null;for(F in a){var ee=a[F];if(a.hasOwnProperty(F)&&ee!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":I=ee;default:l.hasOwnProperty(F)||at(t,n,F,null,l,ee)}}for(var H in l){var F=l[H];if(ee=a[H],l.hasOwnProperty(H)&&(F!=null||ee!=null))switch(H){case"type":m=F;break;case"name":d=F;break;case"checked":z=F;break;case"defaultChecked":X=F;break;case"value":b=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:F!==ee&&at(t,n,H,F,l,ee)}}bn(t,b,T,I,z,X,m,d);return;case"select":F=b=T=H=null;for(m in a)if(I=a[m],a.hasOwnProperty(m)&&I!=null)switch(m){case"value":break;case"multiple":F=I;default:l.hasOwnProperty(m)||at(t,n,m,null,l,I)}for(d in l)if(m=l[d],I=a[d],l.hasOwnProperty(d)&&(m!=null||I!=null))switch(d){case"value":H=m;break;case"defaultValue":T=m;break;case"multiple":b=m;default:m!==I&&at(t,n,d,m,l,I)}n=T,a=b,l=F,H!=null?js(t,!!a,H,!1):!!l!=!!a&&(n!=null?js(t,!!a,n,!0):js(t,!!a,a?[]:"",!1));return;case"textarea":F=H=null;for(T in a)if(d=a[T],a.hasOwnProperty(T)&&d!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:at(t,n,T,null,l,d)}for(b in l)if(d=l[b],m=a[b],l.hasOwnProperty(b)&&(d!=null||m!=null))switch(b){case"value":H=d;break;case"defaultValue":F=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==m&&at(t,n,b,d,l,m)}st(t,H,F);return;case"option":for(var Ne in a)if(H=a[Ne],a.hasOwnProperty(Ne)&&H!=null&&!l.hasOwnProperty(Ne))switch(Ne){case"selected":t.selected=!1;break;default:at(t,n,Ne,null,l,H)}for(I in l)if(H=l[I],F=a[I],l.hasOwnProperty(I)&&H!==F&&(H!=null||F!=null))switch(I){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:at(t,n,I,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)H=a[Ee],a.hasOwnProperty(Ee)&&H!=null&&!l.hasOwnProperty(Ee)&&at(t,n,Ee,null,l,H);for(z in l)if(H=l[z],F=a[z],l.hasOwnProperty(z)&&H!==F&&(H!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:at(t,n,z,H,l,F)}return;default:if(ul(n)){for(var rt in a)H=a[rt],a.hasOwnProperty(rt)&&H!==void 0&&!l.hasOwnProperty(rt)&&Gd(t,n,rt,void 0,l,H);for(X in l)H=l[X],F=a[X],!l.hasOwnProperty(X)||H===F||H===void 0&&F===void 0||Gd(t,n,X,H,l,F);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&at(t,n,L,null,l,H);for(ee in l)H=l[ee],F=a[ee],!l.hasOwnProperty(ee)||H===F||H==null&&F==null||at(t,n,ee,H,l,F)}var Qd=null,Yd=null;function $c(t){return t.nodeType===9?t:t.ownerDocument}function kv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lv(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function $d(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Kd=null;function ZT(){var t=window.event;return t&&t.type==="popstate"?t===Kd?!1:(Kd=t,!0):(Kd=null,!1)}var Pv=typeof setTimeout=="function"?setTimeout:void 0,JT=typeof clearTimeout=="function"?clearTimeout:void 0,Uv=typeof Promise=="function"?Promise:void 0,WT=typeof queueMicrotask=="function"?queueMicrotask:typeof Uv<"u"?function(t){return Uv.resolve(null).then(t).catch(eA)}:Pv;function eA(t){setTimeout(function(){throw t})}function Ai(t){return t==="head"}function Bv(t,n){var a=n,l=0,d=0;do{var m=a.nextSibling;if(t.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var b=t.ownerDocument;if(a&1&&Kl(b.documentElement),a&2&&Kl(b.body),a&4)for(a=b.head,Kl(a),b=a.firstChild;b;){var T=b.nextSibling,I=b.nodeName;b[Ji]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=T}}if(d===0){t.removeChild(m),so(n);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);so(n)}function Xd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Xd(a),ii(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function tA(t,n,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ji])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Xn(t.nextSibling),t===null)break}return null}function nA(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Xn(t.nextSibling),t===null))return null;return t}function Zd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function sA(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Xn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Jd=null;function zv(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function qv(t,n,a){switch(n=$c(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Kl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ii(t)}var Hn=new Map,Hv=new Set;function Kc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ys=re.d;re.d={f:iA,r:aA,D:rA,C:lA,L:oA,m:cA,X:hA,S:uA,M:dA};function iA(){var t=Ys.f(),n=Bc();return t||n}function aA(t){var n=Wn(t);n!==null&&n.tag===5&&n.type==="form"?cg(n):Ys.r(t)}var Rr=typeof document>"u"?null:document;function Fv(t,n,a){var l=Rr;if(l&&typeof n=="string"&&n){var d=St(n);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),Hv.has(d)||(Hv.add(d),t={rel:t,crossOrigin:a,href:n},l.querySelector(d)===null&&(n=l.createElement("link"),Yt(n,"link",t),yt(n),l.head.appendChild(n)))}}function rA(t){Ys.D(t),Fv("dns-prefetch",t,null)}function lA(t,n){Ys.C(t,n),Fv("preconnect",t,n)}function oA(t,n,a){Ys.L(t,n,a);var l=Rr;if(l&&t&&n){var d='link[rel="preload"][as="'+St(n)+'"]';n==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+St(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+St(a.imageSizes)+'"]')):d+='[href="'+St(t)+'"]';var m=d;switch(n){case"style":m=Cr(t);break;case"script":m=Dr(t)}Hn.has(m)||(t=E({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Hn.set(m,t),l.querySelector(d)!==null||n==="style"&&l.querySelector(Xl(m))||n==="script"&&l.querySelector(Zl(m))||(n=l.createElement("link"),Yt(n,"link",t),yt(n),l.head.appendChild(n)))}}function cA(t,n){Ys.m(t,n);var a=Rr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+St(l)+'"][href="'+St(t)+'"]',m=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Dr(t)}if(!Hn.has(m)&&(t=E({rel:"modulepreload",href:t},n),Hn.set(m,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Zl(m)))return}l=a.createElement("link"),Yt(l,"link",t),yt(l),a.head.appendChild(l)}}}function uA(t,n,a){Ys.S(t,n,a);var l=Rr;if(l&&t){var d=an(l).hoistableStyles,m=Cr(t);n=n||"default";var b=d.get(m);if(!b){var T={loading:0,preload:null};if(b=l.querySelector(Xl(m)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Hn.get(m))&&Wd(t,a);var I=b=l.createElement("link");yt(I),Yt(I,"link",t),I._p=new Promise(function(z,X){I.onload=z,I.onerror=X}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Xc(b,n,l)}b={type:"stylesheet",instance:b,count:1,state:T},d.set(m,b)}}}function hA(t,n){Ys.X(t,n);var a=Rr;if(a&&t){var l=an(a).hoistableScripts,d=Dr(t),m=l.get(d);m||(m=a.querySelector(Zl(d)),m||(t=E({src:t,async:!0},n),(n=Hn.get(d))&&ef(t,n),m=a.createElement("script"),yt(m),Yt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function dA(t,n){Ys.M(t,n);var a=Rr;if(a&&t){var l=an(a).hoistableScripts,d=Dr(t),m=l.get(d);m||(m=a.querySelector(Zl(d)),m||(t=E({src:t,async:!0,type:"module"},n),(n=Hn.get(d))&&ef(t,n),m=a.createElement("script"),yt(m),Yt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function Gv(t,n,a,l){var d=(d=fe.current)?Kc(d):null;if(!d)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Cr(a.href),a=an(d).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Cr(a.href);var m=an(d).hoistableStyles,b=m.get(t);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,b),(m=d.querySelector(Xl(t)))&&!m._p&&(b.instance=m,b.state.loading=5),Hn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(t,a),m||fA(d,t,a,b.state))),n&&l===null)throw Error(r(528,""));return b}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Dr(a),a=an(d).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Cr(t){return'href="'+St(t)+'"'}function Xl(t){return'link[rel="stylesheet"]['+t+"]"}function Qv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function fA(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Yt(n,"link",a),yt(n),t.head.appendChild(n))}function Dr(t){return'[src="'+St(t)+'"]'}function Zl(t){return"script[async]"+t}function Yv(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+St(a.href)+'"]');if(l)return n.instance=l,yt(l),l;var d=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),yt(l),Yt(l,"style",d),Xc(l,a.precedence,t),n.instance=l;case"stylesheet":d=Cr(a.href);var m=t.querySelector(Xl(d));if(m)return n.state.loading|=4,n.instance=m,yt(m),m;l=Qv(a),(d=Hn.get(d))&&Wd(l,d),m=(t.ownerDocument||t).createElement("link"),yt(m);var b=m;return b._p=new Promise(function(T,I){b.onload=T,b.onerror=I}),Yt(m,"link",l),n.state.loading|=4,Xc(m,a.precedence,t),n.instance=m;case"script":return m=Dr(a.src),(d=t.querySelector(Zl(m)))?(n.instance=d,yt(d),d):(l=a,(d=Hn.get(m))&&(l=E({},a),ef(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),yt(d),Yt(d,"link",l),t.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Xc(l,a.precedence,t));return n.instance}function Xc(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,m=d,b=0;b<l.length;b++){var T=l[b];if(T.dataset.precedence===n)m=T;else if(m!==d)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Wd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function ef(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Zc=null;function $v(t,n,a){if(Zc===null){var l=new Map,d=Zc=new Map;d.set(a,l)}else d=Zc,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var m=a[d];if(!(m[Ji]||m[Dt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(n)||"";b=t+b;var T=l.get(b);T?T.push(m):l.set(b,[m])}}return l}function Kv(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function mA(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Xv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Jl=null;function pA(){}function gA(t,n,a){if(Jl===null)throw Error(r(475));var l=Jl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var d=Cr(a.href),m=t.querySelector(Xl(d));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Jc.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=m,yt(m);return}m=t.ownerDocument||t,a=Qv(a),(d=Hn.get(d))&&Wd(a,d),m=m.createElement("link"),yt(m);var b=m;b._p=new Promise(function(T,I){b.onload=T,b.onerror=I}),Yt(m,"link",a),n.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Jc.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function vA(){if(Jl===null)throw Error(r(475));var t=Jl;return t.stylesheets&&t.count===0&&tf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&tf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Jc(){if(this.count--,this.count===0){if(this.stylesheets)tf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Wc=null;function tf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Wc=new Map,n.forEach(yA,t),Wc=null,Jc.call(t))}function yA(t,n){if(!(n.state.loading&4)){var a=Wc.get(t);if(a)var l=a.get(null);else{a=new Map,Wc.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var b=d[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}d=n.instance,b=d.getAttribute("data-precedence"),m=a.get(b)||l,m===l&&a.set(null,d),a.set(b,d),this.count++,l=Jc.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),m?m.parentNode.insertBefore(d,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),n.state.loading|=4}}var Wl={$$typeof:Q,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function _A(t,n,a,l,d,m,b,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=As(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=As(0),this.hiddenUpdates=As(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Zv(t,n,a,l,d,m,b,T,I,z,X,ee){return t=new _A(t,n,a,b,T,I,z,ee),n=1,m===!0&&(n|=24),m=Tn(3,null,null,n),t.current=m,m.stateNode=t,n=kh(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:n},Bh(m),t}function Jv(t){return t?(t=or,t):or}function Wv(t,n,a,l,d,m){d=Jv(d),l.context===null?l.context=d:l.pendingContext=d,l=ui(n),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=hi(t,l,n),a!==null&&(wn(a,t,n),Rl(a,t,n))}function ey(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function nf(t,n){ey(t,n),(t=t.alternate)&&ey(t,n)}function ty(t){if(t.tag===13){var n=lr(t,67108864);n!==null&&wn(n,t,67108864),nf(t,67108864)}}var eu=!0;function bA(t,n,a,l){var d=Y.T;Y.T=null;var m=re.p;try{re.p=2,sf(t,n,a,l)}finally{re.p=m,Y.T=d}}function EA(t,n,a,l){var d=Y.T;Y.T=null;var m=re.p;try{re.p=8,sf(t,n,a,l)}finally{re.p=m,Y.T=d}}function sf(t,n,a,l){if(eu){var d=af(l);if(d===null)Fd(t,n,l,tu,a),sy(t,l);else if(AA(d,t,n,a,l))l.stopPropagation();else if(sy(t,l),n&4&&-1<TA.indexOf(t)){for(;d!==null;){var m=Wn(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=Gn(m.pendingLanes);if(b!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;b;){var I=1<<31-Zt(b);T.entanglements[1]|=I,b&=~I}fs(m),(tt&6)===0&&(Pc=Dn()+500,Ql(0))}}break;case 13:T=lr(m,2),T!==null&&wn(T,m,2),Bc(),nf(m,2)}if(m=af(l),m===null&&Fd(t,n,l,tu,a),m===d)break;d=m}d!==null&&l.stopPropagation()}else Fd(t,n,l,null,a)}}function af(t){return t=Mn(t),rf(t)}var tu=null;function rf(t){if(tu=null,t=Ss(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=f(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return tu=t,null}function ny(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oh()){case Zr:return 2;case Ba:return 8;case Yi:case ch:return 32;case za:return 268435456;default:return 32}default:return 32}}var lf=!1,xi=null,Si=null,Ni=null,eo=new Map,to=new Map,wi=[],TA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sy(t,n){switch(t){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":eo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":to.delete(n.pointerId)}}function no(t,n,a,l,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[d]},n!==null&&(n=Wn(n),n!==null&&ty(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),t)}function AA(t,n,a,l,d){switch(n){case"focusin":return xi=no(xi,t,n,a,l,d),!0;case"dragenter":return Si=no(Si,t,n,a,l,d),!0;case"mouseover":return Ni=no(Ni,t,n,a,l,d),!0;case"pointerover":var m=d.pointerId;return eo.set(m,no(eo.get(m)||null,t,n,a,l,d)),!0;case"gotpointercapture":return m=d.pointerId,to.set(m,no(to.get(m)||null,t,n,a,l,d)),!0}return!1}function iy(t){var n=Ss(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){t.blockedOn=n,Bo(t.priority,function(){if(a.tag===13){var l=Nn();l=ti(l);var d=lr(a,l);d!==null&&wn(d,a,l),nf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=af(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Rs=l,a.target.dispatchEvent(l),Rs=null}else return n=Wn(a),n!==null&&ty(n),t.blockedOn=a,!1;n.shift()}return!0}function ay(t,n,a){nu(t)&&a.delete(n)}function xA(){lf=!1,xi!==null&&nu(xi)&&(xi=null),Si!==null&&nu(Si)&&(Si=null),Ni!==null&&nu(Ni)&&(Ni=null),eo.forEach(ay),to.forEach(ay)}function su(t,n){t.blockedOn===n&&(t.blockedOn=null,lf||(lf=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,xA)))}var iu=null;function ry(t){iu!==t&&(iu=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){iu===t&&(iu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],d=t[n+2];if(typeof l!="function"){if(rf(l||a)===null)continue;break}var m=Wn(a);m!==null&&(t.splice(n,3),n-=3,ad(m,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function so(t){function n(I){return su(I,t)}xi!==null&&su(xi,t),Si!==null&&su(Si,t),Ni!==null&&su(Ni,t),eo.forEach(n),to.forEach(n);for(var a=0;a<wi.length;a++){var l=wi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<wi.length&&(a=wi[0],a.blockedOn===null);)iy(a),a.blockedOn===null&&wi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],m=a[l+1],b=d[xt]||null;if(typeof m=="function")b||ry(a);else if(b){var T=null;if(m&&m.hasAttribute("formAction")){if(d=m,b=m[xt]||null)T=b.formAction;else if(rf(d)!==null)continue}else T=b.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),ry(a)}}}function of(t){this._internalRoot=t}au.prototype.render=of.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=Nn();Wv(a,l,t,n,null,null)},au.prototype.unmount=of.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Wv(t.current,2,null,t,null,null),Bc(),n[In]=null}};function au(t){this._internalRoot=t}au.prototype.unstable_scheduleHydration=function(t){if(t){var n=ni();t={blockedOn:null,target:t,priority:n};for(var a=0;a<wi.length&&n!==0&&n<wi[a].priority;a++);wi.splice(a,0,t),a===0&&iy(t)}};var ly=e.version;if(ly!=="19.1.1")throw Error(r(527,ly,"19.1.1"));re.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var SA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{pt=ru.inject(SA),et=ru}catch{}}return ao.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",d=Ag,m=xg,b=Sg,T=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=Zv(t,1,!1,null,null,a,l,d,m,b,T,null),t[In]=n.current,Hd(t),new of(n)},ao.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,d="",m=Ag,b=xg,T=Sg,I=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),n=Zv(t,1,!0,n,a??null,l,d,m,b,T,I,z),n.context=Jv(null),a=n.current,l=Nn(),l=ti(l),d=ui(l),d.callback=null,hi(a,d,l),a=l,n.current.lanes=a,xs(n,a),fs(n),t[In]=n.current,Hd(t),new au(n)},ao.version="19.1.1",ao}var vy;function OA(){if(vy)return hf.exports;vy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),hf.exports=MA(),hf.exports}var kA=OA();const LA=()=>{};var yy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=function(i){const e=[];let s=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[s++]=o:o<2048?(e[s++]=o>>6|192,e[s++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[s++]=o>>18|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128,e[s++]=o&63|128):(e[s++]=o>>12|224,e[s++]=o>>6&63|128,e[s++]=o&63|128)}return e},PA=function(i){const e=[];let s=0,r=0;for(;s<i.length;){const o=i[s++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=i[s++];e[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=i[s++],f=i[s++],p=i[s++],v=((o&7)<<18|(h&63)<<12|(f&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const h=i[s++],f=i[s++];e[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|f&63)}}return e.join("")},U_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const h=i[o],f=o+1<i.length,p=f?i[o+1]:0,v=o+2<i.length,y=v?i[o+2]:0,E=h>>2,R=(h&3)<<4|p>>4;let C=(p&15)<<2|y>>6,P=y&63;v||(P=64,f||(C=64)),r.push(s[E],s[R],s[C],s[P])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(P_(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):PA(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const h=s[i.charAt(o++)],p=o<i.length?s[i.charAt(o)]:0;++o;const y=o<i.length?s[i.charAt(o)]:64;++o;const R=o<i.length?s[i.charAt(o)]:64;if(++o,h==null||p==null||y==null||R==null)throw new UA;const C=h<<2|p>>4;if(r.push(C),y!==64){const P=p<<4&240|y>>2;if(r.push(P),R!==64){const k=y<<6&192|R;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class UA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BA=function(i){const e=P_(i);return U_.encodeByteArray(e,!0)},_u=function(i){return BA(i).replace(/\./g,"")},zA=function(i){try{return U_.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=()=>qA().__FIREBASE_DEFAULTS__,FA=()=>{if(typeof process>"u"||typeof yy>"u")return;const i=yy.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},GA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&zA(i[1]);return e&&JSON.parse(e)},tm=()=>{try{return LA()||HA()||FA()||GA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},QA=i=>tm()?.emulatorHosts?.[i],YA=i=>{const e=QA(i);if(!e)return;const s=e.lastIndexOf(":");if(s<=0||s+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(s+1),10);return e[0]==="["?[e.substring(1,s-1),r]:[e.substring(0,s),r]},B_=()=>tm()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function KA(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,h=i.sub||i.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...i};return[_u(JSON.stringify(s)),_u(JSON.stringify(f)),""].join(".")}const uo={};function ZA(){const i={prod:[],emulator:[]};for(const e of Object.keys(uo))uo[e]?i.emulator.push(e):i.prod.push(e);return i}function JA(i){let e=document.getElementById(i),s=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),s=!0),{created:s,element:e}}let _y=!1;function WA(i,e){if(typeof window>"u"||typeof document>"u"||!nm(window.location.host)||uo[i]===e||uo[i]||_y)return;uo[i]=e;function s(C){return`__firebase__banner__${C}`}const r="__firebase__banner",h=ZA().prod.length>0;function f(){const C=document.getElementById(r);C&&C.remove()}function p(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function v(C,P){C.setAttribute("width","24"),C.setAttribute("id",P),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function y(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{_y=!0,f()},C}function E(C,P){C.setAttribute("id",P),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function R(){const C=JA(r),P=s("text"),k=document.getElementById(P)||document.createElement("span"),J=s("learnmore"),K=document.getElementById(J)||document.createElement("a"),me=s("preprendIcon"),ie=document.getElementById(me)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const Q=C.element;p(Q),E(K,J);const he=y();v(ie,me),Q.append(ie,k,K,he),document.body.appendChild(Q)}h?(k.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tx(){const i=tm()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nx(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function sx(){return!tx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z_(){try{return typeof indexedDB=="object"}catch{return!1}}function q_(){return new Promise((i,e)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),s||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{s=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(s){e(s)}})}function ix(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="FirebaseError";class zi extends Error{constructor(e,s,r){super(s),this.code=e,this.customData=r,this.name=ax,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lu.prototype.create)}}class Lu{constructor(e,s,r){this.service=e,this.serviceName=s,this.errors=r}create(e,...s){const r=s[0]||{},o=`${this.service}/${e}`,h=this.errors[e],f=h?rx(h,r):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new zi(o,p,r)}}function rx(i,e){return i.replace(lx,(s,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const lx=/\{\$([^}]+)}/g;function go(i,e){if(i===e)return!0;const s=Object.keys(i),r=Object.keys(e);for(const o of s){if(!r.includes(o))return!1;const h=i[o],f=e[o];if(by(h)&&by(f)){if(!go(h,f))return!1}else if(h!==f)return!1}for(const o of r)if(!s.includes(o))return!1;return!0}function by(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox=1e3,cx=2,ux=14400*1e3,hx=.5;function Ey(i,e=ox,s=cx){const r=e*Math.pow(s,i),o=Math.round(hx*r*(Math.random()-.5)*2);return Math.min(ux,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(i){return i&&i._delegate?i._delegate:i}class Xs{constructor(e,s,r){this.name=e,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const r=new $A;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:s});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){const s=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mx(e))try{this.getOrInitializeService({instanceIdentifier:wa})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(e=wa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wa){return this.instances.has(e)}getOptions(e=wa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[h,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);r===p&&f.resolve(o)}return o}onInit(e,s){const r=this.normalizeInstanceIdentifier(s),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&e(h,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,s){const r=this.onInitCallbacks.get(s);if(r)for(const o of r)try{o(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fx(e),options:s}),this.instances.set(e,r),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wa){return this.component?this.component.multipleInstances?e:wa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fx(i){return i===wa?void 0:i}function mx(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new dx(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Qe||(Qe={}));const gx={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},vx=Qe.INFO,yx={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},_x=(i,e,...s)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=yx[e];if(o)console[o](`[${r}]  ${i.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sm{constructor(e){this.name=e,this._logLevel=vx,this._logHandler=_x,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const bx=(i,e)=>e.some(s=>i instanceof s);let Ty,Ay;function Ex(){return Ty||(Ty=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Tx(){return Ay||(Ay=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H_=new WeakMap,Rf=new WeakMap,F_=new WeakMap,pf=new WeakMap,im=new WeakMap;function Ax(i){const e=new Promise((s,r)=>{const o=()=>{i.removeEventListener("success",h),i.removeEventListener("error",f)},h=()=>{s(Ci(i.result)),o()},f=()=>{r(i.error),o()};i.addEventListener("success",h),i.addEventListener("error",f)});return e.then(s=>{s instanceof IDBCursor&&H_.set(s,i)}).catch(()=>{}),im.set(e,i),e}function xx(i){if(Rf.has(i))return;const e=new Promise((s,r)=>{const o=()=>{i.removeEventListener("complete",h),i.removeEventListener("error",f),i.removeEventListener("abort",f)},h=()=>{s(),o()},f=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",h),i.addEventListener("error",f),i.addEventListener("abort",f)});Rf.set(i,e)}let Cf={get(i,e,s){if(i instanceof IDBTransaction){if(e==="done")return Rf.get(i);if(e==="objectStoreNames")return i.objectStoreNames||F_.get(i);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Ci(i[e])},set(i,e,s){return i[e]=s,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Sx(i){Cf=i(Cf)}function Nx(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const r=i.call(gf(this),e,...s);return F_.set(r,e.sort?e.sort():[e]),Ci(r)}:Tx().includes(i)?function(...e){return i.apply(gf(this),e),Ci(H_.get(this))}:function(...e){return Ci(i.apply(gf(this),e))}}function wx(i){return typeof i=="function"?Nx(i):(i instanceof IDBTransaction&&xx(i),bx(i,Ex())?new Proxy(i,Cf):i)}function Ci(i){if(i instanceof IDBRequest)return Ax(i);if(pf.has(i))return pf.get(i);const e=wx(i);return e!==i&&(pf.set(i,e),im.set(e,i)),e}const gf=i=>im.get(i);function G_(i,e,{blocked:s,upgrade:r,blocking:o,terminated:h}={}){const f=indexedDB.open(i,e),p=Ci(f);return r&&f.addEventListener("upgradeneeded",v=>{r(Ci(f.result),v.oldVersion,v.newVersion,Ci(f.transaction),v)}),s&&f.addEventListener("blocked",v=>s(v.oldVersion,v.newVersion,v)),p.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const jx=["get","getKey","getAll","getAllKeys","count"],Rx=["put","add","delete","clear"],vf=new Map;function xy(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(vf.get(e))return vf.get(e);const s=e.replace(/FromIndex$/,""),r=e!==s,o=Rx.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(o||jx.includes(s)))return;const h=async function(f,...p){const v=this.transaction(f,o?"readwrite":"readonly");let y=v.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[s](...p),o&&v.done]))[0]};return vf.set(e,h),h}Sx(i=>({...i,get:(e,s,r)=>xy(e,s)||i.get(e,s,r),has:(e,s)=>!!xy(e,s)||i.has(e,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(Dx(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function Dx(i){return i.getComponent()?.type==="VERSION"}const Df="@firebase/app",Sy="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new sm("@firebase/app"),Ix="@firebase/app-compat",Vx="@firebase/analytics-compat",Mx="@firebase/analytics",Ox="@firebase/app-check-compat",kx="@firebase/app-check",Lx="@firebase/auth",Px="@firebase/auth-compat",Ux="@firebase/database",Bx="@firebase/data-connect",zx="@firebase/database-compat",qx="@firebase/functions",Hx="@firebase/functions-compat",Fx="@firebase/installations",Gx="@firebase/installations-compat",Qx="@firebase/messaging",Yx="@firebase/messaging-compat",$x="@firebase/performance",Kx="@firebase/performance-compat",Xx="@firebase/remote-config",Zx="@firebase/remote-config-compat",Jx="@firebase/storage",Wx="@firebase/storage-compat",e0="@firebase/firestore",t0="@firebase/ai",n0="@firebase/firestore-compat",s0="firebase",i0="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If="[DEFAULT]",a0={[Df]:"fire-core",[Ix]:"fire-core-compat",[Mx]:"fire-analytics",[Vx]:"fire-analytics-compat",[kx]:"fire-app-check",[Ox]:"fire-app-check-compat",[Lx]:"fire-auth",[Px]:"fire-auth-compat",[Ux]:"fire-rtdb",[Bx]:"fire-data-connect",[zx]:"fire-rtdb-compat",[qx]:"fire-fn",[Hx]:"fire-fn-compat",[Fx]:"fire-iid",[Gx]:"fire-iid-compat",[Qx]:"fire-fcm",[Yx]:"fire-fcm-compat",[$x]:"fire-perf",[Kx]:"fire-perf-compat",[Xx]:"fire-rc",[Zx]:"fire-rc-compat",[Jx]:"fire-gcs",[Wx]:"fire-gcs-compat",[e0]:"fire-fst",[n0]:"fire-fst-compat",[t0]:"fire-vertex","fire-js":"fire-js",[s0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=new Map,r0=new Map,Vf=new Map;function Ny(i,e){try{i.container.addComponent(e)}catch(s){Zs.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,s)}}function Mi(i){const e=i.name;if(Vf.has(e))return Zs.debug(`There were multiple attempts to register component ${e}.`),!1;Vf.set(e,i);for(const s of bu.values())Ny(s,i);for(const s of r0.values())Ny(s,i);return!0}function wo(i,e){const s=i.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),i.container.getProvider(e)}function l0(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Di=new Lu("app","Firebase",o0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,s,r){this._isDeleted=!1,this._options={...e},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=i0;function Q_(i,e={}){let s=i;typeof e!="object"&&(e={name:e});const r={name:If,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Di.create("bad-app-name",{appName:String(o)});if(s||(s=B_()),!s)throw Di.create("no-options");const h=bu.get(o);if(h){if(go(s,h.options)&&go(r,h.config))return h;throw Di.create("duplicate-app",{appName:o})}const f=new px(o);for(const v of Vf.values())f.addComponent(v);const p=new c0(s,r,f);return bu.set(o,p),p}function Y_(i=If){const e=bu.get(i);if(!e&&i===If&&B_())return Q_();if(!e)throw Di.create("no-app",{appName:i});return e}function gs(i,e,s){let r=a0[i]??i;s&&(r+=`-${s}`);const o=r.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zs.warn(f.join(" "));return}Mi(new Xs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="firebase-heartbeat-database",d0=1,vo="firebase-heartbeat-store";let yf=null;function $_(){return yf||(yf=G_(h0,d0,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(vo)}catch(s){console.warn(s)}}}}).catch(i=>{throw Di.create("idb-open",{originalErrorMessage:i.message})})),yf}async function f0(i){try{const s=(await $_()).transaction(vo),r=await s.objectStore(vo).get(K_(i));return await s.done,r}catch(e){if(e instanceof zi)Zs.warn(e.message);else{const s=Di.create("idb-get",{originalErrorMessage:e?.message});Zs.warn(s.message)}}}async function wy(i,e){try{const r=(await $_()).transaction(vo,"readwrite");await r.objectStore(vo).put(e,K_(i)),await r.done}catch(s){if(s instanceof zi)Zs.warn(s.message);else{const r=Di.create("idb-set",{originalErrorMessage:s?.message});Zs.warn(r.message)}}}function K_(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=1024,p0=30;class g0{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new y0(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=jy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>p0){const o=_0(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Zs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=jy(),{heartbeatsToSend:s,unsentEntries:r}=v0(this._heartbeatsCache.heartbeats),o=_u(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Zs.warn(e),""}}}function jy(){return new Date().toISOString().substring(0,10)}function v0(i,e=m0){const s=[];let r=i.slice();for(const o of i){const h=s.find(f=>f.agent===o.agent);if(h){if(h.dates.push(o.date),Ry(s)>e){h.dates.pop();break}}else if(s.push({agent:o.agent,dates:[o.date]}),Ry(s)>e){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class y0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return z_()?q_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await f0(this.app);return s?.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ry(i){return _u(JSON.stringify({version:2,heartbeats:i})).length}function _0(i){if(i.length===0)return-1;let e=0,s=i[0].date;for(let r=1;r<i.length;r++)i[r].date<s&&(s=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(i){Mi(new Xs("platform-logger",e=>new Cx(e),"PRIVATE")),Mi(new Xs("heartbeat",e=>new g0(e),"PRIVATE")),gs(Df,Sy,i),gs(Df,Sy,"esm2020"),gs("fire-js","")}b0("");var E0="firebase",T0="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gs(E0,T0,"app");const X_="@firebase/installations",am="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=1e4,J_=`w:${am}`,W_="FIS_v2",A0="https://firebaseinstallations.googleapis.com/v1",x0=3600*1e3,S0="installations",N0="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Va=new Lu(S0,N0,w0);function eb(i){return i instanceof zi&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb({projectId:i}){return`${A0}/projects/${i}/installations`}function nb(i){return{token:i.token,requestStatus:2,expiresIn:R0(i.expiresIn),creationTime:Date.now()}}async function sb(i,e){const r=(await e.json()).error;return Va.create("request-failed",{requestName:i,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function ib({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function j0(i,{refreshToken:e}){const s=ib(i);return s.append("Authorization",C0(e)),s}async function ab(i){const e=await i();return e.status>=500&&e.status<600?i():e}function R0(i){return Number(i.replace("s","000"))}function C0(i){return`${W_} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D0({appConfig:i,heartbeatServiceProvider:e},{fid:s}){const r=tb(i),o=ib(i),h=e.getImmediate({optional:!0});if(h){const y=await h.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={fid:s,authVersion:W_,appId:i.appId,sdkVersion:J_},p={method:"POST",headers:o,body:JSON.stringify(f)},v=await ab(()=>fetch(r,p));if(v.ok){const y=await v.json();return{fid:y.fid||s,registrationStatus:2,refreshToken:y.refreshToken,authToken:nb(y.authToken)}}else throw await sb("Create Installation",v)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=/^[cdef][\w-]{21}$/,Mf="";function M0(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const s=O0(i);return V0.test(s)?s:Mf}catch{return Mf}}function O0(i){return I0(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=new Map;function ob(i,e){const s=Pu(i);cb(s,e),k0(s,e)}function cb(i,e){const s=lb.get(i);if(s)for(const r of s)r(e)}function k0(i,e){const s=L0();s&&s.postMessage({key:i,fid:e}),P0()}let ja=null;function L0(){return!ja&&"BroadcastChannel"in self&&(ja=new BroadcastChannel("[Firebase] FID Change"),ja.onmessage=i=>{cb(i.data.key,i.data.fid)}),ja}function P0(){lb.size===0&&ja&&(ja.close(),ja=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="firebase-installations-database",B0=1,Ma="firebase-installations-store";let _f=null;function rm(){return _f||(_f=G_(U0,B0,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(Ma)}}})),_f}async function Eu(i,e){const s=Pu(i),o=(await rm()).transaction(Ma,"readwrite"),h=o.objectStore(Ma),f=await h.get(s);return await h.put(e,s),await o.done,(!f||f.fid!==e.fid)&&ob(i,e.fid),e}async function ub(i){const e=Pu(i),r=(await rm()).transaction(Ma,"readwrite");await r.objectStore(Ma).delete(e),await r.done}async function Uu(i,e){const s=Pu(i),o=(await rm()).transaction(Ma,"readwrite"),h=o.objectStore(Ma),f=await h.get(s),p=e(f);return p===void 0?await h.delete(s):await h.put(p,s),await o.done,p&&(!f||f.fid!==p.fid)&&ob(i,p.fid),p}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lm(i){let e;const s=await Uu(i.appConfig,r=>{const o=z0(r),h=q0(i,o);return e=h.registrationPromise,h.installationEntry});return s.fid===Mf?{installationEntry:await e}:{installationEntry:s,registrationPromise:e}}function z0(i){const e=i||{fid:M0(),registrationStatus:0};return hb(e)}function q0(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Va.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const s={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=H0(i,s);return{installationEntry:s,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:F0(i)}:{installationEntry:e}}async function H0(i,e){try{const s=await D0(i,e);return Eu(i.appConfig,s)}catch(s){throw eb(s)&&s.customData.serverCode===409?await ub(i.appConfig):await Eu(i.appConfig,{fid:e.fid,registrationStatus:0}),s}}async function F0(i){let e=await Cy(i.appConfig);for(;e.registrationStatus===1;)await rb(100),e=await Cy(i.appConfig);if(e.registrationStatus===0){const{installationEntry:s,registrationPromise:r}=await lm(i);return r||s}return e}function Cy(i){return Uu(i,e=>{if(!e)throw Va.create("installation-not-found");return hb(e)})}function hb(i){return G0(i)?{fid:i.fid,registrationStatus:0}:i}function G0(i){return i.registrationStatus===1&&i.registrationTime+Z_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q0({appConfig:i,heartbeatServiceProvider:e},s){const r=Y0(i,s),o=j0(i,s),h=e.getImmediate({optional:!0});if(h){const y=await h.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={installation:{sdkVersion:J_,appId:i.appId}},p={method:"POST",headers:o,body:JSON.stringify(f)},v=await ab(()=>fetch(r,p));if(v.ok){const y=await v.json();return nb(y)}else throw await sb("Generate Auth Token",v)}function Y0(i,{fid:e}){return`${tb(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function om(i,e=!1){let s;const r=await Uu(i.appConfig,h=>{if(!db(h))throw Va.create("not-registered");const f=h.authToken;if(!e&&X0(f))return h;if(f.requestStatus===1)return s=$0(i,e),h;{if(!navigator.onLine)throw Va.create("app-offline");const p=J0(h);return s=K0(i,p),p}});return s?await s:r.authToken}async function $0(i,e){let s=await Dy(i.appConfig);for(;s.authToken.requestStatus===1;)await rb(100),s=await Dy(i.appConfig);const r=s.authToken;return r.requestStatus===0?om(i,e):r}function Dy(i){return Uu(i,e=>{if(!db(e))throw Va.create("not-registered");const s=e.authToken;return W0(s)?{...e,authToken:{requestStatus:0}}:e})}async function K0(i,e){try{const s=await Q0(i,e),r={...e,authToken:s};return await Eu(i.appConfig,r),s}catch(s){if(eb(s)&&(s.customData.serverCode===401||s.customData.serverCode===404))await ub(i.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Eu(i.appConfig,r)}throw s}}function db(i){return i!==void 0&&i.registrationStatus===2}function X0(i){return i.requestStatus===2&&!Z0(i)}function Z0(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+x0}function J0(i){const e={requestStatus:1,requestTime:Date.now()};return{...i,authToken:e}}function W0(i){return i.requestStatus===1&&i.requestTime+Z_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eS(i){const e=i,{installationEntry:s,registrationPromise:r}=await lm(e);return r?r.catch(console.error):om(e).catch(console.error),s.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tS(i,e=!1){const s=i;return await nS(s),(await om(s,e)).token}async function nS(i){const{registrationPromise:e}=await lm(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(i){if(!i||!i.options)throw bf("App Configuration");if(!i.name)throw bf("App Name");const e=["projectId","apiKey","appId"];for(const s of e)if(!i.options[s])throw bf(s);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function bf(i){return Va.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="installations",iS="installations-internal",aS=i=>{const e=i.getProvider("app").getImmediate(),s=sS(e),r=wo(e,"heartbeat");return{app:e,appConfig:s,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},rS=i=>{const e=i.getProvider("app").getImmediate(),s=wo(e,fb).getImmediate();return{getId:()=>eS(s),getToken:o=>tS(s,o)}};function lS(){Mi(new Xs(fb,aS,"PUBLIC")),Mi(new Xs(iS,rS,"PRIVATE"))}lS();gs(X_,am);gs(X_,am,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu="analytics",oS="firebase_id",cS="origin",uS=60*1e3,hS="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",cm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn=new sm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Rn=new Lu("analytics","Analytics",dS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(i){if(!i.startsWith(cm)){const e=Rn.create("invalid-gtag-resource",{gtagURL:i});return gn.warn(e.message),""}return i}function mb(i){return Promise.all(i.map(e=>e.catch(s=>s)))}function mS(i,e){let s;return window.trustedTypes&&(s=window.trustedTypes.createPolicy(i,e)),s}function pS(i,e){const s=mS("firebase-js-sdk-policy",{createScriptURL:fS}),r=document.createElement("script"),o=`${cm}?l=${i}&id=${e}`;r.src=s?s?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function gS(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function vS(i,e,s,r,o,h){const f=r[o];try{if(f)await e[f];else{const v=(await mb(s)).find(y=>y.measurementId===o);v&&await e[v.appId]}}catch(p){gn.error(p)}i("config",o,h)}async function yS(i,e,s,r,o){try{let h=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const p=await mb(s);for(const v of f){const y=p.find(R=>R.measurementId===v),E=y&&e[y.appId];if(E)h.push(E);else{h=[];break}}}h.length===0&&(h=Object.values(e)),await Promise.all(h),i("event",r,o||{})}catch(h){gn.error(h)}}function _S(i,e,s,r){async function o(h,...f){try{if(h==="event"){const[p,v]=f;await yS(i,e,s,p,v)}else if(h==="config"){const[p,v]=f;await vS(i,e,s,r,p,v)}else if(h==="consent"){const[p,v]=f;i("consent",p,v)}else if(h==="get"){const[p,v,y]=f;i("get",p,v,y)}else if(h==="set"){const[p]=f;i("set",p)}else i(h,...f)}catch(p){gn.error(p)}}return o}function bS(i,e,s,r,o){let h=function(...f){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(h=window[o]),window[o]=_S(h,i,e,s),{gtagCore:h,wrappedGtag:window[o]}}function ES(i){const e=window.document.getElementsByTagName("script");for(const s of Object.values(e))if(s.src&&s.src.includes(cm)&&s.src.includes(i))return s;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=30,AS=1e3;class xS{constructor(e={},s=AS){this.throttleMetadata=e,this.intervalMillis=s}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,s){this.throttleMetadata[e]=s}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const pb=new xS;function SS(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function NS(i){const{appId:e,apiKey:s}=i,r={method:"GET",headers:SS(s)},o=hS.replace("{app-id}",e),h=await fetch(o,r);if(h.status!==200&&h.status!==304){let f="";try{const p=await h.json();p.error?.message&&(f=p.error.message)}catch{}throw Rn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:f})}return h.json()}async function wS(i,e=pb,s){const{appId:r,apiKey:o,measurementId:h}=i.options;if(!r)throw Rn.create("no-app-id");if(!o){if(h)return{measurementId:h,appId:r};throw Rn.create("no-api-key")}const f=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new CS;return setTimeout(async()=>{p.abort()},uS),gb({appId:r,apiKey:o,measurementId:h},f,p,e)}async function gb(i,{throttleEndTimeMillis:e,backoffCount:s},r,o=pb){const{appId:h,measurementId:f}=i;try{await jS(r,e)}catch(p){if(f)return gn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:h,measurementId:f};throw p}try{const p=await NS(i);return o.deleteThrottleMetadata(h),p}catch(p){const v=p;if(!RS(v)){if(o.deleteThrottleMetadata(h),f)return gn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:h,measurementId:f};throw p}const y=Number(v?.customData?.httpStatus)===503?Ey(s,o.intervalMillis,TS):Ey(s,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+y,backoffCount:s+1};return o.setThrottleMetadata(h,E),gn.debug(`Calling attemptFetch again in ${y} millis`),gb(i,E,r,o)}}function jS(i,e){return new Promise((s,r)=>{const o=Math.max(e-Date.now(),0),h=setTimeout(s,o);i.addEventListener(()=>{clearTimeout(h),r(Rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function RS(i){if(!(i instanceof zi)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class CS{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function DS(i,e,s,r,o){if(o&&o.global){i("event",s,r);return}else{const h=await e,f={...r,send_to:h};i("event",s,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IS(){if(z_())try{await q_()}catch(i){return gn.warn(Rn.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return gn.warn(Rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function VS(i,e,s,r,o,h,f){const p=wS(i);p.then(C=>{s[C.measurementId]=C.appId,i.options.measurementId&&C.measurementId!==i.options.measurementId&&gn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${C.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(C=>gn.error(C)),e.push(p);const v=IS().then(C=>{if(C)return r.getId()}),[y,E]=await Promise.all([p,v]);ES(h)||pS(h,y.measurementId),o("js",new Date);const R=f?.config??{};return R[cS]="firebase",R.update=!0,E!=null&&(R[oS]=E),o("config",y.measurementId,R),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this.app=e}_delete(){return delete ho[this.app.options.appId],Promise.resolve()}}let ho={},Iy=[];const Vy={};let Ef="dataLayer",OS="gtag",My,vb,Oy=!1;function kS(){const i=[];if(nx()&&i.push("This is a browser extension environment."),ix()||i.push("Cookies are not available."),i.length>0){const e=i.map((r,o)=>`(${o+1}) ${r}`).join(" "),s=Rn.create("invalid-analytics-context",{errorInfo:e});gn.warn(s.message)}}function LS(i,e,s){kS();const r=i.options.appId;if(!r)throw Rn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)gn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Rn.create("no-api-key");if(ho[r]!=null)throw Rn.create("already-exists",{id:r});if(!Oy){gS(Ef);const{wrappedGtag:h,gtagCore:f}=bS(ho,Iy,Vy,Ef,OS);vb=h,My=f,Oy=!0}return ho[r]=VS(i,Iy,Vy,e,My,Ef,s),new MS(i)}function PS(i=Y_()){i=un(i);const e=wo(i,Tu);return e.isInitialized()?e.getImmediate():US(i)}function US(i,e={}){const s=wo(i,Tu);if(s.isInitialized()){const o=s.getImmediate();if(go(e,s.getOptions()))return o;throw Rn.create("already-initialized")}return s.initialize({options:e})}function BS(i,e,s,r){i=un(i),DS(vb,ho[i.app.options.appId],e,s,r).catch(o=>gn.error(o))}const ky="@firebase/analytics",Ly="0.10.18";function zS(){Mi(new Xs(Tu,(e,{options:s})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return LS(r,o,s)},"PUBLIC")),Mi(new Xs("analytics-internal",i,"PRIVATE")),gs(ky,Ly),gs(ky,Ly,"esm2020");function i(e){try{const s=e.getProvider(Tu).getImmediate();return{logEvent:(r,o,h)=>BS(s,r,o,h)}}catch(s){throw Rn.create("interop-component-reg-failed",{reason:s})}}}zS();var Py=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ii,yb;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,x){function D(){}D.prototype=x.prototype,w.D=x.prototype,w.prototype=new D,w.prototype.constructor=w,w.C=function(j,N,M){for(var S=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)S[Ve-2]=arguments[Ve];return x.prototype[N].apply(j,S)}}function s(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,s),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(w,x,D){D||(D=0);var j=Array(16);if(typeof x=="string")for(var N=0;16>N;++N)j[N]=x.charCodeAt(D++)|x.charCodeAt(D++)<<8|x.charCodeAt(D++)<<16|x.charCodeAt(D++)<<24;else for(N=0;16>N;++N)j[N]=x[D++]|x[D++]<<8|x[D++]<<16|x[D++]<<24;x=w.g[0],D=w.g[1],N=w.g[2];var M=w.g[3],S=x+(M^D&(N^M))+j[0]+3614090360&4294967295;x=D+(S<<7&4294967295|S>>>25),S=M+(N^x&(D^N))+j[1]+3905402710&4294967295,M=x+(S<<12&4294967295|S>>>20),S=N+(D^M&(x^D))+j[2]+606105819&4294967295,N=M+(S<<17&4294967295|S>>>15),S=D+(x^N&(M^x))+j[3]+3250441966&4294967295,D=N+(S<<22&4294967295|S>>>10),S=x+(M^D&(N^M))+j[4]+4118548399&4294967295,x=D+(S<<7&4294967295|S>>>25),S=M+(N^x&(D^N))+j[5]+1200080426&4294967295,M=x+(S<<12&4294967295|S>>>20),S=N+(D^M&(x^D))+j[6]+2821735955&4294967295,N=M+(S<<17&4294967295|S>>>15),S=D+(x^N&(M^x))+j[7]+4249261313&4294967295,D=N+(S<<22&4294967295|S>>>10),S=x+(M^D&(N^M))+j[8]+1770035416&4294967295,x=D+(S<<7&4294967295|S>>>25),S=M+(N^x&(D^N))+j[9]+2336552879&4294967295,M=x+(S<<12&4294967295|S>>>20),S=N+(D^M&(x^D))+j[10]+4294925233&4294967295,N=M+(S<<17&4294967295|S>>>15),S=D+(x^N&(M^x))+j[11]+2304563134&4294967295,D=N+(S<<22&4294967295|S>>>10),S=x+(M^D&(N^M))+j[12]+1804603682&4294967295,x=D+(S<<7&4294967295|S>>>25),S=M+(N^x&(D^N))+j[13]+4254626195&4294967295,M=x+(S<<12&4294967295|S>>>20),S=N+(D^M&(x^D))+j[14]+2792965006&4294967295,N=M+(S<<17&4294967295|S>>>15),S=D+(x^N&(M^x))+j[15]+1236535329&4294967295,D=N+(S<<22&4294967295|S>>>10),S=x+(N^M&(D^N))+j[1]+4129170786&4294967295,x=D+(S<<5&4294967295|S>>>27),S=M+(D^N&(x^D))+j[6]+3225465664&4294967295,M=x+(S<<9&4294967295|S>>>23),S=N+(x^D&(M^x))+j[11]+643717713&4294967295,N=M+(S<<14&4294967295|S>>>18),S=D+(M^x&(N^M))+j[0]+3921069994&4294967295,D=N+(S<<20&4294967295|S>>>12),S=x+(N^M&(D^N))+j[5]+3593408605&4294967295,x=D+(S<<5&4294967295|S>>>27),S=M+(D^N&(x^D))+j[10]+38016083&4294967295,M=x+(S<<9&4294967295|S>>>23),S=N+(x^D&(M^x))+j[15]+3634488961&4294967295,N=M+(S<<14&4294967295|S>>>18),S=D+(M^x&(N^M))+j[4]+3889429448&4294967295,D=N+(S<<20&4294967295|S>>>12),S=x+(N^M&(D^N))+j[9]+568446438&4294967295,x=D+(S<<5&4294967295|S>>>27),S=M+(D^N&(x^D))+j[14]+3275163606&4294967295,M=x+(S<<9&4294967295|S>>>23),S=N+(x^D&(M^x))+j[3]+4107603335&4294967295,N=M+(S<<14&4294967295|S>>>18),S=D+(M^x&(N^M))+j[8]+1163531501&4294967295,D=N+(S<<20&4294967295|S>>>12),S=x+(N^M&(D^N))+j[13]+2850285829&4294967295,x=D+(S<<5&4294967295|S>>>27),S=M+(D^N&(x^D))+j[2]+4243563512&4294967295,M=x+(S<<9&4294967295|S>>>23),S=N+(x^D&(M^x))+j[7]+1735328473&4294967295,N=M+(S<<14&4294967295|S>>>18),S=D+(M^x&(N^M))+j[12]+2368359562&4294967295,D=N+(S<<20&4294967295|S>>>12),S=x+(D^N^M)+j[5]+4294588738&4294967295,x=D+(S<<4&4294967295|S>>>28),S=M+(x^D^N)+j[8]+2272392833&4294967295,M=x+(S<<11&4294967295|S>>>21),S=N+(M^x^D)+j[11]+1839030562&4294967295,N=M+(S<<16&4294967295|S>>>16),S=D+(N^M^x)+j[14]+4259657740&4294967295,D=N+(S<<23&4294967295|S>>>9),S=x+(D^N^M)+j[1]+2763975236&4294967295,x=D+(S<<4&4294967295|S>>>28),S=M+(x^D^N)+j[4]+1272893353&4294967295,M=x+(S<<11&4294967295|S>>>21),S=N+(M^x^D)+j[7]+4139469664&4294967295,N=M+(S<<16&4294967295|S>>>16),S=D+(N^M^x)+j[10]+3200236656&4294967295,D=N+(S<<23&4294967295|S>>>9),S=x+(D^N^M)+j[13]+681279174&4294967295,x=D+(S<<4&4294967295|S>>>28),S=M+(x^D^N)+j[0]+3936430074&4294967295,M=x+(S<<11&4294967295|S>>>21),S=N+(M^x^D)+j[3]+3572445317&4294967295,N=M+(S<<16&4294967295|S>>>16),S=D+(N^M^x)+j[6]+76029189&4294967295,D=N+(S<<23&4294967295|S>>>9),S=x+(D^N^M)+j[9]+3654602809&4294967295,x=D+(S<<4&4294967295|S>>>28),S=M+(x^D^N)+j[12]+3873151461&4294967295,M=x+(S<<11&4294967295|S>>>21),S=N+(M^x^D)+j[15]+530742520&4294967295,N=M+(S<<16&4294967295|S>>>16),S=D+(N^M^x)+j[2]+3299628645&4294967295,D=N+(S<<23&4294967295|S>>>9),S=x+(N^(D|~M))+j[0]+4096336452&4294967295,x=D+(S<<6&4294967295|S>>>26),S=M+(D^(x|~N))+j[7]+1126891415&4294967295,M=x+(S<<10&4294967295|S>>>22),S=N+(x^(M|~D))+j[14]+2878612391&4294967295,N=M+(S<<15&4294967295|S>>>17),S=D+(M^(N|~x))+j[5]+4237533241&4294967295,D=N+(S<<21&4294967295|S>>>11),S=x+(N^(D|~M))+j[12]+1700485571&4294967295,x=D+(S<<6&4294967295|S>>>26),S=M+(D^(x|~N))+j[3]+2399980690&4294967295,M=x+(S<<10&4294967295|S>>>22),S=N+(x^(M|~D))+j[10]+4293915773&4294967295,N=M+(S<<15&4294967295|S>>>17),S=D+(M^(N|~x))+j[1]+2240044497&4294967295,D=N+(S<<21&4294967295|S>>>11),S=x+(N^(D|~M))+j[8]+1873313359&4294967295,x=D+(S<<6&4294967295|S>>>26),S=M+(D^(x|~N))+j[15]+4264355552&4294967295,M=x+(S<<10&4294967295|S>>>22),S=N+(x^(M|~D))+j[6]+2734768916&4294967295,N=M+(S<<15&4294967295|S>>>17),S=D+(M^(N|~x))+j[13]+1309151649&4294967295,D=N+(S<<21&4294967295|S>>>11),S=x+(N^(D|~M))+j[4]+4149444226&4294967295,x=D+(S<<6&4294967295|S>>>26),S=M+(D^(x|~N))+j[11]+3174756917&4294967295,M=x+(S<<10&4294967295|S>>>22),S=N+(x^(M|~D))+j[2]+718787259&4294967295,N=M+(S<<15&4294967295|S>>>17),S=D+(M^(N|~x))+j[9]+3951481745&4294967295,w.g[0]=w.g[0]+x&4294967295,w.g[1]=w.g[1]+(N+(S<<21&4294967295|S>>>11))&4294967295,w.g[2]=w.g[2]+N&4294967295,w.g[3]=w.g[3]+M&4294967295}r.prototype.u=function(w,x){x===void 0&&(x=w.length);for(var D=x-this.blockSize,j=this.B,N=this.h,M=0;M<x;){if(N==0)for(;M<=D;)o(this,w,M),M+=this.blockSize;if(typeof w=="string"){for(;M<x;)if(j[N++]=w.charCodeAt(M++),N==this.blockSize){o(this,j),N=0;break}}else for(;M<x;)if(j[N++]=w[M++],N==this.blockSize){o(this,j),N=0;break}}this.h=N,this.o+=x},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var x=1;x<w.length-8;++x)w[x]=0;var D=8*this.o;for(x=w.length-8;x<w.length;++x)w[x]=D&255,D/=256;for(this.u(w),w=Array(16),x=D=0;4>x;++x)for(var j=0;32>j;j+=8)w[D++]=this.g[x]>>>j&255;return w};function h(w,x){var D=p;return Object.prototype.hasOwnProperty.call(D,w)?D[w]:D[w]=x(w)}function f(w,x){this.h=x;for(var D=[],j=!0,N=w.length-1;0<=N;N--){var M=w[N]|0;j&&M==x||(D[N]=M,j=!1)}this.g=D}var p={};function v(w){return-128<=w&&128>w?h(w,function(x){return new f([x|0],0>x?-1:0)}):new f([w|0],0>w?-1:0)}function y(w){if(isNaN(w)||!isFinite(w))return R;if(0>w)return K(y(-w));for(var x=[],D=1,j=0;w>=D;j++)x[j]=w/D|0,D*=4294967296;return new f(x,0)}function E(w,x){if(w.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(w.charAt(0)=="-")return K(E(w.substring(1),x));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=y(Math.pow(x,8)),j=R,N=0;N<w.length;N+=8){var M=Math.min(8,w.length-N),S=parseInt(w.substring(N,N+M),x);8>M?(M=y(Math.pow(x,M)),j=j.j(M).add(y(S))):(j=j.j(D),j=j.add(y(S)))}return j}var R=v(0),C=v(1),P=v(16777216);i=f.prototype,i.m=function(){if(J(this))return-K(this).m();for(var w=0,x=1,D=0;D<this.g.length;D++){var j=this.i(D);w+=(0<=j?j:4294967296+j)*x,x*=4294967296}return w},i.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(k(this))return"0";if(J(this))return"-"+K(this).toString(w);for(var x=y(Math.pow(w,6)),D=this,j="";;){var N=he(D,x).g;D=me(D,N.j(x));var M=((0<D.g.length?D.g[0]:D.h)>>>0).toString(w);if(D=N,k(D))return M+j;for(;6>M.length;)M="0"+M;j=M+j}},i.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function k(w){if(w.h!=0)return!1;for(var x=0;x<w.g.length;x++)if(w.g[x]!=0)return!1;return!0}function J(w){return w.h==-1}i.l=function(w){return w=me(this,w),J(w)?-1:k(w)?0:1};function K(w){for(var x=w.g.length,D=[],j=0;j<x;j++)D[j]=~w.g[j];return new f(D,~w.h).add(C)}i.abs=function(){return J(this)?K(this):this},i.add=function(w){for(var x=Math.max(this.g.length,w.g.length),D=[],j=0,N=0;N<=x;N++){var M=j+(this.i(N)&65535)+(w.i(N)&65535),S=(M>>>16)+(this.i(N)>>>16)+(w.i(N)>>>16);j=S>>>16,M&=65535,S&=65535,D[N]=S<<16|M}return new f(D,D[D.length-1]&-2147483648?-1:0)};function me(w,x){return w.add(K(x))}i.j=function(w){if(k(this)||k(w))return R;if(J(this))return J(w)?K(this).j(K(w)):K(K(this).j(w));if(J(w))return K(this.j(K(w)));if(0>this.l(P)&&0>w.l(P))return y(this.m()*w.m());for(var x=this.g.length+w.g.length,D=[],j=0;j<2*x;j++)D[j]=0;for(j=0;j<this.g.length;j++)for(var N=0;N<w.g.length;N++){var M=this.i(j)>>>16,S=this.i(j)&65535,Ve=w.i(N)>>>16,$e=w.i(N)&65535;D[2*j+2*N]+=S*$e,ie(D,2*j+2*N),D[2*j+2*N+1]+=M*$e,ie(D,2*j+2*N+1),D[2*j+2*N+1]+=S*Ve,ie(D,2*j+2*N+1),D[2*j+2*N+2]+=M*Ve,ie(D,2*j+2*N+2)}for(j=0;j<x;j++)D[j]=D[2*j+1]<<16|D[2*j];for(j=x;j<2*x;j++)D[j]=0;return new f(D,0)};function ie(w,x){for(;(w[x]&65535)!=w[x];)w[x+1]+=w[x]>>>16,w[x]&=65535,x++}function Q(w,x){this.g=w,this.h=x}function he(w,x){if(k(x))throw Error("division by zero");if(k(w))return new Q(R,R);if(J(w))return x=he(K(w),x),new Q(K(x.g),K(x.h));if(J(x))return x=he(w,K(x)),new Q(K(x.g),x.h);if(30<w.g.length){if(J(w)||J(x))throw Error("slowDivide_ only works with positive integers.");for(var D=C,j=x;0>=j.l(w);)D=ne(D),j=ne(j);var N=ue(D,1),M=ue(j,1);for(j=ue(j,2),D=ue(D,2);!k(j);){var S=M.add(j);0>=S.l(w)&&(N=N.add(D),M=S),j=ue(j,1),D=ue(D,1)}return x=me(w,N.j(x)),new Q(N,x)}for(N=R;0<=w.l(x);){for(D=Math.max(1,Math.floor(w.m()/x.m())),j=Math.ceil(Math.log(D)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),M=y(D),S=M.j(x);J(S)||0<S.l(w);)D-=j,M=y(D),S=M.j(x);k(M)&&(M=C),N=N.add(M),w=me(w,S)}return new Q(N,w)}i.A=function(w){return he(this,w).h},i.and=function(w){for(var x=Math.max(this.g.length,w.g.length),D=[],j=0;j<x;j++)D[j]=this.i(j)&w.i(j);return new f(D,this.h&w.h)},i.or=function(w){for(var x=Math.max(this.g.length,w.g.length),D=[],j=0;j<x;j++)D[j]=this.i(j)|w.i(j);return new f(D,this.h|w.h)},i.xor=function(w){for(var x=Math.max(this.g.length,w.g.length),D=[],j=0;j<x;j++)D[j]=this.i(j)^w.i(j);return new f(D,this.h^w.h)};function ne(w){for(var x=w.g.length+1,D=[],j=0;j<x;j++)D[j]=w.i(j)<<1|w.i(j-1)>>>31;return new f(D,w.h)}function ue(w,x){var D=x>>5;x%=32;for(var j=w.g.length-D,N=[],M=0;M<j;M++)N[M]=0<x?w.i(M+D)>>>x|w.i(M+D+1)<<32-x:w.i(M+D);return new f(N,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,yb=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Ii=f}).apply(typeof Py<"u"?Py:typeof self<"u"?self:typeof window<"u"?window:{});var lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _b,ro,bb,du,Of,Eb,Tb,Ab;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,_){return u==Array.prototype||u==Object.prototype||(u[g]=_.value),u};function s(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof lu=="object"&&lu];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=s(this);function o(u,g){if(g)e:{var _=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var U=u[A];if(!(U in _))break e;_=_[U]}u=u[u.length-1],A=_[u],g=g(A),g!=A&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}function h(u,g){u instanceof String&&(u+="");var _=0,A=!1,U={next:function(){if(!A&&_<u.length){var G=_++;return{value:g(G,u[G]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return h(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function v(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function y(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function E(u,g,_){return u.call.apply(u.bind,arguments)}function R(u,g,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),u.apply(g,U)}}return function(){return u.apply(g,arguments)}}function C(u,g,_){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:R,C.apply(null,arguments)}function P(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function k(u,g){function _(){}_.prototype=g.prototype,u.aa=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,U,G){for(var ae=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)ae[qe-2]=arguments[qe];return g.prototype[U].apply(A,ae)}}function J(u){const g=u.length;if(0<g){const _=Array(g);for(let A=0;A<g;A++)_[A]=u[A];return _}return[]}function K(u,g){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(v(A)){const U=u.length||0,G=A.length||0;u.length=U+G;for(let ae=0;ae<G;ae++)u[U+ae]=A[ae]}else u.push(A)}}class me{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function ie(u){return/^[\s\xa0]*$/.test(u)}function Q(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function he(u){return he[" "](u),u}he[" "]=function(){};var ne=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ue(u,g,_){for(const A in u)g.call(_,u[A],A,u)}function w(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function x(u){const g={};for(const _ in u)g[_]=u[_];return g}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(u,g){let _,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(_ in A)u[_]=A[_];for(let G=0;G<D.length;G++)_=D[G],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function N(u){var g=1;u=u.split(":");const _=[];for(;0<g&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function M(u){p.setTimeout(()=>{throw u},0)}function S(){var u=ze;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class Ve{constructor(){this.h=this.g=null}add(g,_){const A=$e.get();A.set(g,_),this.h?this.h.next=A:this.g=A,this.h=A}}var $e=new me(()=>new Y,u=>u.reset());class Y{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let re,ve=!1,ze=new Ve,V=()=>{const u=p.Promise.resolve(void 0);re=()=>{u.then(W)}};var W=()=>{for(var u;u=S();){try{u.h.call(u.g)}catch(_){M(_)}var g=$e;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}ve=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var be=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};p.addEventListener("test",_,g),p.removeEventListener("test",_,g)}catch{}return u})();function De(u,g){if(se.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(ne){e:{try{he(g.nodeName);var U=!0;break e}catch{}U=!1}U||(g=null)}}else _=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:fe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&De.aa.h.call(this)}}k(De,se);var fe={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),q=0;function Re(u,g,_,A,U){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!A,this.ha=U,this.key=++q,this.da=this.fa=!1}function Se(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function At(u){this.src=u,this.g={},this.h=0}At.prototype.add=function(u,g,_,A,U){var G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);var ae=Gi(u,g,A,U);return-1<ae?(g=u[ae],_||(g.fa=!1)):(g=new Re(g,this.src,G,!!A,U),g.fa=_,u.push(g)),g};function Fi(u,g){var _=g.type;if(_ in u.g){var A=u.g[_],U=Array.prototype.indexOf.call(A,g,void 0),G;(G=0<=U)&&Array.prototype.splice.call(A,U,1),G&&(Se(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Gi(u,g,_,A){for(var U=0;U<u.length;++U){var G=u[U];if(!G.da&&G.listener==g&&G.capture==!!_&&G.ha==A)return U}return-1}var Qi="closure_lm_"+(1e6*Math.random()|0),Xr={};function Lo(u,g,_,A,U){if(Array.isArray(g)){for(var G=0;G<g.length;G++)Lo(u,g[G],_,A,U);return null}return _=Po(_),u&&u[Me]?u.K(g,_,y(A)?!!A.capture:!1,U):Dn(u,g,_,!1,A,U)}function Dn(u,g,_,A,U,G){if(!g)throw Error("Invalid event type");var ae=y(U)?!!U.capture:!!U,qe=za(u);if(qe||(u[Qi]=qe=new At(u)),_=qe.add(g,_,A,ae,G),_.proxy)return _;if(A=oh(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)be||(U=ae),U===void 0&&(U=!1),u.addEventListener(g.toString(),A,U);else if(u.attachEvent)u.attachEvent(Yi(g.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function oh(){function u(_){return g.call(u.src,u.listener,_)}const g=ch;return u}function Zr(u,g,_,A,U){if(Array.isArray(g))for(var G=0;G<g.length;G++)Zr(u,g[G],_,A,U);else A=y(A)?!!A.capture:!!A,_=Po(_),u&&u[Me]?(u=u.i,g=String(g).toString(),g in u.g&&(G=u.g[g],_=Gi(G,_,A,U),-1<_&&(Se(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete u.g[g],u.h--)))):u&&(u=za(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Gi(g,_,A,U)),(_=-1<u?g[u]:null)&&Ba(_))}function Ba(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Me])Fi(g.i,u);else{var _=u.type,A=u.proxy;g.removeEventListener?g.removeEventListener(_,A,u.capture):g.detachEvent?g.detachEvent(Yi(_),A):g.addListener&&g.removeListener&&g.removeListener(A),(_=za(g))?(Fi(_,u),_.h==0&&(_.src=null,g[Qi]=null)):Se(u)}}}function Yi(u){return u in Xr?Xr[u]:Xr[u]="on"+u}function ch(u,g){if(u.da)u=!0;else{g=new De(g,this);var _=u.listener,A=u.ha||u.src;u.fa&&Ba(u),u=_.call(A,g)}return u}function za(u){return u=u[Qi],u instanceof At?u:null}var Jr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Po(u){return typeof u=="function"?u:(u[Jr]||(u[Jr]=function(g){return u.handleEvent(g)}),u[Jr])}function pt(){oe.call(this),this.i=new At(this),this.M=this,this.F=null}k(pt,oe),pt.prototype[Me]=!0,pt.prototype.removeEventListener=function(u,g,_,A){Zr(this,u,g,_,A)};function et(u,g){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=g.type||g,typeof g=="string")g=new se(g,u);else if(g instanceof se)g.target=g.target||u;else{var U=g;g=new se(A,u),j(g,U)}if(U=!0,_)for(var G=_.length-1;0<=G;G--){var ae=g.g=_[G];U=_n(ae,A,!0,g)&&U}if(ae=g.g=u,U=_n(ae,A,!0,g)&&U,U=_n(ae,A,!1,g)&&U,_)for(G=0;G<_.length;G++)ae=g.g=_[G],U=_n(ae,A,!1,g)&&U}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var _=u.g[g],A=0;A<_.length;A++)Se(_[A]);delete u.g[g],u.h--}}this.F=null},pt.prototype.K=function(u,g,_,A){return this.i.add(String(u),g,!1,_,A)},pt.prototype.L=function(u,g,_,A){return this.i.add(String(u),g,!0,_,A)};function _n(u,g,_,A){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var U=!0,G=0;G<g.length;++G){var ae=g[G];if(ae&&!ae.da&&ae.capture==_){var qe=ae.listener,It=ae.ha||ae.src;ae.fa&&Fi(u.i,ae),U=qe.call(It,A)!==!1&&U}}return U&&!A.defaultPrevented}function Zt(u,g,_){if(typeof u=="function")_&&(u=C(u,_));else if(u&&typeof u.handleEvent=="function")u=C(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:p.setTimeout(u,g||0)}function Uo(u){u.g=Zt(()=>{u.g=null,u.i&&(u.i=!1,Uo(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class uh extends oe{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Uo(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $i(u){oe.call(this),this.h=u,this.g={}}k($i,oe);var Ki=[];function Xi(u){ue(u.g,function(g,_){this.g.hasOwnProperty(_)&&Ba(g)},u),u.g={}}$i.prototype.N=function(){$i.aa.N.call(this),Xi(this)},$i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gn=p.JSON.stringify,qa=p.JSON.parse,Zi=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function Wr(){}Wr.prototype.h=null;function el(u){return u.h||(u.h=u.i())}function tl(){}var As={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xs(){se.call(this,"d")}k(xs,se);function nl(){se.call(this,"c")}k(nl,se);var Jn={},sl=null;function ti(){return sl=sl||new pt}Jn.La="serverreachability";function Ha(u){se.call(this,Jn.La,u)}k(Ha,se);function ni(u){const g=ti();et(g,new Ha(g))}Jn.STAT_EVENT="statevent";function Bo(u,g){se.call(this,Jn.STAT_EVENT,u),this.stat=g}k(Bo,se);function ht(u){const g=ti();et(g,new Bo(g,u))}Jn.Ma="timingevent";function Dt(u,g){se.call(this,Jn.Ma,u),this.size=g}k(Dt,se);function xt(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},g)}function In(){this.g=!0}In.prototype.xa=function(){this.g=!1};function il(u,g,_,A,U,G){u.info(function(){if(u.g)if(G)for(var ae="",qe=G.split("&"),It=0;It<qe.length;It++){var He=qe[It].split("=");if(1<He.length){var Pt=He[0];He=He[1];var Vt=Pt.split("_");ae=2<=Vt.length&&Vt[1]=="type"?ae+(Pt+"="+He+"&"):ae+(Pt+"=redacted&")}}else ae=null;else ae=G;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+g+`
`+_+`
`+ae})}function hh(u,g,_,A,U,G,ae){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+g+`
`+_+`
`+G+" "+ae})}function si(u,g,_,A){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Ji(u,_)+(A?" "+A:"")})}function zo(u,g){u.info(function(){return"TIMEOUT: "+g})}In.prototype.info=function(){};function Ji(u,g){if(!u.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var G=U[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ae=1;ae<U.length;ae++)U[ae]=""}}}}return Gn(_)}catch{return g}}var ii={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ss={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wn;function es(){}k(es,Wr),es.prototype.g=function(){return new XMLHttpRequest},es.prototype.i=function(){return{}},Wn=new es;function an(u,g,_,A){this.j=u,this.i=g,this.l=_,this.R=A||1,this.U=new $i(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yt}function yt(){this.i=null,this.g="",this.h=!1}var al={},Fa={};function Qn(u,g,_){u.L=1,u.v=sa(bn(g)),u.m=_,u.P=!0,Ns(u,null)}function Ns(u,g){u.F=Date.now(),Wi(u),u.A=bn(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),hl(_.i,"t",A),u.C=0,_=u.j.J,u.h=new yt,u.g=sc(u.j,_?g:null,!u.m),0<u.O&&(u.M=new uh(C(u.Y,u,u.g),u.O)),g=u.U,_=u.g,A=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Ki[0]=U.toString()),U=Ki);for(var G=0;G<U.length;G++){var ae=Lo(_,U[G],A||g.handleEvent,!1,g.h||g);if(!ae)break;g.g[ae.key]=ae}g=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),ni(),il(u.i,u.u,u.A,u.l,u.R,u.m)}an.prototype.ca=function(u){u=u.target;const g=this.M;g&&kn(u)==3?g.j():this.Y(u)},an.prototype.Y=function(u){try{if(u==this.g)e:{const Vt=kn(this.g);var g=this.g.Ba();const Ms=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||Ko(this.g)))){this.J||Vt!=4||g==7||(g==8||0>=Ms?ni(3):ni(2)),ai(this);var _=this.g.Z();this.X=_;t:if(qo(this)){var A=Ko(this.g);u="";var U=A.length,G=kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ht(this),ts(this);var ae="";break t}this.h.i=new p.TextDecoder}for(g=0;g<U;g++)this.h.h=!0,u+=this.h.i.decode(A[g],{stream:!(G&&g==U-1)});A.length=0,this.h.g+=u,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=_==200,hh(this.i,this.u,this.A,this.l,this.R,Vt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,It=this.g;if((qe=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ie(qe)){var He=qe;break t}}He=null}if(_=He)si(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ea(this,_);else{this.o=!1,this.s=3,ht(12),Ht(this),ts(this);break e}}if(this.P){_=!0;let Ft;for(;!this.J&&this.C<ae.length;)if(Ft=Ho(this,ae),Ft==Fa){Vt==4&&(this.s=4,ht(14),_=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==al){this.s=4,ht(15),si(this.i,this.l,ae,"[Invalid Chunk]"),_=!1;break}else si(this.i,this.l,Ft,null),ea(this,Ft);if(qo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||ae.length!=0||this.h.h||(this.s=1,ht(16),_=!1),this.o=this.o&&_,!_)si(this.i,this.l,ae,"[Invalid Chunked Response]"),Ht(this),ts(this);else if(0<ae.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),ha(Pt),Pt.M=!0,ht(11))}}else si(this.i,this.l,ae,null),ea(this,ae);Vt==4&&Ht(this),this.o&&!this.J&&(Vt==4?ec(this.j,this):(this.o=!1,Wi(this)))}else gh(this.g),_==400&&0<ae.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),Ht(this),ts(this)}}}catch{}finally{}};function qo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Ho(u,g){var _=u.C,A=g.indexOf(`
`,_);return A==-1?Fa:(_=Number(g.substring(_,A)),isNaN(_)?al:(A+=1,A+_>g.length?Fa:(g=g.slice(A,A+_),u.C=A+_,g)))}an.prototype.cancel=function(){this.J=!0,Ht(this)};function Wi(u){u.S=Date.now()+u.I,Fo(u,u.I)}function Fo(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=xt(C(u.ba,u),g)}function ai(u){u.B&&(p.clearTimeout(u.B),u.B=null)}an.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(zo(this.i,this.A),this.L!=2&&(ni(),ht(17)),Ht(this),this.s=2,ts(this)):Fo(this,this.S-u)};function ts(u){u.j.G==0||u.J||ec(u.j,u)}function Ht(u){ai(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,Xi(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function ea(u,g){try{var _=u.j;if(_.G!=0&&(_.g==u||rl(_.h,u))){if(!u.K&&rl(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)nr(_),er(_);else break e;gl(_),ht(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=xt(C(_.Za,_),6e3));if(1>=Qa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Vs(_,11)}else if((u.K||_.g==u)&&nr(_),!ie(g))for(U=_.Da.g.parse(g),g=0;g<U.length;g++){let He=U[g];if(_.T=He[0],He=He[1],_.G==2)if(He[0]=="c"){_.K=He[1],_.ia=He[2];const Pt=He[3];Pt!=null&&(_.la=Pt,_.j.info("VER="+_.la));const Vt=He[4];Vt!=null&&(_.Aa=Vt,_.j.info("SVER="+_.Aa));const Ms=He[5];Ms!=null&&typeof Ms=="number"&&0<Ms&&(A=1.5*Ms,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ft=u.g;if(Ft){const os=Ft.g?Ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(os){var G=A.h;G.g||os.indexOf("spdy")==-1&&os.indexOf("quic")==-1&&os.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Ya(G,G.h),G.h=null))}if(A.D){const yl=Ft.g?Ft.g.getResponseHeader("X-HTTP-Session-Id"):null;yl&&(A.ya=yl,st(A.I,A.D,yl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var ae=u;if(A.qa=nc(A,A.J?A.ia:null,A.W),ae.K){rn(A.h,ae);var qe=ae,It=A.L;It&&(qe.I=It),qe.B&&(ai(qe),Wi(qe)),A.g=ae}else Jo(A);0<_.i.length&&tr(_)}else He[0]!="stop"&&He[0]!="close"||Vs(_,7);else _.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Vs(_,7):ml(_):He[0]!="noop"&&_.l&&_.l.ta(He),_.v=0)}}ni(4)}catch{}}var Go=class{constructor(u,g){this.g=u,this.map=g}};function ws(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ga(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Qa(u){return u.h?1:u.g?u.g.size:0}function rl(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Ya(u,g){u.g?u.g.add(g):u.h=g}function rn(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}ws.prototype.cancel=function(){if(this.i=ll(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ll(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.D);return g}return J(u.i)}function dh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(v(u)){for(var g=[],_=u.length,A=0;A<_;A++)g.push(u[A]);return g}g=[],_=0;for(A in u)g[_++]=u[A];return g}function $a(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(v(u)||typeof u=="string"){var g=[];u=u.length;for(var _=0;_<u;_++)g.push(_);return g}g=[],_=0;for(const A in u)g[_++]=A;return g}}}function ol(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(v(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var _=$a(u),A=dh(u),U=A.length,G=0;G<U;G++)g.call(void 0,A[G],_&&_[G],u)}var ta=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fh(u,g){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),U=null;if(0<=A){var G=u[_].substring(0,A);U=u[_].substring(A+1)}else G=u[_];g(G,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function St(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof St){this.h=u.h,na(this,u.j),this.o=u.o,this.g=u.g,ri(this,u.s),this.l=u.l;var g=u.i,_=new Rs;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),js(this,_),this.m=u.m}else u&&(g=String(u).match(ta))?(this.h=!1,na(this,g[1]||"",!0),this.o=Vn(g[2]||""),this.g=Vn(g[3]||"",!0),ri(this,g[4]),this.l=Vn(g[5]||"",!0),js(this,g[6]||"",!0),this.m=Vn(g[7]||"")):(this.h=!1,this.i=new Rs(null,this.h))}St.prototype.toString=function(){var u=[],g=this.j;g&&u.push(ia(g,cl,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(ia(g,cl,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ia(_,_.charAt(0)=="/"?mh:ul,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ia(_,Ka)),u.join("")};function bn(u){return new St(u)}function na(u,g,_){u.j=_?Vn(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function ri(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function js(u,g,_){g instanceof Rs?(u.i=g,Yo(u.i,u.h)):(_||(g=ia(g,ph)),u.i=new Rs(g,u.h))}function st(u,g,_){u.i.set(g,_)}function sa(u){return st(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Vn(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ia(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,Qo),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Qo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var cl=/[#\/\?@]/g,ul=/[#\?:]/g,mh=/[#\?]/g,ph=/[#\?@]/g,Ka=/#/g;function Rs(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Mn(u){u.g||(u.g=new Map,u.h=0,u.i&&fh(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}i=Rs.prototype,i.add=function(u,g){Mn(this),this.i=null,u=ns(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function Cs(u,g){Mn(u),g=ns(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Ds(u,g){return Mn(u),g=ns(u,g),u.g.has(g)}i.forEach=function(u,g){Mn(this),this.g.forEach(function(_,A){_.forEach(function(U){u.call(g,U,A,this)},this)},this)},i.na=function(){Mn(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let A=0;A<g.length;A++){const U=u[A];for(let G=0;G<U.length;G++)_.push(g[A])}return _},i.V=function(u){Mn(this);let g=[];if(typeof u=="string")Ds(this,u)&&(g=g.concat(this.g.get(ns(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)g=g.concat(u[_])}return g},i.set=function(u,g){return Mn(this),this.i=null,u=ns(this,u),Ds(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},i.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function hl(u,g,_){Cs(u,g),0<_.length&&(u.i=null,u.g.set(ns(u,g),J(_)),u.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var A=g[_];const G=encodeURIComponent(String(A)),ae=this.V(A);for(A=0;A<ae.length;A++){var U=G;ae[A]!==""&&(U+="="+encodeURIComponent(String(ae[A]))),u.push(U)}}return this.i=u.join("&")};function ns(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Yo(u,g){g&&!u.j&&(Mn(u),u.i=null,u.g.forEach(function(_,A){var U=A.toLowerCase();A!=U&&(Cs(this,A),hl(this,U,_))},u)),u.j=g}function aa(u,g){const _=new In;if(p.Image){const A=new Image;A.onload=P(On,_,"TestLoadImage: loaded",!0,g,A),A.onerror=P(On,_,"TestLoadImage: error",!1,g,A),A.onabort=P(On,_,"TestLoadImage: abort",!1,g,A),A.ontimeout=P(On,_,"TestLoadImage: timeout",!1,g,A),p.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else g(!1)}function Yn(u,g){const _=new In,A=new AbortController,U=setTimeout(()=>{A.abort(),On(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:A.signal}).then(G=>{clearTimeout(U),G.ok?On(_,"TestPingServer: ok",!0,g):On(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),On(_,"TestPingServer: error",!1,g)})}function On(u,g,_,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(_)}catch{}}function ra(){this.g=new Zi}function ss(u,g,_){const A=_||"";try{ol(u,function(U,G){let ae=U;y(U)&&(ae=Gn(U)),g.push(A+G+"="+encodeURIComponent(ae))})}catch(U){throw g.push(A+"type="+encodeURIComponent("_badmap")),U}}function li(u){this.l=u.Ub||null,this.j=u.eb||!1}k(li,Wr),li.prototype.g=function(){return new Is(this.l,this.j)},li.prototype.i=(function(u){return function(){return u}})({});function Is(u,g){pt.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Is,pt),i=Is.prototype,i.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,as(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||p).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,is(this)),this.readyState=0},i.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,as(this)),this.g&&(this.readyState=3,as(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;dl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function dl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}i.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?is(this):as(this),this.readyState==3&&dl(this)}},i.Ra=function(u){this.g&&(this.response=this.responseText=u,is(this))},i.Qa=function(u){this.g&&(this.response=u,is(this))},i.ga=function(){this.g&&is(this)};function is(u){u.readyState=4,u.l=null,u.j=null,u.v=null,as(u)}i.setRequestHeader=function(u,g){this.u.append(u,g)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function as(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Is.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function fl(u){let g="";return ue(u,function(_,A){g+=A,g+=":",g+=_,g+=`\r
`}),g}function Lt(u,g,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=fl(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):st(u,g,_))}function Je(u){pt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Je,pt);var Xa=/^https?$/i,la=["POST","PUT"];i=Je.prototype,i.Ha=function(u){this.J=u},i.ea=function(u,g,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wn.g(),this.v=this.o?el(this.o):el(Wn),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(G){$o(this,G);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)_.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())_.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),U=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(la,g,void 0))||A||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ae]of _)this.g.setRequestHeader(G,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{oa(this),this.u=!0,this.g.send(u),this.u=!1}catch(G){$o(this,G)}};function $o(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,Za(u),rs(u)}function Za(u){u.A||(u.A=!0,et(u,"complete"),et(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,et(this,"complete"),et(this,"abort"),rs(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rs(this,!0)),Je.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ja(this):this.bb())},i.bb=function(){Ja(this)};function Ja(u){if(u.h&&typeof f<"u"&&(!u.v[1]||kn(u)!=4||u.Z()!=2)){if(u.u&&kn(u)==4)Zt(u.Ea,0,u);else if(et(u,"readystatechange"),kn(u)==4){u.h=!1;try{const ae=u.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var A;if(A=ae===0){var U=String(u.D).match(ta)[1]||null;!U&&p.self&&p.self.location&&(U=p.self.location.protocol.slice(0,-1)),A=!Xa.test(U?U.toLowerCase():"")}_=A}if(_)et(u,"complete"),et(u,"success");else{u.m=6;try{var G=2<kn(u)?u.g.statusText:""}catch{G=""}u.l=G+" ["+u.Z()+"]",Za(u)}}finally{rs(u)}}}}function rs(u,g){if(u.g){oa(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||et(u,"ready");try{_.onreadystatechange=A}catch{}}}function oa(u){u.I&&(p.clearTimeout(u.I),u.I=null)}i.isActive=function(){return!!this.g};function kn(u){return u.g?u.g.readyState:0}i.Z=function(){try{return 2<kn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),qa(g)}};function Ko(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function gh(u){const g={};u=(u.g&&2<=kn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(ie(u[A]))continue;var _=N(u[A]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=g[U]||[];g[U]=G,G.push(_)}w(g,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ca(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function Wa(u){this.Aa=0,this.i=[],this.j=new In,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ca("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ca("baseRetryDelayMs",5e3,u),this.cb=ca("retryDelaySeedMs",1e4,u),this.Wa=ca("forwardChannelMaxRetries",2,u),this.wa=ca("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ws(u&&u.concurrentRequestLimit),this.Da=new ra,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Wa.prototype,i.la=8,i.G=1,i.connect=function(u,g,_,A){ht(0),this.W=u,this.H=g||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=nc(this,null,this.W),tr(this)};function ml(u){if(Xo(u),u.G==3){var g=u.U++,_=bn(u.I);if(st(_,"SID",u.K),st(_,"RID",g),st(_,"TYPE","terminate"),ua(u,_),g=new an(u,u.j,g),g.L=2,g.v=sa(bn(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=g.v,_=!0),_||(g.g=sc(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Wi(g)}tc(u)}function er(u){u.g&&(ha(u),u.g.cancel(),u.g=null)}function Xo(u){er(u),u.u&&(p.clearTimeout(u.u),u.u=null),nr(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function tr(u){if(!Ga(u.h)&&!u.s){u.s=!0;var g=u.Ga;re||V(),ve||(re(),ve=!0),ze.add(g,u),u.B=0}}function vh(u,g){return Qa(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=xt(C(u.Ga,u,g),vl(u,u.B)),u.B++,!0)}i.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new an(this,this.j,u);let G=this.o;if(this.S&&(G?(G=x(G),j(G,this.S)):G=this.S),this.m!==null||this.O||(U.H=G,G=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Zo(this,U,g),_=bn(this.I),st(_,"RID",u),st(_,"CVER",22),this.D&&st(_,"X-HTTP-Session-Id",this.D),ua(this,_),G&&(this.O?g="headers="+encodeURIComponent(String(fl(G)))+"&"+g:this.m&&Lt(_,this.m,G)),Ya(this.h,U),this.Ua&&st(_,"TYPE","init"),this.P?(st(_,"$req",g),st(_,"SID","null"),U.T=!0,Qn(U,_,null)):Qn(U,_,g),this.G=2}}else this.G==3&&(u?pl(this,u):this.i.length==0||Ga(this.h)||pl(this))};function pl(u,g){var _;g?_=g.l:_=u.U++;const A=bn(u.I);st(A,"SID",u.K),st(A,"RID",_),st(A,"AID",u.T),ua(u,A),u.m&&u.o&&Lt(A,u.m,u.o),_=new an(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),g&&(u.i=g.D.concat(u.i)),g=Zo(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ya(u.h,_),Qn(_,A,g)}function ua(u,g){u.H&&ue(u.H,function(_,A){st(g,A,_)}),u.l&&ol({},function(_,A){st(g,A,_)})}function Zo(u,g,_){_=Math.min(u.i.length,_);var A=u.l?C(u.l.Na,u.l,u):null;e:{var U=u.i;let G=-1;for(;;){const ae=["count="+_];G==-1?0<_?(G=U[0].g,ae.push("ofs="+G)):G=0:ae.push("ofs="+G);let qe=!0;for(let It=0;It<_;It++){let He=U[It].g;const Pt=U[It].map;if(He-=G,0>He)G=Math.max(0,U[It].g-100),qe=!1;else try{ss(Pt,ae,"req"+He+"_")}catch{A&&A(Pt)}}if(qe){A=ae.join("&");break e}}}return u=u.i.splice(0,_),g.D=u,A}function Jo(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;re||V(),ve||(re(),ve=!0),ze.add(g,u),u.v=0}}function gl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=xt(C(u.Fa,u),vl(u,u.v)),u.v++,!0)}i.Fa=function(){if(this.u=null,Wo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=xt(C(this.ab,this),u)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),er(this),Wo(this))};function ha(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function Wo(u){u.g=new an(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=bn(u.qa);st(g,"RID","rpc"),st(g,"SID",u.K),st(g,"AID",u.T),st(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&st(g,"TO",u.ja),st(g,"TYPE","xmlhttp"),ua(u,g),u.m&&u.o&&Lt(g,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=sa(bn(g)),_.m=null,_.P=!0,Ns(_,u)}i.Za=function(){this.C!=null&&(this.C=null,er(this),gl(this),ht(19))};function nr(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function ec(u,g){var _=null;if(u.g==g){nr(u),ha(u),u.g=null;var A=2}else if(rl(u.h,g))_=g.D,rn(u.h,g),A=1;else return;if(u.G!=0){if(g.o)if(A==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var U=u.B;A=ti(),et(A,new Dt(A,_)),tr(u)}else Jo(u);else if(U=g.s,U==3||U==0&&0<g.X||!(A==1&&vh(u,g)||A==2&&gl(u)))switch(_&&0<_.length&&(g=u.h,g.i=g.i.concat(_)),U){case 1:Vs(u,5);break;case 4:Vs(u,10);break;case 3:Vs(u,6);break;default:Vs(u,2)}}}function vl(u,g){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*g}function Vs(u,g){if(u.j.info("Error code "+g),g==2){var _=C(u.fb,u),A=u.Xa;const U=!A;A=new St(A||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||na(A,"https"),sa(A),U?aa(A.toString(),_):Yn(A.toString(),_)}else ht(2);u.G=0,u.l&&u.l.sa(g),tc(u),Xo(u)}i.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function tc(u){if(u.G=0,u.ka=[],u.l){const g=ll(u.h);(g.length!=0||u.i.length!=0)&&(K(u.ka,g),K(u.ka,u.i),u.h.i.length=0,J(u.i),u.i.length=0),u.l.ra()}}function nc(u,g,_){var A=_ instanceof St?bn(_):new St(_);if(A.g!="")g&&(A.g=g+"."+A.g),ri(A,A.s);else{var U=p.location;A=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;var G=new St(null);A&&na(G,A),g&&(G.g=g),U&&ri(G,U),_&&(G.l=_),A=G}return _=u.D,g=u.ya,_&&g&&st(A,_,g),st(A,"VER",u.la),ua(u,A),A}function sc(u,g,_){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Je(new li({eb:_})):new Je(u.pa),g.Ha(u.J),g}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function ic(){}i=ic.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function sr(){}sr.prototype.g=function(u,g){return new ln(u,g)};function ln(u,g){pt.call(this),this.g=new Wa(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!ie(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!ie(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new ls(this)}k(ln,pt),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){ml(this.g)},ln.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Gn(u),u=_);g.i.push(new Go(g.Ya++,u)),g.G==3&&tr(g)},ln.prototype.N=function(){this.g.l=null,delete this.j,ml(this.g),delete this.g,ln.aa.N.call(this)};function ac(u){xs.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const _ in g){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}k(ac,xs);function rc(){nl.call(this),this.status=1}k(rc,nl);function ls(u){this.g=u}k(ls,ic),ls.prototype.ua=function(){et(this.g,"a")},ls.prototype.ta=function(u){et(this.g,new ac(u))},ls.prototype.sa=function(u){et(this.g,new rc)},ls.prototype.ra=function(){et(this.g,"b")},sr.prototype.createWebChannel=sr.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,Ab=function(){return new sr},Tb=function(){return ti()},Eb=Jn,Of={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ii.NO_ERROR=0,ii.TIMEOUT=8,ii.HTTP_ERROR=6,du=ii,Ss.COMPLETE="complete",bb=Ss,tl.EventType=As,As.OPEN="a",As.CLOSE="b",As.ERROR="c",As.MESSAGE="d",pt.prototype.listen=pt.prototype.K,ro=tl,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,_b=Je}).apply(typeof lu<"u"?lu:typeof self<"u"?self:typeof window<"u"?window:{});const Uy="@firebase/firestore",By="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qr="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=new sm("@firebase/firestore");function Ir(){return Oa.logLevel}function de(i,...e){if(Oa.logLevel<=Qe.DEBUG){const s=e.map(um);Oa.debug(`Firestore (${Qr}): ${i}`,...s)}}function Js(i,...e){if(Oa.logLevel<=Qe.ERROR){const s=e.map(um);Oa.error(`Firestore (${Qr}): ${i}`,...s)}}function Pr(i,...e){if(Oa.logLevel<=Qe.WARN){const s=e.map(um);Oa.warn(`Firestore (${Qr}): ${i}`,...s)}}function um(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(s){return JSON.stringify(s)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(i,e,s){let r="Unexpected state";typeof e=="string"?r=e:s=e,xb(i,r,s)}function xb(i,e,s){let r=`FIRESTORE (${Qr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(s!==void 0)try{r+=" CONTEXT: "+JSON.stringify(s)}catch{r+=" CONTEXT: "+s}throw Js(r),new Error(r)}function We(i,e,s,r){let o="Unexpected state";typeof s=="string"?o=s:r=s,i||xb(e,o,r)}function je(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends zi{constructor(e,s){super(e,s),this.code=e,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(){this.promise=new Promise(((e,s)=>{this.resolve=e,this.reject=s}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,s){e.enqueueRetryable((()=>s(tn.UNAUTHENTICATED)))}shutdown(){}}class HS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,s){this.changeListener=s,e.enqueueRetryable((()=>s(this.token.user)))}shutdown(){this.changeListener=null}}class FS{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,s){We(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,s(v)):Promise.resolve();let h=new Ks;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ks,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},p=v=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ks)}}),0),f()}getToken(){const e=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string",31837,{l:r}),new Sb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class GS{constructor(e,s,r){this.P=e,this.T=s,this.I=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QS{constructor(e,s,r){this.P=e,this.T=s,this.I=r}getToken(){return Promise.resolve(new GS(this.P,this.T,this.I))}start(e,s){e.enqueueRetryable((()=>s(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class zy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YS{constructor(e,s){this.V=s,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,l0(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,s){We(this.o===void 0,3512);const r=h=>{h.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const f=h.token!==this.m;return this.m=h.token,de("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?s(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const o=h=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new zy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((s=>s?(We(typeof s.token=="string",44558,{tokenResult:s}),this.m=s.token,new zy(s.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(s);else for(let r=0;r<i;r++)s[r]=Math.floor(256*Math.random());return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=$S(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<s&&(r+=e.charAt(o[h]%62))}return r}}function Ue(i,e){return i<e?-1:i>e?1:0}function kf(i,e){const s=Math.min(i.length,e.length);for(let r=0;r<s;r++){const o=i.charAt(r),h=e.charAt(r);if(o!==h)return Tf(o)===Tf(h)?Ue(o,h):Tf(o)?1:-1}return Ue(i.length,e.length)}const KS=55296,XS=57343;function Tf(i){const e=i.charCodeAt(0);return e>=KS&&e<=XS}function Ur(i,e,s){return i.length===e.length&&i.every(((r,o)=>s(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="__name__";class ms{constructor(e,s,r){s===void 0?s=0:s>e.length&&xe(637,{offset:s,range:e.length}),r===void 0?r=e.length-s:r>e.length-s&&xe(1746,{length:r,range:e.length-s}),this.segments=e,this.offset=s,this.len=r}get length(){return this.len}isEqual(e){return ms.comparator(this,e)===0}child(e){const s=this.segments.slice(this.offset,this.limit());return e instanceof ms?e.forEach((r=>{s.push(r)})):s.push(e),this.construct(s)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}forEach(e){for(let s=this.offset,r=this.limit();s<r;s++)e(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,s){const r=Math.min(e.length,s.length);for(let o=0;o<r;o++){const h=ms.compareSegments(e.get(o),s.get(o));if(h!==0)return h}return Ue(e.length,s.length)}static compareSegments(e,s){const r=ms.isNumericId(e),o=ms.isNumericId(s);return r&&!o?-1:!r&&o?1:r&&o?ms.extractNumericId(e).compare(ms.extractNumericId(s)):kf(e,s)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ii.fromString(e.substring(4,e.length-2))}}class ot extends ms{construct(e,s,r){return new ot(e,s,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const s=[];for(const r of e){if(r.indexOf("//")>=0)throw new le($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);s.push(...r.split("/").filter((o=>o.length>0)))}return new ot(s)}static emptyPath(){return new ot([])}}const ZS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends ms{construct(e,s,r){return new Kt(e,s,r)}static isValidIdentifier(e){return ZS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qy}static keyField(){return new Kt([qy])}static fromServerFormat(e){const s=[];let r="",o=0;const h=()=>{if(r.length===0)throw new le($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(r),r=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new le($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new le($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(r+=p,o++):(h(),o++)}if(h(),f)throw new le($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(s)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ot.fromString(e))}static fromName(e){return new _e(ot.fromString(e).popFirst(5))}static empty(){return new _e(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,s){return ot.comparator(e.path,s.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ot(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(i,e,s){if(!s)throw new le($.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function JS(i,e,s,r){if(e===!0&&r===!0)throw new le($.INVALID_ARGUMENT,`${i} and ${s} cannot be used together.`)}function Hy(i){if(!_e.isDocumentKey(i))throw new le($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Fy(i){if(_e.isDocumentKey(i))throw new le($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function wb(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Bu(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":xe(12329,{type:typeof i})}function Cn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new le($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=Bu(i);throw new le($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${s}`)}}return i}function WS(i,e){if(e<=0)throw new le($.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(i,e){const s={typeString:i};return e&&(s.value=e),s}function jo(i,e){if(!wb(i))throw new le($.INVALID_ARGUMENT,"JSON must be an object");let s;for(const r in e)if(e[r]){const o=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){s=`JSON missing required field: '${r}'`;break}const f=i[r];if(o&&typeof f!==o){s=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&f!==h.value){s=`Expected '${r}' field to equal '${h.value}'`;break}}if(s)throw new le($.INVALID_ARGUMENT,s);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy=-62135596800,Qy=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const s=Math.floor(e/1e3),r=Math.floor((e-1e3*s)*Qy);return new ut(s,r)}constructor(e,s){if(this.seconds=e,this.nanoseconds=s,s<0)throw new le($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new le($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(e<Gy)throw new le($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qy}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(jo(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Gy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:Ct("string",ut._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new ut(0,0))}static max(){return new we(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=-1;function eN(i,e){const s=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(r===1e9?new ut(s+1,0):new ut(s,r));return new Oi(o,_e.empty(),e)}function tN(i){return new Oi(i.readTime,i.key,yo)}class Oi{constructor(e,s,r){this.readTime=e,this.documentKey=s,this.largestBatchId=r}static min(){return new Oi(we.min(),_e.empty(),yo)}static max(){return new Oi(we.max(),_e.empty(),yo)}}function nN(i,e){let s=i.readTime.compareTo(e.readTime);return s!==0?s:(s=_e.comparator(i.documentKey,e.documentKey),s!==0?s:Ue(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yr(i){if(i.code!==$.FAILED_PRECONDITION||i.message!==sN)throw i;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)}),(s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)}))}catch(e){return this.next(void 0,e)}next(e,s){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(e,this.result):new te(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(s,h).next(r,o)}}))}toPromise(){return new Promise(((e,s)=>{this.next(e,s)}))}wrapUserFunction(e){try{const s=e();return s instanceof te?s:te.resolve(s)}catch(s){return te.reject(s)}}wrapSuccess(e,s){return e?this.wrapUserFunction((()=>e(s))):te.resolve(s)}wrapFailure(e,s){return e?this.wrapUserFunction((()=>e(s))):te.reject(s)}static resolve(e){return new te(((s,r)=>{s(e)}))}static reject(e){return new te(((s,r)=>{r(e)}))}static waitFor(e){return new te(((s,r)=>{let o=0,h=0,f=!1;e.forEach((p=>{++o,p.next((()=>{++h,f&&h===o&&s()}),(v=>r(v)))})),f=!0,h===o&&s()}))}static or(e){let s=te.resolve(!1);for(const r of e)s=s.next((o=>o?te.resolve(o):r()));return s}static forEach(e,s){const r=[];return e.forEach(((o,h)=>{r.push(s.call(this,o,h))})),this.waitFor(r)}static mapArray(e,s){return new te(((r,o)=>{const h=e.length,f=new Array(h);let p=0;for(let v=0;v<h;v++){const y=v;s(e[y]).next((E=>{f[y]=E,++p,p===h&&r(f)}),(E=>o(E)))}}))}static doWhile(e,s){return new te(((r,o)=>{const h=()=>{e()===!0?s().next((()=>{h()}),o):r()};h()}))}}function aN(i){const e=i.match(/Android ([\d.]+)/i),s=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(s)}function $r(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,s){this.previousValue=e,s&&(s.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>s.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zu.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm=-1;function qu(i){return i==null}function Au(i){return i===0&&1/i==-1/0}function rN(i){return typeof i=="number"&&Number.isInteger(i)&&!Au(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="";function lN(i){let e="";for(let s=0;s<i.length;s++)e.length>0&&(e=Yy(e)),e=oN(i.get(s),e);return Yy(e)}function oN(i,e){let s=e;const r=i.length;for(let o=0;o<r;o++){const h=i.charAt(o);switch(h){case"\0":s+="";break;case jb:s+="";break;default:s+=h}}return s}function Yy(i){return i+jb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(i){let e=0;for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&e++;return e}function qi(i,e){for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&e(s,i[s])}function Rb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,s){this.comparator=e,this.root=s||$t.EMPTY}insert(e,s){return new mt(this.comparator,this.root.insert(e,s,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return s.value;r<0?s=s.left:r>0&&(s=s.right)}return null}indexOf(e){let s=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return s+r.left.size;o<0?r=r.left:(s+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((s,r)=>(e(s,r),!1)))}toString(){const e=[];return this.inorderTraversal(((s,r)=>(e.push(`${s}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ou(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ou(this.root,e,this.comparator,!1)}getReverseIterator(){return new ou(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ou(this.root,e,this.comparator,!0)}}class ou{constructor(e,s,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=s?r(e.key,s):1,s&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const s={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,s,r,o,h){this.key=e,this.value=s,this.color=r??$t.RED,this.left=o??$t.EMPTY,this.right=h??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,s,r,o,h){return new $t(e??this.key,s??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,r){let o=this;const h=r(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,s,r),null):h===0?o.copy(null,s,null,null,null):o.copy(null,null,null,null,o.right.insert(e,s,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,s){let r,o=this;if(s(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,s),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),s(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,s))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,s,r,o,h){return this}insert(e,s,r){return new $t(e,s)}remove(e,s){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((s,r)=>(e(s),!1)))}forEachInRange(e,s){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;s(o.key)}}forEachWhile(e,s){let r;for(r=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const s=this.data.getIteratorFrom(e);return s.hasNext()?s.getNext().key:null}getIterator(){return new Ky(this.data.getIterator())}getIteratorFrom(e){return new Ky(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let s=this;return s.size<e.size&&(s=e,e=this),e.forEach((r=>{s=s.add(r)})),s}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const s=this.data.getIterator(),r=e.data.getIterator();for(;s.hasNext();){const o=s.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((s=>{e.push(s)})),e}toString(){const e=[];return this.forEach((s=>e.push(s))),"SortedSet("+e.toString()+")"}copy(e){const s=new kt(this.comparator);return s.data=e,s}}class Ky{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new jn([])}unionWith(e){let s=new kt(Kt.comparator);for(const r of this.fields)s=s.add(r);for(const r of e)s=s.add(r);return new jn(s.toArray())}covers(e){for(const s of this.fields)if(s.isPrefixOf(e))return!0;return!1}isEqual(e){return Ur(this.fields,e.fields,((s,r)=>s.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const s=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Cb("Invalid base64 string: "+h):h}})(e);return new Xt(s)}static fromUint8Array(e){const s=(function(o){let h="";for(let f=0;f<o.length;++f)h+=String.fromCharCode(o[f]);return h})(e);return new Xt(s)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(s){return btoa(s)})(this.binaryString)}toUint8Array(){return(function(s){const r=new Uint8Array(s.length);for(let o=0;o<s.length;o++)r[o]=s.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const cN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ki(i){if(We(!!i,39018),typeof i=="string"){let e=0;const s=cN.exec(i);if(We(!!s,46558,{timestamp:i}),s[1]){let o=s[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(i.seconds),nanos:Et(i.nanos)}}function Et(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Li(i){return typeof i=="string"?Xt.fromBase64String(i):Xt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="server_timestamp",Ib="__type__",Vb="__previous_value__",Mb="__local_write_time__";function Hu(i){return(i?.mapValue?.fields||{})[Ib]?.stringValue===Db}function Fu(i){const e=i.mapValue.fields[Vb];return Hu(e)?Fu(e):e}function _o(i){const e=ki(i.mapValue.fields[Mb].timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,s,r,o,h,f,p,v,y,E){this.databaseId=e,this.appId=s,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=E}}const xu="(default)";class bo{constructor(e,s){this.projectId=e,this.database=s||xu}static empty(){return new bo("","")}get isDefaultDatabase(){return this.database===xu}isEqual(e){return e instanceof bo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="__type__",hN="__max__",cu={mapValue:{}},kb="__vector__",Su="value";function Pi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Hu(i)?4:fN(i)?9007199254740991:dN(i)?10:11:xe(28295,{value:i})}function Es(i,e){if(i===e)return!0;const s=Pi(i);if(s!==Pi(e))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return _o(i).isEqual(_o(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const f=ki(o.timestampValue),p=ki(h.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,h){return Li(o.bytesValue).isEqual(Li(h.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,h){return Et(o.geoPointValue.latitude)===Et(h.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(h.geoPointValue.longitude)})(i,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return Et(o.integerValue)===Et(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const f=Et(o.doubleValue),p=Et(h.doubleValue);return f===p?Au(f)===Au(p):isNaN(f)&&isNaN(p)}return!1})(i,e);case 9:return Ur(i.arrayValue.values||[],e.arrayValue.values||[],Es);case 10:case 11:return(function(o,h){const f=o.mapValue.fields||{},p=h.mapValue.fields||{};if($y(f)!==$y(p))return!1;for(const v in f)if(f.hasOwnProperty(v)&&(p[v]===void 0||!Es(f[v],p[v])))return!1;return!0})(i,e);default:return xe(52216,{left:i})}}function Eo(i,e){return(i.values||[]).find((s=>Es(s,e)))!==void 0}function Br(i,e){if(i===e)return 0;const s=Pi(i),r=Pi(e);if(s!==r)return Ue(s,r);switch(s){case 0:case 9007199254740991:return 0;case 1:return Ue(i.booleanValue,e.booleanValue);case 2:return(function(h,f){const p=Et(h.integerValue||h.doubleValue),v=Et(f.integerValue||f.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(i,e);case 3:return Xy(i.timestampValue,e.timestampValue);case 4:return Xy(_o(i),_o(e));case 5:return kf(i.stringValue,e.stringValue);case 6:return(function(h,f){const p=Li(h),v=Li(f);return p.compareTo(v)})(i.bytesValue,e.bytesValue);case 7:return(function(h,f){const p=h.split("/"),v=f.split("/");for(let y=0;y<p.length&&y<v.length;y++){const E=Ue(p[y],v[y]);if(E!==0)return E}return Ue(p.length,v.length)})(i.referenceValue,e.referenceValue);case 8:return(function(h,f){const p=Ue(Et(h.latitude),Et(f.latitude));return p!==0?p:Ue(Et(h.longitude),Et(f.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return Zy(i.arrayValue,e.arrayValue);case 10:return(function(h,f){const p=h.fields||{},v=f.fields||{},y=p[Su]?.arrayValue,E=v[Su]?.arrayValue,R=Ue(y?.values?.length||0,E?.values?.length||0);return R!==0?R:Zy(y,E)})(i.mapValue,e.mapValue);case 11:return(function(h,f){if(h===cu.mapValue&&f===cu.mapValue)return 0;if(h===cu.mapValue)return 1;if(f===cu.mapValue)return-1;const p=h.fields||{},v=Object.keys(p),y=f.fields||{},E=Object.keys(y);v.sort(),E.sort();for(let R=0;R<v.length&&R<E.length;++R){const C=kf(v[R],E[R]);if(C!==0)return C;const P=Br(p[v[R]],y[E[R]]);if(P!==0)return P}return Ue(v.length,E.length)})(i.mapValue,e.mapValue);default:throw xe(23264,{he:s})}}function Xy(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ue(i,e);const s=ki(i),r=ki(e),o=Ue(s.seconds,r.seconds);return o!==0?o:Ue(s.nanos,r.nanos)}function Zy(i,e){const s=i.values||[],r=e.values||[];for(let o=0;o<s.length&&o<r.length;++o){const h=Br(s[o],r[o]);if(h)return h}return Ue(s.length,r.length)}function zr(i){return Lf(i)}function Lf(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(s){const r=ki(s);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(s){return Li(s).toBase64()})(i.bytesValue):"referenceValue"in i?(function(s){return _e.fromName(s).toString()})(i.referenceValue):"geoPointValue"in i?(function(s){return`geo(${s.latitude},${s.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(s){let r="[",o=!0;for(const h of s.values||[])o?o=!1:r+=",",r+=Lf(h);return r+"]"})(i.arrayValue):"mapValue"in i?(function(s){const r=Object.keys(s.fields||{}).sort();let o="{",h=!0;for(const f of r)h?h=!1:o+=",",o+=`${f}:${Lf(s.fields[f])}`;return o+"}"})(i.mapValue):xe(61005,{value:i})}function fu(i){switch(Pi(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fu(i);return e?16+fu(e):16;case 5:return 2*i.stringValue.length;case 6:return Li(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+fu(h)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return qi(r.fields,((h,f)=>{o+=h.length+fu(f)})),o})(i.mapValue);default:throw xe(13486,{value:i})}}function Nu(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Pf(i){return!!i&&"integerValue"in i}function fm(i){return!!i&&"arrayValue"in i}function Jy(i){return!!i&&"nullValue"in i}function Wy(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function mu(i){return!!i&&"mapValue"in i}function dN(i){return(i?.mapValue?.fields||{})[Ob]?.stringValue===kb}function fo(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return qi(i.mapValue.fields,((s,r)=>e.mapValue.fields[s]=fo(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let s=0;s<(i.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=fo(i.arrayValue.values[s]);return e}return{...i}}function fN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===hN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let s=this.value;for(let r=0;r<e.length-1;++r)if(s=(s.mapValue.fields||{})[e.get(r)],!mu(s))return null;return s=(s.mapValue.fields||{})[e.lastSegment()],s||null}}set(e,s){this.getFieldsMap(e.popLast())[e.lastSegment()]=fo(s)}setAll(e){let s=Kt.emptyPath(),r={},o=[];e.forEach(((f,p)=>{if(!s.isImmediateParentOf(p)){const v=this.getFieldsMap(s);this.applyChanges(v,r,o),r={},o=[],s=p.popLast()}f?r[p.lastSegment()]=fo(f):o.push(p.lastSegment())}));const h=this.getFieldsMap(s);this.applyChanges(h,r,o)}delete(e){const s=this.field(e.popLast());mu(s)&&s.mapValue.fields&&delete s.mapValue.fields[e.lastSegment()]}isEqual(e){return Es(this.value,e.value)}getFieldsMap(e){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=s.mapValue.fields[e.get(r)];mu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},s.mapValue.fields[e.get(r)]=o),s=o}return s.mapValue.fields}applyChanges(e,s,r){qi(s,((o,h)=>e[o]=h));for(const o of r)delete e[o]}clone(){return new pn(fo(this.value))}}function Lb(i){const e=[];return qi(i.fields,((s,r)=>{const o=new Kt([s]);if(mu(r)){const h=Lb(r.mapValue).fields;if(h.length===0)e.push(o);else for(const f of h)e.push(o.child(f))}else e.push(o)})),new jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,s,r,o,h,f,p){this.key=e,this.documentType=s,this.version=r,this.readTime=o,this.createTime=h,this.data=f,this.documentState=p}static newInvalidDocument(e){return new nn(e,0,we.min(),we.min(),we.min(),pn.empty(),0)}static newFoundDocument(e,s,r,o){return new nn(e,1,s,we.min(),r,o,0)}static newNoDocument(e,s){return new nn(e,2,s,we.min(),we.min(),pn.empty(),0)}static newUnknownDocument(e,s){return new nn(e,3,s,we.min(),we.min(),pn.empty(),2)}convertToFoundDocument(e,s){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,s){this.position=e,this.inclusive=s}}function e_(i,e,s){let r=0;for(let o=0;o<i.position.length;o++){const h=e[o],f=i.position[o];if(h.field.isKeyField()?r=_e.comparator(_e.fromName(f.referenceValue),s.key):r=Br(f,s.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function t_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let s=0;s<i.position.length;s++)if(!Es(i.position[s],e.position[s]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,s="asc"){this.field=e,this.dir=s}}function mN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{}class Rt extends Pb{constructor(e,s,r){super(),this.field=e,this.op=s,this.value=r}static create(e,s,r){return e.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(e,s,r):new gN(e,s,r):s==="array-contains"?new _N(e,r):s==="in"?new bN(e,r):s==="not-in"?new EN(e,r):s==="array-contains-any"?new TN(e,r):new Rt(e,s,r)}static createKeyFieldInFilter(e,s,r){return s==="in"?new vN(e,r):new yN(e,r)}matches(e){const s=e.data.field(this.field);return this.op==="!="?s!==null&&s.nullValue===void 0&&this.matchesComparison(Br(s,this.value)):s!==null&&Pi(this.value)===Pi(s)&&this.matchesComparison(Br(s,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends Pb{constructor(e,s){super(),this.filters=e,this.op=s,this.Pe=null}static create(e,s){return new Zn(e,s)}matches(e){return Ub(this)?this.filters.find((s=>!s.matches(e)))===void 0:this.filters.find((s=>s.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,s)=>e.concat(s.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ub(i){return i.op==="and"}function Bb(i){return pN(i)&&Ub(i)}function pN(i){for(const e of i.filters)if(e instanceof Zn)return!1;return!0}function Uf(i){if(i instanceof Rt)return i.field.canonicalString()+i.op.toString()+zr(i.value);if(Bb(i))return i.filters.map((e=>Uf(e))).join(",");{const e=i.filters.map((s=>Uf(s))).join(",");return`${i.op}(${e})`}}function zb(i,e){return i instanceof Rt?(function(r,o){return o instanceof Rt&&r.op===o.op&&r.field.isEqual(o.field)&&Es(r.value,o.value)})(i,e):i instanceof Zn?(function(r,o){return o instanceof Zn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,f,p)=>h&&zb(f,o.filters[p])),!0):!1})(i,e):void xe(19439)}function qb(i){return i instanceof Rt?(function(s){return`${s.field.canonicalString()} ${s.op} ${zr(s.value)}`})(i):i instanceof Zn?(function(s){return s.op.toString()+" {"+s.getFilters().map(qb).join(" ,")+"}"})(i):"Filter"}class gN extends Rt{constructor(e,s,r){super(e,s,r),this.key=_e.fromName(r.referenceValue)}matches(e){const s=_e.comparator(e.key,this.key);return this.matchesComparison(s)}}class vN extends Rt{constructor(e,s){super(e,"in",s),this.keys=Hb("in",s)}matches(e){return this.keys.some((s=>s.isEqual(e.key)))}}class yN extends Rt{constructor(e,s){super(e,"not-in",s),this.keys=Hb("not-in",s)}matches(e){return!this.keys.some((s=>s.isEqual(e.key)))}}function Hb(i,e){return(e.arrayValue?.values||[]).map((s=>_e.fromName(s.referenceValue)))}class _N extends Rt{constructor(e,s){super(e,"array-contains",s)}matches(e){const s=e.data.field(this.field);return fm(s)&&Eo(s.arrayValue,this.value)}}class bN extends Rt{constructor(e,s){super(e,"in",s)}matches(e){const s=e.data.field(this.field);return s!==null&&Eo(this.value.arrayValue,s)}}class EN extends Rt{constructor(e,s){super(e,"not-in",s)}matches(e){if(Eo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=e.data.field(this.field);return s!==null&&s.nullValue===void 0&&!Eo(this.value.arrayValue,s)}}class TN extends Rt{constructor(e,s){super(e,"array-contains-any",s)}matches(e){const s=e.data.field(this.field);return!(!fm(s)||!s.arrayValue.values)&&s.arrayValue.values.some((r=>Eo(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,s=null,r=[],o=[],h=null,f=null,p=null){this.path=e,this.collectionGroup=s,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=f,this.endAt=p,this.Te=null}}function n_(i,e=null,s=[],r=[],o=null,h=null,f=null){return new AN(i,e,s,r,o,h,f)}function mm(i){const e=je(i);if(e.Te===null){let s=e.path.canonicalString();e.collectionGroup!==null&&(s+="|cg:"+e.collectionGroup),s+="|f:",s+=e.filters.map((r=>Uf(r))).join(","),s+="|ob:",s+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),qu(e.limit)||(s+="|l:",s+=e.limit),e.startAt&&(s+="|lb:",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((r=>zr(r))).join(",")),e.endAt&&(s+="|ub:",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((r=>zr(r))).join(",")),e.Te=s}return e.Te}function pm(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<i.orderBy.length;s++)if(!mN(i.orderBy[s],e.orderBy[s]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let s=0;s<i.filters.length;s++)if(!zb(i.filters[s],e.filters[s]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!t_(i.startAt,e.startAt)&&t_(i.endAt,e.endAt)}function Bf(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,s=null,r=[],o=[],h=null,f="F",p=null,v=null){this.path=e,this.collectionGroup=s,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=f,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function xN(i,e,s,r,o,h,f,p){return new La(i,e,s,r,o,h,f,p)}function Gu(i){return new La(i)}function s_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function gm(i){return i.collectionGroup!==null}function kr(i){const e=je(i);if(e.Ie===null){e.Ie=[];const s=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),s.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new kt(Kt.comparator);return f.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((h=>{s.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new To(h,r))})),s.has(Kt.keyField().canonicalString())||e.Ie.push(new To(Kt.keyField(),r))}return e.Ie}function vs(i){const e=je(i);return e.Ee||(e.Ee=SN(e,kr(i))),e.Ee}function SN(i,e){if(i.limitType==="F")return n_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new To(o.field,h)}));const s=i.endAt?new qr(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new qr(i.startAt.position,i.startAt.inclusive):null;return n_(i.path,i.collectionGroup,e,i.filters,i.limit,s,r)}}function zf(i,e){const s=i.filters.concat([e]);return new La(i.path,i.collectionGroup,i.explicitOrderBy.slice(),s,i.limit,i.limitType,i.startAt,i.endAt)}function wu(i,e,s){return new La(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,s,i.startAt,i.endAt)}function Qu(i,e){return pm(vs(i),vs(e))&&i.limitType===e.limitType}function Fb(i){return`${mm(vs(i))}|lt:${i.limitType}`}function Vr(i){return`Query(target=${(function(s){let r=s.path.canonicalString();return s.collectionGroup!==null&&(r+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(r+=`, filters: [${s.filters.map((o=>qb(o))).join(", ")}]`),qu(s.limit)||(r+=", limit: "+s.limit),s.orderBy.length>0&&(r+=`, orderBy: [${s.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),s.startAt&&(r+=", startAt: ",r+=s.startAt.inclusive?"b:":"a:",r+=s.startAt.position.map((o=>zr(o))).join(",")),s.endAt&&(r+=", endAt: ",r+=s.endAt.inclusive?"a:":"b:",r+=s.endAt.position.map((o=>zr(o))).join(",")),`Target(${r})`})(vs(i))}; limitType=${i.limitType})`}function Yu(i,e){return e.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):_e.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(i,e)&&(function(r,o){for(const h of kr(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(i,e)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(i,e)&&(function(r,o){return!(r.startAt&&!(function(f,p,v){const y=e_(f,p,v);return f.inclusive?y<=0:y<0})(r.startAt,kr(r),o)||r.endAt&&!(function(f,p,v){const y=e_(f,p,v);return f.inclusive?y>=0:y>0})(r.endAt,kr(r),o))})(i,e)}function NN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Gb(i){return(e,s)=>{let r=!1;for(const o of kr(i)){const h=wN(o,e,s);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function wN(i,e,s){const r=i.field.isKeyField()?_e.comparator(e.key,s.key):(function(h,f,p){const v=f.data.field(h),y=p.data.field(h);return v!==null&&y!==null?Br(v,y):xe(42886)})(i.field,e,s);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return xe(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,s){this.mapKeyFn=e,this.equalsFn=s,this.inner={},this.innerSize=0}get(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,s){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,s]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,s]);o.push([e,s]),this.innerSize++}delete(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[s]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){qi(this.inner,((s,r)=>{for(const[o,h]of r)e(o,h)}))}isEmpty(){return Rb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=new mt(_e.comparator);function Ws(){return jN}const Qb=new mt(_e.comparator);function lo(...i){let e=Qb;for(const s of i)e=e.insert(s.key,s);return e}function Yb(i){let e=Qb;return i.forEach(((s,r)=>e=e.insert(s,r.overlayedDocument))),e}function Ra(){return mo()}function $b(){return mo()}function mo(){return new Pa((i=>i.toString()),((i,e)=>i.isEqual(e)))}const RN=new mt(_e.comparator),CN=new kt(_e.comparator);function Be(...i){let e=CN;for(const s of i)e=e.add(s);return e}const DN=new kt(Ue);function IN(){return DN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Au(e)?"-0":e}}function Kb(i){return{integerValue:""+i}}function VN(i,e){return rN(e)?Kb(e):vm(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(){this._=void 0}}function MN(i,e,s){return i instanceof Ao?(function(o,h){const f={fields:{[Ib]:{stringValue:Db},[Mb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Hu(h)&&(h=Fu(h)),h&&(f.fields[Vb]=h),{mapValue:f}})(s,e):i instanceof xo?Zb(i,e):i instanceof So?Jb(i,e):(function(o,h){const f=Xb(o,h),p=i_(f)+i_(o.Ae);return Pf(f)&&Pf(o.Ae)?Kb(p):vm(o.serializer,p)})(i,e)}function ON(i,e,s){return i instanceof xo?Zb(i,e):i instanceof So?Jb(i,e):s}function Xb(i,e){return i instanceof ju?(function(r){return Pf(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class Ao extends $u{}class xo extends $u{constructor(e){super(),this.elements=e}}function Zb(i,e){const s=Wb(e);for(const r of i.elements)s.some((o=>Es(o,r)))||s.push(r);return{arrayValue:{values:s}}}class So extends $u{constructor(e){super(),this.elements=e}}function Jb(i,e){let s=Wb(e);for(const r of i.elements)s=s.filter((o=>!Es(o,r)));return{arrayValue:{values:s}}}class ju extends $u{constructor(e,s){super(),this.serializer=e,this.Ae=s}}function i_(i){return Et(i.integerValue||i.doubleValue)}function Wb(i){return fm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,s){this.field=e,this.transform=s}}function LN(i,e){return i.field.isEqual(e.field)&&(function(r,o){return r instanceof xo&&o instanceof xo||r instanceof So&&o instanceof So?Ur(r.elements,o.elements,Es):r instanceof ju&&o instanceof ju?Es(r.Ae,o.Ae):r instanceof Ao&&o instanceof Ao})(i.transform,e.transform)}class PN{constructor(e,s){this.version=e,this.transformResults=s}}class vn{constructor(e,s){this.updateTime=e,this.exists=s}static none(){return new vn}static exists(e){return new vn(void 0,e)}static updateTime(e){return new vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pu(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Ku{}function eE(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Xu(i.key,vn.none()):new Ro(i.key,i.data,vn.none());{const s=i.data,r=pn.empty();let o=new kt(Kt.comparator);for(let h of e.fields)if(!o.has(h)){let f=s.field(h);f===null&&h.length>1&&(h=h.popLast(),f=s.field(h)),f===null?r.delete(h):r.set(h,f),o=o.add(h)}return new Hi(i.key,r,new jn(o.toArray()),vn.none())}}function UN(i,e,s){i instanceof Ro?(function(o,h,f){const p=o.value.clone(),v=r_(o.fieldTransforms,h,f.transformResults);p.setAll(v),h.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(i,e,s):i instanceof Hi?(function(o,h,f){if(!pu(o.precondition,h))return void h.convertToUnknownDocument(f.version);const p=r_(o.fieldTransforms,h,f.transformResults),v=h.data;v.setAll(tE(o)),v.setAll(p),h.convertToFoundDocument(f.version,v).setHasCommittedMutations()})(i,e,s):(function(o,h,f){h.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,s)}function po(i,e,s,r){return i instanceof Ro?(function(h,f,p,v){if(!pu(h.precondition,f))return p;const y=h.value.clone(),E=l_(h.fieldTransforms,v,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(i,e,s,r):i instanceof Hi?(function(h,f,p,v){if(!pu(h.precondition,f))return p;const y=l_(h.fieldTransforms,v,f),E=f.data;return E.setAll(tE(h)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((R=>R.field)))})(i,e,s,r):(function(h,f,p){return pu(h.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(i,e,s)}function BN(i,e){let s=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),h=Xb(r.transform,o||null);h!=null&&(s===null&&(s=pn.empty()),s.set(r.field,h))}return s||null}function a_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Ur(r,o,((h,f)=>LN(h,f)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Ro extends Ku{constructor(e,s,r,o=[]){super(),this.key=e,this.value=s,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Hi extends Ku{constructor(e,s,r,o,h=[]){super(),this.key=e,this.data=s,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function tE(i){const e=new Map;return i.fieldMask.fields.forEach((s=>{if(!s.isEmpty()){const r=i.data.field(s);e.set(s,r)}})),e}function r_(i,e,s){const r=new Map;We(i.length===s.length,32656,{Re:s.length,Ve:i.length});for(let o=0;o<s.length;o++){const h=i[o],f=h.transform,p=e.data.field(h.field);r.set(h.field,ON(f,p,s[o]))}return r}function l_(i,e,s){const r=new Map;for(const o of i){const h=o.transform,f=s.data.field(o.field);r.set(o.field,MN(h,f,e))}return r}class Xu extends Ku{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zN extends Ku{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,s,r,o){this.batchId=e,this.localWriteTime=s,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,s){const r=s.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&UN(h,e,r[o])}}applyToLocalView(e,s){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(s=po(r,e,s,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(s=po(r,e,s,this.localWriteTime));return s}applyToLocalDocumentSet(e,s){const r=$b();return this.mutations.forEach((o=>{const h=e.get(o.key),f=h.overlayedDocument;let p=this.applyToLocalView(f,h.mutatedFields);p=s.has(o.key)?null:p;const v=eE(f,p);v!==null&&r.set(o.key,v),f.isValidDocument()||f.convertToNoDocument(we.min())})),r}keys(){return this.mutations.reduce(((e,s)=>e.add(s.key)),Be())}isEqual(e){return this.batchId===e.batchId&&Ur(this.mutations,e.mutations,((s,r)=>a_(s,r)))&&Ur(this.baseMutations,e.baseMutations,((s,r)=>a_(s,r)))}}class ym{constructor(e,s,r,o){this.batch=e,this.commitVersion=s,this.mutationResults=r,this.docVersions=o}static from(e,s,r){We(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return RN})();const h=e.mutations;for(let f=0;f<h.length;f++)o=o.insert(h[f].key,r[f].version);return new ym(e,s,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,s){this.largestBatchId=e,this.mutation=s}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,s){this.count=e,this.unchangedNames=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,Ge;function GN(i){switch(i){case $.OK:return xe(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return xe(15467,{code:i})}}function nE(i){if(i===void 0)return Js("GRPC error has no .code"),$.UNKNOWN;switch(i){case jt.OK:return $.OK;case jt.CANCELLED:return $.CANCELLED;case jt.UNKNOWN:return $.UNKNOWN;case jt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case jt.INTERNAL:return $.INTERNAL;case jt.UNAVAILABLE:return $.UNAVAILABLE;case jt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case jt.NOT_FOUND:return $.NOT_FOUND;case jt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case jt.ABORTED:return $.ABORTED;case jt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case jt.DATA_LOSS:return $.DATA_LOSS;default:return xe(39323,{code:i})}}(Ge=jt||(jt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=new Ii([4294967295,4294967295],0);function o_(i){const e=QN().encode(i),s=new yb;return s.update(e),new Uint8Array(s.digest())}function c_(i){const e=new DataView(i.buffer),s=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Ii([s,r],0),new Ii([o,h],0)]}class _m{constructor(e,s,r){if(this.bitmap=e,this.padding=s,this.hashCount=r,s<0||s>=8)throw new oo(`Invalid padding: ${s}`);if(r<0)throw new oo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new oo(`Invalid hash count: ${r}`);if(e.length===0&&s!==0)throw new oo(`Invalid padding when bitmap length is 0: ${s}`);this.ge=8*e.length-s,this.pe=Ii.fromNumber(this.ge)}ye(e,s,r){let o=e.add(s.multiply(Ii.fromNumber(r)));return o.compare(YN)===1&&(o=new Ii([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const s=o_(e),[r,o]=c_(s);for(let h=0;h<this.hashCount;h++){const f=this.ye(r,o,h);if(!this.we(f))return!1}return!0}static create(e,s,r){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),f=new _m(h,o,s);return r.forEach((p=>f.insert(p))),f}insert(e){if(this.ge===0)return;const s=o_(e),[r,o]=c_(s);for(let h=0;h<this.hashCount;h++){const f=this.ye(r,o,h);this.Se(f)}}Se(e){const s=Math.floor(e/8),r=e%8;this.bitmap[s]|=1<<r}}class oo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,s,r,o,h){this.snapshotVersion=e,this.targetChanges=s,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,s,r){const o=new Map;return o.set(e,Co.createSynthesizedTargetChangeForCurrentChange(e,s,r)),new Zu(we.min(),o,new mt(Ue),Ws(),Be())}}class Co{constructor(e,s,r,o,h){this.resumeToken=e,this.current=s,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,s,r){return new Co(r,s,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,s,r,o){this.be=e,this.removedTargetIds=s,this.key=r,this.De=o}}class sE{constructor(e,s){this.targetId=e,this.Ce=s}}class iE{constructor(e,s,r=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=s,this.resumeToken=r,this.cause=o}}class u_{constructor(){this.ve=0,this.Fe=h_(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),s=Be(),r=Be();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:s=s.add(o);break;case 1:r=r.add(o);break;default:xe(38017,{changeType:h})}})),new Co(this.Me,this.xe,e,s,r)}qe(){this.Oe=!1,this.Fe=h_()}Qe(e,s){this.Oe=!0,this.Fe=this.Fe.insert(e,s)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $N{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ws(),this.Je=uu(),this.He=uu(),this.Ye=new mt(Ue)}Ze(e){for(const s of e.be)e.De&&e.De.isFoundDocument()?this.Xe(s,e.De):this.et(s,e.key,e.De);for(const s of e.removedTargetIds)this.et(s,e.key,e.De)}tt(e){this.forEachTarget(e,(s=>{const r=this.nt(s);switch(e.state){case 0:this.rt(s)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(s);break;case 3:this.rt(s)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(s)&&(this.it(s),r.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,s){e.targetIds.length>0?e.targetIds.forEach(s):this.ze.forEach(((r,o)=>{this.rt(o)&&s(o)}))}st(e){const s=e.targetId,r=e.Ce.count,o=this.ot(s);if(o){const h=o.target;if(Bf(h))if(r===0){const f=new _e(h.path);this.et(s,f,nn.newNoDocument(f,we.min()))}else We(r===1,20013,{expectedCount:r});else{const f=this._t(s);if(f!==r){const p=this.ut(e),v=p?this.ct(p,e,f):1;if(v!==0){this.it(s);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(s,y)}}}}}ut(e){const s=e.Ce.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=s;let f,p;try{f=Li(r).toUint8Array()}catch(v){if(v instanceof Cb)return Pr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new _m(f,o,h)}catch(v){return Pr(v instanceof oo?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(e,s,r){return s.Ce.count===r-this.Pt(e,s.targetId)?0:2}Pt(e,s){const r=this.Ge.getRemoteKeysForTarget(s);let o=0;return r.forEach((h=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.et(s,h,null),o++)})),o}Tt(e){const s=new Map;this.ze.forEach(((h,f)=>{const p=this.ot(f);if(p){if(h.current&&Bf(p.target)){const v=new _e(p.target.path);this.It(v).has(f)||this.Et(f,v)||this.et(f,v,nn.newNoDocument(v,e))}h.Be&&(s.set(f,h.ke()),h.qe())}}));let r=Be();this.He.forEach(((h,f)=>{let p=!0;f.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(h))})),this.je.forEach(((h,f)=>f.setReadTime(e)));const o=new Zu(e,s,this.Ye,this.je,r);return this.je=Ws(),this.Je=uu(),this.He=uu(),this.Ye=new mt(Ue),o}Xe(e,s){if(!this.rt(e))return;const r=this.Et(e,s.key)?2:0;this.nt(e).Qe(s.key,r),this.je=this.je.insert(s.key,s),this.Je=this.Je.insert(s.key,this.It(s.key).add(e)),this.He=this.He.insert(s.key,this.dt(s.key).add(e))}et(e,s,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,s)?o.Qe(s,1):o.$e(s),this.He=this.He.insert(s,this.dt(s).delete(e)),this.He=this.He.insert(s,this.dt(s).add(e)),r&&(this.je=this.je.insert(s,r))}removeTarget(e){this.ze.delete(e)}_t(e){const s=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+s.addedDocuments.size-s.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let s=this.ze.get(e);return s||(s=new u_,this.ze.set(e,s)),s}dt(e){let s=this.He.get(e);return s||(s=new kt(Ue),this.He=this.He.insert(e,s)),s}It(e){let s=this.Je.get(e);return s||(s=new kt(Ue),this.Je=this.Je.insert(e,s)),s}rt(e){const s=this.ot(e)!==null;return s||de("WatchChangeAggregator","Detected inactive target",e),s}ot(e){const s=this.ze.get(e);return s&&s.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new u_),this.Ge.getRemoteKeysForTarget(e).forEach((s=>{this.et(e,s,null)}))}Et(e,s){return this.Ge.getRemoteKeysForTarget(e).has(s)}}function uu(){return new mt(_e.comparator)}function h_(){return new mt(_e.comparator)}const KN={asc:"ASCENDING",desc:"DESCENDING"},XN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZN={and:"AND",or:"OR"};class JN{constructor(e,s){this.databaseId=e,this.useProto3Json=s}}function qf(i,e){return i.useProto3Json||qu(e)?e:{value:e}}function Ru(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aE(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function WN(i,e){return Ru(i,e.toTimestamp())}function ys(i){return We(!!i,49232),we.fromTimestamp((function(s){const r=ki(s);return new ut(r.seconds,r.nanos)})(i))}function bm(i,e){return Hf(i,e).canonicalString()}function Hf(i,e){const s=(function(o){return new ot(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?s:s.child(e)}function rE(i){const e=ot.fromString(i);return We(hE(e),10190,{key:e.toString()}),e}function Ff(i,e){return bm(i.databaseId,e.path)}function Af(i,e){const s=rE(e);if(s.get(1)!==i.databaseId.projectId)throw new le($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+i.databaseId.projectId);if(s.get(3)!==i.databaseId.database)throw new le($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+i.databaseId.database);return new _e(oE(s))}function lE(i,e){return bm(i.databaseId,e)}function ew(i){const e=rE(i);return e.length===4?ot.emptyPath():oE(e)}function Gf(i){return new ot(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function oE(i){return We(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function d_(i,e,s){return{name:Ff(i,e),fields:s.value.mapValue.fields}}function tw(i,e){let s;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:xe(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(y,E){return y.useProto3Json?(We(E===void 0||typeof E=="string",58123),Xt.fromBase64String(E||"")):(We(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xt.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&(function(y){const E=y.code===void 0?$.UNKNOWN:nE(y.code);return new le(E,y.message||"")})(f);s=new iE(r,o,h,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Af(i,r.document.name),h=ys(r.document.updateTime),f=r.document.createTime?ys(r.document.createTime):we.min(),p=new pn({mapValue:{fields:r.document.fields}}),v=nn.newFoundDocument(o,h,f,p),y=r.targetIds||[],E=r.removedTargetIds||[];s=new gu(y,E,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Af(i,r.document),h=r.readTime?ys(r.readTime):we.min(),f=nn.newNoDocument(o,h),p=r.removedTargetIds||[];s=new gu([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Af(i,r.document),h=r.removedTargetIds||[];s=new gu([],h,o,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,f=new FN(o,h),p=r.targetId;s=new sE(p,f)}}return s}function nw(i,e){let s;if(e instanceof Ro)s={update:d_(i,e.key,e.value)};else if(e instanceof Xu)s={delete:Ff(i,e.key)};else if(e instanceof Hi)s={update:d_(i,e.key,e.data),updateMask:hw(e.fieldMask)};else{if(!(e instanceof zN))return xe(16599,{Vt:e.type});s={verify:Ff(i,e.key)}}return e.fieldTransforms.length>0&&(s.updateTransforms=e.fieldTransforms.map((r=>(function(h,f){const p=f.transform;if(p instanceof Ao)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof xo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof So)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ju)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw xe(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(s.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:WN(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:xe(27497)})(i,e.precondition)),s}function sw(i,e){return i&&i.length>0?(We(e!==void 0,14353),i.map((s=>(function(o,h){let f=o.updateTime?ys(o.updateTime):ys(h);return f.isEqual(we.min())&&(f=ys(h)),new PN(f,o.transformResults||[])})(s,e)))):[]}function iw(i,e){return{documents:[lE(i,e.path)]}}function aw(i,e){const s={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,s.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),s.structuredQuery.from=[{collectionId:r.lastSegment()}]),s.parent=lE(i,o);const h=(function(y){if(y.length!==0)return uE(Zn.create(y,"and"))})(e.filters);h&&(s.structuredQuery.where=h);const f=(function(y){if(y.length!==0)return y.map((E=>(function(C){return{field:Mr(C.field),direction:ow(C.dir)}})(E)))})(e.orderBy);f&&(s.structuredQuery.orderBy=f);const p=qf(i,e.limit);return p!==null&&(s.structuredQuery.limit=p),e.startAt&&(s.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(s.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:s,parent:o}}function rw(i){let e=ew(i.parent);const s=i.structuredQuery,r=s.from?s.from.length:0;let o=null;if(r>0){We(r===1,65062);const E=s.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let h=[];s.where&&(h=(function(R){const C=cE(R);return C instanceof Zn&&Bb(C)?C.getFilters():[C]})(s.where));let f=[];s.orderBy&&(f=(function(R){return R.map((C=>(function(k){return new To(Or(k.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(C)))})(s.orderBy));let p=null;s.limit&&(p=(function(R){let C;return C=typeof R=="object"?R.value:R,qu(C)?null:C})(s.limit));let v=null;s.startAt&&(v=(function(R){const C=!!R.before,P=R.values||[];return new qr(P,C)})(s.startAt));let y=null;return s.endAt&&(y=(function(R){const C=!R.before,P=R.values||[];return new qr(P,C)})(s.endAt)),xN(e,o,f,h,p,"F",v,y)}function lw(i,e){const s=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:o})}})(e.purpose);return s==null?null:{"goog-listen-tags":s}}function cE(i){return i.unaryFilter!==void 0?(function(s){switch(s.unaryFilter.op){case"IS_NAN":const r=Or(s.unaryFilter.field);return Rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Or(s.unaryFilter.field);return Rt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Or(s.unaryFilter.field);return Rt.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Or(s.unaryFilter.field);return Rt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(i):i.fieldFilter!==void 0?(function(s){return Rt.create(Or(s.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(s.fieldFilter.op),s.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(s){return Zn.create(s.compositeFilter.filters.map((r=>cE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(s.compositeFilter.op))})(i):xe(30097,{filter:i})}function ow(i){return KN[i]}function cw(i){return XN[i]}function uw(i){return ZN[i]}function Mr(i){return{fieldPath:i.canonicalString()}}function Or(i){return Kt.fromServerFormat(i.fieldPath)}function uE(i){return i instanceof Rt?(function(s){if(s.op==="=="){if(Wy(s.value))return{unaryFilter:{field:Mr(s.field),op:"IS_NAN"}};if(Jy(s.value))return{unaryFilter:{field:Mr(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(Wy(s.value))return{unaryFilter:{field:Mr(s.field),op:"IS_NOT_NAN"}};if(Jy(s.value))return{unaryFilter:{field:Mr(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mr(s.field),op:cw(s.op),value:s.value}}})(i):i instanceof Zn?(function(s){const r=s.getFilters().map((o=>uE(o)));return r.length===1?r[0]:{compositeFilter:{op:uw(s.op),filters:r}}})(i):xe(54877,{filter:i})}function hw(i){const e=[];return i.fields.forEach((s=>e.push(s.canonicalString()))),{fieldPaths:e}}function hE(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,s,r,o,h=we.min(),f=we.min(),p=Xt.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=s,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new Ri(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,s){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this.yt=e}}function fw(i){const e=rw({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?wu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(){this.Cn=new pw}addToCollectionParentIndex(e,s){return this.Cn.add(s),te.resolve()}getCollectionParents(e,s){return te.resolve(this.Cn.getEntries(s))}addFieldIndex(e,s){return te.resolve()}deleteFieldIndex(e,s){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,s){return te.resolve()}getDocumentsMatchingTarget(e,s){return te.resolve(null)}getIndexType(e,s){return te.resolve(0)}getFieldIndexes(e,s){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,s){return te.resolve(Oi.min())}getMinOffsetFromCollectionGroup(e,s){return te.resolve(Oi.min())}updateCollectionGroup(e,s,r){return te.resolve()}updateIndexEntries(e,s){return te.resolve()}}class pw{constructor(){this.index={}}add(e){const s=e.lastSegment(),r=e.popLast(),o=this.index[s]||new kt(ot.comparator),h=!o.has(r);return this.index[s]=o.add(r),h}has(e){const s=e.lastSegment(),r=e.popLast(),o=this.index[s];return o&&o.has(r)}getEntries(e){return(this.index[e]||new kt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dE=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,s,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(dE,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Hr(0)}static cr(){return new Hr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="LruGarbageCollector",gw=1048576;function p_([i,e],[s,r]){const o=Ue(i,s);return o===0?Ue(e,r):o}class vw{constructor(e){this.Ir=e,this.buffer=new kt(p_),this.Er=0}dr(){return++this.Er}Ar(e){const s=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(s);else{const r=this.buffer.last();p_(s,r)<0&&(this.buffer=this.buffer.delete(r).add(s))}}get maxValue(){return this.buffer.last()[0]}}class yw{constructor(e,s,r){this.garbageCollector=e,this.asyncQueue=s,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(m_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(s){$r(s)?de(m_,"Ignoring IndexedDB error during garbage collection: ",s):await Yr(s)}await this.Vr(3e5)}))}}class _w{constructor(e,s){this.mr=e,this.params=s}calculateTargetCount(e,s){return this.mr.gr(e).next((r=>Math.floor(s/100*r)))}nthSequenceNumber(e,s){if(s===0)return te.resolve(zu.ce);const r=new vw(s);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,s,r){return this.mr.removeTargets(e,s,r)}removeOrphanedDocuments(e,s){return this.mr.removeOrphanedDocuments(e,s)}collect(e,s){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(f_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),f_):this.yr(e,s)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,s){let r,o,h,f,p,v,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((R=>(R>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,f=Date.now(),this.nthSequenceNumber(e,o)))).next((R=>(r=R,p=Date.now(),this.removeTargets(e,r,s)))).next((R=>(h=R,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((R=>(y=Date.now(),Ir()<=Qe.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${h} targets in `+(v-p)+`ms
	Removed ${R} documents in `+(y-v)+`ms
Total Duration: ${y-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:R}))))}}function bw(i,e){return new _w(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.changes=new Pa((e=>e.toString()),((e,s)=>e.isEqual(s))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,s){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(s))}getEntry(e,s){this.assertNotApplied();const r=this.changes.get(s);return r!==void 0?te.resolve(r):this.getFromCache(e,s)}getEntries(e,s){return this.getAllFromCache(e,s)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,s){this.overlayedDocument=e,this.mutatedFields=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,s,r,o){this.remoteDocumentCache=e,this.mutationQueue=s,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,s){let r=null;return this.documentOverlayCache.getOverlay(e,s).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,s)))).next((o=>(r!==null&&po(r.mutation,o,jn.empty(),ut.now()),o)))}getDocuments(e,s){return this.remoteDocumentCache.getEntries(e,s).next((r=>this.getLocalViewOfDocuments(e,r,Be()).next((()=>r))))}getLocalViewOfDocuments(e,s,r=Be()){const o=Ra();return this.populateOverlays(e,o,s).next((()=>this.computeViews(e,s,o,r).next((h=>{let f=lo();return h.forEach(((p,v)=>{f=f.insert(p,v.overlayedDocument)})),f}))))}getOverlayedDocuments(e,s){const r=Ra();return this.populateOverlays(e,r,s).next((()=>this.computeViews(e,s,r,Be())))}populateOverlays(e,s,r){const o=[];return r.forEach((h=>{s.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((f,p)=>{s.set(f,p)}))}))}computeViews(e,s,r,o){let h=Ws();const f=mo(),p=(function(){return mo()})();return s.forEach(((v,y)=>{const E=r.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Hi)?h=h.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),po(E.mutation,y,E.mutation.getFieldMask(),ut.now())):f.set(y.key,jn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((y,E)=>f.set(y,E))),s.forEach(((y,E)=>p.set(y,new Tw(E,f.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,s){const r=mo();let o=new mt(((f,p)=>f-p)),h=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,s).next((f=>{for(const p of f)p.keys().forEach((v=>{const y=s.get(v);if(y===null)return;let E=r.get(v)||jn.empty();E=p.applyToLocalView(y,E),r.set(v,E);const R=(o.get(p.batchId)||Be()).add(v);o=o.insert(p.batchId,R)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),y=v.key,E=v.value,R=$b();E.forEach((C=>{if(!h.has(C)){const P=eE(s.get(C),r.get(C));P!==null&&R.set(C,P),h=h.add(C)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,R))}return te.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,s){return this.remoteDocumentCache.getEntries(e,s).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,s,r,o){return(function(f){return _e.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(s)?this.getDocumentsMatchingDocumentQuery(e,s.path):gm(s)?this.getDocumentsMatchingCollectionGroupQuery(e,s,r,o):this.getDocumentsMatchingCollectionQuery(e,s,r,o)}getNextDocuments(e,s,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,s,r,o).next((h=>{const f=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,s,r.largestBatchId,o-h.size):te.resolve(Ra());let p=yo,v=h;return f.next((y=>te.forEach(y,((E,R)=>(p<R.largestBatchId&&(p=R.largestBatchId),h.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next((C=>{v=v.insert(E,C)}))))).next((()=>this.populateOverlays(e,y,h))).next((()=>this.computeViews(e,v,y,Be()))).next((E=>({batchId:p,changes:Yb(E)})))))}))}getDocumentsMatchingDocumentQuery(e,s){return this.getDocument(e,new _e(s)).next((r=>{let o=lo();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,s,r,o){const h=s.collectionGroup;let f=lo();return this.indexManager.getCollectionParents(e,h).next((p=>te.forEach(p,(v=>{const y=(function(R,C){return new La(C,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)})(s,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((E=>{E.forEach(((R,C)=>{f=f.insert(R,C)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,s,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,s.path,r.largestBatchId).next((f=>(h=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,s,r,h,o)))).next((f=>{h.forEach(((v,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,nn.newInvalidDocument(E)))}));let p=lo();return f.forEach(((v,y)=>{const E=h.get(v);E!==void 0&&po(E.mutation,y,jn.empty(),ut.now()),Yu(s,y)&&(p=p.insert(v,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,s){return te.resolve(this.Lr.get(s))}saveBundleMetadata(e,s){return this.Lr.set(s.id,(function(o){return{id:o.id,version:o.version,createTime:ys(o.createTime)}})(s)),te.resolve()}getNamedQuery(e,s){return te.resolve(this.kr.get(s))}saveNamedQuery(e,s){return this.kr.set(s.name,(function(o){return{name:o.name,query:fw(o.bundledQuery),readTime:ys(o.readTime)}})(s)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(){this.overlays=new mt(_e.comparator),this.qr=new Map}getOverlay(e,s){return te.resolve(this.overlays.get(s))}getOverlays(e,s){const r=Ra();return te.forEach(s,(o=>this.getOverlay(e,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(e,s,r){return r.forEach(((o,h)=>{this.St(e,s,h)})),te.resolve()}removeOverlaysForBatchId(e,s,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),te.resolve()}getOverlaysForCollection(e,s,r){const o=Ra(),h=s.length+1,f=new _e(s.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const v=p.getNext().value,y=v.getKey();if(!s.isPrefixOf(y.path))break;y.path.length===h&&v.largestBatchId>r&&o.set(v.getKey(),v)}return te.resolve(o)}getOverlaysForCollectionGroup(e,s,r,o){let h=new mt(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===s&&y.largestBatchId>r){let E=h.get(y.largestBatchId);E===null&&(E=Ra(),h=h.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=Ra(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,E)=>p.set(y,E))),!(p.size()>=o)););return te.resolve(p)}St(e,s,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new HN(s,r));let h=this.qr.get(s);h===void 0&&(h=Be(),this.qr.set(s,h)),this.qr.set(s,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,s){return this.sessionToken=s,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(){this.Qr=new kt(qt.$r),this.Ur=new kt(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,s){const r=new qt(e,s);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,s){e.forEach((r=>this.addReference(r,s)))}removeReference(e,s){this.Gr(new qt(e,s))}zr(e,s){e.forEach((r=>this.removeReference(r,s)))}jr(e){const s=new _e(new ot([])),r=new qt(s,e),o=new qt(s,e+1),h=[];return this.Ur.forEachInRange([r,o],(f=>{this.Gr(f),h.push(f.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const s=new _e(new ot([])),r=new qt(s,e),o=new qt(s,e+1);let h=Be();return this.Ur.forEachInRange([r,o],(f=>{h=h.add(f.key)})),h}containsKey(e){const s=new qt(e,0),r=this.Qr.firstAfterOrEqual(s);return r!==null&&e.isEqual(r.key)}}class qt{constructor(e,s){this.key=e,this.Yr=s}static $r(e,s){return _e.comparator(e.key,s.key)||Ue(e.Yr,s.Yr)}static Kr(e,s){return Ue(e.Yr,s.Yr)||_e.comparator(e.key,s.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,s){this.indexManager=e,this.referenceDelegate=s,this.mutationQueue=[],this.tr=1,this.Zr=new kt(qt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,s,r,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new qN(h,s,r,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new qt(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,s){return te.resolve(this.Xr(s))}getNextMutationBatchAfterBatchId(e,s){const r=s+1,o=this.ei(r),h=o<0?0:o;return te.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?dm:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,s){const r=new qt(s,0),o=new qt(s,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,o],(f=>{const p=this.Xr(f.Yr);h.push(p)})),te.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,s){let r=new kt(Ue);return s.forEach((o=>{const h=new qt(o,0),f=new qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,f],(p=>{r=r.add(p.Yr)}))})),te.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,s){const r=s.path,o=r.length+1;let h=r;_e.isDocumentKey(h)||(h=h.child(""));const f=new qt(new _e(h),0);let p=new kt(Ue);return this.Zr.forEachWhile((v=>{const y=v.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(p=p.add(v.Yr)),!0)}),f),te.resolve(this.ti(p))}ti(e){const s=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&s.push(o)})),s}removeMutationBatch(e,s){We(this.ni(s.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return te.forEach(s.mutations,(o=>{const h=new qt(o.key,s.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,s){const r=new qt(s,0),o=this.Zr.firstAfterOrEqual(r);return te.resolve(s.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,s){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const s=this.ei(e);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e){this.ri=e,this.docs=(function(){return new mt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,s){const r=s.key,o=this.docs.get(r),h=o?o.size:0,f=this.ri(s);return this.docs=this.docs.insert(r,{document:s.mutableCopy(),size:f}),this.size+=f-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const s=this.docs.get(e);s&&(this.docs=this.docs.remove(e),this.size-=s.size)}getEntry(e,s){const r=this.docs.get(s);return te.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(s))}getEntries(e,s){let r=Ws();return s.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():nn.newInvalidDocument(o))})),te.resolve(r)}getDocumentsMatchingQuery(e,s,r,o){let h=Ws();const f=s.path,p=new _e(f.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:y,value:{document:E}}=v.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||nN(tN(E),r)<=0||(o.has(E.key)||Yu(s,E))&&(h=h.insert(E.key,E.mutableCopy()))}return te.resolve(h)}getAllFromCollectionGroup(e,s,r,o){xe(9500)}ii(e,s){return te.forEach(this.docs,(r=>s(r)))}newChangeBuffer(e){return new Rw(this)}getSize(e){return te.resolve(this.size)}}class Rw extends Ew{constructor(e){super(),this.Nr=e}applyChanges(e){const s=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?s.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),te.waitFor(s)}getFromCache(e,s){return this.Nr.getEntry(e,s)}getAllFromCache(e,s){return this.Nr.getEntries(e,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e){this.persistence=e,this.si=new Pa((s=>mm(s)),pm),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new Em,this.targetCount=0,this.ai=Hr.ur()}forEachTarget(e,s){return this.si.forEach(((r,o)=>s(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,s,r){return r&&(this.lastRemoteSnapshotVersion=r),s>this.oi&&(this.oi=s),te.resolve()}Pr(e){this.si.set(e.target,e);const s=e.targetId;s>this.highestTargetId&&(this.ai=new Hr(s),this.highestTargetId=s),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,s){return this.Pr(s),this.targetCount+=1,te.resolve()}updateTargetData(e,s){return this.Pr(s),te.resolve()}removeTargetData(e,s){return this.si.delete(s.target),this._i.jr(s.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,s,r){let o=0;const h=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=s&&r.get(p.targetId)===null&&(this.si.delete(f),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),te.waitFor(h).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,s){const r=this.si.get(s)||null;return te.resolve(r)}addMatchingKeys(e,s,r){return this._i.Wr(s,r),te.resolve()}removeMatchingKeys(e,s,r){this._i.zr(s,r);const o=this.persistence.referenceDelegate,h=[];return o&&s.forEach((f=>{h.push(o.markPotentiallyOrphaned(e,f))})),te.waitFor(h)}removeMatchingKeysForTargetId(e,s){return this._i.jr(s),te.resolve()}getMatchingKeysForTargetId(e,s){const r=this._i.Hr(s);return te.resolve(r)}containsKey(e,s){return te.resolve(this._i.containsKey(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,s){this.ui={},this.overlays={},this.ci=new zu(0),this.li=!1,this.li=!0,this.hi=new Nw,this.referenceDelegate=e(this),this.Pi=new Cw(this),this.indexManager=new mw,this.remoteDocumentCache=(function(o){return new jw(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new dw(s),this.Ii=new xw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let s=this.overlays[e.toKey()];return s||(s=new Sw,this.overlays[e.toKey()]=s),s}getMutationQueue(e,s){let r=this.ui[e.toKey()];return r||(r=new ww(s,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,s,r){de("MemoryPersistence","Starting transaction:",e);const o=new Dw(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,s){return te.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,s))))}}class Dw extends iN{constructor(e){super(),this.currentSequenceNumber=e}}class Tm{constructor(e){this.persistence=e,this.Ri=new Em,this.Vi=null}static mi(e){return new Tm(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,s,r){return this.Ri.addReference(r,s),this.fi.delete(r.toString()),te.resolve()}removeReference(e,s,r){return this.Ri.removeReference(r,s),this.fi.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,s){return this.fi.add(s.toString()),te.resolve()}removeTarget(e,s){this.Ri.jr(s.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,s.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(e,s)))}Ei(){this.Vi=new Set}di(e){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(r=>{const o=_e.fromPath(r);return this.gi(e,o).next((h=>{h||s.removeEntry(o,we.min())}))})).next((()=>(this.Vi=null,s.apply(e))))}updateLimboDocument(e,s){return this.gi(e,s).next((r=>{r?this.fi.delete(s.toString()):this.fi.add(s.toString())}))}Ti(e){return 0}gi(e,s){return te.or([()=>te.resolve(this.Ri.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(e,s),()=>this.persistence.Ai(e,s)])}}class Cu{constructor(e,s){this.persistence=e,this.pi=new Pa((r=>lN(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=bw(this,s)}static mi(e,s){return new Cu(e,s)}Ei(){}di(e){return te.resolve()}forEachTarget(e,s){return this.persistence.getTargetCache().forEachTarget(e,s)}gr(e){const s=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>s.next((o=>r+o))))}wr(e){let s=0;return this.pr(e,(r=>{s++})).next((()=>s))}pr(e,s){return te.forEach(this.pi,((r,o)=>this.br(e,r,o).next((h=>h?te.resolve():s(o)))))}removeTargets(e,s,r){return this.persistence.getTargetCache().removeTargets(e,s,r)}removeOrphanedDocuments(e,s){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,s).next((p=>{p||(r++,h.removeEntry(f,we.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeTarget(e,s){const r=s.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,s,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,s,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}Ti(e){let s=e.key.toString().length;return e.isFoundDocument()&&(s+=fu(e.data.value)),s}br(e,s,r){return te.or([()=>this.persistence.Ai(e,s),()=>this.persistence.getTargetCache().containsKey(e,s),()=>{const o=this.pi.get(s);return te.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,s,r,o){this.targetId=e,this.fromCache=s,this.Es=r,this.ds=o}static As(e,s){let r=Be(),o=Be();for(const h of s.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Am(e,s.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return sx()?8:aN(ex())>0?6:4})()}initialize(e,s){this.ps=e,this.indexManager=s,this.Rs=!0}getDocumentsMatchingQuery(e,s,r,o){const h={result:null};return this.ys(e,s).next((f=>{h.result=f})).next((()=>{if(!h.result)return this.ws(e,s,o,r).next((f=>{h.result=f}))})).next((()=>{if(h.result)return;const f=new Iw;return this.Ss(e,s,f).next((p=>{if(h.result=p,this.Vs)return this.bs(e,s,f,p.size)}))})).next((()=>h.result))}bs(e,s,r,o){return r.documentReadCount<this.fs?(Ir()<=Qe.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Vr(s),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(Ir()<=Qe.DEBUG&&de("QueryEngine","Query:",Vr(s),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Ir()<=Qe.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Vr(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vs(s))):te.resolve())}ys(e,s){if(s_(s))return te.resolve(null);let r=vs(s);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(s.limit!==null&&o===1&&(s=wu(s,null,"F"),r=vs(s)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const f=Be(...h);return this.ps.getDocuments(e,f).next((p=>this.indexManager.getMinOffset(e,r).next((v=>{const y=this.Ds(s,p);return this.Cs(s,y,f,v.readTime)?this.ys(e,wu(s,null,"F")):this.vs(e,y,s,v)}))))})))))}ws(e,s,r,o){return s_(s)||o.isEqual(we.min())?te.resolve(null):this.ps.getDocuments(e,r).next((h=>{const f=this.Ds(s,h);return this.Cs(s,f,r,o)?te.resolve(null):(Ir()<=Qe.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Vr(s)),this.vs(e,f,s,eN(o,yo)).next((p=>p)))}))}Ds(e,s){let r=new kt(Gb(e));return s.forEach(((o,h)=>{Yu(e,h)&&(r=r.add(h))})),r}Cs(e,s,r,o){if(e.limit===null)return!1;if(r.size!==s.size)return!0;const h=e.limitType==="F"?s.last():s.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,s,r){return Ir()<=Qe.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Vr(s)),this.ps.getDocumentsMatchingQuery(e,s,Oi.min(),r)}vs(e,s,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((h=>(s.forEach((f=>{h=h.insert(f.key,f)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="LocalStore",Mw=3e8;class Ow{constructor(e,s,r,o){this.persistence=e,this.Fs=s,this.serializer=o,this.Ms=new mt(Ue),this.xs=new Pa((h=>mm(h)),pm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Aw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(s=>e.collect(s,this.Ms)))}}function kw(i,e,s,r){return new Ow(i,e,s,r)}async function mE(i,e){const s=je(i);return await s.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return s.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,s.Bs(e),s.mutationQueue.getAllMutationBatches(r)))).next((h=>{const f=[],p=[];let v=Be();for(const y of o){f.push(y.batchId);for(const E of y.mutations)v=v.add(E.key)}for(const y of h){p.push(y.batchId);for(const E of y.mutations)v=v.add(E.key)}return s.localDocuments.getDocuments(r,v).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:p})))}))}))}function Lw(i,e){const s=je(i);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),h=s.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,v,y,E){const R=y.batch,C=R.keys();let P=te.resolve();return C.forEach((k=>{P=P.next((()=>E.getEntry(v,k))).next((J=>{const K=y.docVersions.get(k);We(K!==null,48541),J.version.compareTo(K)<0&&(R.applyToRemoteDocument(J,y),J.isValidDocument()&&(J.setReadTime(y.commitVersion),E.addEntry(J)))}))})),P.next((()=>p.mutationQueue.removeMutationBatch(v,R)))})(s,r,e,h).next((()=>h.apply(r))).next((()=>s.mutationQueue.performConsistencyCheck(r))).next((()=>s.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let v=Be();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(v=v.add(p.batch.mutations[y].key));return v})(e)))).next((()=>s.localDocuments.getDocuments(r,o)))}))}function pE(i){const e=je(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(s=>e.Pi.getLastRemoteSnapshotVersion(s)))}function Pw(i,e){const s=je(i),r=e.snapshotVersion;let o=s.Ms;return s.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const f=s.Ns.newChangeBuffer({trackRemovals:!0});o=s.Ms;const p=[];e.targetChanges.forEach(((E,R)=>{const C=o.get(R);if(!C)return;p.push(s.Pi.removeMatchingKeys(h,E.removedDocuments,R).next((()=>s.Pi.addMatchingKeys(h,E.addedDocuments,R))));let P=C.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(R)!==null?P=P.withResumeToken(Xt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,r)),o=o.insert(R,P),(function(J,K,me){return J.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=Mw?!0:me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0})(C,P,E)&&p.push(s.Pi.updateTargetData(h,P))}));let v=Ws(),y=Be();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(s.persistence.referenceDelegate.updateLimboDocument(h,E))})),p.push(Uw(h,f,e.documentUpdates).next((E=>{v=E.ks,y=E.qs}))),!r.isEqual(we.min())){const E=s.Pi.getLastRemoteSnapshotVersion(h).next((R=>s.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));p.push(E)}return te.waitFor(p).next((()=>f.apply(h))).next((()=>s.localDocuments.getLocalViewOfDocuments(h,v,y))).next((()=>v))})).then((h=>(s.Ms=o,h)))}function Uw(i,e,s){let r=Be(),o=Be();return s.forEach((h=>r=r.add(h))),e.getEntries(i,r).next((h=>{let f=Ws();return s.forEach(((p,v)=>{const y=h.get(p);v.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(we.min())?(e.removeEntry(p,v.readTime),f=f.insert(p,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(v),f=f.insert(p,v)):de(xm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",v.version)})),{ks:f,qs:o}}))}function Bw(i,e){const s=je(i);return s.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=dm),s.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function zw(i,e){const s=je(i);return s.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return s.Pi.getTargetData(r,e).next((h=>h?(o=h,te.resolve(o)):s.Pi.allocateTargetId(r).next((f=>(o=new Ri(e,f,"TargetPurposeListen",r.currentSequenceNumber),s.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=s.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(s.Ms=s.Ms.insert(r.targetId,r),s.xs.set(e,r.targetId)),r}))}async function Qf(i,e,s){const r=je(i),o=r.Ms.get(e),h=s?"readwrite":"readwrite-primary";try{s||await r.persistence.runTransaction("Release target",h,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!$r(f))throw f;de(xm,`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function g_(i,e,s){const r=je(i);let o=we.min(),h=Be();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(v,y,E){const R=je(v),C=R.xs.get(E);return C!==void 0?te.resolve(R.Ms.get(C)):R.Pi.getTargetData(y,E)})(r,f,vs(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,p.targetId).next((v=>{h=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,e,s?o:we.min(),s?h:Be()))).next((p=>(qw(r,NN(e),p),{documents:p,Qs:h})))))}function qw(i,e,s){let r=i.Os.get(e)||we.min();s.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),i.Os.set(e,r)}class v_{constructor(){this.activeTargetIds=IN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hw{constructor(){this.Mo=new v_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,s,r){}addLocalQueryTarget(e,s=!0){return s&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,s,r){this.xo[e]=s}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new v_,Promise.resolve()}handleUserChange(e,s,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="ConnectivityMonitor";class __{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(y_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(y_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu=null;function Yf(){return hu===null?hu=(function(){return 268435456+Math.round(2147483648*Math.random())})():hu++,"0x"+hu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf="RestConnection",Gw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qw{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const s=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=s+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===xu?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,s,r,o,h){const f=Yf(),p=this.zo(e,s.toUriEncodedString());de(xf,`Sending RPC '${e}' ${f}:`,p,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:y}=new URL(p),E=nm(y);return this.Jo(e,p,v,r,E).then((R=>(de(xf,`Received RPC '${e}' ${f}: `,R),R)),(R=>{throw Pr(xf,`RPC '${e}' ${f} failed with error: `,R,"url: ",p,"request:",r),R}))}Ho(e,s,r,o,h,f){return this.Go(e,s,r,o,h)}jo(e,s,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Qr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((o,h)=>e[h]=o)),r&&r.headers.forEach(((o,h)=>e[h]=o))}zo(e,s){const r=Gw[e];return`${this.Uo}/v1/${s}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class $w extends Qw{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,s,r,o,h){const f=Yf();return new Promise(((p,v)=>{const y=new _b;y.setWithCredentials(!0),y.listenOnce(bb.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case du.NO_ERROR:const R=y.getResponseJson();de(en,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(R)),p(R);break;case du.TIMEOUT:de(en,`RPC '${e}' ${f} timed out`),v(new le($.DEADLINE_EXCEEDED,"Request time out"));break;case du.HTTP_ERROR:const C=y.getStatus();if(de(en,`RPC '${e}' ${f} failed with status:`,C,"response text:",y.getResponseText()),C>0){let P=y.getResponseJson();Array.isArray(P)&&(P=P[0]);const k=P?.error;if(k&&k.status&&k.message){const J=(function(me){const ie=me.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ie)>=0?ie:$.UNKNOWN})(k.status);v(new le(J,k.message))}else v(new le($.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new le($.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{de(en,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);de(en,`RPC '${e}' ${f} sending request:`,o),y.send(s,"POST",E,r,15)}))}T_(e,s,r){const o=Yf(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Ab(),p=Tb(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(v.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,s,r),v.encodeInitMessageHeaders=!0;const E=h.join("");de(en,`Creating RPC '${e}' stream ${o}: ${E}`,v);const R=f.createWebChannel(E,v);this.I_(R);let C=!1,P=!1;const k=new Yw({Yo:K=>{P?de(en,`Not sending because RPC '${e}' stream ${o} is closed:`,K):(C||(de(en,`Opening RPC '${e}' stream ${o} transport.`),R.open(),C=!0),de(en,`RPC '${e}' stream ${o} sending:`,K),R.send(K))},Zo:()=>R.close()}),J=(K,me,ie)=>{K.listen(me,(Q=>{try{ie(Q)}catch(he){setTimeout((()=>{throw he}),0)}}))};return J(R,ro.EventType.OPEN,(()=>{P||(de(en,`RPC '${e}' stream ${o} transport opened.`),k.o_())})),J(R,ro.EventType.CLOSE,(()=>{P||(P=!0,de(en,`RPC '${e}' stream ${o} transport closed`),k.a_(),this.E_(R))})),J(R,ro.EventType.ERROR,(K=>{P||(P=!0,Pr(en,`RPC '${e}' stream ${o} transport errored. Name:`,K.name,"Message:",K.message),k.a_(new le($.UNAVAILABLE,"The operation could not be completed")))})),J(R,ro.EventType.MESSAGE,(K=>{if(!P){const me=K.data[0];We(!!me,16349);const ie=me,Q=ie?.error||ie[0]?.error;if(Q){de(en,`RPC '${e}' stream ${o} received error:`,Q);const he=Q.status;let ne=(function(x){const D=jt[x];if(D!==void 0)return nE(D)})(he),ue=Q.message;ne===void 0&&(ne=$.INTERNAL,ue="Unknown error status: "+he+" with message "+Q.message),P=!0,k.a_(new le(ne,ue)),R.close()}else de(en,`RPC '${e}' stream ${o} received:`,me),k.u_(me)}})),J(p,Eb.STAT_EVENT,(K=>{K.stat===Of.PROXY?de(en,`RPC '${e}' stream ${o} detected buffering proxy`):K.stat===Of.NOPROXY&&de(en,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((s=>s===e))}}function Sf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(i){return new JN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,s,r=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=s,this.d_=r,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const s=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,s-r);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${s} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="PersistentStream";class vE{constructor(e,s,r,o,h,f,p,v){this.Mi=e,this.S_=r,this.b_=o,this.connection=h,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gE(e,s)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,s){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():s&&s.code===$.RESOURCE_EXHAUSTED?(Js(s.toString()),Js("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):s&&s.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(s)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),s=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===s&&this.G_(r,o)}),(r=>{e((()=>{const o=new le($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,s){const r=this.W_(this.D_);this.stream=this.j_(e,s),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(b_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return s=>{this.Mi.enqueueAndForget((()=>this.D_===e?s():(de(b_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Kw extends vE{constructor(e,s,r,o,h,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,r,o,f),this.serializer=h}j_(e,s){return this.connection.T_("Listen",e,s)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const s=tw(this.serializer,e),r=(function(h){if(!("targetChange"in h))return we.min();const f=h.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?ys(f.readTime):we.min()})(e);return this.listener.H_(s,r)}Y_(e){const s={};s.database=Gf(this.serializer),s.addTarget=(function(h,f){let p;const v=f.target;if(p=Bf(v)?{documents:iw(h,v)}:{query:aw(h,v).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=aE(h,f.resumeToken);const y=qf(h,f.expectedCount);y!==null&&(p.expectedCount=y)}else if(f.snapshotVersion.compareTo(we.min())>0){p.readTime=Ru(h,f.snapshotVersion.toTimestamp());const y=qf(h,f.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=lw(this.serializer,e);r&&(s.labels=r),this.q_(s)}Z_(e){const s={};s.database=Gf(this.serializer),s.removeTarget=e,this.q_(s)}}class Xw extends vE{constructor(e,s,r,o,h,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,r,o,f),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,s){return this.connection.T_("Write",e,s)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const s=sw(e.writeResults,e.commitTime),r=ys(e.commitTime);return this.listener.na(r,s)}ra(){const e={};e.database=Gf(this.serializer),this.q_(e)}ea(e){const s={streamToken:this.lastStreamToken,writes:e.map((r=>nw(this.serializer,r)))};this.q_(s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{}class Jw extends Zw{constructor(e,s,r,o){super(),this.authCredentials=e,this.appCheckCredentials=s,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,s,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,f])=>this.connection.Go(e,Hf(s,r),o,h,f))).catch((h=>{throw h.name==="FirebaseError"?(h.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le($.UNKNOWN,h.toString())}))}Ho(e,s,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(e,Hf(s,r),o,f,p,h))).catch((f=>{throw f.name==="FirebaseError"?(f.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le($.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Ww{constructor(e,s){this.asyncQueue=e,this.onlineStateHandler=s,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const s=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Js(s),this.aa=!1):de("OnlineStateTracker",s)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="RemoteStore";class e1{constructor(e,s,r,o,h){this.localStore=e,this.datastore=s,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{Ua(this)&&(de(ka,"Restarting streams for network reachability change."),await(async function(v){const y=je(v);y.Ea.add(4),await Do(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Wu(y)})(this))}))})),this.Ra=new Ww(r,o)}}async function Wu(i){if(Ua(i))for(const e of i.da)await e(!0)}async function Do(i){for(const e of i.da)await e(!1)}function yE(i,e){const s=je(i);s.Ia.has(e.targetId)||(s.Ia.set(e.targetId,e),jm(s)?wm(s):Kr(s).O_()&&Nm(s,e))}function Sm(i,e){const s=je(i),r=Kr(s);s.Ia.delete(e),r.O_()&&_E(s,e),s.Ia.size===0&&(r.O_()?r.L_():Ua(s)&&s.Ra.set("Unknown"))}function Nm(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const s=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(s)}Kr(i).Y_(e)}function _E(i,e){i.Va.Ue(e),Kr(i).Z_(e)}function wm(i){i.Va=new $N({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Kr(i).start(),i.Ra.ua()}function jm(i){return Ua(i)&&!Kr(i).x_()&&i.Ia.size>0}function Ua(i){return je(i).Ea.size===0}function bE(i){i.Va=void 0}async function t1(i){i.Ra.set("Online")}async function n1(i){i.Ia.forEach(((e,s)=>{Nm(i,e)}))}async function s1(i,e){bE(i),jm(i)?(i.Ra.ha(e),wm(i)):i.Ra.set("Unknown")}async function i1(i,e,s){if(i.Ra.set("Online"),e instanceof iE&&e.state===2&&e.cause)try{await(async function(o,h){const f=h.cause;for(const p of h.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))})(i,e)}catch(r){de(ka,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Du(i,r)}else if(e instanceof gu?i.Va.Ze(e):e instanceof sE?i.Va.st(e):i.Va.tt(e),!s.isEqual(we.min()))try{const r=await pE(i.localStore);s.compareTo(r)>=0&&await(function(h,f){const p=h.Va.Tt(f);return p.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const E=h.Ia.get(y);E&&h.Ia.set(y,E.withResumeToken(v.resumeToken,f))}})),p.targetMismatches.forEach(((v,y)=>{const E=h.Ia.get(v);if(!E)return;h.Ia.set(v,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),_E(h,v);const R=new Ri(E.target,v,y,E.sequenceNumber);Nm(h,R)})),h.remoteSyncer.applyRemoteEvent(p)})(i,s)}catch(r){de(ka,"Failed to raise snapshot:",r),await Du(i,r)}}async function Du(i,e,s){if(!$r(e))throw e;i.Ea.add(1),await Do(i),i.Ra.set("Offline"),s||(s=()=>pE(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{de(ka,"Retrying IndexedDB access"),await s(),i.Ea.delete(1),await Wu(i)}))}function EE(i,e){return e().catch((s=>Du(i,s,e)))}async function eh(i){const e=je(i),s=Ui(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:dm;for(;a1(e);)try{const o=await Bw(e.localStore,r);if(o===null){e.Ta.length===0&&s.L_();break}r=o.batchId,r1(e,o)}catch(o){await Du(e,o)}TE(e)&&AE(e)}function a1(i){return Ua(i)&&i.Ta.length<10}function r1(i,e){i.Ta.push(e);const s=Ui(i);s.O_()&&s.X_&&s.ea(e.mutations)}function TE(i){return Ua(i)&&!Ui(i).x_()&&i.Ta.length>0}function AE(i){Ui(i).start()}async function l1(i){Ui(i).ra()}async function o1(i){const e=Ui(i);for(const s of i.Ta)e.ea(s.mutations)}async function c1(i,e,s){const r=i.Ta.shift(),o=ym.from(r,e,s);await EE(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await eh(i)}async function u1(i,e){e&&Ui(i).X_&&await(async function(r,o){if((function(f){return GN(f)&&f!==$.ABORTED})(o.code)){const h=r.Ta.shift();Ui(r).B_(),await EE(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o))),await eh(r)}})(i,e),TE(i)&&AE(i)}async function E_(i,e){const s=je(i);s.asyncQueue.verifyOperationInProgress(),de(ka,"RemoteStore received new credentials");const r=Ua(s);s.Ea.add(3),await Do(s),r&&s.Ra.set("Unknown"),await s.remoteSyncer.handleCredentialChange(e),s.Ea.delete(3),await Wu(s)}async function h1(i,e){const s=je(i);e?(s.Ea.delete(2),await Wu(s)):e||(s.Ea.add(2),await Do(s),s.Ra.set("Unknown"))}function Kr(i){return i.ma||(i.ma=(function(s,r,o){const h=je(s);return h.sa(),new Kw(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(i.datastore,i.asyncQueue,{Xo:t1.bind(null,i),t_:n1.bind(null,i),r_:s1.bind(null,i),H_:i1.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),jm(i)?wm(i):i.Ra.set("Unknown")):(await i.ma.stop(),bE(i))}))),i.ma}function Ui(i){return i.fa||(i.fa=(function(s,r,o){const h=je(s);return h.sa(),new Xw(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:l1.bind(null,i),r_:u1.bind(null,i),ta:o1.bind(null,i),na:c1.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await eh(i)):(await i.fa.stop(),i.Ta.length>0&&(de(ka,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,s,r,o,h){this.asyncQueue=e,this.timerId=s,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new Ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,s,r,o,h){const f=Date.now()+r,p=new Rm(e,s,f,o,h);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cm(i,e){if(Js("AsyncQueue",`${e}: ${i}`),$r(i))return new le($.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{static emptySet(e){return new Lr(e.comparator)}constructor(e){this.comparator=e?(s,r)=>e(s,r)||_e.comparator(s.key,r.key):(s,r)=>_e.comparator(s.key,r.key),this.keyedMap=lo(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const s=this.keyedMap.get(e);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((s,r)=>(e(s),!1)))}add(e){const s=this.delete(e.key);return s.copy(s.keyedMap.insert(e.key,e),s.sortedSet.insert(e,null))}delete(e){const s=this.get(e);return s?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(s)):this}isEqual(e){if(!(e instanceof Lr)||this.size!==e.size)return!1;const s=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;s.hasNext();){const o=s.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((s=>{e.push(s.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,s){const r=new Lr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=s,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(){this.ga=new mt(_e.comparator)}track(e){const s=e.doc.key,r=this.ga.get(s);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(s,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(s,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(s,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(s):e.type===1&&r.type===2?this.ga=this.ga.insert(s,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(s,e)}ya(){const e=[];return this.ga.inorderTraversal(((s,r)=>{e.push(r)})),e}}class Fr{constructor(e,s,r,o,h,f,p,v,y){this.query=e,this.docs=s,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(e,s,r,o,h){const f=[];return s.forEach((p=>{f.push({type:0,doc:p})})),new Fr(e,s,Lr.emptySet(s),f,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const s=this.docChanges,r=e.docChanges;if(s.length!==r.length)return!1;for(let o=0;o<s.length;o++)if(s[o].type!==r[o].type||!s[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class f1{constructor(){this.queries=A_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(s,r){const o=je(s),h=o.queries;o.queries=A_(),h.forEach(((f,p)=>{for(const v of p.Sa)v.onError(r)}))})(this,new le($.ABORTED,"Firestore shutting down"))}}function A_(){return new Pa((i=>Fb(i)),Qu)}async function Dm(i,e){const s=je(i);let r=3;const o=e.query;let h=s.queries.get(o);h?!h.ba()&&e.Da()&&(r=2):(h=new d1,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await s.onListen(o,!0);break;case 1:h.wa=await s.onListen(o,!1);break;case 2:await s.onFirstRemoteStoreListen(o)}}catch(f){const p=Cm(f,`Initialization of query '${Vr(e.query)}' failed`);return void e.onError(p)}s.queries.set(o,h),h.Sa.push(e),e.va(s.onlineState),h.wa&&e.Fa(h.wa)&&Vm(s)}async function Im(i,e){const s=je(i),r=e.query;let o=3;const h=s.queries.get(r);if(h){const f=h.Sa.indexOf(e);f>=0&&(h.Sa.splice(f,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return s.queries.delete(r),s.onUnlisten(r,!0);case 1:return s.queries.delete(r),s.onUnlisten(r,!1);case 2:return s.onLastRemoteStoreUnlisten(r);default:return}}function m1(i,e){const s=je(i);let r=!1;for(const o of e){const h=o.query,f=s.queries.get(h);if(f){for(const p of f.Sa)p.Fa(o)&&(r=!0);f.wa=o}}r&&Vm(s)}function p1(i,e,s){const r=je(i),o=r.queries.get(e);if(o)for(const h of o.Sa)h.onError(s);r.queries.delete(e)}function Vm(i){i.Ca.forEach((e=>{e.next()}))}var $f,x_;(x_=$f||($f={})).Ma="default",x_.Cache="cache";class Mm{constructor(e,s,r){this.query=e,this.xa=s,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Fr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let s=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),s=!0):this.La(e,this.onlineState)&&(this.ka(e),s=!0),this.Na=e,s}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let s=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),s=!0),s}La(e,s){if(!e.fromCache||!this.Da())return!0;const r=s!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||s==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const s=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}ka(e){e=Fr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$f.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e){this.key=e}}class SE{constructor(e){this.key=e}}class g1{constructor(e,s){this.query=e,this.Ya=s,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=Gb(e),this.tu=new Lr(this.eu)}get nu(){return this.Ya}ru(e,s){const r=s?s.iu:new T_,o=s?s.tu:this.tu;let h=s?s.mutatedKeys:this.mutatedKeys,f=o,p=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,R)=>{const C=o.get(E),P=Yu(this.query,R)?R:null,k=!!C&&this.mutatedKeys.has(C.key),J=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let K=!1;C&&P?C.data.isEqual(P.data)?k!==J&&(r.track({type:3,doc:P}),K=!0):this.su(C,P)||(r.track({type:2,doc:P}),K=!0,(v&&this.eu(P,v)>0||y&&this.eu(P,y)<0)&&(p=!0)):!C&&P?(r.track({type:0,doc:P}),K=!0):C&&!P&&(r.track({type:1,doc:C}),K=!0,(v||y)&&(p=!0)),K&&(P?(f=f.add(P),h=J?h.add(E):h.delete(E)):(f=f.delete(E),h=h.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),h=h.delete(E.key),r.track({type:1,doc:E})}return{tu:f,iu:r,Cs:p,mutatedKeys:h}}su(e,s){return e.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(e,s,r,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,R)=>(function(P,k){const J=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:K})}};return J(P)-J(k)})(E.type,R.type)||this.eu(E.doc,R.doc))),this.ou(r),o=o??!1;const p=s&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,y=v!==this.Za;return this.Za=v,f.length!==0||y?{snapshot:new Fr(this.query,e.tu,h,f,e.mutatedKeys,v===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new T_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((s=>this.Ya=this.Ya.add(s))),e.modifiedDocuments.forEach((s=>{})),e.removedDocuments.forEach((s=>this.Ya=this.Ya.delete(s))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const s=[];return e.forEach((r=>{this.Xa.has(r)||s.push(new SE(r))})),this.Xa.forEach((r=>{e.has(r)||s.push(new xE(r))})),s}cu(e){this.Ya=e.Qs,this.Xa=Be();const s=this.ru(e.documents);return this.applyChanges(s,!0)}lu(){return Fr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Om="SyncEngine";class v1{constructor(e,s,r){this.query=e,this.targetId=s,this.view=r}}class y1{constructor(e){this.key=e,this.hu=!1}}class _1{constructor(e,s,r,o,h,f){this.localStore=e,this.remoteStore=s,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Pa((p=>Fb(p)),Qu),this.Iu=new Map,this.Eu=new Set,this.du=new mt(_e.comparator),this.Au=new Map,this.Ru=new Em,this.Vu={},this.mu=new Map,this.fu=Hr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function b1(i,e,s=!0){const r=DE(i);let o;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await NE(r,e,s,!0),o}async function E1(i,e){const s=DE(i);await NE(s,e,!0,!1)}async function NE(i,e,s,r){const o=await zw(i.localStore,vs(e)),h=o.targetId,f=i.sharedClientState.addLocalQueryTarget(h,s);let p;return r&&(p=await T1(i,e,h,f==="current",o.resumeToken)),i.isPrimaryClient&&s&&yE(i.remoteStore,o),p}async function T1(i,e,s,r,o){i.pu=(R,C,P)=>(async function(J,K,me,ie){let Q=K.view.ru(me);Q.Cs&&(Q=await g_(J.localStore,K.query,!1).then((({documents:w})=>K.view.ru(w,Q))));const he=ie&&ie.targetChanges.get(K.targetId),ne=ie&&ie.targetMismatches.get(K.targetId)!=null,ue=K.view.applyChanges(Q,J.isPrimaryClient,he,ne);return N_(J,K.targetId,ue.au),ue.snapshot})(i,R,C,P);const h=await g_(i.localStore,e,!0),f=new g1(e,h.Qs),p=f.ru(h.documents),v=Co.createSynthesizedTargetChangeForCurrentChange(s,r&&i.onlineState!=="Offline",o),y=f.applyChanges(p,i.isPrimaryClient,v);N_(i,s,y.au);const E=new v1(e,s,f);return i.Tu.set(e,E),i.Iu.has(s)?i.Iu.get(s).push(e):i.Iu.set(s,[e]),y.snapshot}async function A1(i,e,s){const r=je(i),o=r.Tu.get(e),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((f=>!Qu(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Qf(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),s&&Sm(r.remoteStore,o.targetId),Kf(r,o.targetId)})).catch(Yr)):(Kf(r,o.targetId),await Qf(r.localStore,o.targetId,!0))}async function x1(i,e){const s=je(i),r=s.Tu.get(e),o=s.Iu.get(r.targetId);s.isPrimaryClient&&o.length===1&&(s.sharedClientState.removeLocalQueryTarget(r.targetId),Sm(s.remoteStore,r.targetId))}async function S1(i,e,s){const r=I1(i);try{const o=await(function(f,p){const v=je(f),y=ut.now(),E=p.reduce(((P,k)=>P.add(k.key)),Be());let R,C;return v.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let k=Ws(),J=Be();return v.Ns.getEntries(P,E).next((K=>{k=K,k.forEach(((me,ie)=>{ie.isValidDocument()||(J=J.add(me))}))})).next((()=>v.localDocuments.getOverlayedDocuments(P,k))).next((K=>{R=K;const me=[];for(const ie of p){const Q=BN(ie,R.get(ie.key).overlayedDocument);Q!=null&&me.push(new Hi(ie.key,Q,Lb(Q.value.mapValue),vn.exists(!0)))}return v.mutationQueue.addMutationBatch(P,y,me,p)})).next((K=>{C=K;const me=K.applyToLocalDocumentSet(R,J);return v.documentOverlayCache.saveOverlays(P,K.batchId,me)}))})).then((()=>({batchId:C.batchId,changes:Yb(R)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(f,p,v){let y=f.Vu[f.currentUser.toKey()];y||(y=new mt(Ue)),y=y.insert(p,v),f.Vu[f.currentUser.toKey()]=y})(r,o.batchId,s),await Io(r,o.changes),await eh(r.remoteStore)}catch(o){const h=Cm(o,"Failed to persist write");s.reject(h)}}async function wE(i,e){const s=je(i);try{const r=await Pw(s.localStore,e);e.targetChanges.forEach(((o,h)=>{const f=s.Au.get(h);f&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?We(f.hu,14607):o.removedDocuments.size>0&&(We(f.hu,42227),f.hu=!1))})),await Io(s,r,e)}catch(r){await Yr(r)}}function S_(i,e,s){const r=je(i);if(r.isPrimaryClient&&s===0||!r.isPrimaryClient&&s===1){const o=[];r.Tu.forEach(((h,f)=>{const p=f.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const v=je(f);v.onlineState=p;let y=!1;v.queries.forEach(((E,R)=>{for(const C of R.Sa)C.va(p)&&(y=!0)})),y&&Vm(v)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function N1(i,e,s){const r=je(i);r.sharedClientState.updateQueryState(e,"rejected",s);const o=r.Au.get(e),h=o&&o.key;if(h){let f=new mt(_e.comparator);f=f.insert(h,nn.newNoDocument(h,we.min()));const p=Be().add(h),v=new Zu(we.min(),new Map,new mt(Ue),f,p);await wE(r,v),r.du=r.du.remove(h),r.Au.delete(e),km(r)}else await Qf(r.localStore,e,!1).then((()=>Kf(r,e,s))).catch(Yr)}async function w1(i,e){const s=je(i),r=e.batch.batchId;try{const o=await Lw(s.localStore,e);RE(s,r,null),jE(s,r),s.sharedClientState.updateMutationState(r,"acknowledged"),await Io(s,o)}catch(o){await Yr(o)}}async function j1(i,e,s){const r=je(i);try{const o=await(function(f,p){const v=je(f);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return v.mutationQueue.lookupMutationBatch(y,p).next((R=>(We(R!==null,37113),E=R.keys(),v.mutationQueue.removeMutationBatch(y,R)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,E,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>v.localDocuments.getDocuments(y,E)))}))})(r.localStore,e);RE(r,e,s),jE(r,e),r.sharedClientState.updateMutationState(e,"rejected",s),await Io(r,o)}catch(o){await Yr(o)}}function jE(i,e){(i.mu.get(e)||[]).forEach((s=>{s.resolve()})),i.mu.delete(e)}function RE(i,e,s){const r=je(i);let o=r.Vu[r.currentUser.toKey()];if(o){const h=o.get(e);h&&(s?h.reject(s):h.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Kf(i,e,s=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),s&&i.Pu.yu(r,s);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((r=>{i.Ru.containsKey(r)||CE(i,r)}))}function CE(i,e){i.Eu.delete(e.path.canonicalString());const s=i.du.get(e);s!==null&&(Sm(i.remoteStore,s),i.du=i.du.remove(e),i.Au.delete(s),km(i))}function N_(i,e,s){for(const r of s)r instanceof xE?(i.Ru.addReference(r.key,e),R1(i,r)):r instanceof SE?(de(Om,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||CE(i,r.key)):xe(19791,{wu:r})}function R1(i,e){const s=e.key,r=s.path.canonicalString();i.du.get(s)||i.Eu.has(r)||(de(Om,"New document in limbo: "+s),i.Eu.add(r),km(i))}function km(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const s=new _e(ot.fromString(e)),r=i.fu.next();i.Au.set(r,new y1(s)),i.du=i.du.insert(s,r),yE(i.remoteStore,new Ri(vs(Gu(s.path)),r,"TargetPurposeLimboResolution",zu.ce))}}async function Io(i,e,s){const r=je(i),o=[],h=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,v)=>{f.push(r.pu(v,e,s).then((y=>{if((y||s)&&r.isPrimaryClient){const E=y?!y.fromCache:s?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Am.As(v.targetId,y);h.push(E)}})))})),await Promise.all(f),r.Pu.H_(o),await(async function(v,y){const E=je(v);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(R=>te.forEach(y,(C=>te.forEach(C.Es,(P=>E.persistence.referenceDelegate.addReference(R,C.targetId,P))).next((()=>te.forEach(C.ds,(P=>E.persistence.referenceDelegate.removeReference(R,C.targetId,P)))))))))}catch(R){if(!$r(R))throw R;de(xm,"Failed to update sequence numbers: "+R)}for(const R of y){const C=R.targetId;if(!R.fromCache){const P=E.Ms.get(C),k=P.snapshotVersion,J=P.withLastLimboFreeSnapshotVersion(k);E.Ms=E.Ms.insert(C,J)}}})(r.localStore,h))}async function C1(i,e){const s=je(i);if(!s.currentUser.isEqual(e)){de(Om,"User change. New user:",e.toKey());const r=await mE(s.localStore,e);s.currentUser=e,(function(h,f){h.mu.forEach((p=>{p.forEach((v=>{v.reject(new le($.CANCELLED,f))}))})),h.mu.clear()})(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Io(s,r.Ls)}}function D1(i,e){const s=je(i),r=s.Au.get(e);if(r&&r.hu)return Be().add(r.key);{let o=Be();const h=s.Iu.get(e);if(!h)return o;for(const f of h){const p=s.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function DE(i){const e=je(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=wE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=D1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=N1.bind(null,e),e.Pu.H_=m1.bind(null,e.eventManager),e.Pu.yu=p1.bind(null,e.eventManager),e}function I1(i){const e=je(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=j1.bind(null,e),e}class Iu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ju(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,s){return null}Mu(e,s){return null}vu(e){return kw(this.persistence,new Vw,e.initialUser,this.serializer)}Cu(e){return new fE(Tm.mi,this.serializer)}Du(e){return new Hw}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Iu.provider={build:()=>new Iu};class V1 extends Iu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,s){We(this.persistence.referenceDelegate instanceof Cu,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new yw(r,e.asyncQueue,s)}Cu(e){const s=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new fE((r=>Cu.mi(r,s)),this.serializer)}}class Xf{async initialize(e,s){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>S_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=C1.bind(null,this.syncEngine),await h1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new f1})()}createDatastore(e){const s=Ju(e.databaseInfo.databaseId),r=(function(h){return new $w(h)})(e.databaseInfo);return(function(h,f,p,v){return new Jw(h,f,p,v)})(e.authCredentials,e.appCheckCredentials,r,s)}createRemoteStore(e){return(function(r,o,h,f,p){return new e1(r,o,h,f,p)})(this.localStore,this.datastore,e.asyncQueue,(s=>S_(this.syncEngine,s,0)),(function(){return __.v()?new __:new Fw})())}createSyncEngine(e,s){return(function(o,h,f,p,v,y,E){const R=new _1(o,h,f,p,v,y);return E&&(R.gu=!0),R})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,s)}async terminate(){await(async function(s){const r=je(s);de(ka,"RemoteStore shutting down."),r.Ea.add(5),await Do(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Xf.provider={build:()=>new Xf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Js("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,s){setTimeout((()=>{this.muted||e(s)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="FirestoreClient";class M1{constructor(e,s,r,o,h){this.authCredentials=e,this.appCheckCredentials=s,this.asyncQueue=r,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=hm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async f=>{de(Bi,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(de(Bi,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(s){const r=Cm(s,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Nf(i,e){i.asyncQueue.verifyOperationInProgress(),de(Bi,"Initializing OfflineComponentProvider");const s=i.configuration;await e.initialize(s);let r=s.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await mE(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function w_(i,e){i.asyncQueue.verifyOperationInProgress();const s=await O1(i);de(Bi,"Initializing OnlineComponentProvider"),await e.initialize(s,i.configuration),i.setCredentialChangeListener((r=>E_(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>E_(e.remoteStore,o))),i._onlineComponents=e}async function O1(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){de(Bi,"Using user provided OfflineComponentProvider");try{await Nf(i,i._uninitializedComponentsProvider._offline)}catch(e){const s=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(s))throw s;Pr("Error using user provided cache. Falling back to memory cache: "+s),await Nf(i,new Iu)}}else de(Bi,"Using default OfflineComponentProvider"),await Nf(i,new V1(void 0));return i._offlineComponents}async function IE(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(de(Bi,"Using user provided OnlineComponentProvider"),await w_(i,i._uninitializedComponentsProvider._online)):(de(Bi,"Using default OnlineComponentProvider"),await w_(i,new Xf))),i._onlineComponents}function k1(i){return IE(i).then((e=>e.syncEngine))}async function Vu(i){const e=await IE(i),s=e.eventManager;return s.onListen=b1.bind(null,e.syncEngine),s.onUnlisten=A1.bind(null,e.syncEngine),s.onFirstRemoteStoreListen=E1.bind(null,e.syncEngine),s.onLastRemoteStoreUnlisten=x1.bind(null,e.syncEngine),s}function L1(i,e,s={}){const r=new Ks;return i.asyncQueue.enqueueAndForget((async()=>(function(h,f,p,v,y){const E=new Lm({next:C=>{E.Nu(),f.enqueueAndForget((()=>Im(h,R)));const P=C.docs.has(p);!P&&C.fromCache?y.reject(new le($.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&C.fromCache&&v&&v.source==="server"?y.reject(new le($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(C)},error:C=>y.reject(C)}),R=new Mm(Gu(p.path),E,{includeMetadataChanges:!0,qa:!0});return Dm(h,R)})(await Vu(i),i.asyncQueue,e,s,r))),r.promise}function P1(i,e,s={}){const r=new Ks;return i.asyncQueue.enqueueAndForget((async()=>(function(h,f,p,v,y){const E=new Lm({next:C=>{E.Nu(),f.enqueueAndForget((()=>Im(h,R))),C.fromCache&&v.source==="server"?y.reject(new le($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(C)},error:C=>y.reject(C)}),R=new Mm(p,E,{includeMetadataChanges:!0,qa:!0});return Dm(h,R)})(await Vu(i),i.asyncQueue,e,s,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="firestore.googleapis.com",R_=!0;class C_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ME,this.ssl=R_}else this.host=e.host,this.ssl=e.ssl??R_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gw)throw new le($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class th{constructor(e,s,r,o){this._authCredentials=e,this._appCheckCredentials=s,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new qS;switch(r.type){case"firstParty":return new QS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(s){const r=j_.get(s);r&&(de("ComponentProvider","Removing Datastore"),j_.delete(s),r.terminate())})(this),Promise.resolve()}}function U1(i,e,s,r={}){i=Cn(i,th);const o=nm(e),h=i._getSettings(),f={...h,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${s}`;o&&(KA(`https://${p}`),WA("Firestore",!0)),h.host!==ME&&h.host!==p&&Pr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:p,ssl:o,emulatorOptions:r};if(!go(v,f)&&(i._setSettings(v),r.mockUserToken)){let y,E;if(typeof r.mockUserToken=="string")y=r.mockUserToken,E=tn.MOCK_USER;else{y=XA(r.mockUserToken,i._app?.options.projectId);const R=r.mockUserToken.sub||r.mockUserToken.user_id;if(!R)throw new le($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new tn(R)}i._authCredentials=new HS(new Sb(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,s,r){this.converter=s,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ts(this.firestore,e,this._query)}}class Tt{constructor(e,s,r){this.converter=s,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,s,r){if(jo(s,Tt._jsonSchema))return new Tt(e,r||null,new _e(ot.fromString(s.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:Ct("string",Tt._jsonSchemaVersion),referencePath:Ct("string")};class Vi extends Ts{constructor(e,s,r){super(e,s,Gu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new _e(e))}withConverter(e){return new Vi(this.firestore,e,this._path)}}function Ae(i,e,...s){if(i=un(i),Nb("collection","path",e),i instanceof th){const r=ot.fromString(e,...s);return Fy(r),new Vi(i,null,r)}{if(!(i instanceof Tt||i instanceof Vi))throw new le($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(ot.fromString(e,...s));return Fy(r),new Vi(i.firestore,null,r)}}function yn(i,e,...s){if(i=un(i),arguments.length===1&&(e=hm.newId()),Nb("doc","path",e),i instanceof th){const r=ot.fromString(e,...s);return Hy(r),new Tt(i,null,new _e(r))}{if(!(i instanceof Tt||i instanceof Vi))throw new le($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(ot.fromString(e,...s));return Hy(r),new Tt(i.firestore,i instanceof Vi?i.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="AsyncQueue";class I_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gE(this,"async_queue_retry"),this._c=()=>{const r=Sf();r&&de(D_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const s=Sf();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const s=Sf();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const s=new Ks;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(s.resolve,s.reject),s.promise))).then((()=>s.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!$r(e))throw e;de(D_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const s=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Js("INTERNAL UNHANDLED ERROR: ",V_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=s,s}enqueueAfterDelay(e,s,r){this.uc(),this.oc.indexOf(e)>-1&&(s=0);const o=Rm.createAndSchedule(this,e,s,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&xe(47125,{Pc:V_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const s of this.tc)if(s.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((s,r)=>s.targetTimeMs-r.targetTimeMs));for(const s of this.tc)if(s.skipDelay(),e!=="all"&&s.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const s=this.tc.indexOf(e);this.tc.splice(s,1)}}function V_(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(i){return(function(s,r){if(typeof s!="object"||s===null)return!1;const o=s;for(const h of r)if(h in o&&typeof o[h]=="function")return!0;return!1})(i,["next","error","complete"])}class ei extends th{constructor(e,s,r,o){super(e,s,r,o),this.type="firestore",this._queue=new I_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new I_(e),this._firestoreClient=void 0,await e}}}function B1(i,e){const s=typeof i=="object"?i:Y_(),r=typeof i=="string"?i:xu,o=wo(s,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=YA("firestore");h&&U1(o,...h)}return o}function Vo(i){if(i._terminated)throw new le($.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||z1(i),i._firestoreClient}function z1(i){const e=i._freezeSettings(),s=(function(o,h,f,p){return new uN(o,h,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,VE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new M1(i._authCredentials,i._appCheckCredentials,i._queue,s,i._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(Xt.fromBase64String(e))}catch(s){throw new le($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(e){return new Fn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(jo(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:Ct("string",Fn._jsonSchemaVersion),bytes:Ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(...e){for(let s=0;s<e.length;++s)if(e[s].length===0)throw new le($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,s){if(!isFinite(e)||e<-90||e>90)throw new le($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(s)||s<-180||s>180)throw new le($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=e,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_s._jsonSchemaVersion}}static fromJSON(e){if(jo(e,_s._jsonSchema))return new _s(e.latitude,e.longitude)}}_s._jsonSchemaVersion="firestore/geoPoint/1.0",_s._jsonSchema={type:Ct("string",_s._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this._values=(e||[]).map((s=>s))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:bs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(jo(e,bs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((s=>typeof s=="number")))return new bs(e.vectorValues);throw new le($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bs._jsonSchemaVersion="firestore/vectorValue/1.0",bs._jsonSchema={type:Ct("string",bs._jsonSchemaVersion),vectorValues:Ct("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=/^__.*__$/;class H1{constructor(e,s,r){this.data=e,this.fieldMask=s,this.fieldTransforms=r}toMutation(e,s){return this.fieldMask!==null?new Hi(e,this.data,this.fieldMask,s,this.fieldTransforms):new Ro(e,this.data,s,this.fieldTransforms)}}class OE{constructor(e,s,r){this.data=e,this.fieldMask=s,this.fieldTransforms=r}toMutation(e,s){return new Hi(e,this.data,this.fieldMask,s,this.fieldTransforms)}}function kE(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:i})}}class Pm{constructor(e,s,r,o,h,f){this.settings=e,this.databaseId=s,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Pm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const s=this.path?.child(e),r=this.Vc({path:s,fc:!1});return r.gc(e),r}yc(e){const s=this.path?.child(e),r=this.Vc({path:s,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Mu(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((s=>e.isPrefixOf(s)))!==void 0||this.fieldTransforms.find((s=>e.isPrefixOf(s.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(kE(this.Ac)&&q1.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class F1{constructor(e,s,r){this.databaseId=e,this.ignoreUndefinedProperties=s,this.serializer=r||Ju(e)}Cc(e,s,r,o=!1){return new Pm({Ac:e,methodName:s,Dc:r,path:Kt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Oo(i){const e=i._freezeSettings(),s=Ju(i._databaseId);return new F1(i._databaseId,!!e.ignoreUndefinedProperties,s)}function LE(i,e,s,r,o,h={}){const f=i.Cc(h.merge||h.mergeFields?2:0,e,s,o);Bm("Data must be an object, but it was:",f,r);const p=zE(r,f);let v,y;if(h.merge)v=new jn(f.fieldMask),y=f.fieldTransforms;else if(h.mergeFields){const E=[];for(const R of h.mergeFields){const C=Zf(e,R,s);if(!f.contains(C))throw new le($.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);HE(E,C)||E.push(C)}v=new jn(E),y=f.fieldTransforms.filter((R=>v.covers(R.field)))}else v=null,y=f.fieldTransforms;return new H1(new pn(p),v,y)}class sh extends nh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sh}}class Um extends nh{_toFieldTransform(e){return new kN(e.path,new Ao)}isEqual(e){return e instanceof Um}}function PE(i,e,s,r){const o=i.Cc(1,e,s);Bm("Data must be an object, but it was:",o,r);const h=[],f=pn.empty();qi(r,((v,y)=>{const E=zm(e,v,s);y=un(y);const R=o.yc(E);if(y instanceof sh)h.push(E);else{const C=ko(y,R);C!=null&&(h.push(E),f.set(E,C))}}));const p=new jn(h);return new OE(f,p,o.fieldTransforms)}function UE(i,e,s,r,o,h){const f=i.Cc(1,e,s),p=[Zf(e,r,s)],v=[o];if(h.length%2!=0)throw new le($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<h.length;C+=2)p.push(Zf(e,h[C])),v.push(h[C+1]);const y=[],E=pn.empty();for(let C=p.length-1;C>=0;--C)if(!HE(y,p[C])){const P=p[C];let k=v[C];k=un(k);const J=f.yc(P);if(k instanceof sh)y.push(P);else{const K=ko(k,J);K!=null&&(y.push(P),E.set(P,K))}}const R=new jn(y);return new OE(E,R,f.fieldTransforms)}function BE(i,e,s,r=!1){return ko(s,i.Cc(r?4:3,e))}function ko(i,e){if(qE(i=un(i)))return Bm("Unsupported field value:",e,i),zE(i,e);if(i instanceof nh)return(function(r,o){if(!kE(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const h=[];let f=0;for(const p of r){let v=ko(p,o.wc(f));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),f++}return{arrayValue:{values:h}}})(i,e)}return(function(r,o){if((r=un(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return VN(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=ut.fromDate(r);return{timestampValue:Ru(o.serializer,h)}}if(r instanceof ut){const h=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ru(o.serializer,h)}}if(r instanceof _s)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fn)return{bytesValue:aE(o.serializer,r._byteString)};if(r instanceof Tt){const h=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(h))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:bm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof bs)return(function(f,p){return{mapValue:{fields:{[Ob]:{stringValue:kb},[Su]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return vm(p.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Bu(r)}`)})(i,e)}function zE(i,e){const s={};return Rb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qi(i,((r,o)=>{const h=ko(o,e.mc(r));h!=null&&(s[r]=h)})),{mapValue:{fields:s}}}function qE(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ut||i instanceof _s||i instanceof Fn||i instanceof Tt||i instanceof nh||i instanceof bs)}function Bm(i,e,s){if(!qE(s)||!wb(s)){const r=Bu(s);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function Zf(i,e,s){if((e=un(e))instanceof Mo)return e._internalPath;if(typeof e=="string")return zm(i,e);throw Mu("Field path arguments must be of type string or ",i,!1,void 0,s)}const G1=new RegExp("[~\\*/\\[\\]]");function zm(i,e,s){if(e.search(G1)>=0)throw Mu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,s);try{return new Mo(...e.split("."))._internalPath}catch{throw Mu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,s)}}function Mu(i,e,s,r,o){const h=r&&!r.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;s&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(h||f)&&(v+=" (found",h&&(v+=` in field ${r}`),f&&(v+=` in document ${o}`),v+=")"),new le($.INVALID_ARGUMENT,p+i+v)}function HE(i,e){return i.some((s=>s.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,s,r,o,h){this._firestore=e,this._userDataWriter=s,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Q1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const s=this._document.data.field(ih("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s)}}}class Q1 extends qm{data(){return super.data()}}function ih(i,e){return typeof e=="string"?zm(i,e):e instanceof Mo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new le($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hm{}class ah extends Hm{}function Ye(i,e,...s){let r=[];e instanceof Hm&&r.push(e),r=r.concat(s),(function(h){const f=h.filter((v=>v instanceof Fm)).length,p=h.filter((v=>v instanceof rh)).length;if(f>1||f>0&&p>0)throw new le($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)i=o._apply(i);return i}class rh extends ah{constructor(e,s,r){super(),this._field=e,this._op=s,this._value=r,this.type="where"}static _create(e,s,r){return new rh(e,s,r)}_apply(e){const s=this._parse(e);return GE(e._query,s),new Ts(e.firestore,e.converter,zf(e._query,s))}_parse(e){const s=Oo(e.firestore);return(function(h,f,p,v,y,E,R){let C;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){k_(R,E);const k=[];for(const J of R)k.push(O_(v,h,J));C={arrayValue:{values:k}}}else C=O_(v,h,R)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||k_(R,E),C=BE(p,f,R,E==="in"||E==="not-in");return Rt.create(y,E,C)})(e._query,"where",s,e.firestore._databaseId,this._field,this._op,this._value)}}function Pe(i,e,s){const r=e,o=ih("where",i);return rh._create(o,r,s)}class Fm extends Hm{constructor(e,s){super(),this.type=e,this._queryConstraints=s}static _create(e,s){return new Fm(e,s)}_parse(e){const s=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return s.length===1?s[0]:Zn.create(s,this._getOperator())}_apply(e){const s=this._parse(e);return s.getFilters().length===0?e:((function(o,h){let f=o;const p=h.getFlattenedFilters();for(const v of p)GE(f,v),f=zf(f,v)})(e._query,s),new Ts(e.firestore,e.converter,zf(e._query,s)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Gm extends ah{constructor(e,s){super(),this._field=e,this._direction=s,this.type="orderBy"}static _create(e,s){return new Gm(e,s)}_apply(e){const s=(function(o,h,f){if(o.startAt!==null)throw new le($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new To(h,f)})(e._query,this._field,this._direction);return new Ts(e.firestore,e.converter,(function(o,h){const f=o.explicitOrderBy.concat([h]);return new La(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,s))}}function Ou(i,e="asc"){const s=e,r=ih("orderBy",i);return Gm._create(r,s)}class Qm extends ah{constructor(e,s,r){super(),this.type=e,this._limit=s,this._limitType=r}static _create(e,s,r){return new Qm(e,s,r)}_apply(e){return new Ts(e.firestore,e.converter,wu(e._query,this._limit,this._limitType))}}function Y1(i){return WS("limit",i),Qm._create("limit",i,"F")}class Ym extends ah{constructor(e,s,r){super(),this.type=e,this._docOrFields=s,this._inclusive=r}static _create(e,s,r){return new Ym(e,s,r)}_apply(e){const s=K1(e,this.type,this._docOrFields,this._inclusive);return new Ts(e.firestore,e.converter,(function(o,h){return new La(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,h,o.endAt)})(e._query,s))}}function $1(...i){return Ym._create("startAfter",i,!1)}function K1(i,e,s,r){if(s[0]=un(s[0]),s[0]instanceof qm)return(function(h,f,p,v,y){if(!v)throw new le($.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${p}().`);const E=[];for(const R of kr(h))if(R.field.isKeyField())E.push(Nu(f,v.key));else{const C=v.data.field(R.field);if(Hu(C))throw new le($.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+R.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(C===null){const P=R.field.canonicalString();throw new le($.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${P}' (used as the orderBy) does not exist.`)}E.push(C)}return new qr(E,y)})(i._query,i.firestore._databaseId,e,s[0]._document,r);{const o=Oo(i.firestore);return(function(f,p,v,y,E,R){const C=f.explicitOrderBy;if(E.length>C.length)throw new le($.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const P=[];for(let k=0;k<E.length;k++){const J=E[k];if(C[k].field.isKeyField()){if(typeof J!="string")throw new le($.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof J}`);if(!gm(f)&&J.indexOf("/")!==-1)throw new le($.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${J}' contains a slash.`);const K=f.path.child(ot.fromString(J));if(!_e.isDocumentKey(K))throw new le($.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${K}' is not because it contains an odd number of segments.`);const me=new _e(K);P.push(Nu(p,me))}else{const K=BE(v,y,J);P.push(K)}}return new qr(P,R)})(i._query,i.firestore._databaseId,o,e,s,r)}}function O_(i,e,s){if(typeof(s=un(s))=="string"){if(s==="")throw new le($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gm(e)&&s.indexOf("/")!==-1)throw new le($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${s}' contains a '/' character.`);const r=e.path.child(ot.fromString(s));if(!_e.isDocumentKey(r))throw new le($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Nu(i,new _e(r))}if(s instanceof Tt)return Nu(i,s._key);throw new le($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bu(s)}.`)}function k_(i,e){if(!Array.isArray(i)||i.length===0)throw new le($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GE(i,e){const s=(function(o,h){for(const f of o)for(const p of f.getFlattenedFilters())if(h.indexOf(p.op)>=0)return p.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(s!==null)throw s===e.op?new le($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${s.toString()}' filters.`)}class X1{convertValue(e,s="none"){switch(Pi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,s);case 5:return e.stringValue;case 6:return this.convertBytes(Li(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,s);case 11:return this.convertObject(e.mapValue,s);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,s){return this.convertObjectMap(e.fields,s)}convertObjectMap(e,s="none"){const r={};return qi(e,((o,h)=>{r[o]=this.convertValue(h,s)})),r}convertVectorValue(e){const s=e.fields?.[Su].arrayValue?.values?.map((r=>Et(r.doubleValue)));return new bs(s)}convertGeoPoint(e){return new _s(Et(e.latitude),Et(e.longitude))}convertArray(e,s){return(e.values||[]).map((r=>this.convertValue(r,s)))}convertServerTimestamp(e,s){switch(s){case"previous":const r=Fu(e);return r==null?null:this.convertValue(r,s);case"estimate":return this.convertTimestamp(_o(e));default:return null}}convertTimestamp(e){const s=ki(e);return new ut(s.seconds,s.nanos)}convertDocumentKey(e,s){const r=ot.fromString(e);We(hE(r),9688,{name:e});const o=new bo(r.get(1),r.get(3)),h=new _e(r.popFirst(5));return o.isEqual(s)||Js(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(i,e,s){let r;return r=i?s&&(s.merge||s.mergeFields)?i.toFirestore(e,s):i.toFirestore(e):e,r}class co{constructor(e,s){this.hasPendingWrites=e,this.fromCache=s}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Da extends qm{constructor(e,s,r,o,h,f){super(e,s,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const s=new vu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,s={}){if(this._document){const r=this._document.data.field(ih("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,s.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,s={};return s.type=Da._jsonSchemaVersion,s.bundle="",s.bundleSource="DocumentSnapshot",s.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?s:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),s.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),s)}}Da._jsonSchemaVersion="firestore/documentSnapshot/1.0",Da._jsonSchema={type:Ct("string",Da._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class vu extends Da{data(e={}){return super.data(e)}}class Ia{constructor(e,s,r,o){this._firestore=e,this._userDataWriter=s,this._snapshot=o,this.metadata=new co(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((s=>e.push(s))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,s){this._snapshot.docs.forEach((r=>{e.call(s,new vu(this._firestore,this._userDataWriter,r.key,r,new co(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const s=!!e.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new le($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const v=new vu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new co(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const v=new vu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new co(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return p.type!==0&&(y=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),E=f.indexOf(p.doc.key)),{type:Z1(p.type),doc:v,oldIndex:y,newIndex:E}}))}})(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ia._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const s=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(s.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Z1(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(i){i=Cn(i,Tt);const e=Cn(i.firestore,ei);return L1(Vo(e),i._key).then((s=>$E(e,i,s)))}Ia._jsonSchemaVersion="firestore/querySnapshot/1.0",Ia._jsonSchema={type:Ct("string",Ia._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class $m extends X1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,s)}}function Xe(i){i=Cn(i,Ts);const e=Cn(i.firestore,ei),s=Vo(e),r=new $m(e);return FE(i._query),P1(s,i._query).then((o=>new Ia(e,r,i,o)))}function ku(i,e,s,...r){i=Cn(i,Tt);const o=Cn(i.firestore,ei),h=Oo(o);let f;return f=typeof(e=un(e))=="string"||e instanceof Mo?UE(h,"updateDoc",i._key,e,s,r):PE(h,"updateDoc",i._key,e),lh(o,[f.toMutation(i._key,vn.exists(!0))])}function J1(i){return lh(Cn(i.firestore,ei),[new Xu(i._key,vn.none())])}function Gr(i,e){const s=Cn(i.firestore,ei),r=yn(i),o=QE(i.converter,e);return lh(s,[LE(Oo(i.firestore),"addDoc",r._key,o,i.converter!==null,{}).toMutation(r._key,vn.exists(!1))]).then((()=>r))}function Km(i,...e){i=un(i);let s={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||M_(e[r])||(s=e[r++]);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(M_(e[r])){const v=e[r];e[r]=v.next?.bind(v),e[r+1]=v.error?.bind(v),e[r+2]=v.complete?.bind(v)}let h,f,p;if(i instanceof Tt)f=Cn(i.firestore,ei),p=Gu(i._key.path),h={next:v=>{e[r]&&e[r]($E(f,i,v))},error:e[r+1],complete:e[r+2]};else{const v=Cn(i,Ts);f=Cn(v.firestore,ei),p=v._query;const y=new $m(f);h={next:E=>{e[r]&&e[r](new Ia(f,y,v,E))},error:e[r+1],complete:e[r+2]},FE(i._query)}return(function(y,E,R,C){const P=new Lm(C),k=new Mm(E,P,R);return y.asyncQueue.enqueueAndForget((async()=>Dm(await Vu(y),k))),()=>{P.Nu(),y.asyncQueue.enqueueAndForget((async()=>Im(await Vu(y),k)))}})(Vo(f),p,o,h)}function lh(i,e){return(function(r,o){const h=new Ks;return r.asyncQueue.enqueueAndForget((async()=>S1(await k1(r),o,h))),h.promise})(Vo(i),e)}function $E(i,e,s){const r=s.docs.get(e._key),o=new $m(i);return new Da(i,o,e._key,r,new co(s.hasPendingWrites,s.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,s){this._firestore=e,this._commitHandler=s,this._mutations=[],this._committed=!1,this._dataReader=Oo(e)}set(e,s,r){this._verifyNotCommitted();const o=wf(e,this._firestore),h=QE(o.converter,s,r),f=LE(this._dataReader,"WriteBatch.set",o._key,h,o.converter!==null,r);return this._mutations.push(f.toMutation(o._key,vn.none())),this}update(e,s,r,...o){this._verifyNotCommitted();const h=wf(e,this._firestore);let f;return f=typeof(s=un(s))=="string"||s instanceof Mo?UE(this._dataReader,"WriteBatch.update",h._key,s,r,o):PE(this._dataReader,"WriteBatch.update",h._key,s),this._mutations.push(f.toMutation(h._key,vn.exists(!0))),this}delete(e){this._verifyNotCommitted();const s=wf(e,this._firestore);return this._mutations=this._mutations.concat(new Xu(s._key,vn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new le($.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function wf(i,e){if((i=un(i)).firestore!==e)throw new le($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function ps(){return new Um("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(i){return Vo(i=Cn(i,ei)),new W1(i,(e=>lh(i,e)))}(function(e,s=!0){(function(o){Qr=o})(u0),Mi(new Xs("firestore",((r,{instanceIdentifier:o,options:h})=>{const f=r.getProvider("app").getImmediate(),p=new ei(new FS(r.getProvider("auth-internal")),new YS(f,r.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new le($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bo(y.options.projectId,E)})(f,o),f);return h={useFetchStreams:s,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),gs(Uy,By,e),gs(Uy,By,"esm2020")})();const yu={apiKey:"AIzaSyBfcUdX6thAZ-RBiDJCXOcjOq27Z3Cet4I",authDomain:"fir-mart-e9e21.firebaseapp.com",projectId:"fir-mart-e9e21",storageBucket:"fir-mart-e9e21.firebasestorage.app",messagingSenderId:"58204415374",appId:"1:58204415374:web:613ee6291af1a6b34330df",measurementId:"G-2CQ2G7TPPR"};console.log(" Initializing Firebase with config:",{projectId:yu.projectId,authDomain:yu.authDomain,storageBucket:yu.storageBucket});const KE=Q_(yu),ej=PS(KE),ge=B1(KE);console.log(" Firebase initialized successfully");console.log(" Analytics:",ej?"Enabled":"Disabled");console.log(" Firestore:",ge?"Connected":"Not connected");const tj=({onLoginClick:i,isAuthenticated:e,currentUser:s,userType:r,onLogout:o})=>c.jsx("nav",{className:"navbar",children:c.jsxs("div",{className:"navbar-content",children:[c.jsxs("div",{className:"navbar-title",children:[c.jsx("h1",{children:e&&s?r==="hive"?` ${s.hiveName}`:` ${s.hiveName}`:"Hive Ecosystem"}),e&&s&&c.jsx("span",{className:"navbar-subtitle",children:r==="hive"?"Hive Dashboard":"Member Dashboard"})]}),c.jsx("div",{className:"navbar-actions",children:e&&s?c.jsxs("div",{className:"user-menu",children:[c.jsx("span",{className:"user-info",children:r==="hive"?` ${s.creatorName}`:` ${s.memberName}`}),c.jsx("button",{className:"logout-button",onClick:o,children:" Logout"})]}):c.jsx("button",{className:"login-button",onClick:i,children:" Sign In"})})]})}),nj={HIVES:"hives",MEMBERS:"members"},sj=async i=>{try{const e=new Date().toISOString(),s={...i,createdAt:e,updatedAt:e,status:"pending",isActive:!1,memberCount:0,applicationDate:e},r=await Gr(Ae(ge,nj.HIVES),s);return console.log("Hive data saved successfully with ID:",r.id),r.id}catch(e){throw console.error("Error saving hive data:",e),new Error(`Failed to save hive data: ${e.message}`)}},ij=i=>{const e={name:"Full Name",mobile:"Mobile Number",course:"Course",branch:"Branch",year:"Year of Study",codingLanguages:"Coding Languages",campusName:"Campus Name",campusLocation:"Campus Location",hiveName:"Hive Name",expectedAudience:"Expected Audience",facultyAdvisorName:"Faculty Advisor Name",facultyAdvisorContact:"Faculty Advisor Contact",leadershipExperience:"Leadership Experience",longTermVision:"Long-term Vision",termsAccepted:"Terms Acceptance"},s=[],r=[];for(const[o,h]of Object.entries(e)){const f=i[o];o==="codingLanguages"?(!f||!Array.isArray(f)||f.length===0)&&(s.push(`${h} is required`),r.push(o)):o==="termsAccepted"?f||(s.push("You must accept the terms and conditions"),r.push(o)):(!f||typeof f=="string"&&f.trim()==="")&&(s.push(`${h} is required`),r.push(o))}return{isValid:s.length===0,errors:s,missingFields:r}},sn={MEMBERS:"members",MEMBERS_APPROVED:"members_approved",MEMBERS_REJECTED:"members_rejected",MEMBER_CREDENTIALS:"member_credentials",HIVES_APPROVED:"hives_approved"},XE=async()=>{try{console.log(" Fetching approved hives for member registration...");const i=Ye(Ae(ge,sn.HIVES_APPROVED),Ou("approvedAt","desc")),e=await Xe(i),s=[];return e.forEach(r=>{const o=r.data();s.push({id:r.id,hiveName:o.hiveName,campusName:o.campusName,campusLocation:o.campusLocation,creatorName:o.name,memberCount:o.memberCount||0,expectedAudience:o.expectedAudience})}),console.log(` Found ${s.length} approved hives`),s}catch(i){throw console.error(" Error fetching approved hives:",i),new Error(`Failed to fetch approved hives: ${i.message}`)}},ZE=async i=>{try{console.log(" Saving member application for:",i.selectedHive?.hiveName);const e=new Date().toISOString(),s={...i,createdAt:e,updatedAt:e,status:"pending",isActive:!1,applicationDate:e,selectedHiveId:i.selectedHive?.id,selectedHiveName:i.selectedHive?.hiveName};delete s.selectedHive;const r=await Gr(Ae(ge,sn.MEMBERS),s);return console.log(" Member application saved successfully with ID:",r.id),r.id}catch(e){throw console.error(" Error saving member application:",e),new Error(`Failed to save member application: ${e.message}`)}},aj=async(i,e=20,s=null)=>{try{console.log(" Fetching pending member applications for hive:",i);let r=Ye(Ae(ge,sn.MEMBERS),Pe("selectedHiveId","==",i),Pe("status","==","pending"),Ou("createdAt","desc"));e&&(r=Ye(r,Y1(e))),s&&(r=Ye(r,$1(s)));const o=await Xe(r),h=[];let f=null;return o.forEach(p=>{h.push({id:p.id,...p.data()}),f=p}),console.log(` Found ${h.length} pending member applications`),{applications:h,lastVisible:f,hasMore:o.size===e}}catch(r){throw console.error(" Error fetching pending member applications:",r),new Error(`Failed to fetch member applications: ${r.message}`)}},rj=async i=>{try{console.log(" Fetching member statistics for hive:",i);const e=Ye(Ae(ge,sn.MEMBERS),Pe("selectedHiveId","==",i),Pe("status","==","pending")),s=await Xe(e),r=Ye(Ae(ge,sn.MEMBERS_APPROVED),Pe("selectedHiveId","==",i)),o=await Xe(r),h=Ye(Ae(ge,sn.MEMBERS_REJECTED),Pe("selectedHiveId","==",i)),f=await Xe(h),p=new Date;p.setDate(p.getDate()-7);let v=0;s.forEach(E=>{const R=E.data();new Date(R.createdAt)>p&&v++});const y={totalApplications:s.size+o.size+f.size,pending:s.size,approved:o.size,rejected:f.size,recentApplications:v};return console.log(" Member statistics fetched successfully:",y),y}catch(e){throw console.error(" Error fetching member statistics:",e),new Error(`Failed to fetch member statistics: ${e.message}`)}},JE=i=>{try{console.log(" Generating member credentials for:",i.name);const e=i.name||"member",s=i.selectedHiveName||"community",r=e.toLowerCase().replace(/[^a-z0-9]/g,"").substring(0,10),o=s.toLowerCase().replace(/[^a-z0-9]/g,"").substring(0,8),h=Date.now().toString().slice(-4),f=`${r}.${o}.${h}@members.hivecommunity.com`,p=lj();return{email:f,password:p,generatedAt:new Date().toISOString()}}catch(e){throw console.error(" Error generating member credentials:",e),new Error(`Failed to generate member credentials: ${e.message}`)}},lj=()=>{const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%&*";let e="";e+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(Math.random()*26)],e+="abcdefghijklmnopqrstuvwxyz"[Math.floor(Math.random()*26)],e+="0123456789"[Math.floor(Math.random()*10)],e+="!@#$%&*"[Math.floor(Math.random()*7)];for(let s=4;s<10;s++)e+=i[Math.floor(Math.random()*i.length)];return e.split("").sort(()=>Math.random()-.5).join("")},WE=async(i,e,s="")=>{try{console.log(" Approving member application:",i);const r=Xm(ge),o=await Zm(i);if(!o)throw new Error("Member application not found");const h=JE(o),f={...o,status:"approved",isActive:!0,hiveLeaderNote:s,hiveLeaderActionDate:new Date().toISOString(),approvedAt:new Date().toISOString(),approvedBy:e,credentials:{email:h.email,generatedAt:h.generatedAt}},p=yn(Ae(ge,sn.MEMBERS_APPROVED));r.set(p,f);const v=yn(Ae(ge,sn.MEMBER_CREDENTIALS));r.set(v,{memberId:p.id,originalMemberId:i,memberName:o.name,email:h.email,password:h.password,generatedAt:h.generatedAt,hiveId:o.selectedHiveId,hiveName:o.selectedHiveName,isActive:!0});const y=yn(ge,sn.MEMBERS,i);return r.delete(y),await r.commit(),console.log(" Member application approved successfully"),{approvedMemberId:p.id,credentials:{email:h.email,password:h.password,generatedAt:h.generatedAt}}}catch(r){throw console.error(" Error approving member application:",r),new Error(`Failed to approve member application: ${r.message}`)}},eT=async(i,e,s="")=>{try{console.log(" Rejecting member application:",i);const r=Xm(ge),o=await Zm(i);if(!o)throw new Error("Member application not found");const h={...o,status:"rejected",isActive:!1,hiveLeaderNote:s,hiveLeaderActionDate:new Date().toISOString(),rejectedAt:new Date().toISOString(),rejectedBy:e},f=yn(Ae(ge,sn.MEMBERS_REJECTED));r.set(f,h);const p=yn(ge,sn.MEMBERS,i);return r.delete(p),await r.commit(),console.log(" Member application rejected successfully"),f.id}catch(r){throw console.error(" Error rejecting member application:",r),new Error(`Failed to reject member application: ${r.message}`)}},Zm=async i=>{try{const e=yn(ge,sn.MEMBERS,i),s=await YE(e);return s.exists()?{id:s.id,...s.data()}:null}catch(e){throw console.error(" Error fetching member application:",e),new Error(`Failed to fetch member application: ${e.message}`)}},tT=async(i,e)=>{try{console.log(" Attempting to authenticate member credentials:",{email:i});const s=Ye(Ae(ge,sn.MEMBER_CREDENTIALS),Pe("email","==",i),Pe("isActive","==",!0)),r=await Xe(s);if(r.empty)return console.log(" No active member credentials found for email:",i),{success:!1,error:"Invalid credentials. Please check your email and password.",errorCode:"INVALID_CREDENTIALS"};let o=null;if(r.forEach(f=>{const p=f.data();p.password===e&&(o={id:f.id,...p})}),!o)return console.log(" Password mismatch for member email:",i),{success:!1,error:"Invalid credentials. Please check your email and password.",errorCode:"INVALID_CREDENTIALS"};console.log(" Member credentials validated successfully for:",o.memberName);let h=null;try{const f=Ye(Ae(ge,sn.MEMBERS_APPROVED),Pe("credentials.email","==",i)),p=await Xe(f);p.empty||p.forEach(v=>{h={id:v.id,...v.data()}})}catch(f){console.log(" Could not fetch approved member data:",f.message)}return{success:!0,member:{id:o.memberId,originalMemberId:o.originalMemberId,memberName:o.memberName,email:o.email,generatedAt:o.generatedAt,isActive:o.isActive,hiveId:o.hiveId,hiveName:o.hiveName,approvedData:h},message:`Welcome to ${o.hiveName}, ${o.memberName}!`}}catch(s){return console.error(" Error during member authentication:",s),{success:!1,error:"Authentication service error. Please try again later.",errorCode:"SERVICE_ERROR"}}},nT=i=>{const e={name:"Full Name",email:"Email Address",mobile:"Mobile Number",course:"Course",branch:"Branch",year:"Year of Study",collegeName:"College/University Name",cgpa:"CGPA/Percentage",skills:"Technical Skills",interestedEvents:"Interested Events",selectedHive:"Selected Hive",heardAbout:"How did you hear about us",mainGoal:"Main Goal",termsAccepted:"Terms Acceptance"},s=[],r=[];for(const[o,h]of Object.entries(e)){const f=i[o];o==="skills"||o==="interestedEvents"?(!f||!Array.isArray(f)||f.length===0)&&(s.push(`${h} is required`),r.push(o)):o==="selectedHive"?(!f||!f.id)&&(s.push(`${h} is required`),r.push(o)):o==="termsAccepted"?f||(s.push("You must accept the terms and conditions"),r.push(o)):(!f||typeof f=="string"&&f.trim()==="")&&(s.push(`${h} is required`),r.push(o))}return{isValid:s.length===0,errors:s,missingFields:r}},oj=async(i,e)=>{try{return(await WE(i,e.selectedHiveId||e.selectedHive?.id,"")).credentials}catch(s){throw console.error("Error in approveMember wrapper:",s),s}},cj=async(i,e)=>{try{await eT(i,e.selectedHiveId||e.selectedHive?.id,"")}catch(s){throw console.error("Error in rejectMember wrapper:",s),s}},uj=async i=>{try{const e=Ye(Ae(ge,sn.MEMBERS_APPROVED),Pe("selectedHiveName","==",i));return await Xe(e)}catch(e){throw console.error("Error fetching approved members:",e),e}},hj=async i=>{try{const e=Ye(Ae(ge,sn.MEMBERS_REJECTED),Pe("selectedHiveName","==",i));return await Xe(e)}catch(e){throw console.error("Error fetching rejected members:",e),e}},Ca={getApprovedHivesForSelection:XE,saveMemberApplication:ZE,getPendingMemberApplications:aj,getMemberStats:rj,generateMemberCredentials:JE,approveMemberApplication:WE,rejectMemberApplication:eT,getMemberApplicationById:Zm,authenticateMemberCredentials:tT,validateMemberData:nT,approveMember:oj,rejectMember:cj,getApprovedMembers:uj,getRejectedMembers:hj},Jf={HIVE_CREDENTIALS:"hive_credentials",HIVES_APPROVED:"hives_approved",HIVES:"hives"},dj=async(i,e)=>{try{console.log(" Attempting to authenticate hive credentials:",{email:i});const s=Ye(Ae(ge,Jf.HIVE_CREDENTIALS),Pe("email","==",i),Pe("isActive","==",!0)),r=await Xe(s);if(r.empty)return console.log(" No active credentials found for email:",i),{success:!1,error:"Invalid credentials. Please check your email and password.",errorCode:"INVALID_CREDENTIALS"};let o=null;if(r.forEach(f=>{const p=f.data();p.password===e&&(o={id:f.id,...p})}),!o)return console.log(" Password mismatch for email:",i),{success:!1,error:"Invalid credentials. Please check your email and password.",errorCode:"INVALID_CREDENTIALS"};console.log(" Credentials validated successfully for:",o.hiveName);let h=null;try{const f=Ye(Ae(ge,Jf.HIVES_APPROVED),Pe("credentials.email","==",i)),p=await Xe(f);p.empty||p.forEach(v=>{h={id:v.id,...v.data()}})}catch(f){console.log(" Could not fetch approved hive data:",f.message)}return{success:!0,hive:{id:o.hiveId,originalHiveId:o.originalHiveId,hiveName:o.hiveName,creatorName:o.creatorName,email:o.email,generatedAt:o.generatedAt,isActive:o.isActive,approvedData:h},message:`Welcome back to ${o.hiveName}!`}}catch(s){return console.error(" Error during authentication:",s),{success:!1,error:"Authentication service error. Please try again later.",errorCode:"SERVICE_ERROR"}}},fj=async(i,e)=>{try{console.log(" Attempting authentication for:",{email:i});const s=await dj(i,e);if(s.success)return{...s,userType:"hive"};const r=await tT(i,e);return r.success?{...r,userType:"member"}:(console.log(" Authentication failed for both hive and member credentials"),{success:!1,error:"Invalid credentials. Please check your email and password.",errorCode:"INVALID_CREDENTIALS"})}catch(s){return console.error(" Error during authentication:",s),{success:!1,error:"Authentication service error. Please try again later.",errorCode:"SERVICE_ERROR"}}},mj=async(i,e)=>{try{console.log(" Validating hive session:",{hiveId:i,email:e});const s=Ye(Ae(ge,Jf.HIVE_CREDENTIALS),Pe("hiveId","==",i),Pe("email","==",e),Pe("isActive","==",!0));return(await Xe(s)).empty?(console.log(" Hive session invalid - credentials not found or deactivated"),{valid:!1,error:"Session expired or credentials deactivated.",errorCode:"SESSION_EXPIRED"}):(console.log(" Hive session is valid"),{valid:!0,message:"Session is active"})}catch(s){return console.error(" Error validating hive session:",s),{valid:!1,error:"Session validation error. Please sign in again.",errorCode:"VALIDATION_ERROR"}}},pj=i=>{try{const e={userType:"hive",hiveId:i.id,originalHiveId:i.originalHiveId,hiveName:i.hiveName,creatorName:i.creatorName,email:i.email,loginTime:new Date().toISOString()};localStorage.setItem("userSession",JSON.stringify(e)),console.log(" Hive session stored successfully")}catch(e){console.error(" Error storing hive session:",e)}},gj=i=>{try{const e={userType:"member",memberId:i.id,originalMemberId:i.originalMemberId,memberName:i.memberName,email:i.email,hiveId:i.hiveId,hiveName:i.hiveName,loginTime:new Date().toISOString()};localStorage.setItem("userSession",JSON.stringify(e)),console.log(" Member session stored successfully")}catch(e){console.error(" Error storing member session:",e)}},vj=()=>{try{const i=localStorage.getItem("userSession");if(i){const e=JSON.parse(i),s=e.userType==="hive"?e.hiveName:`${e.memberName} (${e.hiveName})`;return console.log(` Retrieved stored ${e.userType} session:`,s),e}return null}catch(i){return console.error(" Error retrieving user session:",i),null}},Wf=()=>{try{localStorage.removeItem("userSession"),console.log(" User session cleared")}catch(i){console.error(" Error clearing user session:",i)}},yj=async()=>{try{const i=vj();if(!i)return{isAuthenticated:!1,user:null,userType:null};let e={valid:!0};return i.userType==="hive"&&(e=await mj(i.hiveId,i.email)),e.valid?{isAuthenticated:!0,user:i,userType:i.userType}:(Wf(),{isAuthenticated:!1,user:null,userType:null,error:e.error})}catch(i){return console.error(" Error checking auth status:",i),Wf(),{isAuthenticated:!1,user:null,userType:null,error:"Authentication check failed"}}},_j=({isOpen:i,onClose:e,onOptionSelect:s})=>{const[r,o]=ce.useState("options"),[h,f]=ce.useState(1),[p,v]=ce.useState(""),[y,E]=ce.useState(""),[R,C]=ce.useState(!1),[P,k]=ce.useState(""),[J,K]=ce.useState(""),[me,ie]=ce.useState([]),[Q,he]=ce.useState(""),[ne,ue]=ce.useState(!1),[w,x]=ce.useState([]),[D,j]=ce.useState(!1),[N,M]=ce.useState({name:"",course:"",branch:"",year:"",mobile:"",codingLanguages:[],campusName:"",campusLocation:"",hiveName:"",expectedAudience:"",facultyAdvisorName:"",facultyAdvisorContact:"",linkedinProfile:"",githubProfile:"",leadershipExperience:"",achievements:"",longTermVision:"",termsAccepted:!1}),[S,Ve]=ce.useState({name:"",course:"",branch:"",year:"",mobile:"",email:"",cgpa:"",skills:[],collegeName:"",interestedEvents:[],priorProjects:"",eventParticipation:"",selectedHive:null,linkedinProfile:"",githubProfile:"",heardAbout:"",mainGoal:"",subscription:!1,termsAccepted:!1}),$e=()=>{o("hive-form"),f(1)},Y=async()=>{o("member-form"),f(1),w.length===0&&await re()},re=async()=>{j(!0);try{console.log(" Loading approved hives for member registration...");const q=await XE();x(q),console.log(` Loaded ${q.length} approved hives`)}catch(q){console.error(" Error loading approved hives:",q),k("Failed to load available hives. Please try again.")}finally{j(!1)}},ve=()=>{o("login")},ze=()=>{o("options"),f(1),v(""),E("")},V=async q=>{q.preventDefault(),he(""),ue(!0);try{if(console.log(" Attempting hive login:",{email:p}),!p||!y){he("Please enter both email and password.");return}const Re=await fj(p,y);if(!Re.success){console.log(" Authentication failed:",Re.error),he(Re.error);return}const Se=Re.userType==="hive"?Re.hive:Re.member,At=Re.userType==="hive"?Se.hiveName:`${Se.memberName} (${Se.hiveName})`;console.log(" Authentication successful:",At),Re.userType==="hive"?pj(Se):gj(Se),s&&s("login-success",{user:Se,userType:Re.userType,message:Re.message}),v(""),E(""),W()}catch(Re){console.error(" Login error:",Re),he("Login failed. Please try again later.")}finally{ue(!1)}},W=()=>{o("options"),f(1),v(""),E(""),k(""),K(""),ie([]),he(""),C(!1),ue(!1),M({name:"",course:"",branch:"",year:"",mobile:"",codingLanguages:[],campusName:"",campusLocation:"",hiveName:"",expectedAudience:"",facultyAdvisorName:"",facultyAdvisorContact:"",linkedinProfile:"",githubProfile:"",leadershipExperience:"",achievements:"",longTermVision:"",termsAccepted:!1}),Ve({name:"",course:"",branch:"",year:"",mobile:"",email:"",cgpa:"",skills:[],collegeName:"",interestedEvents:[],priorProjects:"",eventParticipation:"",selectedHive:null,linkedinProfile:"",githubProfile:"",heardAbout:"",mainGoal:"",subscription:!1,termsAccepted:!1}),e()},oe=()=>{h<4&&f(h+1)},se=()=>{h>1?f(h-1):(o("options"),f(1))},be=async q=>{q.preventDefault(),k(""),K(""),ie([]);const Re=ij(N);if(!Re.isValid){ie(Re.errors),k("Please fill in all required fields.");return}C(!0);try{const Se=await sj(N);console.log("Hive form submitted successfully:",{hiveId:Se,data:N}),K("Your hive application has been submitted successfully! You will receive a confirmation email shortly."),s&&s("create-hive",{hiveId:Se,...N}),setTimeout(()=>{W()},2e3)}catch(Se){console.error("Error submitting hive form:",Se),k(`Failed to submit application: ${Se.message}`)}finally{C(!1)}},De=async q=>{q.preventDefault(),k(""),K(""),ie([]);const Re=nT(S);if(!Re.isValid){ie(Re.errors),k("Please fill in all required fields and select a hive.");return}C(!0);try{const Se=await ZE(S);console.log("Member application submitted successfully:",{memberId:Se,hiveName:S.selectedHive?.hiveName}),K(`Your application to join ${S.selectedHive?.hiveName} has been submitted successfully! The hive leader will review your application.`),s&&s("register-member",{memberId:Se,...S}),setTimeout(()=>{W()},3e3)}catch(Se){console.error("Error submitting member application:",Se),k(`Failed to submit application: ${Se.message}`)}finally{C(!1)}},fe=(q,Re)=>{M(Se=>({...Se,[q]:Re}))},Me=(q,Re)=>{Ve(Se=>({...Se,[q]:Re}))};return i?c.jsx("div",{className:"popup-overlay",onClick:W,children:c.jsx("div",{className:"popup-content",onClick:q=>q.stopPropagation(),children:r==="options"?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"popup-header",children:[c.jsx("h2",{children:"Welcome to the Ecosystem"}),c.jsx("button",{className:"close-btn",onClick:W,children:""})]}),c.jsxs("div",{className:"options-container",children:[c.jsx("p",{className:"welcome-text",children:"Choose your path to join our community"}),c.jsxs("div",{className:"option-cards",children:[c.jsxs("div",{className:"option-card hive-card",onClick:$e,children:[c.jsx("div",{className:"card-icon",children:""}),c.jsx("h3",{children:"Create a New Hive"}),c.jsx("p",{children:"Start your own community and become a hive leader. Build, manage, and grow your network."}),c.jsxs("div",{className:"card-features",children:[c.jsx("span",{className:"feature",children:" Full admin control"}),c.jsx("span",{className:"feature",children:" Custom branding"}),c.jsx("span",{className:"feature",children:" Member management"}),c.jsx("span",{className:"feature",children:" Analytics dashboard"})]}),c.jsxs("button",{className:"option-btn create-btn",children:[c.jsx("span",{children:"Create Hive"}),c.jsx("div",{className:"btn-arrow",children:""})]})]}),c.jsxs("div",{className:"option-card member-card",onClick:Y,children:[c.jsx("div",{className:"card-icon",children:""}),c.jsx("h3",{children:"Register as a Member"}),c.jsx("p",{children:"Join an existing hive and connect with like-minded individuals in established communities."}),c.jsxs("div",{className:"card-features",children:[c.jsx("span",{className:"feature",children:" Browse hives"}),c.jsx("span",{className:"feature",children:" Join discussions"}),c.jsx("span",{className:"feature",children:" Network building"}),c.jsx("span",{className:"feature",children:" Community events"})]}),c.jsxs("button",{className:"option-btn member-btn",children:[c.jsx("span",{children:"Join as Member"}),c.jsx("div",{className:"btn-arrow",children:""})]})]})]}),c.jsx("div",{className:"popup-footer",children:c.jsxs("p",{children:["Already have an account? ",c.jsx("button",{className:"link-btn",onClick:ve,children:"Sign In"})]})})]})]}):r==="login"?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"popup-header",children:[c.jsxs("div",{className:"header-with-back",children:[c.jsx("button",{className:"back-btn",onClick:ze,children:""}),c.jsx("h2",{children:"Welcome Back"})]}),c.jsx("button",{className:"close-btn",onClick:W,children:""})]}),c.jsxs("div",{className:"login-container",children:[c.jsx("p",{className:"login-welcome-text",children:"Sign in to access your hive dashboard"}),Q&&c.jsxs("div",{className:"status-message error-message",children:[c.jsx("div",{className:"status-icon",children:""}),c.jsxs("div",{className:"status-content",children:[c.jsx("h4",{children:"Login Failed"}),c.jsx("p",{children:Q})]})]}),c.jsxs("form",{className:"login-form",onSubmit:V,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"email",children:"Email Address"}),c.jsx("input",{type:"email",id:"email",value:p,onChange:q=>v(q.target.value),placeholder:"Enter your hive email address",disabled:ne,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"password",children:"Password"}),c.jsx("input",{type:"password",id:"password",value:y,onChange:q=>E(q.target.value),placeholder:"Enter your password",disabled:ne,required:!0})]}),c.jsxs("div",{className:"form-options",children:[c.jsxs("label",{className:"checkbox-label",children:[c.jsx("input",{type:"checkbox",className:"remember-checkbox"}),c.jsx("span",{className:"checkbox-text",children:"Remember me"})]}),c.jsx("button",{type:"button",className:"forgot-link",children:"Forgot password?"})]}),c.jsx("div",{className:"form-actions",children:c.jsx("button",{type:"submit",className:"login-submit-btn",disabled:ne,children:ne?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"loading-spinner"}),"Signing In..."]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{children:"Sign In"}),c.jsx("div",{className:"btn-arrow",children:""})]})})}),c.jsx("div",{className:"login-footer",children:c.jsxs("p",{children:["Don't have an account? ",c.jsx("button",{type:"button",className:"link-btn",onClick:ze,children:"Choose your path"})]})})]})]})]}):r==="hive-form"?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"popup-header",children:[c.jsxs("div",{className:"header-with-back",children:[c.jsx("button",{className:"back-btn",onClick:se,children:""}),c.jsx("h2",{children:"Create Your Hive"})]}),c.jsx("button",{className:"close-btn",onClick:W,children:""})]}),c.jsxs("div",{className:"form-container",children:[c.jsxs("div",{className:"progress-bar",children:[c.jsx("div",{className:"progress-steps",children:[1,2,3,4].map(q=>c.jsxs("div",{className:`progress-step ${h>=q?"active":""}`,children:[c.jsx("span",{className:"step-number",children:q}),c.jsxs("span",{className:"step-label",children:[q===1&&"Personal Info",q===2&&"College Info",q===3&&"Hive Vision",q===4&&"Commitment"]})]},q))}),c.jsx("div",{className:"progress-line",style:{width:`${(h-1)/3*100}%`}})]}),c.jsxs("div",{className:"section-content",children:[h===1&&c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{className:"section-title",children:"Personal Information"}),c.jsx("p",{className:"section-description",children:"Tell us about yourself to create your hive profile"}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"hive-name",children:"Full Name *"}),c.jsx("input",{type:"text",id:"hive-name",value:N.name,onChange:q=>fe("name",q.target.value),placeholder:"Enter your full name",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"hive-mobile",children:"Mobile Number *"}),c.jsx("input",{type:"tel",id:"hive-mobile",value:N.mobile,onChange:q=>fe("mobile",q.target.value),placeholder:"Enter your mobile number",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"hive-course",children:"Course *"}),c.jsxs("select",{id:"hive-course",value:N.course,onChange:q=>fe("course",q.target.value),required:!0,children:[c.jsx("option",{value:"",children:"Select your course"}),c.jsx("option",{value:"B.Tech",children:"B.Tech"}),c.jsx("option",{value:"B.E",children:"B.E"}),c.jsx("option",{value:"MCA",children:"MCA"}),c.jsx("option",{value:"M.Tech",children:"M.Tech"}),c.jsx("option",{value:"BCA",children:"BCA"}),c.jsx("option",{value:"BSc Computer Science",children:"BSc Computer Science"}),c.jsx("option",{value:"Other",children:"Other"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"hive-branch",children:"Branch *"}),c.jsxs("select",{id:"hive-branch",value:N.branch,onChange:q=>fe("branch",q.target.value),required:!0,children:[c.jsx("option",{value:"",children:"Select your branch"}),c.jsx("option",{value:"Computer Science Engineering",children:"Computer Science Engineering"}),c.jsx("option",{value:"Information Technology",children:"Information Technology"}),c.jsx("option",{value:"Electronics & Communication",children:"Electronics & Communication"}),c.jsx("option",{value:"Electrical Engineering",children:"Electrical Engineering"}),c.jsx("option",{value:"Mechanical Engineering",children:"Mechanical Engineering"}),c.jsx("option",{value:"Civil Engineering",children:"Civil Engineering"}),c.jsx("option",{value:"Data Science",children:"Data Science"}),c.jsx("option",{value:"Artificial Intelligence",children:"Artificial Intelligence"}),c.jsx("option",{value:"Other",children:"Other"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"hive-year",children:"Year of Study *"}),c.jsxs("select",{id:"hive-year",value:N.year,onChange:q=>fe("year",q.target.value),required:!0,children:[c.jsx("option",{value:"",children:"Select year"}),c.jsx("option",{value:"1st Year",children:"1st Year"}),c.jsx("option",{value:"2nd Year",children:"2nd Year"}),c.jsx("option",{value:"3rd Year",children:"3rd Year"}),c.jsx("option",{value:"4th Year",children:"4th Year"}),c.jsx("option",{value:"5th Year",children:"5th Year"}),c.jsx("option",{value:"Graduate",children:"Graduate"})]})]})]}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{children:"Coding Languages You're Efficient In *"}),c.jsx("div",{className:"checkbox-grid",children:["JavaScript","Python","Java","C++","C","React","Node.js","PHP","Go","Rust","Swift","Kotlin"].map(q=>c.jsxs("label",{className:"checkbox-label",children:[c.jsx("input",{type:"checkbox",checked:N.codingLanguages.includes(q),onChange:Re=>{const Se=[...N.codingLanguages];if(Re.target.checked)Se.push(q);else{const At=Se.indexOf(q);At>-1&&Se.splice(At,1)}fe("codingLanguages",Se)}}),c.jsx("span",{className:"checkbox-text",children:q})]},q))})]})]}),h===2&&c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{className:"section-title",children:"College Information"}),c.jsx("p",{className:"section-description",children:"Tell us about your college and campus"}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{htmlFor:"campus-name",children:"Name of the Campus *"}),c.jsx("input",{type:"text",id:"campus-name",value:N.campusName,onChange:q=>fe("campusName",q.target.value),placeholder:"Enter your college/university name",required:!0})]}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{htmlFor:"campus-location",children:"Location of the Campus *"}),c.jsx("input",{type:"text",id:"campus-location",value:N.campusLocation,onChange:q=>fe("campusLocation",q.target.value),placeholder:"City, State, Country",required:!0})]})]}),c.jsxs("div",{className:"info-card",children:[c.jsx("div",{className:"info-icon",children:""}),c.jsxs("div",{className:"info-content",children:[c.jsx("h4",{children:"Why do we need this information?"}),c.jsx("p",{children:"Campus information helps us verify your eligibility and connect you with other hives in your region. This enables better collaboration and resource sharing."})]})]})]}),h===3&&c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{className:"section-title",children:"Your Hive Vision"}),c.jsx("p",{className:"section-description",children:"Define your community and leadership approach"}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{htmlFor:"hive-name-field",children:"Name of Your Hive *"}),c.jsx("input",{type:"text",id:"hive-name-field",value:N.hiveName,onChange:q=>fe("hiveName",q.target.value),placeholder:"Enter a unique name for your hive",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"expected-audience",children:"Expected Audience Size *"}),c.jsxs("select",{id:"expected-audience",value:N.expectedAudience,onChange:q=>fe("expectedAudience",q.target.value),required:!0,children:[c.jsx("option",{value:"",children:"Select range"}),c.jsx("option",{value:"1-10",children:"1-10 members"}),c.jsx("option",{value:"11-20",children:"11-20 members"}),c.jsx("option",{value:"21-30",children:"21-30 members"}),c.jsx("option",{value:"31-40",children:"31-40 members"}),c.jsx("option",{value:"41-50",children:"41-50 members"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"faculty-advisor",children:"Faculty Advisor Name *"}),c.jsx("input",{type:"text",id:"faculty-advisor",value:N.facultyAdvisorName,onChange:q=>fe("facultyAdvisorName",q.target.value),placeholder:"Enter faculty advisor's name",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"faculty-contact",children:"Faculty Advisor Contact *"}),c.jsx("input",{type:"tel",id:"faculty-contact",value:N.facultyAdvisorContact,onChange:q=>fe("facultyAdvisorContact",q.target.value),placeholder:"Phone number or email",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"linkedin-profile",children:"LinkedIn Profile"}),c.jsx("input",{type:"url",id:"linkedin-profile",value:N.linkedinProfile,onChange:q=>fe("linkedinProfile",q.target.value),placeholder:"https://linkedin.com/in/your-profile"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"github-profile",children:"GitHub Profile"}),c.jsx("input",{type:"url",id:"github-profile",value:N.githubProfile,onChange:q=>fe("githubProfile",q.target.value),placeholder:"https://github.com/your-username"})]})]}),c.jsxs("div",{className:"highlight-card",children:[c.jsx("div",{className:"highlight-icon",children:""}),c.jsxs("div",{className:"highlight-content",children:[c.jsx("h4",{children:"Pro Tip: Creating a Memorable Hive Name"}),c.jsx("p",{children:"Choose a name that reflects your community's values and goals. Consider combining tech terms with creative elements that represent your vision!"})]})]})]}),h===4&&c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{className:"section-title",children:"Commitment & Support"}),c.jsx("p",{className:"section-description",children:"Share your experience and long-term vision"}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{htmlFor:"leadership-experience",children:"Leadership Experience *"}),c.jsx("textarea",{id:"leadership-experience",value:N.leadershipExperience,onChange:q=>fe("leadershipExperience",q.target.value),placeholder:"Describe your leadership experience (clubs, projects, teams, etc.)",rows:4,required:!0})]}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{htmlFor:"achievements",children:"Notable Achievements"}),c.jsx("textarea",{id:"achievements",value:N.achievements,onChange:q=>fe("achievements",q.target.value),placeholder:"Share your academic, technical, or extracurricular achievements",rows:3})]}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{htmlFor:"long-term-vision",children:"Long-term Vision for Your Hive *"}),c.jsx("textarea",{id:"long-term-vision",value:N.longTermVision,onChange:q=>fe("longTermVision",q.target.value),placeholder:"Describe your goals and vision for the community you want to build",rows:4,required:!0})]})]}),c.jsxs("div",{className:"terms-section",children:[c.jsx("h4",{children:"Declaration & Terms"}),c.jsxs("div",{className:"declaration-card",children:[c.jsx("p",{children:c.jsx("strong",{children:"By creating a hive, I declare that:"})}),c.jsxs("ul",{children:[c.jsx("li",{children:"All information provided is accurate and truthful"}),c.jsx("li",{children:"I have the necessary permissions from my institution"}),c.jsx("li",{children:"I commit to actively managing and growing my hive community"}),c.jsx("li",{children:"I will maintain professional standards and follow community guidelines"}),c.jsx("li",{children:"I understand that hive leadership comes with responsibilities"})]})]}),c.jsxs("label",{className:"checkbox-label terms-checkbox",children:[c.jsx("input",{type:"checkbox",checked:N.termsAccepted,onChange:q=>fe("termsAccepted",q.target.checked),required:!0}),c.jsx("span",{className:"checkbox-text",children:"I accept the terms and conditions and declare that all information provided is accurate *"})]})]})]})]}),P&&c.jsxs("div",{className:"status-message error-message",children:[c.jsx("div",{className:"status-icon",children:""}),c.jsxs("div",{className:"status-content",children:[c.jsx("h4",{children:"Submission Error"}),c.jsx("p",{children:P}),me.length>0&&c.jsx("ul",{children:me.map((q,Re)=>c.jsx("li",{children:q},Re))})]})]}),J&&c.jsxs("div",{className:"status-message success-message",children:[c.jsx("div",{className:"status-icon",children:""}),c.jsxs("div",{className:"status-content",children:[c.jsx("h4",{children:"Application Submitted!"}),c.jsx("p",{children:J})]})]}),c.jsxs("div",{className:"form-navigation",children:[h>1&&c.jsx("button",{type:"button",className:"nav-btn prev-btn",onClick:se,disabled:R,children:"Previous"}),h<4?c.jsx("button",{type:"button",className:"nav-btn next-btn",onClick:oe,disabled:R,children:"Next"}):c.jsx("button",{type:"button",className:"nav-btn submit-btn",onClick:be,disabled:R,children:R?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"loading-spinner"}),"Submitting..."]}):"Create Hive"})]})]})]}):r==="member-form"?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"popup-header",children:[c.jsxs("div",{className:"header-with-back",children:[c.jsx("button",{className:"back-btn",onClick:se,children:""}),c.jsx("h2",{children:"Join as Member"})]}),c.jsx("button",{className:"close-btn",onClick:W,children:""})]}),c.jsxs("div",{className:"form-container",children:[c.jsxs("div",{className:"progress-bar",children:[c.jsx("div",{className:"progress-steps",children:[1,2,3,4].map(q=>c.jsxs("div",{className:`progress-step ${h>=q?"active":""}`,children:[c.jsx("span",{className:"step-number",children:q}),c.jsxs("span",{className:"step-label",children:[q===1&&"Personal Info",q===2&&"Academic Info",q===3&&"Interests",q===4&&"Goals"]})]},q))}),c.jsx("div",{className:"progress-line",style:{width:`${(h-1)/3*100}%`}})]}),c.jsxs("div",{className:"section-content",children:[h===1&&c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{className:"section-title",children:"Personal Information"}),c.jsx("p",{className:"section-description",children:"Let's get to know you better to create your member profile"}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"member-name",children:"Full Name *"}),c.jsx("input",{type:"text",id:"member-name",value:S.name,onChange:q=>Me("name",q.target.value),placeholder:"Enter your full name",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"member-email",children:"Email Address *"}),c.jsx("input",{type:"email",id:"member-email",value:S.email,onChange:q=>Me("email",q.target.value),placeholder:"Enter your email address",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"member-mobile",children:"Mobile Number *"}),c.jsx("input",{type:"tel",id:"member-mobile",value:S.mobile,onChange:q=>Me("mobile",q.target.value),placeholder:"Enter your mobile number",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"member-course",children:"Course *"}),c.jsxs("select",{id:"member-course",value:S.course,onChange:q=>Me("course",q.target.value),required:!0,children:[c.jsx("option",{value:"",children:"Select your course"}),c.jsx("option",{value:"B.Tech",children:"B.Tech"}),c.jsx("option",{value:"B.E",children:"B.E"}),c.jsx("option",{value:"MCA",children:"MCA"}),c.jsx("option",{value:"M.Tech",children:"M.Tech"}),c.jsx("option",{value:"BCA",children:"BCA"}),c.jsx("option",{value:"BSc Computer Science",children:"BSc Computer Science"}),c.jsx("option",{value:"MSc Computer Science",children:"MSc Computer Science"}),c.jsx("option",{value:"Diploma",children:"Diploma"}),c.jsx("option",{value:"Other",children:"Other"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"member-branch",children:"Branch *"}),c.jsxs("select",{id:"member-branch",value:S.branch,onChange:q=>Me("branch",q.target.value),required:!0,children:[c.jsx("option",{value:"",children:"Select your branch"}),c.jsx("option",{value:"Computer Science Engineering",children:"Computer Science Engineering"}),c.jsx("option",{value:"Information Technology",children:"Information Technology"}),c.jsx("option",{value:"Electronics & Communication",children:"Electronics & Communication"}),c.jsx("option",{value:"Electrical Engineering",children:"Electrical Engineering"}),c.jsx("option",{value:"Mechanical Engineering",children:"Mechanical Engineering"}),c.jsx("option",{value:"Civil Engineering",children:"Civil Engineering"}),c.jsx("option",{value:"Data Science",children:"Data Science"}),c.jsx("option",{value:"Artificial Intelligence",children:"Artificial Intelligence"}),c.jsx("option",{value:"Cyber Security",children:"Cyber Security"}),c.jsx("option",{value:"Software Engineering",children:"Software Engineering"}),c.jsx("option",{value:"Other",children:"Other"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"member-year",children:"Year of Study *"}),c.jsxs("select",{id:"member-year",value:S.year,onChange:q=>Me("year",q.target.value),required:!0,children:[c.jsx("option",{value:"",children:"Select year"}),c.jsx("option",{value:"1st Year",children:"1st Year"}),c.jsx("option",{value:"2nd Year",children:"2nd Year"}),c.jsx("option",{value:"3rd Year",children:"3rd Year"}),c.jsx("option",{value:"4th Year",children:"4th Year"}),c.jsx("option",{value:"5th Year",children:"5th Year"}),c.jsx("option",{value:"Graduate",children:"Graduate"}),c.jsx("option",{value:"Post Graduate",children:"Post Graduate"})]})]})]}),c.jsxs("div",{className:"info-card",children:[c.jsx("div",{className:"info-icon",children:""}),c.jsxs("div",{className:"info-content",children:[c.jsx("h4",{children:"Building Your Profile"}),c.jsx("p",{children:"Your personal information helps us match you with the right hives and opportunities. We keep your data secure and use it only to enhance your community experience."})]})]})]}),h===2&&c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{className:"section-title",children:"Academic Information"}),c.jsx("p",{className:"section-description",children:"Share your academic background and technical skills"}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{htmlFor:"college-name-member",children:"College/University Name *"}),c.jsx("input",{type:"text",id:"college-name-member",value:S.collegeName,onChange:q=>Me("collegeName",q.target.value),placeholder:"Enter your college or university name",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"member-cgpa-field",children:"CGPA/Percentage *"}),c.jsx("input",{type:"text",id:"member-cgpa-field",value:S.cgpa,onChange:q=>Me("cgpa",q.target.value),placeholder:"e.g., 8.5 CGPA or 85%",required:!0})]})]}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{children:"Technical Skills & Programming Languages *"}),c.jsx("div",{className:"checkbox-grid",children:["JavaScript","Python","Java","C++","C","React","Node.js","Angular","Vue.js","PHP","Go","Rust","Swift","Kotlin","Flutter","React Native","Django","Spring Boot","MySQL","MongoDB","PostgreSQL","AWS","Docker","Git"].map(q=>c.jsxs("label",{className:"checkbox-label",children:[c.jsx("input",{type:"checkbox",checked:S.skills.includes(q),onChange:Re=>{const Se=[...S.skills];if(Re.target.checked)Se.push(q);else{const At=Se.indexOf(q);At>-1&&Se.splice(At,1)}Me("skills",Se)}}),c.jsx("span",{className:"checkbox-text",children:q})]},q))})]}),c.jsxs("div",{className:"highlight-card",children:[c.jsx("div",{className:"highlight-icon",children:""}),c.jsxs("div",{className:"highlight-content",children:[c.jsx("h4",{children:"Academic Excellence Matters"}),c.jsx("p",{children:"Your academic performance and technical skills help us understand your learning journey and match you with relevant opportunities and peers."})]})]})]}),h===3&&c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{className:"section-title",children:"Your Interests"}),c.jsx("p",{className:"section-description",children:"Tell us about your interests and experience with tech events"}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{children:"Which type of tech events interest you? *"}),c.jsx("div",{className:"checkbox-grid",children:["Hackathons","Technical Workshops","Coding Competitions","Seminars & Webinars","Project Showcases","Career Fairs","Startup Pitches","Open Source Contributions","Study Groups","Mentorship Programs"].map(q=>c.jsxs("label",{className:"checkbox-label",children:[c.jsx("input",{type:"checkbox",checked:S.interestedEvents.includes(q),onChange:Re=>{const Se=[...S.interestedEvents];if(Re.target.checked)Se.push(q);else{const At=Se.indexOf(q);At>-1&&Se.splice(At,1)}Me("interestedEvents",Se)}}),c.jsx("span",{className:"checkbox-text",children:q})]},q))})]}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{htmlFor:"prior-projects-member",children:"Prior Projects & Technical Work"}),c.jsx("textarea",{id:"prior-projects-member",value:S.priorProjects,onChange:q=>Me("priorProjects",q.target.value),placeholder:"Describe your personal projects, internships, or technical work (GitHub links, live demos, etc.)",rows:4})]}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{htmlFor:"event-participation-member",children:"Event Participation History"}),c.jsx("textarea",{id:"event-participation-member",value:S.eventParticipation,onChange:q=>Me("eventParticipation",q.target.value),placeholder:"Share your experience with hackathons, competitions, workshops, or tech events you've attended",rows:3})]})]}),c.jsxs("div",{className:"info-card",children:[c.jsx("div",{className:"info-icon",children:""}),c.jsxs("div",{className:"info-content",children:[c.jsx("h4",{children:"Discover Your Tech Community"}),c.jsx("p",{children:"Your interests help us connect you with like-minded peers and relevant events. Whether you're a beginner or experienced, there's a place for everyone!"})]})]})]}),h===4&&c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{className:"section-title",children:"Goals & Additional Information"}),c.jsx("p",{className:"section-description",children:"Help us understand your goals and how you found us"}),c.jsxs("div",{className:"form-grid",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"member-linkedin-field",children:"LinkedIn Profile"}),c.jsx("input",{type:"url",id:"member-linkedin-field",value:S.linkedinProfile,onChange:q=>Me("linkedinProfile",q.target.value),placeholder:"https://linkedin.com/in/your-profile"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"member-github-field",children:"GitHub Profile"}),c.jsx("input",{type:"url",id:"member-github-field",value:S.githubProfile,onChange:q=>Me("githubProfile",q.target.value),placeholder:"https://github.com/your-username"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"heard-about-member",children:"How did you hear about us? *"}),c.jsxs("select",{id:"heard-about-member",value:S.heardAbout,onChange:q=>Me("heardAbout",q.target.value),required:!0,children:[c.jsx("option",{value:"",children:"Select an option"}),c.jsx("option",{value:"College/University",children:"College/University"}),c.jsx("option",{value:"Friend/Peer",children:"Friend/Peer"}),c.jsx("option",{value:"Social Media",children:"Social Media"}),c.jsx("option",{value:"Tech Event/Workshop",children:"Tech Event/Workshop"}),c.jsx("option",{value:"Online Search",children:"Online Search"}),c.jsx("option",{value:"Faculty/Professor",children:"Faculty/Professor"}),c.jsx("option",{value:"Career Fair",children:"Career Fair"}),c.jsx("option",{value:"Other",children:"Other"})]})]})]}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{htmlFor:"hive-selection",children:"Select a Hive to Join *"}),D?c.jsxs("div",{className:"hives-loading",children:[c.jsx("span",{className:"loading-spinner"}),"Loading available hives..."]}):c.jsxs("select",{id:"hive-selection",value:S.selectedHive?.id||"",onChange:q=>{const Re=w.find(Se=>Se.id===q.target.value);Me("selectedHive",Re||null)},required:!0,children:[c.jsx("option",{value:"",children:"Choose a hive to join"}),w.map(q=>c.jsxs("option",{value:q.id,children:[q.hiveName," - ",q.campusName," (",q.memberCount||0,"/",q.expectedAudience," members)"]},q.id))]}),S.selectedHive&&c.jsxs("div",{className:"selected-hive-info",children:[c.jsxs("h4",{children:[" ",S.selectedHive.hiveName]}),c.jsxs("div",{className:"hive-details",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Campus:"})," ",S.selectedHive.campusName]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Location:"})," ",S.selectedHive.campusLocation]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Leader:"})," ",S.selectedHive.creatorName]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Members:"})," ",S.selectedHive.memberCount||0," / ",S.selectedHive.expectedAudience]})]})]}),w.length===0&&!D&&c.jsx("div",{className:"no-hives-available",children:c.jsx("p",{children:" No hives are currently accepting new members. Please check back later or contact support."})})]}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{htmlFor:"main-goal-member",children:"What's your main goal for joining the community? *"}),c.jsx("textarea",{id:"main-goal-member",value:S.mainGoal,onChange:q=>Me("mainGoal",q.target.value),placeholder:"Tell us what you hope to achieve (e.g., learning new skills, networking, career growth, contributing to projects)",rows:4,required:!0})]}),c.jsxs("div",{className:"subscription-section",children:[c.jsx("h4",{children:"Stay Connected"}),c.jsxs("div",{className:"subscription-card",children:[c.jsxs("div",{className:"subscription-content",children:[c.jsx("h5",{children:" Newsletter Subscription"}),c.jsx("p",{children:"Get the latest updates on tech events, job opportunities, and community highlights delivered to your inbox."}),c.jsxs("ul",{children:[c.jsx("li",{children:"Weekly tech event notifications"}),c.jsx("li",{children:"Job and internship opportunities"}),c.jsx("li",{children:"Community achievements and success stories"}),c.jsx("li",{children:"Exclusive member-only content"})]})]}),c.jsxs("label",{className:"checkbox-label subscription-checkbox",children:[c.jsx("input",{type:"checkbox",checked:S.subscription,onChange:q=>Me("subscription",q.target.checked)}),c.jsx("span",{className:"checkbox-text",children:"Yes, I want to subscribe to the newsletter and stay updated"})]})]})]}),c.jsxs("div",{className:"terms-section",children:[c.jsx("h4",{children:"Declaration & Terms"}),c.jsxs("div",{className:"declaration-card",children:[c.jsx("p",{children:c.jsx("strong",{children:"By registering as a member, I declare that:"})}),c.jsxs("ul",{children:[c.jsx("li",{children:"All information provided is accurate and truthful"}),c.jsx("li",{children:"I agree to follow community guidelines and code of conduct"}),c.jsx("li",{children:"I will actively participate and contribute positively to the community"}),c.jsx("li",{children:"I understand that membership privileges can be revoked for misconduct"}),c.jsx("li",{children:"I consent to the use of my information for community matching and communication"})]})]}),c.jsxs("label",{className:"checkbox-label terms-checkbox",children:[c.jsx("input",{type:"checkbox",checked:S.termsAccepted,onChange:q=>Me("termsAccepted",q.target.checked),required:!0}),c.jsx("span",{className:"checkbox-text",children:"I accept the terms and conditions and declare that all information provided is accurate *"})]})]})]})]}),P&&c.jsxs("div",{className:"status-message error-message",children:[c.jsx("div",{className:"status-icon",children:""}),c.jsxs("div",{className:"status-content",children:[c.jsx("h4",{children:"Registration Error"}),c.jsx("p",{children:P})]})]}),J&&c.jsxs("div",{className:"status-message success-message",children:[c.jsx("div",{className:"status-icon",children:""}),c.jsxs("div",{className:"status-content",children:[c.jsx("h4",{children:"Welcome to the Community!"}),c.jsx("p",{children:J})]})]}),c.jsxs("div",{className:"form-navigation",children:[h>1&&c.jsx("button",{type:"button",className:"nav-btn prev-btn",onClick:se,disabled:R,children:"Previous"}),h<4?c.jsx("button",{type:"button",className:"nav-btn next-btn",onClick:oe,disabled:R,children:"Next"}):c.jsx("button",{type:"button",className:"nav-btn submit-btn",onClick:De,disabled:R,children:R?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"loading-spinner"}),"Registering..."]}):"Register"})]})]})]}):null})}):null},bj=()=>{const[i,e]=ce.useState(""),[s,r]=ce.useState(!1),o=async()=>{r(!0),e("Testing write operation...");try{const p={test:!0,message:"Test message from React",timestamp:new Date().toISOString(),randomNumber:Math.floor(Math.random()*1e3)};console.log("Attempting to write test data:",p);const v=await Gr(Ae(ge,"test"),p);e(` SUCCESS! Document written with ID: ${v.id}`),console.log("Document written with ID: ",v.id)}catch(p){e(` ERROR: ${p.message}`),console.error("Error writing document: ",p),console.error("Full error object:",p)}finally{r(!1)}},h=async()=>{r(!0),e("Testing read operation...");try{console.log("Attempting to read test collection...");const p=await Xe(Ae(ge,"test")),v=[];p.forEach(y=>{v.push({id:y.id,...y.data()})}),e(` SUCCESS! Read ${v.length} documents from test collection`),console.log("Documents read:",v)}catch(p){e(` ERROR: ${p.message}`),console.error("Error reading documents: ",p),console.error("Full error object:",p)}finally{r(!1)}},f=async()=>{r(!0),e("Testing hive collection write...");try{const p={name:"Test User",mobile:"1234567890",course:"B.Tech",branch:"Computer Science",year:"3rd Year",codingLanguages:["JavaScript","Python"],campusName:"Test University",campusLocation:"Test City, Test State",hiveName:"Test Hive",expectedAudience:"10-20",facultyAdvisorName:"Dr. Test",facultyAdvisorContact:"test@test.com",leadershipExperience:"Test leadership experience",longTermVision:"Test vision",termsAccepted:!0,createdAt:new Date().toISOString(),status:"pending",isActive:!1,memberCount:0};console.log("Attempting to write test hive data:",p);const v=await Gr(Ae(ge,"hives"),p);e(` SUCCESS! Hive document written with ID: ${v.id}`),console.log("Hive document written with ID: ",v.id)}catch(p){e(` ERROR: ${p.message}`),console.error("Error writing hive document: ",p),console.error("Full error object:",p)}finally{r(!1)}};return c.jsxs("div",{style:{padding:"20px",border:"2px solid #ccc",borderRadius:"10px",margin:"20px",backgroundColor:"#f9f9f9"},children:[c.jsx("h3",{children:" Firebase Connection Test"}),c.jsxs("div",{style:{marginBottom:"10px"},children:[c.jsx("strong",{children:"Project ID:"})," fir-mart-e9e21"]}),c.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[c.jsx("button",{onClick:o,disabled:s,style:{padding:"10px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"5px",cursor:s?"not-allowed":"pointer",opacity:s?.7:1},children:"Test Write to 'test' collection"}),c.jsx("button",{onClick:h,disabled:s,style:{padding:"10px 20px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"5px",cursor:s?"not-allowed":"pointer",opacity:s?.7:1},children:"Test Read from 'test' collection"}),c.jsx("button",{onClick:f,disabled:s,style:{padding:"10px 20px",backgroundColor:"#FF9800",color:"white",border:"none",borderRadius:"5px",cursor:s?"not-allowed":"pointer",opacity:s?.7:1},children:"Test Write to 'hives' collection"})]}),c.jsx("div",{style:{minHeight:"50px",padding:"10px",backgroundColor:i.includes("SUCCESS")?"#d4edda":i.includes("ERROR")?"#f8d7da":"#e2e3e5",border:"1px solid "+(i.includes("SUCCESS")?"#c3e6cb":i.includes("ERROR")?"#f5c6cb":"#d6d8db"),borderRadius:"5px",color:i.includes("SUCCESS")?"#155724":i.includes("ERROR")?"#721c24":"#383d41"},children:s?" Loading...":i||"Click a button to test Firebase connection"}),c.jsxs("div",{style:{marginTop:"15px",fontSize:"12px",color:"#666"},children:[c.jsx("strong",{children:"Note:"})," Check the browser console for detailed logs"]})]})},Ej=({application:i,onApprove:e,onReject:s,isProcessing:r})=>{const[o,h]=ce.useState(!1),[f,p]=ce.useState(!1),v=async()=>{h(!0);try{await e(i.id,i)}catch(P){console.error("Error approving member:",P)}finally{h(!1)}},y=async()=>{p(!0);try{await s(i.id,i)}catch(P){console.error("Error rejecting member:",P)}finally{p(!1)}},E=P=>P?(P.toDate?P.toDate():new Date(P)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",R=P=>P?P.split(" ").map(k=>k.charAt(0)).join("").toUpperCase().slice(0,2):"?",C=r||o||f;return c.jsxs("div",{className:"member-application-card",children:[c.jsxs("div",{className:"card-header",children:[c.jsx("div",{className:"member-avatar",children:R(i.name)}),c.jsxs("div",{className:"member-info",children:[c.jsx("h3",{className:"member-name",children:i.name||"Unknown Name"}),c.jsx("p",{className:"member-email",children:i.email}),c.jsx("div",{className:"application-meta",children:c.jsxs("span",{className:"application-date",children:[" Applied: ",E(i.createdAt)]})})]}),c.jsx("div",{className:"application-status",children:c.jsx("span",{className:"status-badge pending",children:" Pending"})})]}),c.jsxs("div",{className:"card-content",children:[c.jsxs("div",{className:"info-grid",children:[c.jsxs("div",{className:"info-item",children:[c.jsx("label",{children:"Selected Hive:"}),c.jsxs("span",{className:"info-value hive-name",children:[" ",i.selectedHiveName]})]}),i.mobile&&c.jsxs("div",{className:"info-item",children:[c.jsx("label",{children:"Mobile Number:"}),c.jsxs("span",{className:"info-value",children:[" ",i.mobile]})]}),i.course&&c.jsxs("div",{className:"info-item",children:[c.jsx("label",{children:"Course:"}),c.jsxs("span",{className:"info-value",children:[" ",i.course]})]}),i.branch&&c.jsxs("div",{className:"info-item",children:[c.jsx("label",{children:"Branch:"}),c.jsxs("span",{className:"info-value",children:[" ",i.branch]})]}),i.year&&c.jsxs("div",{className:"info-item",children:[c.jsx("label",{children:"Year:"}),c.jsxs("span",{className:"info-value",children:[" ",i.year]})]}),i.cgpa&&c.jsxs("div",{className:"info-item",children:[c.jsx("label",{children:"CGPA:"}),c.jsxs("span",{className:"info-value",children:[" ",i.cgpa]})]})]}),i.mainGoal&&c.jsxs("div",{className:"motivation-section",children:[c.jsx("label",{children:"Main Goal:"}),c.jsxs("p",{className:"motivation-text",children:['"',i.mainGoal,'"']})]}),i.priorProjects&&c.jsxs("div",{className:"additional-info-section",children:[c.jsx("label",{children:"Prior Projects:"}),c.jsx("p",{className:"additional-info-text",children:i.priorProjects})]}),i.skills&&i.skills.length>0&&c.jsxs("div",{className:"additional-info-section",children:[c.jsx("label",{children:"Technical Skills:"}),c.jsx("p",{className:"additional-info-text",children:i.skills.join(", ")})]})]}),c.jsxs("div",{className:"card-actions",children:[c.jsx("button",{className:"reject-btn",onClick:y,disabled:C,children:f?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"spinner"}),"Rejecting..."]}):c.jsx(c.Fragment,{children:" Reject"})}),c.jsx("button",{className:"approve-btn",onClick:v,disabled:C,children:o?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"spinner"}),"Approving..."]}):c.jsx(c.Fragment,{children:" Approve & Generate Credentials"})})]})]})},Tj=({credentials:i,memberData:e,onClose:s})=>{const[r,o]=ce.useState(null),[h,f]=ce.useState(!1),p=async(y,E)=>{try{await navigator.clipboard.writeText(y),o(E),setTimeout(()=>o(null),2e3)}catch(R){console.error("Failed to copy text: ",R)}},v=async()=>{const y=`
Member Login Credentials for ${e.fullName||e.name}
==========================================
Hive: ${e.selectedHive||e.selectedHiveName}
Email: ${i.email}
Password: ${i.password}
Generated: ${new Date(i.generatedAt).toLocaleString()}

Please share these credentials securely with the member.
The member can use these to access their dashboard.
    `.trim();try{await navigator.clipboard.writeText(y),o("all"),setTimeout(()=>o(null),2e3)}catch(E){console.error("Failed to copy credentials: ",E)}};return c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"member-credentials-modal",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:" Member Approved Successfully!"}),c.jsx("button",{onClick:s,className:"close-btn",children:""})]}),c.jsxs("div",{className:"modal-content",children:[c.jsxs("div",{className:"success-message",children:[c.jsxs("div",{className:"member-info",children:[c.jsx("div",{className:"member-avatar",children:""}),c.jsxs("div",{className:"member-details",children:[c.jsx("h3",{children:e.fullName||e.name}),c.jsxs("p",{className:"hive-name",children:[" Approved to join ",e.selectedHive||e.selectedHiveName]})]})]}),c.jsx("p",{className:"instructions",children:"Member login credentials have been generated and stored securely. Please share these credentials with the new member:"})]}),c.jsxs("div",{className:"credentials-container",children:[c.jsxs("div",{className:"credential-field",children:[c.jsx("label",{children:"Email Address"}),c.jsxs("div",{className:"input-with-copy",children:[c.jsx("input",{type:"text",value:i.email,readOnly:!0,className:"credential-input"}),c.jsx("button",{onClick:()=>p(i.email,"email"),className:"copy-btn",title:"Copy email",children:r==="email"?"":""})]})]}),c.jsxs("div",{className:"credential-field",children:[c.jsx("label",{children:"Password"}),c.jsxs("div",{className:"input-with-copy",children:[c.jsx("input",{type:h?"text":"password",value:i.password,readOnly:!0,className:"credential-input"}),c.jsxs("div",{className:"input-actions",children:[c.jsx("button",{onClick:()=>f(!h),className:"toggle-password-btn",title:h?"Hide password":"Show password",children:h?"":""}),c.jsx("button",{onClick:()=>p(i.password,"password"),className:"copy-btn",title:"Copy password",children:r==="password"?"":""})]})]})]}),c.jsxs("div",{className:"credential-field",children:[c.jsx("label",{children:"Generated"}),c.jsx("div",{className:"generated-date",children:new Date(i.generatedAt).toLocaleString()})]})]}),c.jsx("div",{className:"modal-actions",children:c.jsx("button",{onClick:v,className:"copy-all-btn",children:r==="all"?c.jsx(c.Fragment,{children:" All Credentials Copied!"}):c.jsx(c.Fragment,{children:" Copy All Credentials"})})}),c.jsxs("div",{className:"member-notice",children:[c.jsx("p",{children:c.jsx("strong",{children:" Next Steps:"})}),c.jsxs("ul",{children:[c.jsxs("li",{children:["Share these credentials securely with ",e.fullName||e.name]}),c.jsx("li",{children:"The member can now log in using these credentials"}),c.jsx("li",{children:"Member will have access to the hive dashboard and activities"}),c.jsx("li",{children:"Credentials are stored securely in the database for reference"}),c.jsx("li",{children:"Consider sending a welcome message to introduce them to the hive"})]})]})]})]})})},Aj=({hive:i})=>{const[e,s]=ce.useState([]),[r,o]=ce.useState(!0),[h,f]=ce.useState(""),[p,v]=ce.useState("name"),[y,E]=ce.useState("");ce.useEffect(()=>{if(!i?.hiveName)return;o(!0),E("");const k=Ye(Ae(ge,"members_approved"),Pe("selectedHiveName","==",i.hiveName)),J=Km(k,K=>{const me=K.docs.map(ie=>({id:ie.id,...ie.data()}));s(me),o(!1)},K=>{console.error("Error fetching approved members:",K),E("Failed to load approved members. Please try again."),o(!1)});return()=>J()},[i?.hiveName]);const R=e.filter(k=>{if(!h)return!0;const J=h.toLowerCase();return k.name?.toLowerCase().includes(J)||k.email?.toLowerCase().includes(J)||k.course?.toLowerCase().includes(J)||k.branch?.toLowerCase().includes(J)}).sort((k,J)=>{switch(p){case"name":return(k.name||"").localeCompare(J.name||"");case"date":return new Date(J.approvedAt||0)-new Date(k.approvedAt||0);case"course":return(k.course||"").localeCompare(J.course||"");case"year":return(k.year||"").localeCompare(J.year||"");default:return 0}}),C=k=>k?k.split(" ").map(J=>J.charAt(0)).join("").toUpperCase().slice(0,2):"?",P=k=>k?new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return r?c.jsxs("div",{className:"approved-members-list",children:[c.jsxs("div",{className:"approved-members-header",children:[c.jsx("h2",{children:" Approved Members"}),c.jsxs("p",{children:["Active members in ",c.jsx("span",{className:"hive-highlight",children:i?.hiveName})]})]}),c.jsxs("div",{className:"loading-container",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("p",{children:"Loading approved members..."})]})]}):c.jsxs("div",{className:"approved-members-list",children:[c.jsxs("div",{className:"approved-members-header",children:[c.jsxs("div",{className:"header-content",children:[c.jsx("h2",{children:" Approved Members"}),c.jsxs("p",{children:["Active members in ",c.jsx("span",{className:"hive-highlight",children:i?.hiveName})]})]}),c.jsxs("div",{className:"member-stats-summary",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("div",{className:"stat-number",children:e.length}),c.jsx("div",{className:"stat-label",children:"Active Members"})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("div",{className:"stat-number",children:R.length}),c.jsx("div",{className:"stat-label",children:"Displayed"})]})]})]}),c.jsxs("div",{className:"members-controls",children:[c.jsxs("div",{className:"search-container",children:[c.jsx("input",{type:"text",placeholder:"Search members by name, email, course, or branch...",value:h,onChange:k=>f(k.target.value),className:"search-input"}),c.jsx("span",{className:"search-icon",children:""})]}),c.jsxs("div",{className:"sort-container",children:[c.jsx("label",{children:"Sort by:"}),c.jsxs("select",{value:p,onChange:k=>v(k.target.value),className:"sort-select",children:[c.jsx("option",{value:"name",children:"Name"}),c.jsx("option",{value:"date",children:"Join Date"}),c.jsx("option",{value:"course",children:"Course"}),c.jsx("option",{value:"year",children:"Year"})]})]})]}),y&&c.jsxs("div",{className:"error-banner",children:[c.jsx("span",{className:"error-icon",children:""}),y,c.jsx("button",{onClick:()=>E(""),className:"dismiss-btn","aria-label":"Dismiss error",children:""})]}),c.jsxs("div",{className:"members-section",children:[c.jsxs("div",{className:"section-header",children:[c.jsxs("h3",{children:["Active Members",c.jsxs("span",{className:"count",children:["(",R.length,")"]})]}),h&&c.jsx("button",{onClick:()=>f(""),className:"clear-search-btn",children:"Clear search"})]}),R.length===0?c.jsxs("div",{className:"empty-state",children:[c.jsx("div",{className:"empty-icon",children:""}),c.jsx("h3",{children:e.length===0?"No approved members yet":"No members match your search"}),c.jsx("p",{children:e.length===0?`No members have been approved for ${i?.hiveName} yet. Approved members will appear here.`:"Try adjusting your search term to see more members."}),h&&c.jsx("button",{onClick:()=>f(""),className:"secondary-btn",children:"Clear search"})]}):c.jsx("div",{className:"members-grid",children:R.map(k=>c.jsxs("div",{className:"member-card",children:[c.jsxs("div",{className:"member-header",children:[c.jsx("div",{className:"member-avatar",children:C(k.name)}),c.jsxs("div",{className:"member-basic-info",children:[c.jsx("h3",{className:"member-name",children:k.name}),c.jsx("p",{className:"member-email",children:k.email}),c.jsx("div",{className:"member-meta",children:c.jsxs("span",{className:"join-date",children:[" Joined: ",P(k.approvedAt)]})})]}),c.jsx("div",{className:"member-status",children:c.jsx("span",{className:"status-badge active",children:" Active"})})]}),c.jsxs("div",{className:"member-details",children:[c.jsxs("div",{className:"details-grid",children:[k.course&&c.jsxs("div",{className:"detail-item",children:[c.jsx("label",{children:"Course:"}),c.jsxs("span",{children:[" ",k.course]})]}),k.branch&&c.jsxs("div",{className:"detail-item",children:[c.jsx("label",{children:"Branch:"}),c.jsxs("span",{children:[" ",k.branch]})]}),k.year&&c.jsxs("div",{className:"detail-item",children:[c.jsx("label",{children:"Year:"}),c.jsxs("span",{children:[" ",k.year]})]}),k.cgpa&&c.jsxs("div",{className:"detail-item",children:[c.jsx("label",{children:"CGPA:"}),c.jsxs("span",{children:[" ",k.cgpa]})]}),k.mobile&&c.jsxs("div",{className:"detail-item",children:[c.jsx("label",{children:"Mobile:"}),c.jsxs("span",{children:[" ",k.mobile]})]})]}),k.skills&&k.skills.length>0&&c.jsxs("div",{className:"skills-section",children:[c.jsx("label",{children:"Technical Skills:"}),c.jsx("div",{className:"skills-tags",children:k.skills.map((J,K)=>c.jsx("span",{className:"skill-tag",children:J},K))})]}),k.mainGoal&&c.jsxs("div",{className:"goal-section",children:[c.jsx("label",{children:"Main Goal:"}),c.jsxs("p",{className:"goal-text",children:['"',k.mainGoal,'"']})]})]})]},k.id))})]})]})},L_=({hive:i,mode:e="applications"})=>{const[s,r]=ce.useState([]),[o,h]=ce.useState(!0),[f,p]=ce.useState(null),[v,y]=ce.useState("all"),[E,R]=ce.useState(""),[C,P]=ce.useState(!1),[k,J]=ce.useState(null),[K,me]=ce.useState(null),[ie,Q]=ce.useState(""),[he,ne]=ce.useState({total:0,pending:0,approved:0,rejected:0});if(ce.useEffect(()=>{if(!i?.hiveName||e!=="applications")return;h(!0),Q("");const N=Ye(Ae(ge,"members"),Pe("selectedHiveName","==",i.hiveName));Ye(Ae(ge,"members_approved"),Pe("selectedHiveName","==",i.hiveName)),Ye(Ae(ge,"members_rejected"),Pe("selectedHiveName","==",i.hiveName));const M=Km(N,Ve=>{const $e=Ve.docs.map(Y=>({id:Y.id,...Y.data()}));$e.sort((Y,re)=>{const ve=new Date(Y.createdAt||0);return new Date(re.createdAt||0)-ve}),r($e),h(!1)},Ve=>{console.error("Error fetching applications:",Ve),Q("Failed to load member applications. Please try again."),h(!1)});return(async()=>{try{const $e=(await Ca.getApprovedMembers(i.hiveName)).size,re=(await Ca.getRejectedMembers(i.hiveName)).size;ne(ve=>({...ve,approved:$e,rejected:re}))}catch(Ve){console.error("Error fetching stats:",Ve)}})(),()=>M()},[i?.hiveName,e]),e==="members")return c.jsx(Aj,{hive:i});ce.useEffect(()=>{ne(N=>({...N,pending:s.length,total:N.approved+N.rejected+s.length}))},[s,he.approved,he.rejected]);const ue=s.filter(N=>{if(!(!E||N.name?.toLowerCase().includes(E.toLowerCase())||N.email?.toLowerCase().includes(E.toLowerCase())||N.course?.toLowerCase().includes(E.toLowerCase())||N.branch?.toLowerCase().includes(E.toLowerCase())))return!1;if(v==="all")return!0;const S=N.createdAt?new Date(N.createdAt):new Date,$e=Math.abs(new Date-S),Y=Math.ceil($e/(1e3*60*60*24));switch(v){case"recent":return Y<=3;case"thisWeek":return Y<=7;case"thisMonth":return Y<=30;default:return!0}}),w=async(N,M)=>{p(N);try{const S=await Ca.approveMember(N,M);J(S),me(M),P(!0),r(Ve=>Ve.filter($e=>$e.id!==N))}catch(S){console.error("Error approving member:",S),Q("Failed to approve member. Please try again.")}finally{p(null)}},x=async(N,M)=>{p(N);try{await Ca.rejectMember(N,M),r(S=>S.filter(Ve=>Ve.id!==N))}catch(S){console.error("Error rejecting member:",S),Q("Failed to reject member. Please try again.")}finally{p(null)}},D=()=>{P(!1),J(null),me(null)},j=N=>{switch(N){case"recent":return"Last 3 Days";case"thisWeek":return"This Week";case"thisMonth":return"This Month";default:return"All Applications"}};return o?c.jsxs("div",{className:"member-management",children:[c.jsxs("div",{className:"member-management-header",children:[c.jsx("h2",{children:" Member Applications"}),c.jsxs("p",{children:["Managing applications for ",c.jsx("span",{className:"hive-highlight",children:i?.hiveName})]})]}),c.jsxs("div",{className:"loading-container",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("p",{children:"Loading member applications..."})]})]}):c.jsxs("div",{className:"member-management",children:[c.jsxs("div",{className:"member-management-header",children:[c.jsxs("div",{className:"header-content",children:[c.jsx("h2",{children:" Member Applications"}),c.jsxs("p",{children:["Managing applications for ",c.jsx("span",{className:"hive-highlight",children:i?.hiveName})]})]}),c.jsxs("div",{className:"stats-grid",children:[c.jsxs("div",{className:"stat-card total",children:[c.jsx("div",{className:"stat-number",children:he.total}),c.jsx("div",{className:"stat-label",children:"Total Applications"})]}),c.jsxs("div",{className:"stat-card pending",children:[c.jsx("div",{className:"stat-number",children:he.pending}),c.jsx("div",{className:"stat-label",children:"Pending Review"})]}),c.jsxs("div",{className:"stat-card approved",children:[c.jsx("div",{className:"stat-number",children:he.approved}),c.jsx("div",{className:"stat-label",children:"Approved"})]}),c.jsxs("div",{className:"stat-card rejected",children:[c.jsx("div",{className:"stat-number",children:he.rejected}),c.jsx("div",{className:"stat-label",children:"Rejected"})]})]})]}),c.jsxs("div",{className:"management-controls",children:[c.jsxs("div",{className:"search-container",children:[c.jsx("input",{type:"text",placeholder:"Search by name, email, course, or branch...",value:E,onChange:N=>R(N.target.value),className:"search-input"}),c.jsx("span",{className:"search-icon",children:""})]}),c.jsxs("div",{className:"filter-container",children:[c.jsx("label",{children:"Filter by:"}),c.jsxs("select",{value:v,onChange:N=>y(N.target.value),className:"filter-select",children:[c.jsx("option",{value:"all",children:"All Applications"}),c.jsx("option",{value:"recent",children:"Last 3 Days"}),c.jsx("option",{value:"thisWeek",children:"This Week"}),c.jsx("option",{value:"thisMonth",children:"This Month"})]})]})]}),ie&&c.jsxs("div",{className:"error-banner",children:[c.jsx("span",{className:"error-icon",children:""}),ie,c.jsx("button",{onClick:()=>Q(""),className:"dismiss-btn","aria-label":"Dismiss error",children:""})]}),c.jsxs("div",{className:"applications-section",children:[c.jsxs("div",{className:"section-header",children:[c.jsxs("h3",{children:[j(v),c.jsxs("span",{className:"count",children:["(",ue.length,")"]})]}),E&&c.jsx("button",{onClick:()=>R(""),className:"clear-search-btn",children:"Clear search"})]}),ue.length===0?c.jsxs("div",{className:"empty-state",children:[c.jsx("div",{className:"empty-icon",children:""}),c.jsx("h3",{children:s.length===0?"No member applications yet":"No applications match your filters"}),c.jsx("p",{children:s.length===0?`No one has applied to join ${i?.hiveName} yet. Applications will appear here when submitted.`:"Try adjusting your search term or date filter to see more applications."}),E&&c.jsx("button",{onClick:()=>R(""),className:"secondary-btn",children:"Clear search"})]}):c.jsx("div",{className:"applications-grid",children:ue.map(N=>c.jsx(Ej,{application:N,onApprove:w,onReject:x,isProcessing:f===N.id},N.id))})]}),C&&k&&K&&c.jsx("div",{className:"modal-overlay",children:c.jsx(Tj,{credentials:k,memberData:K,onClose:D})})]})},xj=({isOpen:i,onClose:e,onSubmit:s,hive:r})=>{const[o,h]=ce.useState({eventName:"",eventType:"",eventDescription:"",timeline:"",campus:"",venue:"",duration:"",startDate:"",startTime:"",endDate:"",endTime:"",maxParticipants:"",registrationFees:"",numberOfVolunteers:"",prerequisites:"",estimatedBudget:"",budgetBreakdown:"",sponsorshipNeeded:!1,additionalNotes:""}),[f,p]=ce.useState({}),[v,y]=ce.useState(!1),E=P=>{const{name:k,value:J,type:K,checked:me}=P.target;h(ie=>({...ie,[k]:K==="checkbox"?me:J})),f[k]&&p(ie=>({...ie,[k]:""}))},R=()=>{const P={};return o.eventName.trim()||(P.eventName="Event name is required"),o.eventType||(P.eventType="Event type is required"),o.campus.trim()||(P.campus="Campus location is required"),o.startDate||(P.startDate="Start date is required"),o.startTime||(P.startTime="Start time is required"),o.duration||(P.duration="Duration is required"),(!o.maxParticipants||o.maxParticipants<=0)&&(P.maxParticipants="Valid number of participants is required"),(!o.estimatedBudget||o.estimatedBudget<0)&&(P.estimatedBudget="Valid budget estimate is required"),o.startDate&&o.endDate&&o.endDate<o.startDate&&(P.endDate="End date cannot be before start date"),o.startDate&&o.endDate&&o.startDate===o.endDate&&o.startTime&&o.endTime&&o.endTime<=o.startTime&&(P.endTime="End time must be after start time"),P},C=async P=>{P.preventDefault();const k=R();if(Object.keys(k).length>0){p(k);return}y(!0);try{const J={...o,hiveName:r.hiveName,hiveId:r.id||r.hiveName,creatorName:r.creatorName,creatorEmail:r.email,status:"draft",approvalStatus:"pending",adminComments:"",approvedAt:null,approvedBy:null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await s(J),e(),h({eventName:"",eventType:"",eventDescription:"",timeline:"",campus:"",venue:"",duration:"",startDate:"",startTime:"",endDate:"",endTime:"",maxParticipants:"",registrationFees:"",numberOfVolunteers:"",prerequisites:"",estimatedBudget:"",budgetBreakdown:"",sponsorshipNeeded:!1,additionalNotes:""}),p({})}catch(J){console.error("Error creating event:",J),alert("Failed to create event. Please try again.")}finally{y(!1)}};return i?c.jsx("div",{className:"event-modal-overlay",onClick:e,children:c.jsxs("div",{className:"event-modal",onClick:P=>P.stopPropagation(),children:[c.jsxs("div",{className:"event-modal-header",children:[c.jsx("h2",{children:" Create New Event"}),c.jsx("button",{className:"close-btn",onClick:e,children:""})]}),c.jsxs("form",{className:"event-form",onSubmit:C,children:[c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{children:" Event Information"}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"eventName",children:"Event Name *"}),c.jsx("input",{type:"text",id:"eventName",name:"eventName",value:o.eventName,onChange:E,placeholder:"Enter event name",className:f.eventName?"error":""}),f.eventName&&c.jsx("span",{className:"error-text",children:f.eventName})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"eventType",children:"Event Type *"}),c.jsxs("select",{id:"eventType",name:"eventType",value:o.eventType,onChange:E,className:f.eventType?"error":"",children:[c.jsx("option",{value:"",children:"Select event type"}),c.jsx("option",{value:"workshop",children:"Workshop"}),c.jsx("option",{value:"seminar",children:"Seminar"}),c.jsx("option",{value:"hackathon",children:"Hackathon"}),c.jsx("option",{value:"networking",children:"Networking Event"}),c.jsx("option",{value:"competition",children:"Competition"}),c.jsx("option",{value:"conference",children:"Conference"}),c.jsx("option",{value:"social",children:"Social Gathering"}),c.jsx("option",{value:"training",children:"Training Session"}),c.jsx("option",{value:"other",children:"Other"})]}),f.eventType&&c.jsx("span",{className:"error-text",children:f.eventType})]})]}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{htmlFor:"eventDescription",children:"Event Description"}),c.jsx("textarea",{id:"eventDescription",name:"eventDescription",value:o.eventDescription,onChange:E,placeholder:"Describe your event, its objectives, and what participants can expect...",rows:"3"})]}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{htmlFor:"timeline",children:"Event Timeline/Agenda"}),c.jsx("textarea",{id:"timeline",name:"timeline",value:o.timeline,onChange:E,placeholder:"Provide a detailed schedule or timeline for the event...",rows:"3"})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{children:" Venue & Schedule"}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"campus",children:"Campus/Location *"}),c.jsx("input",{type:"text",id:"campus",name:"campus",value:o.campus,onChange:E,placeholder:"Which campus or location?",className:f.campus?"error":""}),f.campus&&c.jsx("span",{className:"error-text",children:f.campus})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"venue",children:"Specific Venue"}),c.jsx("input",{type:"text",id:"venue",name:"venue",value:o.venue,onChange:E,placeholder:"Room/Hall/Building name"})]})]}),c.jsx("div",{className:"form-row",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"duration",children:"Duration *"}),c.jsxs("select",{id:"duration",name:"duration",value:o.duration,onChange:E,className:f.duration?"error":"",children:[c.jsx("option",{value:"",children:"Select duration"}),c.jsx("option",{value:"1 hour",children:"1 hour"}),c.jsx("option",{value:"2 hours",children:"2 hours"}),c.jsx("option",{value:"3 hours",children:"3 hours"}),c.jsx("option",{value:"Half day (4 hours)",children:"Half day (4 hours)"}),c.jsx("option",{value:"Full day (8 hours)",children:"Full day (8 hours)"}),c.jsx("option",{value:"2 days",children:"2 days"}),c.jsx("option",{value:"3 days",children:"3 days"}),c.jsx("option",{value:"1 week",children:"1 week"}),c.jsx("option",{value:"Custom",children:"Custom"})]}),f.duration&&c.jsx("span",{className:"error-text",children:f.duration})]})}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"startDate",children:"Start Date *"}),c.jsx("input",{type:"date",id:"startDate",name:"startDate",value:o.startDate,onChange:E,min:new Date().toISOString().split("T")[0],className:f.startDate?"error":""}),f.startDate&&c.jsx("span",{className:"error-text",children:f.startDate})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"startTime",children:"Start Time *"}),c.jsx("input",{type:"time",id:"startTime",name:"startTime",value:o.startTime,onChange:E,className:f.startTime?"error":""}),f.startTime&&c.jsx("span",{className:"error-text",children:f.startTime})]})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"endDate",children:"End Date"}),c.jsx("input",{type:"date",id:"endDate",name:"endDate",value:o.endDate,onChange:E,min:o.startDate||new Date().toISOString().split("T")[0],className:f.endDate?"error":""}),f.endDate&&c.jsx("span",{className:"error-text",children:f.endDate})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"endTime",children:"End Time"}),c.jsx("input",{type:"time",id:"endTime",name:"endTime",value:o.endTime,onChange:E,className:f.endTime?"error":""}),f.endTime&&c.jsx("span",{className:"error-text",children:f.endTime})]})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{children:" Participation Details"}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"maxParticipants",children:"Maximum Participants *"}),c.jsx("input",{type:"number",id:"maxParticipants",name:"maxParticipants",value:o.maxParticipants,onChange:E,placeholder:"Enter maximum number",min:"1",className:f.maxParticipants?"error":""}),f.maxParticipants&&c.jsx("span",{className:"error-text",children:f.maxParticipants})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"registrationFees",children:"Registration Fees ()"}),c.jsx("input",{type:"number",id:"registrationFees",name:"registrationFees",value:o.registrationFees,onChange:E,placeholder:"Enter amount (0 for free)",min:"0",step:"0.01"})]})]}),c.jsx("div",{className:"form-row",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"numberOfVolunteers",children:"Number of Volunteers Needed"}),c.jsx("input",{type:"number",id:"numberOfVolunteers",name:"numberOfVolunteers",value:o.numberOfVolunteers,onChange:E,placeholder:"Enter number needed",min:"0"})]})}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{htmlFor:"prerequisites",children:"Prerequisites/Requirements"}),c.jsx("textarea",{id:"prerequisites",name:"prerequisites",value:o.prerequisites,onChange:E,placeholder:"Any specific skills, equipment, or requirements for participants...",rows:"2"})]})]}),c.jsxs("div",{className:"form-section",children:[c.jsx("h3",{children:" Budget & Planning"}),c.jsx("div",{className:"form-row",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"estimatedBudget",children:"Estimated Budget () *"}),c.jsx("input",{type:"number",id:"estimatedBudget",name:"estimatedBudget",value:o.estimatedBudget,onChange:E,placeholder:"Total estimated cost",min:"0",step:"0.01",className:f.estimatedBudget?"error":""}),f.estimatedBudget&&c.jsx("span",{className:"error-text",children:f.estimatedBudget})]})}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{htmlFor:"budgetBreakdown",children:"Budget Breakdown"}),c.jsx("textarea",{id:"budgetBreakdown",name:"budgetBreakdown",value:o.budgetBreakdown,onChange:E,placeholder:"Break down the budget: venue costs, refreshments, materials, speaker fees, etc.",rows:"3"})]}),c.jsx("div",{className:"form-group checkbox-group",children:c.jsxs("label",{className:"checkbox-label",children:[c.jsx("input",{type:"checkbox",name:"sponsorshipNeeded",checked:o.sponsorshipNeeded,onChange:E}),c.jsx("span",{className:"checkmark"}),"Sponsorship or external funding needed"]})}),c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{htmlFor:"additionalNotes",children:"Additional Notes"}),c.jsx("textarea",{id:"additionalNotes",name:"additionalNotes",value:o.additionalNotes,onChange:E,placeholder:"Any additional information, special requirements, or notes...",rows:"2"})]})]}),c.jsxs("div",{className:"form-actions",children:[c.jsx("button",{type:"button",className:"cancel-btn",onClick:e,disabled:v,children:"Cancel"}),c.jsx("button",{type:"submit",className:"submit-btn",disabled:v,children:v?"Creating Event...":"Create Event"})]})]})]})}):null},No={async createEvent(i){try{console.log(" Creating new event:",i.eventName);const e={...i,createdAt:ps(),updatedAt:ps(),status:i.status||"draft",registrationFees:i.registrationFees||0,numberOfVolunteers:i.numberOfVolunteers||0,sponsorshipNeeded:i.sponsorshipNeeded||!1},s=await Gr(Ae(ge,"events"),e);return console.log(" Event created successfully with ID:",s.id),{id:s.id,...e}}catch(e){throw console.error(" Error creating event:",e),new Error(`Failed to create event: ${e.message}`)}},async getAllEvents(){try{console.log(" Fetching all events...");const i=Ye(Ae(ge,"events"),Ou("createdAt","desc")),s=(await Xe(i)).docs.map(r=>({id:r.id,...r.data()}));return console.log(` Retrieved ${s.length} events`),s}catch(i){throw console.error(" Error fetching events:",i),new Error(`Failed to fetch events: ${i.message}`)}},async getEventsByHive(i){try{console.log(" Fetching events for hive:",i);const e=Ye(Ae(ge,"events"),Pe("hiveName","==",i)),o=(await Xe(e)).docs.map(h=>({id:h.id,...h.data()})).sort((h,f)=>{const p=h.createdAt?.toDate?.()||new Date(h.createdAt||0);return(f.createdAt?.toDate?.()||new Date(f.createdAt||0))-p});return console.log(` Retrieved ${o.length} events for ${i}`),o}catch(e){throw console.error(" Error fetching hive events:",e),new Error(`Failed to fetch hive events: ${e.message}`)}},async getEventsByHiveSimple(i){try{console.log(" Fetching events for hive (simple):",i);const o=(await Xe(Ae(ge,"events"))).docs.map(h=>({id:h.id,...h.data()})).filter(h=>h.hiveName===i).sort((h,f)=>{const p=h.createdAt?.toDate?.()||new Date(h.createdAt||0);return(f.createdAt?.toDate?.()||new Date(f.createdAt||0))-p});return console.log(` Retrieved ${o.length} events for ${i} (simple)`),o}catch(e){throw console.error(" Error fetching hive events (simple):",e),new Error(`Failed to fetch hive events (simple): ${e.message}`)}},async getEventsByStatus(i){try{console.log(" Fetching events with status:",i);const e=Ye(Ae(ge,"events"),Pe("status","==",i)),o=(await Xe(e)).docs.map(h=>({id:h.id,...h.data()})).sort((h,f)=>{const p=h.createdAt?.toDate?.()||new Date(h.createdAt||0);return(f.createdAt?.toDate?.()||new Date(f.createdAt||0))-p});return console.log(` Retrieved ${o.length} ${i} events`),o}catch(e){throw console.error(" Error fetching events by status:",e),new Error(`Failed to fetch events by status: ${e.message}`)}},async getUpcomingEvents(){try{console.log(" Fetching upcoming events...");const i=new Date().toISOString().split("T")[0],e=Ye(Ae(ge,"events"),Pe("startDate",">=",i),Ou("startDate","asc")),r=(await Xe(e)).docs.map(o=>({id:o.id,...o.data()}));return console.log(` Retrieved ${r.length} upcoming events`),r}catch(i){throw console.error(" Error fetching upcoming events:",i),new Error(`Failed to fetch upcoming events: ${i.message}`)}},async updateEvent(i,e){try{console.log(" Updating event:",i);const s=yn(ge,"events",i),r={...e,updatedAt:ps()};return await ku(s,r),console.log(" Event updated successfully"),!0}catch(s){throw console.error(" Error updating event:",s),new Error(`Failed to update event: ${s.message}`)}},async deleteEvent(i){try{console.log(" Deleting event:",i);const e=yn(ge,"events",i);return await J1(e),console.log(" Event deleted successfully"),!0}catch(e){throw console.error(" Error deleting event:",e),new Error(`Failed to delete event: ${e.message}`)}},async updateEventStatus(i,e){try{console.log(" Updating event status:",i,"to",e);const s=yn(ge,"events",i);return await ku(s,{status:e,updatedAt:ps()}),console.log(" Event status updated successfully"),!0}catch(s){throw console.error(" Error updating event status:",s),new Error(`Failed to update event status: ${s.message}`)}},async getEventsForMember(i){try{console.log(" Fetching events for member of hive:",i);const o=(await Xe(Ae(ge,"events"))).docs.map(h=>({id:h.id,...h.data()})).filter(h=>{const f=h.hiveName===i,p=!h.hiveName||h.hiveName==="admin"||h.organizerType==="admin";return f||p}).sort((h,f)=>{const p=h.createdAt?.toDate?.()||new Date(h.createdAt||0);return(f.createdAt?.toDate?.()||new Date(f.createdAt||0))-p});return console.log(` Retrieved ${o.length} events for member (${i} hive + admin events)`),o}catch(e){throw console.error(" Error fetching member events:",e),new Error(`Failed to fetch member events: ${e.message}`)}},async getUpcomingEventsForMember(i){try{console.log(" Fetching upcoming events for member of hive:",i);const e=new Date().toISOString().split("T")[0],o=(await this.getEventsForMember(i)).filter(h=>h.startDate>=e&&(h.status==="active"||h.status==="approved")).sort((h,f)=>{const p=new Date(h.startDate),v=new Date(f.startDate);return p-v});return console.log(` Retrieved ${o.length} upcoming events for member`),o}catch(e){throw console.error(" Error fetching upcoming member events:",e),new Error(`Failed to fetch upcoming member events: ${e.message}`)}},async getEventStatistics(i=null){try{console.log(" Fetching event statistics...");let e;i?e=Ye(Ae(ge,"events"),Pe("hiveName","==",i)):e=Ae(ge,"events");const r=(await Xe(e)).docs.map(h=>({id:h.id,...h.data()})),o={total:r.length,draft:r.filter(h=>h.status==="draft").length,active:r.filter(h=>h.status==="active").length,completed:r.filter(h=>h.status==="completed").length,cancelled:r.filter(h=>h.status==="cancelled").length,upcoming:r.filter(h=>{const f=new Date().toISOString().split("T")[0];return h.startDate>=f}).length};return console.log(" Event statistics calculated:",o),o}catch(e){throw console.error(" Error fetching event statistics:",e),new Error(`Failed to fetch event statistics: ${e.message}`)}}},Sj=({hive:i,onCreateEvent:e})=>{const[s,r]=ce.useState([]),[o,h]=ce.useState(!0),[f,p]=ce.useState(""),[v,y]=ce.useState("all"),[E,R]=ce.useState({total:0,draft:0,active:0,completed:0,cancelled:0,pending:0,approved:0,rejected:0});ce.useEffect(()=>{if(!i?.hiveName){h(!1);return}console.log(" Setting up real-time listener for hive events:",i.hiveName),h(!0);const Q=Ye(Ae(ge,"events"),Pe("hiveName","==",i.hiveName)),he=Km(Q,ne=>{try{const ue=ne.docs.map(x=>({id:x.id,...x.data(),approvalStatus:x.data().approvalStatus||"pending"}));console.log(` Real-time update: ${ue.length} events for ${i.hiveName}`),r(ue);const w={total:ue.length,draft:ue.filter(x=>x.status==="draft").length,active:ue.filter(x=>x.status==="active").length,completed:ue.filter(x=>x.status==="completed").length,cancelled:ue.filter(x=>x.status==="cancelled").length,pending:ue.filter(x=>(x.approvalStatus||"pending")==="pending").length,approved:ue.filter(x=>x.approvalStatus==="approved").length,rejected:ue.filter(x=>x.approvalStatus==="rejected").length};R(w),console.log(" Event statistics updated:",w),p(""),h(!1)}catch(ue){console.error(" Error processing events snapshot:",ue),p("Failed to load events. Please try again."),h(!1)}},ne=>{console.error(" Error with events listener:",ne),p("Failed to load events. Please check your connection."),h(!1)});return()=>{console.log(" Cleaning up events listener for:",i.hiveName),he()}},[i?.hiveName]);const C=s.filter(Q=>v==="all"?!0:Q.status===v),P=async(Q,he)=>{try{console.log(" Updating event status:",Q,"to",he),await No.updateEventStatus(Q,he),r(w=>w.map(x=>x.id===Q?{...x,status:he}:x));const ne=s.map(w=>w.id===Q?{...w,status:he}:w),ue={total:ne.length,draft:ne.filter(w=>w.status==="draft").length,active:ne.filter(w=>w.status==="active").length,completed:ne.filter(w=>w.status==="completed").length,cancelled:ne.filter(w=>w.status==="cancelled").length,pending:ne.filter(w=>w.approvalStatus==="pending").length,approved:ne.filter(w=>w.approvalStatus==="approved").length,rejected:ne.filter(w=>w.approvalStatus==="rejected").length};R(ue)}catch(ne){console.error(" Error updating event status:",ne),alert("Failed to update event status. Please try again.")}},k=async(Q,he)=>{if(window.confirm(`Are you sure you want to delete "${he}"? This action cannot be undone.`))try{console.log(" Deleting event:",Q),await No.deleteEvent(Q),r(w=>w.filter(x=>x.id!==Q));const ne=s.filter(w=>w.id!==Q),ue={total:ne.length,draft:ne.filter(w=>w.status==="draft").length,active:ne.filter(w=>w.status==="active").length,completed:ne.filter(w=>w.status==="completed").length,cancelled:ne.filter(w=>w.status==="cancelled").length,pending:ne.filter(w=>w.approvalStatus==="pending").length,approved:ne.filter(w=>w.approvalStatus==="approved").length,rejected:ne.filter(w=>w.approvalStatus==="rejected").length};R(ue)}catch(ne){console.error(" Error deleting event:",ne),alert("Failed to delete event. Please try again.")}},J=Q=>{switch(Q){case"draft":return"#94a3b8";case"active":return"#10b981";case"completed":return"#3b82f6";case"cancelled":return"#ef4444";default:return"#6b7280"}},K=Q=>{switch(Q){case"draft":return"";case"active":return"";case"completed":return"";case"cancelled":return"";default:return""}},me=Q=>Q?new Date(Q).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Not set",ie=Q=>Q?new Date(`2000-01-01T${Q}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):"";return o?c.jsx("div",{className:"events-management",children:c.jsxs("div",{className:"loading-container",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("p",{children:"Loading events..."})]})}):(console.log(" EventsManagement render - Hive:",i?.hiveName,"Events count:",s.length,"Loading:",o),c.jsxs("div",{className:"events-management",children:[c.jsxs("div",{className:"events-header",children:[c.jsxs("div",{className:"header-content",children:[c.jsx("h2",{children:" Events Management"}),c.jsx("p",{children:"Manage your hive's events and activities"}),c.jsxs("small",{style:{color:"#94a3b8",fontSize:"0.8rem"},children:["Showing real-time events for: ",i?.hiveName||"No hive selected"]})]}),c.jsx("button",{className:"create-event-btn",onClick:e,children:" Create New Event"})]}),f&&c.jsxs("div",{className:"error-banner",children:[c.jsxs("span",{children:[" ",f]}),c.jsx("button",{className:"close-error",onClick:()=>p(""),children:""})]}),c.jsxs("div",{className:"event-stats-grid",children:[c.jsxs("div",{className:"stat-card total",children:[c.jsx("div",{className:"stat-number",children:E.total}),c.jsx("div",{className:"stat-label",children:"Total Events"})]}),c.jsxs("div",{className:"stat-card draft",children:[c.jsx("div",{className:"stat-number",children:E.draft}),c.jsx("div",{className:"stat-label",children:"Draft Events"})]}),c.jsxs("div",{className:"stat-card active",children:[c.jsx("div",{className:"stat-number",children:E.active}),c.jsx("div",{className:"stat-label",children:"Active Events"})]}),c.jsxs("div",{className:"stat-card completed",children:[c.jsx("div",{className:"stat-number",children:E.completed}),c.jsx("div",{className:"stat-label",children:"Completed"})]}),c.jsxs("div",{className:"stat-card cancelled",children:[c.jsx("div",{className:"stat-number",children:E.cancelled}),c.jsx("div",{className:"stat-label",children:"Cancelled"})]})]}),c.jsxs("div",{className:"approval-stats-grid",children:[c.jsxs("div",{className:"approval-stat-card pending",children:[c.jsx("div",{className:"stat-number",children:E.pending}),c.jsx("div",{className:"stat-label",children:"Pending Approval"})]}),c.jsxs("div",{className:"approval-stat-card approved",children:[c.jsx("div",{className:"stat-number",children:E.approved}),c.jsx("div",{className:"stat-label",children:"Approved by Admin"})]}),c.jsxs("div",{className:"approval-stat-card rejected",children:[c.jsx("div",{className:"stat-number",children:E.rejected}),c.jsx("div",{className:"stat-label",children:"Rejected by Admin"})]})]}),c.jsx("div",{className:"events-controls",children:c.jsxs("div",{className:"filter-container",children:[c.jsx("label",{htmlFor:"statusFilter",children:"Filter by Status:"}),c.jsxs("select",{id:"statusFilter",className:"filter-select",value:v,onChange:Q=>y(Q.target.value),children:[c.jsxs("option",{value:"all",children:["All Status (",E.total,")"]}),c.jsxs("option",{value:"draft",children:["Draft (",E.draft,")"]}),c.jsxs("option",{value:"active",children:["Active (",E.active,")"]}),c.jsxs("option",{value:"completed",children:["Completed (",E.completed,")"]}),c.jsxs("option",{value:"cancelled",children:["Cancelled (",E.cancelled,")"]})]})]})}),c.jsxs("div",{className:"events-section",children:[c.jsx("div",{className:"section-header",children:c.jsxs("h3",{children:["Events ",c.jsxs("span",{className:"count",children:["(",C.length,")"]})]})}),C.length===0?c.jsxs("div",{className:"empty-state",children:[c.jsx("div",{className:"empty-icon",children:""}),c.jsx("h3",{children:"No events found"}),c.jsx("p",{children:s.length===0?`No events found for ${i?.hiveName||"this hive"}. Click 'Create New Event' to get started!`:"No events match your current filter criteria."}),s.length===0&&c.jsx("div",{style:{marginTop:"16px",padding:"12px",background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.2)",borderRadius:"8px"},children:c.jsxs("small",{style:{color:"#93c5fd",fontSize:"0.8rem"},children:[" Debug: Listening for events in Firebase collection 'events' where hiveName = '",i?.hiveName,"'"]})}),s.length===0&&c.jsx("button",{className:"create-first-event-btn",onClick:e,children:" Create Your First Event"})]}):c.jsx("div",{className:"events-grid",children:C.map(Q=>c.jsxs("div",{className:"event-card",children:[c.jsxs("div",{className:"event-header",children:[c.jsxs("div",{className:"event-title",children:[c.jsx("h4",{children:Q.eventName}),c.jsx("div",{className:"event-type",children:Q.eventType})]}),c.jsxs("div",{className:"event-status",children:[c.jsxs("span",{className:`status-badge ${Q.status}`,style:{borderColor:J(Q.status)},children:[K(Q.status)," ",Q.status]}),c.jsxs("span",{className:`approval-badge ${Q.approvalStatus||"pending"}`,children:[Q.approvalStatus==="approved"&&" Approved",Q.approvalStatus==="rejected"&&" Rejected",(!Q.approvalStatus||Q.approvalStatus==="pending")&&" Pending Approval"]})]})]}),c.jsxs("div",{className:"event-details",children:[c.jsxs("div",{className:"detail-row",children:[c.jsx("span",{className:"detail-label",children:" Location:"}),c.jsx("span",{className:"detail-value",children:Q.campus})]}),c.jsxs("div",{className:"detail-row",children:[c.jsx("span",{className:"detail-label",children:" Date:"}),c.jsxs("span",{className:"detail-value",children:[me(Q.startDate),Q.startTime&&` at ${ie(Q.startTime)}`]})]}),c.jsxs("div",{className:"detail-row",children:[c.jsx("span",{className:"detail-label",children:" Participants:"}),c.jsx("span",{className:"detail-value",children:Q.maxParticipants||"Unlimited"})]}),c.jsxs("div",{className:"detail-row",children:[c.jsx("span",{className:"detail-label",children:" Budget:"}),c.jsxs("span",{className:"detail-value",children:["",Q.estimatedBudget||0]})]})]}),Q.eventDescription&&c.jsx("div",{className:"event-description",children:c.jsx("p",{children:Q.eventDescription})}),Q.adminComments&&c.jsxs("div",{className:"admin-comments",children:[c.jsx("h5",{children:"Admin Comments:"}),c.jsx("p",{children:Q.adminComments}),Q.approvedAt&&c.jsxs("small",{children:["Updated: ",me(Q.approvedAt)," by ",Q.approvedBy||"Admin"]})]}),c.jsxs("div",{className:"event-actions",children:[c.jsx("div",{className:"status-actions",children:c.jsxs("select",{value:Q.status,onChange:he=>P(Q.id,he.target.value),className:"status-select",children:[c.jsx("option",{value:"draft",children:" Draft"}),c.jsx("option",{value:"active",children:" Active"}),c.jsx("option",{value:"completed",children:" Completed"}),c.jsx("option",{value:"cancelled",children:" Cancelled"})]})}),c.jsxs("div",{className:"action-buttons",children:[c.jsx("button",{className:"action-btn edit-btn",title:"Edit Event",children:" Edit"}),c.jsx("button",{className:"action-btn delete-btn",title:"Delete Event",onClick:()=>k(Q.id,Q.eventName),children:" Delete"})]})]}),c.jsx("div",{className:"event-meta",children:c.jsxs("small",{children:["Created: ",me(Q.createdAt?.seconds?new Date(Q.createdAt.seconds*1e3).toISOString().split("T")[0]:Q.createdAt)]})})]},Q.id))})]})]}))},cn={VOLUNTEERS:"volunteers",VOLUNTEER_APPLICATIONS:"volunteer_applications",VOLUNTEER_NOTIFICATIONS:"volunteer_notifications"},Nj=async()=>{try{console.log(" Fetching active volunteer opportunities for members...");const i=Ye(Ae(ge,cn.VOLUNTEERS),Pe("isActive","==",!0)),e=await Xe(i),s=[];for(const o of e.docs){const h=o.data(),f=Ye(Ae(ge,cn.VOLUNTEER_APPLICATIONS),Pe("volunteerId","==",o.id),Pe("status","==","approved")),p=await Xe(f);let v=null;if(h.eventId)try{const y=await YE(yn(ge,"events",h.eventId));y.exists()&&(v=y.data())}catch(y){console.warn(" Could not fetch event details for opportunity:",y.message)}s.push({id:o.id,...h,event:v,currentApplications:p.size,spotsRemaining:(h.maxVolunteers||0)-p.size})}const r=s.sort((o,h)=>(h.createdAt?.seconds||0)-(o.createdAt?.seconds||0));return console.log(` Retrieved and sorted ${r.length} active volunteer opportunities with event details`),r}catch(i){throw console.error(" Error fetching volunteer opportunities:",i),new Error(`Failed to fetch volunteer opportunities: ${i.message}`)}},wj=async(i,e)=>{try{console.log(" Applying for volunteer opportunity:",i);const s=Ye(Ae(ge,cn.VOLUNTEER_APPLICATIONS),Pe("volunteerId","==",i),Pe("memberEmail","==",e.memberEmail));if(!(await Xe(s)).empty)throw new Error("You have already applied for this volunteer opportunity");const o={volunteerId:i,memberEmail:e.memberEmail,memberName:e.memberName,hiveName:e.hiveName,phone:e.phone||"",skills:e.skills||[],experience:e.experience||"",availability:e.availability||"",motivation:e.motivation||"",status:"pending",appliedAt:ps(),updatedAt:ps()},h=await Gr(Ae(ge,cn.VOLUNTEER_APPLICATIONS),o);return console.log(" Volunteer application submitted:",h.id),h.id}catch(s){throw console.error(" Error applying for volunteer:",s),s}},jj=async i=>{try{console.log(" Fetching volunteer applications for member:",i);const e=Ye(Ae(ge,cn.VOLUNTEER_APPLICATIONS),Pe("memberEmail","==",i)),s=await Xe(e),r=[];for(const h of s.docs){const f=h.data(),p=await Xe(Ye(Ae(ge,cn.VOLUNTEERS),Pe("__name__","==",f.volunteerId)));let v=null;p.empty||(v=p.docs[0].data()),r.push({id:h.id,...f,opportunity:v})}const o=r.sort((h,f)=>(f.appliedAt?.seconds||0)-(h.appliedAt?.seconds||0));return console.log(` Retrieved and sorted ${o.length} applications for member`),o}catch(e){throw console.error(" Error fetching member applications:",e),new Error(`Failed to fetch applications: ${e.message}`)}},Rj=async i=>{try{console.log(" Fetching volunteer notifications for member:",i);const e=Ye(Ae(ge,cn.VOLUNTEER_NOTIFICATIONS),Pe("memberEmail","==",i)),s=await Xe(e),r=[];s.forEach(h=>{r.push({id:h.id,...h.data()})});const o=r.filter(h=>!h.isRead).sort((h,f)=>{const p=h.createdAt?.toDate?h.createdAt.toDate():new Date(0);return(f.createdAt?.toDate?f.createdAt.toDate():new Date(0))-p});return console.log(` Retrieved ${o.length} unread notifications for member`),o}catch(e){return console.error(" Error fetching notifications:",e),[]}},Cj=async i=>{try{await ku(yn(ge,cn.VOLUNTEER_NOTIFICATIONS,i),{isRead:!0,readAt:ps()}),console.log(" Notification marked as read:",i)}catch(e){console.error(" Error marking notification as read:",e)}},Dj=async i=>{try{console.log(" Creating volunteer notifications for all members");const e=Ye(Ae(ge,"members_approved")),s=await Xe(e),r=Xm(ge);let o=0;s.forEach(h=>{const f=h.data(),p={type:"volunteer_opportunity",title:"New Volunteer Opportunity Available! ",message:`A new volunteer opportunity "${i.title||"Volunteer Position"}" is now open for applications. Join us and make a difference!`,memberEmail:f.email||f.credentials?.email,memberName:f.name,opportunityId:i.id,opportunityTitle:i.title,isRead:!1,createdAt:ps()},v=yn(Ae(ge,cn.VOLUNTEER_NOTIFICATIONS));r.set(v,p),o++}),await r.commit(),console.log(` Created ${o} volunteer notifications`)}catch(e){console.error(" Error creating volunteer notifications:",e)}},Ij=async(i=null)=>{try{console.log(" Fetching volunteer applications for admin review");let e;i?e=Ye(Ae(ge,cn.VOLUNTEER_APPLICATIONS),Pe("volunteerId","==",i)):e=Ae(ge,cn.VOLUNTEER_APPLICATIONS);const s=await Xe(e),r=[];for(const h of s.docs){const f=h.data(),p=Ye(Ae(ge,cn.VOLUNTEERS),Pe("__name__","==",f.volunteerId)),v=await Xe(p);let y=null;v.empty||(y=v.docs[0].data()),r.push({id:h.id,...f,opportunity:y})}const o=r.sort((h,f)=>(f.appliedAt?.seconds||0)-(h.appliedAt?.seconds||0));return console.log(` Retrieved and sorted ${o.length} applications for admin`),o}catch(e){throw console.error(" Error fetching applications for admin:",e),new Error(`Failed to fetch applications: ${e.message}`)}},Vj=async(i,e,s="")=>{try{console.log(" Updating application status:",i,"to",e),await ku(yn(ge,cn.VOLUNTEER_APPLICATIONS,i),{status:e,adminNote:s,reviewedAt:ps(),updatedAt:ps()}),console.log(" Application status updated successfully")}catch(r){throw console.error(" Error updating application status:",r),new Error(`Failed to update application status: ${r.message}`)}},Mj=async()=>{try{console.log(" Fetching volunteer statistics for admin");const[i,e]=await Promise.all([Xe(Ae(ge,cn.VOLUNTEERS)),Xe(Ae(ge,cn.VOLUNTEER_APPLICATIONS))]),s={totalOpportunities:i.size,activeOpportunities:0,totalApplications:e.size,pendingApplications:0,approvedApplications:0,rejectedApplications:0};return i.forEach(r=>{r.data().isActive&&s.activeOpportunities++}),e.forEach(r=>{switch(r.data().status){case"pending":s.pendingApplications++;break;case"approved":s.approvedApplications++;break;case"rejected":s.rejectedApplications++;break}}),console.log(" Volunteer statistics calculated:",s),s}catch(i){throw console.error(" Error fetching volunteer statistics:",i),new Error(`Failed to fetch volunteer statistics: ${i.message}`)}},$s={getActiveVolunteerOpportunities:Nj,applyForVolunteer:wj,getMemberApplications:jj,getVolunteerNotifications:Rj,markNotificationAsRead:Cj,createVolunteerNotifications:Dj,getVolunteerApplicationsForAdmin:Ij,updateApplicationStatus:Vj,getVolunteerStatsForAdmin:Mj},Oj=({currentUser:i,onBack:e})=>{const[s,r]=ce.useState([]),[o,h]=ce.useState([]),[f,p]=ce.useState([]),[v,y]=ce.useState(!0),[E,R]=ce.useState(null),[C,P]=ce.useState("opportunities"),[k,J]=ce.useState(null),[K,me]=ce.useState(!1),[ie,Q]=ce.useState({phone:"",skills:[],experience:"",availability:"",motivation:"",tshirtSize:""});ce.useEffect(()=>{he();const j=setInterval(()=>{$s.getVolunteerNotifications(i.email).then(N=>{p(N)}).catch(N=>{console.error("Error refreshing notifications:",N)})},3e4);return()=>clearInterval(j)},[i.email]);const he=async()=>{try{y(!0);const[j,N,M]=await Promise.all([$s.getActiveVolunteerOpportunities(),$s.getMemberApplications(i.email),$s.getVolunteerNotifications(i.email)]);r(j),h(N),p(M)}catch(j){console.error("Error fetching volunteer data:",j),R("Failed to load volunteer opportunities. Please try again.")}finally{y(!1)}},ne=j=>{J(j),Q({phone:"",skills:i.approvedData?.skills||[],experience:"",availability:"",motivation:"",tshirtSize:""}),me(!0)},ue=async j=>{j.preventDefault();try{const N={memberEmail:i.email,memberName:i.memberName,hiveName:i.hiveName,...ie};await $s.applyForVolunteer(k.id,N),alert(`Application submitted successfully! 

Your volunteer application has been sent for review. You will be notified of the decision soon.`),me(!1),J(null);const[M,S]=await Promise.all([$s.getMemberApplications(i.email),$s.getVolunteerNotifications(i.email)]);h(M),p(S)}catch(N){console.error("Error submitting application:",N),alert(`Failed to submit application: ${N.message}`)}},w=async j=>{try{await $s.markNotificationAsRead(j),p(f.filter(N=>N.id!==j))}catch(N){console.error("Error marking notification as read:",N)}},x=j=>{const N=o.find(M=>M.volunteerId===j);return N?N.status:null},D=j=>!x(j.id)&&j.spotsRemaining>0;return v?c.jsxs("div",{className:"volunteer-opportunities-loading",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("p",{children:"Loading volunteer opportunities..."})]}):c.jsxs("div",{className:"volunteer-opportunities",children:[c.jsxs("div",{className:"volunteer-header",children:[c.jsx("button",{className:"back-button",onClick:e,children:" Back to Dashboard"}),c.jsxs("div",{className:"header-content",children:[c.jsx("h2",{children:" Volunteer Opportunities"}),c.jsx("p",{children:"Join us and make a difference in your community!"})]})]}),E&&c.jsxs("div",{className:"error-banner",children:[c.jsx("span",{className:"error-icon",children:""}),c.jsx("span",{children:E}),c.jsx("button",{onClick:()=>R(null),children:""})]}),f.length>0&&c.jsxs("div",{className:"notifications-banner",children:[c.jsx("div",{className:"notifications-header",children:c.jsxs("h3",{children:[" New Notifications (",f.length,")"]})}),c.jsxs("div",{className:"notifications-list",children:[f.slice(0,3).map(j=>c.jsxs("div",{className:"notification-item",children:[c.jsxs("div",{className:"notification-content",children:[c.jsx("h4",{children:j.title}),c.jsx("p",{children:j.message})]}),c.jsx("button",{className:"mark-read-btn",onClick:()=>w(j.id),children:""})]},j.id)),f.length>3&&c.jsxs("div",{className:"more-notifications",children:["+",f.length-3," more notifications"]})]})]}),c.jsxs("div",{className:"volunteer-tabs",children:[c.jsxs("button",{className:`tab ${C==="opportunities"?"active":""}`,onClick:()=>P("opportunities"),children:[" Available Opportunities (",s.length,")"]}),c.jsxs("button",{className:`tab ${C==="applications"?"active":""}`,onClick:()=>P("applications"),children:[" My Applications (",o.length,")"]})]}),c.jsxs("div",{className:"tab-content",children:[C==="opportunities"&&c.jsx("div",{className:"opportunities-grid",children:s.length===0?c.jsxs("div",{className:"empty-state",children:[c.jsx("div",{className:"empty-icon",children:""}),c.jsx("h3",{children:"No volunteer opportunities available"}),c.jsx("p",{children:"Check back later for new opportunities to make a difference!"})]}):s.map(j=>{const N=x(j.id);return c.jsxs("div",{className:"opportunity-card",children:[c.jsxs("div",{className:"opportunity-header",children:[c.jsx("h3",{children:j.title||"Volunteer Opportunity"}),c.jsx("div",{className:"opportunity-meta",children:c.jsxs("span",{className:"spots-remaining",children:[j.spotsRemaining," spots remaining"]})})]}),j.event&&c.jsxs("div",{className:"event-info-section",children:[c.jsxs("div",{className:"event-title",children:[" ",j.event.eventName]}),j.event.startDate&&c.jsxs("div",{className:"event-date",children:[c.jsx("span",{className:"info-icon",children:""}),c.jsx("span",{children:new Date(j.event.startDate).toLocaleDateString(void 0,{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),j.event.venue&&c.jsxs("div",{className:"event-venue",children:[c.jsx("span",{className:"info-icon",children:""}),c.jsx("span",{children:j.event.venue})]})]}),c.jsxs("div",{className:"opportunity-details",children:[c.jsx("p",{className:"description",children:j.description||"Help us make a difference in the community!"}),c.jsxs("div",{className:"opportunity-info",children:[j.deadline&&c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"info-icon",children:""}),c.jsxs("span",{children:["Apply by: ",new Date(j.deadline).toLocaleDateString()]})]}),c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"info-icon",children:""}),c.jsxs("span",{children:[j.currentApplications,"/",j.maxVolunteers," volunteers"]})]}),j.requirements&&c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"info-icon",children:""}),c.jsxs("span",{children:["Requirements: ",j.requirements]})]})]}),j.benefits&&c.jsxs("div",{className:"benefits",children:[c.jsx("h4",{children:" What you'll gain:"}),c.jsx("p",{children:j.benefits})]})]}),c.jsx("div",{className:"opportunity-actions",children:N?c.jsxs("div",{className:`application-status ${N}`,children:[c.jsxs("span",{className:"status-icon",children:[N==="pending"&&"",N==="approved"&&"",N==="rejected"&&""]}),c.jsxs("span",{className:"status-text",children:[N==="pending"&&"Application Pending",N==="approved"&&"Application Approved",N==="rejected"&&"Application Rejected"]})]}):D(j)?c.jsx("button",{className:"apply-button",onClick:()=>ne(j),children:" Apply Now"}):c.jsxs("div",{className:"application-status full",children:[c.jsx("span",{className:"status-icon",children:""}),c.jsx("span",{className:"status-text",children:"No spots available"})]})})]},j.id)})}),C==="applications"&&c.jsx("div",{className:"applications-list",children:o.length===0?c.jsxs("div",{className:"empty-state",children:[c.jsx("div",{className:"empty-icon",children:""}),c.jsx("h3",{children:"No applications yet"}),c.jsx("p",{children:"Apply for volunteer opportunities to see your applications here."})]}):o.map(j=>c.jsxs("div",{className:"application-card",children:[c.jsxs("div",{className:"application-header",children:[c.jsx("h3",{children:j.opportunity?.title||"Volunteer Position"}),c.jsxs("div",{className:`status-badge ${j.status}`,children:[j.status==="pending"&&" Pending Review",j.status==="approved"&&" Approved",j.status==="rejected"&&" Rejected"]})]}),c.jsxs("div",{className:"application-details",children:[c.jsxs("div",{className:"detail-item",children:[c.jsx("span",{className:"detail-label",children:"Applied:"}),c.jsx("span",{children:j.appliedAt?.seconds?new Date(j.appliedAt.seconds*1e3).toLocaleDateString():"Unknown"})]}),j.motivation&&c.jsxs("div",{className:"detail-item",children:[c.jsx("span",{className:"detail-label",children:"Motivation:"}),c.jsx("span",{children:j.motivation})]}),j.adminNote&&c.jsxs("div",{className:"admin-note",children:[c.jsx("span",{className:"note-label",children:"Admin Note:"}),c.jsx("span",{children:j.adminNote})]})]})]},j.id))})]}),K&&c.jsx("div",{className:"modal-overlay",onClick:()=>me(!1),children:c.jsxs("div",{className:"modal-content",onClick:j=>j.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{children:"Apply for Volunteer Position"}),c.jsx("button",{onClick:()=>me(!1),children:""})]}),c.jsxs("div",{className:"modal-body",children:[c.jsxs("div",{className:"opportunity-summary",children:[c.jsx("h4",{children:k?.title||"Volunteer Opportunity"}),c.jsx("p",{children:k?.description})]}),c.jsxs("form",{onSubmit:ue,className:"application-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Phone Number"}),c.jsx("input",{type:"tel",value:ie.phone,onChange:j=>Q({...ie,phone:j.target.value}),placeholder:"Your contact number",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Relevant Skills"}),c.jsx("textarea",{value:Array.isArray(ie.skills)?ie.skills.join(", "):ie.skills,onChange:j=>Q({...ie,skills:j.target.value.split(",").map(N=>N.trim())}),placeholder:"List your relevant skills (comma separated)",rows:"3"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Previous Experience"}),c.jsx("textarea",{value:ie.experience,onChange:j=>Q({...ie,experience:j.target.value}),placeholder:"Describe any relevant experience you have",rows:"3"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Availability"}),c.jsx("textarea",{value:ie.availability,onChange:j=>Q({...ie,availability:j.target.value}),placeholder:"When are you available to volunteer?",rows:"2",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Tshirt Size *"}),c.jsxs("select",{value:ie.tshirtSize,onChange:j=>Q({...ie,tshirtSize:j.target.value}),required:!0,children:[c.jsx("option",{value:"",children:"Select your T-shirt size"}),c.jsx("option",{value:"XS",children:"XS"}),c.jsx("option",{value:"S",children:"S"}),c.jsx("option",{value:"M",children:"M"}),c.jsx("option",{value:"L",children:"L"}),c.jsx("option",{value:"XL",children:"XL"}),c.jsx("option",{value:"XXL",children:"XXL"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Why do you want to volunteer? *"}),c.jsx("textarea",{value:ie.motivation,onChange:j=>Q({...ie,motivation:j.target.value}),placeholder:"Tell us why you're interested in this volunteer opportunity",rows:"4",required:!0})]}),c.jsxs("div",{className:"form-actions",children:[c.jsx("button",{type:"button",onClick:()=>me(!1),children:"Cancel"}),c.jsx("button",{type:"submit",className:"submit-button",children:"Submit Application"})]})]})]})]})})]})},kj=({currentUser:i,onViewChange:e})=>{const[s,r]=ce.useState("dashboard"),[o,h]=ce.useState(null),[f,p]=ce.useState([]),[v,y]=ce.useState([]),[E,R]=ce.useState([]),[C,P]=ce.useState([]),[k,J]=ce.useState(!0),[K,me]=ce.useState(null),[ie,Q]=ce.useState({totalHiveMates:0,upcomingEvents:0,totalEvents:0,volunteerNotifications:0});ce.useEffect(()=>{const ne=async()=>{try{J(!0),console.log(" Fetching member dashboard data for:",i?.memberName);let ue=[];try{ue=await $s.getVolunteerNotifications(i.email)}catch(M){console.warn(" Could not fetch volunteer notifications:",M.message)}let w=[];try{(await Ca.getApprovedMembers(i.hiveName)).forEach(S=>{const Ve=S.data();Ve.email!==i.email&&w.push({id:S.id,...Ve})})}catch(M){console.warn(" Could not fetch hive mates, continuing without members:",M.message)}let x=[];try{x=await No.getEventsForMember(i.hiveName)}catch(M){console.warn(" Primary member event fetch failed, trying fallback method:",M.message);try{x=await No.getEventsByHive(i.hiveName)}catch(S){console.warn(" All event fetch methods failed, continuing without events:",S.message)}}const D=new Date().toISOString().split("T")[0],j=x.filter(M=>M.startDate>=D&&(M.status==="active"||M.status==="approved")),N={name:i.hiveName,leader:i.approvedData?.createdBy||"Hive Leader",memberCount:w.length+1,description:i.approvedData?.description||"Tech community fostering growth and collaboration",campus:i.approvedData?.campusName||"Campus",location:i.approvedData?.campusLocation||"Location"};p(w),y(j.slice(0,5)),R(x),h(N),P(ue),Q({totalHiveMates:w.length,upcomingEvents:j.length,totalEvents:x.length,volunteerNotifications:ue.length}),console.log(" Member dashboard data loaded successfully")}catch(ue){console.error(" Error fetching some dashboard data:",ue)}finally{J(!1)}};i?.hiveName&&ne()},[i]);const he=ne=>{r(ne)};return k?c.jsxs("div",{className:"member-dashboard-loading",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("p",{children:"Loading your dashboard..."})]}):K?c.jsxs("div",{className:"member-dashboard-error",children:[c.jsxs("p",{children:[" ",K]}),c.jsx("button",{onClick:()=>window.location.reload(),className:"retry-button",children:"Retry"})]}):c.jsxs("div",{className:"member-dashboard",children:[s==="dashboard"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"member-header",children:[c.jsxs("h1",{children:[" Welcome back, ",i.memberName,"!"]}),c.jsxs("p",{className:"member-subtitle",children:["Member of ",i.hiveName]})]}),c.jsxs("div",{className:"member-stats",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-number",children:ie.totalHiveMates}),c.jsx("span",{className:"stat-label",children:"Hive Mates"})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-number",children:ie.upcomingEvents}),c.jsx("span",{className:"stat-label",children:"Upcoming Events"})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-number",children:ie.totalEvents}),c.jsx("span",{className:"stat-label",children:"Total Events"})]})]}),c.jsxs("div",{className:"dashboard-cards",children:[c.jsxs("div",{className:"dashboard-card",children:[c.jsx("h3",{children:" My Hive Details"}),c.jsxs("p",{children:["Learn more about ",o?.name," and connect with the community."]}),c.jsx("div",{className:"card-info",children:c.jsxs("small",{children:[" ",o?.campus,"   ",o?.memberCount," members"]})}),c.jsx("button",{className:"card-button",onClick:()=>he("hive-details"),children:"View Hive Details"})]}),c.jsxs("div",{className:"dashboard-card",children:[c.jsx("h3",{children:" Hive Mates"}),c.jsxs("p",{children:["Connect and collaborate with your ",ie.totalHiveMates," hive mates."]}),c.jsx("div",{className:"card-info",children:c.jsx("small",{children:" Network   Collaborate   Grow together"})}),c.jsx("button",{className:"card-button",onClick:()=>he("hive-mates"),children:"Meet Hive Mates"})]}),c.jsxs("div",{className:"dashboard-card",children:[c.jsx("h3",{children:" Upcoming Events"}),c.jsxs("p",{children:["Don't miss out on ",ie.upcomingEvents," upcoming events from your hive and admin."]}),c.jsx("div",{className:"card-info",children:c.jsx("small",{children:" Hive Events   Admin Events   Competitions"})}),c.jsx("button",{className:"card-button",onClick:()=>he("events"),children:"View All Events"})]}),c.jsxs("div",{className:"dashboard-card",children:[c.jsx("h3",{children:" Volunteer Opportunities"}),c.jsx("p",{children:"Make a difference! Join volunteer opportunities and help your community."}),c.jsxs("div",{className:"card-info",children:[c.jsx("small",{children:" Community Service   Skill Building   Impact"}),ie.volunteerNotifications>0&&c.jsxs("div",{className:"notification-badge",children:[" ",ie.volunteerNotifications," new opportunities!"]})]}),c.jsx("button",{className:"card-button",onClick:()=>he("volunteer-opportunities"),children:"View Opportunities"})]}),c.jsxs("div",{className:"dashboard-card",children:[c.jsx("h3",{children:" My Profile"}),c.jsx("p",{children:"Manage your profile settings and preferences."}),c.jsx("div",{className:"card-info",children:c.jsx("small",{children:" Edit Info   Notifications   Skills"})}),c.jsx("button",{className:"card-button",onClick:()=>he("profile"),children:"Edit Profile"})]})]}),c.jsxs("div",{className:"member-info",children:[c.jsxs("div",{className:"info-card",children:[c.jsx("h3",{children:" Member Information"}),c.jsxs("div",{className:"member-details",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Name:"})," ",i.memberName]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Email:"})," ",i.email]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Hive:"})," ",i.hiveName]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Member Since:"})," ",new Date(i.generatedAt||Date.now()).toLocaleDateString()]})]})]}),c.jsxs("div",{className:"info-card",children:[c.jsx("h3",{children:" Quick Actions"}),c.jsxs("div",{className:"quick-actions",children:[c.jsx("button",{className:"action-btn primary",onClick:()=>he("events"),children:" Browse Events"}),c.jsx("button",{className:"action-btn secondary",onClick:()=>he("hive-mates"),children:" Find Teammates"}),c.jsx("button",{className:"action-btn tertiary",onClick:()=>he("hive-details"),children:" Hive Info"})]})]})]}),v.length>0&&c.jsxs("div",{className:"recent-activity",children:[c.jsx("h3",{children:" Upcoming Events Preview"}),c.jsx("div",{className:"event-preview-list",children:v.slice(0,3).map(ne=>c.jsxs("div",{className:"event-preview-item",children:[c.jsxs("div",{className:"event-date",children:[c.jsx("span",{className:"day",children:new Date(ne.startDate).getDate()}),c.jsx("span",{className:"month",children:new Date(ne.startDate).toLocaleDateString("en",{month:"short"})})]}),c.jsxs("div",{className:"event-info",children:[c.jsx("h4",{children:ne.eventName}),c.jsxs("p",{children:[ne.eventType,"  ",ne.mode]}),c.jsx("p",{className:"event-organizer",children:!ne.hiveName||ne.hiveName==="admin"||ne.organizerType==="admin"?" Organized by Admin":` Organized by ${ne.hiveName}`})]}),c.jsx("div",{className:"event-status",children:c.jsx("span",{className:`status ${ne.status}`,children:ne.status})})]},ne.id))})]})]}),s==="hive-details"&&c.jsx(Lj,{hiveDetails:o,onBack:()=>he("dashboard"),currentUser:i}),s==="hive-mates"&&c.jsx(Pj,{hiveMates:f,onBack:()=>he("dashboard"),currentUser:i}),s==="events"&&c.jsx(Uj,{upcomingEvents:v,allEvents:E,onBack:()=>he("dashboard"),currentUser:i}),s==="profile"&&c.jsx(Bj,{onBack:()=>he("dashboard"),currentUser:i}),s==="volunteer-opportunities"&&c.jsx(Oj,{onBack:()=>he("dashboard"),currentUser:i})]})},Lj=({hiveDetails:i,onBack:e,currentUser:s})=>c.jsxs("div",{className:"hive-details-view",children:[c.jsxs("div",{className:"view-header",children:[c.jsx("button",{className:"back-button",onClick:e,children:" Back to Dashboard"}),c.jsxs("h2",{children:[" ",i?.name," Details"]})]}),c.jsxs("div",{className:"hive-details-content",children:[c.jsxs("div",{className:"hive-info-card",children:[c.jsx("h3",{children:" Hive Information"}),c.jsxs("div",{className:"hive-info-grid",children:[c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"label",children:"Hive Name:"}),c.jsx("span",{className:"value",children:i?.name})]}),c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"label",children:"Campus:"}),c.jsx("span",{className:"value",children:i?.campus})]}),c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"label",children:"Location:"}),c.jsx("span",{className:"value",children:i?.location})]}),c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"label",children:"Total Members:"}),c.jsx("span",{className:"value",children:i?.memberCount})]}),c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"label",children:"Hive Leader:"}),c.jsx("span",{className:"value",children:i?.leader})]})]})]}),c.jsxs("div",{className:"hive-description-card",children:[c.jsx("h3",{children:" About Our Hive"}),c.jsx("p",{children:i?.description})]}),c.jsxs("div",{className:"hive-contact-card",children:[c.jsx("h3",{children:" Get in Touch"}),c.jsx("p",{children:"Connect with other members, participate in discussions, and grow together!"}),c.jsxs("div",{className:"contact-actions",children:[c.jsx("button",{className:"contact-btn",children:" Join Discussion"}),c.jsx("button",{className:"contact-btn",children:" Contact Leader"})]})]})]})]}),Pj=({hiveMates:i,onBack:e,currentUser:s})=>c.jsxs("div",{className:"hive-mates-view",children:[c.jsxs("div",{className:"view-header",children:[c.jsx("button",{className:"back-button",onClick:e,children:" Back to Dashboard"}),c.jsxs("h2",{children:[" Your Hive Mates (",i.length,")"]})]}),c.jsx("div",{className:"hive-mates-content",children:i.length===0?c.jsxs("div",{className:"empty-state",children:[c.jsx("h3",{children:" No other members yet"}),c.jsx("p",{children:"You're one of the first members! More hive mates will join soon."})]}):c.jsx("div",{className:"members-grid",children:i.map(r=>c.jsxs("div",{className:"member-card",children:[c.jsx("div",{className:"member-avatar",children:r.name?.charAt(0)?.toUpperCase()||""}),c.jsxs("div",{className:"member-info",children:[c.jsx("h4",{children:r.name}),c.jsxs("p",{className:"member-course",children:[r.course," - ",r.branch]}),c.jsxs("p",{className:"member-year",children:["Year ",r.year]}),c.jsx("p",{className:"member-college",children:r.collegeName}),r.skills&&r.skills.length>0&&c.jsxs("div",{className:"member-skills",children:[c.jsx("span",{className:"skills-label",children:"Skills:"}),c.jsxs("div",{className:"skills-tags",children:[r.skills.slice(0,3).map((o,h)=>c.jsx("span",{className:"skill-tag",children:o},h)),r.skills.length>3&&c.jsxs("span",{className:"skill-tag more",children:["+",r.skills.length-3]})]})]}),c.jsxs("div",{className:"member-actions",children:[c.jsx("button",{className:"connect-btn",children:" Connect"}),c.jsx("button",{className:"message-btn",children:" Message"})]})]})]},r.id))})})]}),Uj=({upcomingEvents:i,allEvents:e,onBack:s,currentUser:r})=>{const[o,h]=ce.useState("upcoming"),f=e.filter(p=>p.status==="completed");return e.filter(p=>p.status==="draft"),c.jsxs("div",{className:"events-view",children:[c.jsxs("div",{className:"view-header",children:[c.jsx("button",{className:"back-button",onClick:s,children:" Back to Dashboard"}),c.jsxs("h2",{children:[" Events for ",r.hiveName," Members"]})]}),c.jsxs("div",{className:"events-tabs",children:[c.jsxs("button",{className:`tab ${o==="upcoming"?"active":""}`,onClick:()=>h("upcoming"),children:[" Upcoming (",i.length,")"]}),c.jsxs("button",{className:`tab ${o==="all"?"active":""}`,onClick:()=>h("all"),children:[" All Events (",e.length,")"]}),c.jsxs("button",{className:`tab ${o==="completed"?"active":""}`,onClick:()=>h("completed"),children:[" Completed (",f.length,")"]})]}),c.jsxs("div",{className:"events-content",children:[o==="upcoming"&&c.jsx(jf,{events:i,emptyMessage:"No upcoming events scheduled."}),o==="all"&&c.jsx(jf,{events:e,emptyMessage:"No events found."}),o==="completed"&&c.jsx(jf,{events:f,emptyMessage:"No completed events yet."})]})]})},jf=({events:i,emptyMessage:e})=>c.jsx("div",{className:"events-list",children:i.length===0?c.jsxs("div",{className:"empty-state",children:[c.jsxs("h3",{children:[" ",e]}),c.jsx("p",{children:"Check back later for updates!"})]}):i.map(s=>c.jsxs("div",{className:"event-card",children:[c.jsxs("div",{className:"event-header",children:[c.jsx("h4",{children:s.eventName}),c.jsx("span",{className:`event-status ${s.status}`,children:s.status})]}),c.jsxs("div",{className:"event-details",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Type:"})," ",s.eventType]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Mode:"})," ",s.mode]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Date:"})," ",new Date(s.startDate).toLocaleDateString()," - ",new Date(s.endDate).toLocaleDateString()]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Venue:"})," ",s.venue]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Organized by:"})," ",!s.hiveName||s.hiveName==="admin"||s.organizerType==="admin"?" Admin":` ${s.hiveName}`]}),s.registrationFees>0&&c.jsxs("p",{children:[c.jsx("strong",{children:"Registration Fee:"})," ",s.registrationFees]})]}),s.eventDescription&&c.jsx("div",{className:"event-description",children:c.jsx("p",{children:s.eventDescription})}),c.jsxs("div",{className:"event-actions",children:[c.jsx("button",{className:"event-btn primary",children:" View Details"}),s.status==="active"&&c.jsx("button",{className:"event-btn secondary",children:" Register"})]})]},s.id))}),Bj=({onBack:i,currentUser:e})=>c.jsxs("div",{className:"profile-view",children:[c.jsxs("div",{className:"view-header",children:[c.jsx("button",{className:"back-button",onClick:i,children:" Back to Dashboard"}),c.jsx("h2",{children:" My Profile"})]}),c.jsxs("div",{className:"profile-content",children:[c.jsxs("div",{className:"profile-section",children:[c.jsx("h3",{children:" Personal Information"}),c.jsxs("div",{className:"profile-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Full Name"}),c.jsx("input",{type:"text",value:e.memberName,disabled:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Email"}),c.jsx("input",{type:"email",value:e.email,disabled:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Hive"}),c.jsx("input",{type:"text",value:e.hiveName,disabled:!0})]})]})]}),e.approvedData&&c.jsxs("div",{className:"profile-section",children:[c.jsx("h3",{children:" Academic Information"}),c.jsxs("div",{className:"profile-info-grid",children:[c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"label",children:"Course:"}),c.jsx("span",{className:"value",children:e.approvedData.course})]}),c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"label",children:"Branch:"}),c.jsx("span",{className:"value",children:e.approvedData.branch})]}),c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"label",children:"Year:"}),c.jsx("span",{className:"value",children:e.approvedData.year})]}),c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"label",children:"College:"}),c.jsx("span",{className:"value",children:e.approvedData.collegeName})]})]})]}),c.jsxs("div",{className:"profile-section",children:[c.jsx("h3",{children:" Preferences"}),c.jsx("p",{children:"Profile editing and preference management will be available soon!"}),c.jsx("button",{className:"profile-btn",disabled:!0,children:"Coming Soon"})]})]})]});function zj(){const[i,e]=ce.useState(!1),[s,r]=ce.useState(!1),[o,h]=ce.useState(null),[f,p]=ce.useState(null),[v,y]=ce.useState(!0),[E,R]=ce.useState("dashboard"),[C,P]=ce.useState(!1),[k,J]=ce.useState({total:0,pending:0,approved:0,rejected:0});ce.useEffect(()=>{(async()=>{try{console.log(" Checking existing authentication...");const w=await yj();if(w.isAuthenticated){const x=w.userType==="hive"?w.user.hiveName:`${w.user.memberName} (${w.user.hiveName})`;console.log(` User already authenticated as ${w.userType}:`,x),r(!0),h(w.user),p(w.userType)}else console.log(" No existing authentication found")}catch(w){console.error(" Error checking auth status:",w)}finally{y(!1)}})()},[]),ce.useEffect(()=>{(async()=>{if(s&&f==="hive"&&o?.hiveName)try{console.log(" Fetching member stats for hive:",o.hiveName);const w=Ye(Ae(ge,"members"),Pe("selectedHiveName","==",o.hiveName)),D=(await Xe(w)).size,N=(await Ca.getApprovedMembers(o.hiveName)).size,S=(await Ca.getRejectedMembers(o.hiveName)).size,Ve={pending:D,approved:N,rejected:S,total:D+N+S};J(Ve),console.log(" Member stats updated:",Ve)}catch(w){console.error(" Error fetching member stats:",w)}})()},[s,f,o?.hiveName]);const K=()=>{e(!0)},me=()=>{e(!1)},ie=()=>{console.log(` Logging out ${f} user`),Wf(),r(!1),h(null),p(null),R("dashboard"),console.log(" Logout successful")},Q=ue=>{R(ue)},he=async ue=>{try{console.log(" Creating event for hive:",o.hiveName),console.log(" Event data being submitted:",ue);const w=await No.createEvent(ue);console.log(" Event created successfully with ID:",w.id),alert(`Event request submitted successfully! 

Your event has been sent to the admin for approval. You can view its status in the Events Management section.`)}catch(w){throw console.error(" Error creating event:",w),alert("Failed to create event. Please try again."),w}},ne=(ue,w=null)=>{switch(console.log("Selected option:",ue,w),ue){case"create-hive":console.log(" User submitted hive creation request"),alert("Hive application submitted successfully! You will receive a confirmation email shortly.");break;case"register-member":console.log(" User registered as member");const x=w?.selectedHive?.hiveName||"the selected hive";alert(`Application submitted successfully! Your application to join ${x} has been sent to the hive leader for review.`);break;case"login-success":const D=w.userType==="hive"?w.user.hiveName:`${w.user.memberName} (${w.user.hiveName})`;console.log(` ${w.userType} login successful:`,D),r(!0),h(w.user),p(w.userType),e(!1),console.log(` Redirected to ${w.userType} dashboard for:`,D);return;default:console.log("Unknown option selected:",ue)}e(!1)};return v?c.jsx("div",{className:"app loading-app",children:c.jsxs("div",{className:"loading-container",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("p",{children:"Loading..."})]})}):c.jsxs("div",{className:"app",children:[c.jsx(tj,{onLoginClick:K,isAuthenticated:s,currentUser:o,userType:f,onLogout:ie}),c.jsx("main",{className:"main-content",children:c.jsx("div",{className:"content-container",children:s&&o?f==="hive"?c.jsxs(c.Fragment,{children:[E==="dashboard"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"hive-header",children:[c.jsxs("h1",{children:[" Welcome back to ",o.hiveName,"!"]}),c.jsxs("p",{className:"hive-subtitle",children:["Hello, ",o.creatorName," - Hive Leader"]})]}),c.jsxs("div",{className:"hive-dashboard",children:[c.jsxs("div",{className:"dashboard-cards",children:[c.jsxs("div",{className:"dashboard-card",children:[c.jsx("h3",{children:" Member Status"}),c.jsxs("p",{children:["Total: ",k.total,"  Pending: ",k.pending,"  Approved: ",k.approved,"  Rejected: ",k.rejected]}),c.jsx("button",{className:"card-button",onClick:()=>Q("member-status"),children:"Review Applications"})]}),c.jsxs("div",{className:"dashboard-card",children:[c.jsx("h3",{children:" Member Management"}),c.jsxs("p",{children:["View and monitor your approved hive members (",k.approved," active members)."]}),c.jsx("button",{className:"card-button",onClick:()=>Q("member-management"),children:"View Members"})]}),c.jsxs("div",{className:"dashboard-card",children:[c.jsx("h3",{children:" Events & Activities"}),c.jsx("p",{children:"Create and manage hive events and activities."}),c.jsx("button",{className:"card-button",onClick:()=>Q("events-management"),children:"Manage Events"})]}),c.jsxs("div",{className:"dashboard-card",children:[c.jsx("h3",{children:" Hive Settings"}),c.jsx("p",{children:"Customize your hive preferences and settings."}),c.jsx("button",{className:"card-button",children:"Edit Settings"})]})]}),c.jsxs("div",{className:"hive-info",children:[c.jsxs("div",{className:"info-card",children:[c.jsx("h3",{children:" Hive Information"}),c.jsxs("div",{className:"hive-details",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Hive Name:"})," ",o.hiveName]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Leader:"})," ",o.creatorName]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Contact:"})," ",o.email]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Login Time:"})," ",new Date(o.loginTime).toLocaleString()]})]})]}),c.jsxs("div",{className:"info-card",children:[c.jsx("h3",{children:" Quick Actions"}),c.jsxs("div",{className:"quick-actions",children:[c.jsx("button",{className:"action-btn primary",onClick:()=>P(!0),children:"Create Event"}),c.jsx("button",{className:"action-btn secondary",children:"Invite Members"}),c.jsx("button",{className:"action-btn tertiary",children:"View Reports"})]})]})]})]})]}),E==="member-status"&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"view-header",children:c.jsx("button",{className:"back-button",onClick:()=>Q("dashboard"),children:" Back to Dashboard"})}),c.jsx(L_,{hive:o,mode:"applications"})]}),E==="member-management"&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"view-header",children:c.jsx("button",{className:"back-button",onClick:()=>Q("dashboard"),children:" Back to Dashboard"})}),c.jsx(L_,{hive:o,mode:"members"})]}),E==="events-management"&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"view-header",children:c.jsx("button",{className:"back-button",onClick:()=>Q("dashboard"),children:" Back to Dashboard"})}),c.jsx(Sj,{hive:o,onCreateEvent:()=>P(!0)})]})]}):c.jsx(kj,{currentUser:o,onViewChange:Q}):c.jsxs(c.Fragment,{children:[c.jsx("h2",{children:"Welcome to the Hive Ecosystem"}),c.jsx("p",{children:"Connect, collaborate, and grow your tech community!"}),c.jsxs("div",{className:"info-section",children:[c.jsxs("div",{className:"info-card",children:[c.jsx("h3",{children:" Create Your Hive"}),c.jsx("p",{children:"Start your own tech community and become a hive leader. Get access to management tools, analytics, and more."}),c.jsx("button",{className:"cta-button",onClick:K,children:"Get Started"})]}),c.jsxs("div",{className:"info-card",children:[c.jsx("h3",{children:" Join a Community"}),c.jsx("p",{children:"Connect with existing hives in your area. Network, learn, and grow with like-minded individuals."}),c.jsx("button",{className:"cta-button",onClick:K,children:"Join Now"})]}),c.jsxs("div",{className:"info-card",children:[c.jsx("h3",{children:" Hive Leaders Sign In"}),c.jsx("p",{children:"Already have a hive? Access your dashboard to manage your community and track growth."}),c.jsx("button",{className:"cta-button primary",onClick:K,children:"Sign In"})]})]}),c.jsx("div",{className:"dev-section",children:c.jsx(bj,{})})]})})}),!s&&c.jsx(_j,{isOpen:i,onClose:me,onOptionSelect:ne}),s&&f==="hive"&&c.jsx(xj,{isOpen:C,onClose:()=>P(!1),onSubmit:he,hive:o})]})}kA.createRoot(document.getElementById("root")).render(c.jsx(ce.StrictMode,{children:c.jsx(zj,{})}));
